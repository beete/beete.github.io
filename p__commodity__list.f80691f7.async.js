(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[749],{5843:function(V,w,r){"use strict";r.r(w),r.d(w,{default:function(){return me}});var ye=r(57338),O=r(273),Fe=r(57663),R=r(71577),I=r(57337),s=r(90636),x=r(11849),Ce=r(34792),v=r(48086),p=r(3182),z=r(6378),H=r.n(z),t=r(85893),L=[{title:"\u7B5B\u9009",dataIndex:"keyword",hideInTable:!0},{title:"\u5E8F\u53F7",dataIndex:"key",hideInForm:!0,hideInSearch:!0},{title:"\u5546\u54C1\u56FE\u7247",dataIndex:"img",hideInForm:!0,hideInSearch:!0,render:function(){return(0,t.jsx)("img",{src:H()})}},{title:"\u5546\u54C1ID",dataIndex:"id",hideInForm:!0,hideInSearch:!0,render:function(a){return(0,t.jsx)("a",{href:"/",children:a})}},{title:"\u5546\u54C1\u578B\u53F7",dataIndex:"model",hideInForm:!0,hideInSearch:!0},{title:"\u5546\u54C1\u6807\u9898",dataIndex:"title",hideInForm:!0,hideInSearch:!0},{title:"\u5546\u54C1\u54C1\u724C",dataIndex:"brand",hideInForm:!0,hideInSearch:!0},{title:"\u5546\u54C1\u4EA7\u5730",dataIndex:"locale",hideInForm:!0,hideInSearch:!0},{title:"\u5546\u54C1\u7C7B\u578B",dataIndex:"cytpe",hideInForm:!0,hideInSearch:!0},{title:"\u5546\u54C1\u5B50\u7C7B\u578B",dataIndex:"subType",hideInForm:!0,hideInSearch:!0},{title:"\u7535\u5546\u5E73\u53F0",dataIndex:"platform",hideInForm:!0,hideInSearch:!0},{title:"\u64CD\u4F5C",dataIndex:"",hideInForm:!0,hideInSearch:!0,render:function(a){return(0,t.jsxs)("div",{children:[(0,t.jsx)("a",{href:"/",children:"\u7F16\u8F91"}),"\xA0\xA0",(0,t.jsx)("a",{href:"/",children:"\u5220\u9664"})]})}}];function K(u,a){return b.apply(this,arguments)}function b(){return b=(0,p.Z)((0,s.Z)().mark(function u(a,l){var i,e,n;return(0,s.Z)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:for(i={img:"imgs",id:"734484974194",model:"E900C61\u5957\u88C5",title:"\u6D77\u5C14\u8D85\u8584\u901F\u5438\u9876\u4FA7\u53CC\u5438\u53D8\u9891\u6CB9\u70DF\u673A\u5957\u88C5E900C61\u5957\u88C5",brand:"\u6D77\u5C14/Haier",locale:"\u56FD\u4EA7",cytpe:"\u5BB6\u7535",subType:"\u6CB9\u70DF\u673A",platform:"\u5929\u732B"},e=[],n=1;n<=10;n+=1)e.push((0,x.Z)({key:n},i));return y.abrupt("return",{data:e,total:100,success:!0});case 4:case"end":return y.stop()}},u)})),b.apply(this,arguments)}var N=r(49101),Z=r(67294),J=r(81907),Q=r(85224),X=r(10826),q=r(37476),k=r(90672),_=r(28204),ge=r(71194),ee=r(50146),j=r(49383),re=r(5966),A=r(64317),te=r(86615),ae=r(22452),ne=function(a){return(0,t.jsxs)(j.L,{stepsProps:{size:"small"},stepsFormRender:function(i,e){return(0,t.jsx)(ee.Z,{width:640,bodyStyle:{padding:"32px 40px 48px"},destroyOnClose:!0,title:"\u89C4\u5219\u914D\u7F6E",visible:a.updateModalVisible,footer:e,onCancel:function(){a.onCancel()},children:i})},onFinish:a.onSubmit,children:[(0,t.jsxs)(j.L.StepForm,{initialValues:{name:a.values.name,desc:a.values.desc},title:"\u57FA\u672C\u4FE1\u606F",children:[(0,t.jsx)(re.Z,{name:"name",label:"\u89C4\u5219\u540D\u79F0",width:"md",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u89C4\u5219\u540D\u79F0\uFF01"}]}),(0,t.jsx)(k.Z,{name:"desc",width:"md",label:"\u89C4\u5219\u63CF\u8FF0",placeholder:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26\u7684\u89C4\u5219\u63CF\u8FF0\uFF01",min:5}]})]}),(0,t.jsxs)(j.L.StepForm,{initialValues:{target:"0",template:"0"},title:"\u914D\u7F6E\u89C4\u5219\u5C5E\u6027",children:[(0,t.jsx)(A.Z,{name:"target",width:"md",label:"\u76D1\u63A7\u5BF9\u8C61",valueEnum:{0:"\u8868\u4E00",1:"\u8868\u4E8C"}}),(0,t.jsx)(A.Z,{name:"template",width:"md",label:"\u89C4\u5219\u6A21\u677F",valueEnum:{0:"\u89C4\u5219\u6A21\u677F\u4E00",1:"\u89C4\u5219\u6A21\u677F\u4E8C"}}),(0,t.jsx)(te.Z.Group,{name:"type",label:"\u89C4\u5219\u7C7B\u578B",options:[{value:"0",label:"\u5F3A"},{value:"1",label:"\u5F31"}]})]}),(0,t.jsxs)(j.L.StepForm,{initialValues:{type:"1",frequency:"month"},title:"\u8BBE\u5B9A\u8C03\u5EA6\u5468\u671F",children:[(0,t.jsx)(ae.Z,{name:"time",width:"md",label:"\u5F00\u59CB\u65F6\u95F4",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5F00\u59CB\u65F6\u95F4\uFF01"}]}),(0,t.jsx)(A.Z,{name:"frequency",label:"\u76D1\u63A7\u5BF9\u8C61",width:"md",valueEnum:{month:"\u6708",week:"\u5468"}})]})]})},ue=ne,B=r(81910);function Se(u,a){return E.apply(this,arguments)}function E(){return E=_asyncToGenerator(_regeneratorRuntime().mark(function u(a,l){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{data:[{key:"1",name:"xxxxxx",account:"1234567890",contact:"\u59D3\u540D",phone:"12345678901",hstatus:"\u7D2F\u8BA1\uFF1A300\u5C0F\u65F630\u520630\u79D2    \u65E5\u5747\uFF1A15\u5C0F\u65F610\u520610\u79D2",status:"\u5DF2\u6CE8\u9500"},{key:"2",name:"xxxxxx",account:"1234567890",contact:"\u59D3\u540D",phone:"12345678901",hstatus:"\u7D2F\u8BA1\uFF1A300\u5C0F\u65F630\u520630\u79D2    \u65E5\u5747\uFF1A15\u5C0F\u65F610\u520610\u79D2",status:"\u6B63\u5E38"},{key:"3",name:"xxxxxx",account:"1234567890",contact:"\u59D3\u540D",phone:"12345678901",hstatus:"\u7D2F\u8BA1\uFF1A300\u5C0F\u65F630\u520630\u79D2    \u65E5\u5747\uFF1A15\u5C0F\u65F610\u520610\u79D2",status:"\u6B63\u5E38"},{key:"4",name:"xxxxxx",account:"1234567890",contact:"\u59D3\u540D",phone:"12345678901",hstatus:"\u7D2F\u8BA1\uFF1A300\u5C0F\u65F630\u520630\u79D2    \u65E5\u5747\uFF1A15\u5C0F\u65F610\u520610\u79D2",status:"\u6B63\u5E38"},{key:"5",name:"xxxxxx",account:"1234567890",contact:"\u59D3\u540D",phone:"12345678901",hstatus:"\u7D2F\u8BA1\uFF1A300\u5C0F\u65F630\u520630\u79D2    \u65E5\u5747\uFF1A15\u5C0F\u65F610\u520610\u79D2",status:"\u6B63\u5E38"},{key:"6",name:"xxxxxx",account:"1234567890",contact:"\u59D3\u540D",phone:"12345678901",hstatus:"\u7D2F\u8BA1\uFF1A300\u5C0F\u65F630\u520630\u79D2    \u65E5\u5747\uFF1A15\u5C0F\u65F610\u520610\u79D2",status:"\u6B63\u5E38"},{key:"7",name:"xxxxxx",account:"1234567890",contact:"\u59D3\u540D",phone:"12345678901",hstatus:"\u7D2F\u8BA1\uFF1A300\u5C0F\u65F630\u520630\u79D2    \u65E5\u5747\uFF1A15\u5C0F\u65F610\u520610\u79D2",status:"\u6B63\u5E38"}],total:100,success:!0});case 1:case"end":return e.stop()}},u)})),E.apply(this,arguments)}function se(u,a){return P.apply(this,arguments)}function P(){return P=(0,p.Z)((0,s.Z)().mark(function u(a,l){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,B.WY)("/api/rule",(0,x.Z)({data:a,method:"PUT"},l||{})));case 1:case"end":return e.stop()}},u)})),P.apply(this,arguments)}function le(u,a){return T.apply(this,arguments)}function T(){return T=(0,p.Z)((0,s.Z)().mark(function u(a,l){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,B.WY)("/api/rule",(0,x.Z)({data:a,method:"POST"},l||{})));case 1:case"end":return e.stop()}},u)})),T.apply(this,arguments)}function ie(u,a){return $.apply(this,arguments)}function $(){return $=(0,p.Z)((0,s.Z)().mark(function u(a,l){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,B.WY)("/api/rule",(0,x.Z)({data:a,method:"DELETE"},l||{})));case 1:case"end":return e.stop()}},u)})),$.apply(this,arguments)}var de=function(){var u=(0,p.Z)((0,s.Z)().mark(function a(l){var i;return(0,s.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=v.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),n.prev=1,n.next=4,le((0,x.Z)({},l));case 4:return i(),v.ZP.success("\u6DFB\u52A0\u6210\u529F"),n.abrupt("return",!0);case 9:return n.prev=9,n.t0=n.catch(1),i(),v.ZP.error("\u6DFB\u52A0\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),n.abrupt("return",!1);case 14:case"end":return n.stop()}},a,null,[[1,9]])}));return function(l){return u.apply(this,arguments)}}(),ce=function(){var u=(0,p.Z)((0,s.Z)().mark(function a(l,i){var e;return(0,s.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return e=v.ZP.loading("\u6B63\u5728\u914D\u7F6E"),d.prev=1,d.next=4,se((0,x.Z)((0,x.Z)({},i),l));case 4:return e(),v.ZP.success("\u914D\u7F6E\u6210\u529F"),d.abrupt("return",!0);case 9:return d.prev=9,d.t0=d.catch(1),e(),v.ZP.error("\u914D\u7F6E\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),d.abrupt("return",!1);case 14:case"end":return d.stop()}},a,null,[[1,9]])}));return function(l,i){return u.apply(this,arguments)}}(),oe=function(){var u=(0,p.Z)((0,s.Z)().mark(function a(l){var i;return(0,s.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=v.ZP.loading("\u6B63\u5728\u5220\u9664"),l){n.next=3;break}return n.abrupt("return",!0);case 3:return n.prev=3,n.next=6,ie({key:l.map(function(d){return d.key})});case 6:return i(),v.ZP.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"),n.abrupt("return",!0);case 11:return n.prev=11,n.t0=n.catch(3),i(),v.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),n.abrupt("return",!1);case 16:case"end":return n.stop()}},a,null,[[3,11]])}));return function(l){return u.apply(this,arguments)}}(),he=function(){var a=(0,Z.useState)(!1),l=(0,I.Z)(a,2),i=l[0],e=l[1],n=(0,Z.useState)(!1),d=(0,I.Z)(n,2),y=d[0],M=d[1],pe=(0,Z.useState)(!1),U=(0,I.Z)(pe,2),fe=U[0],ve=U[1],F=(0,Z.useRef)(),xe=(0,Z.useState)(),W=(0,I.Z)(xe,2),m=W[0],D=W[1],Ze=(0,Z.useState)([]),Y=(0,I.Z)(Ze,2),C=Y[0],G=Y[1];return(0,t.jsxs)(J.ZP,{children:[(0,t.jsx)(X.ZP,{headerTitle:"\u5546\u54C1\u5217\u8868",actionRef:F,rowKey:"key",search:{labelWidth:120},toolBarRender:function(){return[(0,t.jsxs)(R.Z,{type:"primary",onClick:function(){e(!0)},children:[(0,t.jsx)(N.Z,{})," \u521B\u5EFA\u5546\u54C1"]},"primary"),(0,t.jsx)(R.Z,{type:"primary",onClick:function(){e(!0)},children:"\u667A\u80FD\u8BC6\u522B\u5BFC\u5165"},"primary2")]},request:K,columns:L,rowSelection:{onChange:function(c,o){G(o)}}}),(C==null?void 0:C.length)>0&&(0,t.jsx)(Q.Z,{extra:(0,t.jsxs)("div",{children:["\u5DF2\u9009\u62E9"," ",(0,t.jsx)("a",{style:{fontWeight:600},children:C.length})," ","\u9879 \xA0\xA0",(0,t.jsxs)("span",{children:["\u670D\u52A1\u8C03\u7528\u6B21\u6570\u603B\u8BA1 ",C.reduce(function(h,c){return h+c.callNo},0)," \u4E07"]})]}),children:(0,t.jsx)(R.Z,{onClick:(0,p.Z)((0,s.Z)().mark(function h(){var c,o;return(0,s.Z)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,oe(C);case 2:G([]),(c=F.current)===null||c===void 0||(o=c.reloadAndRest)===null||o===void 0||o.call(c);case 4:case"end":return S.stop()}},h)})),children:"\u6279\u91CF\u5220\u9664"})}),(0,t.jsx)(q.Y,{title:"\u65B0\u5EFA\u89C4\u5219",width:"400px",visible:i,onVisibleChange:e,onFinish:function(){var h=(0,p.Z)((0,s.Z)().mark(function c(o){var g;return(0,s.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,de(o);case 2:g=f.sent,g&&(e(!1),F.current&&F.current.reload());case 4:case"end":return f.stop()}},c)}));return function(c){return h.apply(this,arguments)}}(),children:(0,t.jsx)(k.Z,{width:"md",name:"desc"})}),(0,t.jsx)(ue,{onSubmit:function(){var h=(0,p.Z)((0,s.Z)().mark(function c(o){var g;return(0,s.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,ce(o,m);case 2:g=f.sent,g&&(M(!1),D(void 0),F.current&&F.current.reload());case 4:case"end":return f.stop()}},c)}));return function(c){return h.apply(this,arguments)}}(),onCancel:function(){M(!1),D(void 0)},updateModalVisible:y,values:m||{}}),(0,t.jsx)(O.Z,{width:600,visible:fe,onClose:function(){D(void 0),ve(!1)},closable:!1,children:(m==null?void 0:m.name)&&(0,t.jsx)(_.ZP,{column:2,title:m==null?void 0:m.name,request:(0,p.Z)((0,s.Z)().mark(function h(){return(0,s.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",{data:m||{}});case 1:case"end":return o.stop()}},h)})),params:{id:m==null?void 0:m.name},columns:L})})]})},me=he},6378:function(V,w,r){V.exports=r.p+"static/u142.50f1374b.svg"}}]);
