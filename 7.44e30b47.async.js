(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7],{54007:function(dt,S,d){"use strict";d.d(S,{x1:function(){return C0},Fk:function(){return k0}});var b={};d.r(b),d.d(b,{Base:function(){return La},Circle:function(){return fb},Ellipse:function(){return cb},Image:function(){return db},Line:function(){return gb},Marker:function(){return xb},Path:function(){return Ju},Polygon:function(){return Ob},Polyline:function(){return Ib},Rect:function(){return Fb},Text:function(){return Nb}});var O={};d.r(O),d.d(O,{Canvas:function(){return Wc},Event:function(){return ar.Event},Group:function(){return Ku},Shape:function(){return b},__esModule:function(){return Yb.X},version:function(){return Hb}});var I={};d.r(I),d.d(I,{Base:function(){return Aa},Circle:function(){return $b},Dom:function(){return Jb},Ellipse:function(){return tw},Image:function(){return rw},Line:function(){return iw},Marker:function(){return ow},Path:function(){return lw},Polygon:function(){return fw},Polyline:function(){return cw},Rect:function(){return yw},Text:function(){return Mw}});var _={};d.r(_),d.d(_,{Canvas:function(){return tv},Event:function(){return ar.Event},Group:function(){return tf},Shape:function(){return I},version:function(){return Ww}});var T={};d.r(T),d.d(T,{Chart:function(){return ku},ComponentController:function(){return ao},DIRECTION:function(){return Y},Event:function(){return br},Facet:function(){return Kt},Geometry:function(){return Za},GeometryLabel:function(){return Us},Interaction:function(){return va},InteractionAction:function(){return De},LAYER:function(){return G},Types:function(){return z1},Util:function(){return zv},VERSION:function(){return X1},View:function(){return ns},getActionClass:function(){return nr},getAnimation:function(){return Yu},getEngine:function(){return ft},getFacet:function(){return me},getGeometryLabel:function(){return pc},getGeometryLabelLayout:function(){return gc},getInteraction:function(){return Xi},getShapeFactory:function(){return zu},getTheme:function(){return Lt},registerAction:function(){return Je},registerAnimation:function(){return pi},registerComponentController:function(){return We},registerEngine:function(){return st},registerFacet:function(){return _e},registerGeometry:function(){return ia},registerGeometryLabel:function(){return as},registerGeometryLabelLayout:function(){return Co},registerInteraction:function(){return zr},registerShape:function(){return Cn},registerShapeFactory:function(){return so},registerTheme:function(){return Ht}});var A={};d.r(A),d.d(A,{EVENT_MAP:function(){return bn},onEvent:function(){return di}});var C={};d.r(C),d.d(C,{EVENT_MAP:function(){return bn},onEvent:function(){return di}});var E={};d.r(E),d.d(E,{EVENT_MAP:function(){return bn},onEvent:function(){return di}});var p={};d.r(p),d.d(p,{EVENT_MAP:function(){return bn},onEvent:function(){return di}});var w={};d.r(w),d.d(w,{EVENT_MAP:function(){return bn},onEvent:function(){return di}});var y={};d.r(y),d.d(y,{EVENT_MAP:function(){return bn},onEvent:function(){return di}});var m={};d.r(m),d.d(m,{EVENT_MAP:function(){return bn},onEvent:function(){return di}});var g={};d.r(g),d.d(g,{EVENT_MAP:function(){return bn},onEvent:function(){return di}});var M={};d.r(M),d.d(M,{EVENT_MAP:function(){return bn},onEvent:function(){return di}});var L={};d.r(L),d.d(L,{EVENT_MAP:function(){return bn},onEvent:function(){return di}});var B={};d.r(B),d.d(B,{EVENT_MAP:function(){return bn},onEvent:function(){return di}});var N={};d.r(N),d.d(N,{EVENT_MAP:function(){return bn},onEvent:function(){return di}});var j={};d.r(j),d.d(j,{EVENT_MAP:function(){return bn},onEvent:function(){return di}});var tt={};d.r(tt),d.d(tt,{EVENT_MAP:function(){return bn},onEvent:function(){return di}});var H={};d.r(H),d.d(H,{EVENT_MAP:function(){return bn},onEvent:function(){return di}});var J={};d.r(J),d.d(J,{EVENT_MAP:function(){return bn},onEvent:function(){return di}});var ct={};d.r(ct),d.d(ct,{EVENT_MAP:function(){return bn},onEvent:function(){return di}});var ut={};d.r(ut),d.d(ut,{EVENT_MAP:function(){return bn},onEvent:function(){return di}});var At={};d.r(At),d.d(At,{EVENT_MAP:function(){return bn},onEvent:function(){return di}});var St={};d.r(St),d.d(St,{EVENT_MAP:function(){return bn},onEvent:function(){return di}});var Yt={};d.r(Yt),d.d(Yt,{EVENT_MAP:function(){return bn},onEvent:function(){return di}});var Tt={};d.r(Tt),d.d(Tt,{calculationItemsBBox:function(){return J0},cloneEvent:function(){return Wl},formatPadding:function(){return Sh},isNaN:function(){return eo},isViewportChanged:function(){return Q0},processParallelEdges:function(){return NF}});var Dt={};d.r(Dt),d.d(Dt,{getColorsWithSubjectColor:function(){return om},mixColor:function(){return Na}});var Bt={};d.r(Bt),d.d(Bt,{Line:function(){return Do},applyMatrix:function(){return Cs},distance:function(){return Es},floydWarshall:function(){return Th},fractionToLine:function(){return Lh},getAdjMatrix:function(){return Ph},getBBoxBoundLine:function(){return Oh},getCircleCenterByPoints:function(){return Ah},getCircleIntersectByPoint:function(){return bm},getDegree:function(){return $l},getEllipseIntersectByPoint:function(){return wm},getLineIntersect:function(){return Ms},getPointsCenter:function(){return Pm},getRectIntersectByPoint:function(){return xm},intersectBBox:function(){return Am},invertMatrix:function(){return Sm},isPointInPolygon:function(){return As},isPointsOverlap:function(){return Ih},isPolygonsIntersect:function(){return _h},itemIntersectByLine:function(){return Tm},move:function(){return Em},pointLineSquareDist:function(){return _m},pointRectSquareDist:function(){return Om},rotate:function(){return yR},scale:function(){return gR},scaleMatrix:function(){return Mm},squareDist:function(){return Ql},translate:function(){return Cm}});var Et={};d.r(Et),d.d(Et,{getClosedSpline:function(){return kh},getControlPoint:function(){return Jl},getSpline:function(){return Lm},paddedHull:function(){return Rm},pathToPoints:function(){return ql},pointsToPolygon:function(){return Im},roundedHull:function(){return Fm}});var zt={};d.r(zt),d.d(zt,{getBBox:function(){return eu},getChartRegion:function(){return XR},getComboBBox:function(){return Nh},getLabelPosition:function(){return ru},getLetterWidth:function(){return $m},getLoopCfgs:function(){return Um},getTextSize:function(){return Qm},plainCombosToTrees:function(){return Fh},radialLayout:function(){return Km},reconstructTree:function(){return Rh},traverseTree:function(){return qi},traverseTreeUp:function(){return Pa}});var jt={};d.r(jt),d.d(jt,{adjMatrix:function(){return gu},breadthFirstSearch:function(){return a8},degree:function(){return _x},depthFirstSearch:function(){return u1},detectAllCycles:function(){return l8},detectAllDirectedCycle:function(){return v1},detectAllUndirectedCycle:function(){return c1},detectDirectedCycle:function(){return u8},findAllPath:function(){return d8},findShortestPath:function(){return v8},floydWarshall:function(){return kx},getConnectedComponents:function(){return h1},getPageRank:function(){return M8},minimumSpanningTree:function(){return w8}});var Mt=d(67294),pt=d(67984),k=d(13008),u=d(49242),G;(function(i){i.FORE="fore",i.MID="mid",i.BG="bg"})(G||(G={}));var Y;(function(i){i.TOP="top",i.TOP_LEFT="top-left",i.TOP_RIGHT="top-right",i.RIGHT="right",i.RIGHT_TOP="right-top",i.RIGHT_BOTTOM="right-bottom",i.LEFT="left",i.LEFT_TOP="left-top",i.LEFT_BOTTOM="left-bottom",i.BOTTOM="bottom",i.BOTTOM_LEFT="bottom-left",i.BOTTOM_RIGHT="bottom-right",i.RADIUS="radius",i.CIRCLE="circle",i.NONE="none"})(Y||(Y={}));var V;(function(i){i.AXIS="axis",i.GRID="grid",i.LEGEND="legend",i.TOOLTIP="tooltip",i.ANNOTATION="annotation",i.OTHER="other"})(V||(V={}));var U={FORE:3,MID:2,BG:1},et;(function(i){i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_PAINT="beforepaint",i.AFTER_PAINT="afterpaint",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata",i.BEFORE_CLEAR="beforeclear",i.AFTER_CLEAR="afterclear",i.BEFORE_DESTROY="beforedestroy"})(et||(et={}));var ht;(function(i){i.MOUSE_ENTER="plot:mouseenter",i.MOUSE_DOWN="plot:mousedown",i.MOUSE_MOVE="plot:mousemove",i.MOUSE_UP="plot:mouseup",i.MOUSE_LEAVE="plot:mouseleave",i.TOUCH_START="plot:touchstart",i.TOUCH_MOVE="plot:touchmove",i.TOUCH_END="plot:touchend",i.TOUCH_CANCEL="plot:touchcancel",i.CLICK="plot:click",i.DBLCLICK="plot:dblclick",i.CONTEXTMENU="plot:contextmenu",i.LEAVE="plot:leave",i.ENTER="plot:enter"})(ht||(ht={}));var Ft;(function(i){i.ACTIVE="active",i.INACTIVE="inactive",i.SELECTED="selected",i.DEFAULT="default"})(Ft||(Ft={}));var bt=["color","shape","size"],at="_origin",xt=1,lt=1,it=.25,yt={};function ft(i){var e=yt[i];if(!e)throw new Error("G engine '"+i+"' is not exist, please register it at first.");return e}function st(i,e){yt[i]=e}var Ct=d(6056),Rt=d(45442);function re(i){var e=getComputedStyle(i);return{width:(i.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(i.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}function pe(i){return typeof i=="number"&&!isNaN(i)}function Me(i,e,t,r){var n=t,a=r;if(e){var o=re(i);n=o.width?o.width:n,a=o.height?o.height:a}return{width:Math.max(pe(n)?n:xt,xt),height:Math.max(pe(a)?a:lt,lt)}}function Xe(i){var e=i.parentNode;e&&e.removeChild(i)}var Be=d(90494),Re=function(i){(0,k.__extends)(e,i);function e(t){var r=i.call(this)||this;r.destroyed=!1;var n=t.visible,a=n===void 0?!0:n;return r.visible=a,r}return e.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},e.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},e.prototype.destroy=function(){this.off(),this.destroyed=!0},e.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},e}(Be.default),Ke=Re,ar=d(89790),Mr=d(68060),sr=d(25228),Xr=d(58368),pn=d(13541),jr=d(72469),en=d(51441),Xn=en.Axis.Line,ni=en.Axis.Circle,gi=en.Grid.Line,yi=en.Grid.Circle,te=en.Legend.Category,he=en.Legend.Continuous,be=en.Tooltip.Html,Se=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function Le(i){var e="linear";return Se.test(i)?e="time":(0,u.isString)(i)&&(e="cat"),e}function Ne(i,e,t){var r=e||[];if((0,u.isNumber)(i)||(0,u.isNil)((0,u.firstValue)(r,i))&&(0,u.isEmpty)(t)){var n=(0,jr.getScale)("identity");return new n({field:i.toString(),values:[i]})}var a=(0,u.valuesOfKey)(r,i),o=(0,u.get)(t,"type",Le(a[0])),s=(0,jr.getScale)(o);return new s((0,k.__assign)({field:i,values:a},t))}function Fe(i,e){if(i.type!=="identity"&&e.type!=="identity"){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);i.change(t)}}function Ve(i){return i.alias||i.field}var Ae=d(31437);function rr(i){var e,t;switch(i){case Y.TOP:e={x:0,y:1},t={x:1,y:1};break;case Y.RIGHT:e={x:1,y:0},t={x:1,y:1};break;case Y.BOTTOM:e={x:0,y:0},t={x:1,y:0};break;case Y.LEFT:e={x:0,y:0},t={x:0,y:1};break;default:e=t={x:0,y:0}}return{start:e,end:t}}function Qe(i){var e,t;return i.isTransposed?(e={x:0,y:0},t={x:1,y:0}):(e={x:0,y:0},t={x:0,y:1}),{start:e,end:t}}function Pt(i,e){var t={start:{x:0,y:0},end:{x:0,y:0}};i.isRect?t=rr(e):i.isPolar&&(t=Qe(i));var r=t.start,n=t.end;return{start:i.convert(r),end:i.convert(n)}}function Ot(i,e){if(i.isRect)return i.isTransposed?[DIRECTION.RIGHT,DIRECTION.BOTTOM].includes(e)?1:-1:[DIRECTION.BOTTOM,DIRECTION.RIGHT].includes(e)?-1:1;if(i.isPolar){var t=i.x.start;return t<0?-1:1}return 1}function W(i){var e=i.start,t=i.end;return e.x===t.x}function R(i,e){var t=i.start,r=i.end,n=W(i);return n?(t.y-r.y)*(e.x-t.x)>0?1:-1:(r.x-t.x)*(t.y-e.y)>0?-1:1}function F(i,e){return(0,u.get)(i,["components","axis",e],{})}function rt(i){var e=i.x,t=i.y,r=i.circleCenter,n=t.start>t.end,a=i.isTransposed?i.convert({x:n?0:1,y:0}):i.convert({x:0,y:n?0:1}),o=[a.x-r.x,a.y-r.y],s=[1,0],l=a.y>r.y?Ae.angle(o,s):Ae.angle(o,s)*-1,f=l+(e.end-e.start),h=Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2));return{center:r,radius:h,startAngle:l,endAngle:f}}function kt(i,e){return(0,u.isBoolean)(i)?i===!1?!1:{}:(0,u.get)(i,[e])}function Vt(i,e){return(0,u.get)(i,"position",e)}function Gt(i,e){return(0,u.get)(e,["title","text"],Ve(i))}var Kt=function(){function i(e,t){this.destroyed=!1,this.facets=[],this.view=e,this.cfg=(0,u.deepMix)({},this.getDefaultCfg(),t)}return i.prototype.init=function(){this.container||(this.container=this.createContainer());var e=this.view.getData();this.facets=this.generateFacets(e)},i.prototype.render=function(){this.renderViews()},i.prototype.update=function(){},i.prototype.clear=function(){this.clearFacetViews()},i.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},i.prototype.facetToView=function(e){var t=e.region,r=e.data,n=e.padding,a=n===void 0?this.cfg.padding:n,o=this.view.createView({region:t,padding:a});o.data(r||[]),e.view=o,this.beforeEachView(o,e);var s=this.cfg.eachView;return s&&s(o,e),this.afterEachView(o,e),o},i.prototype.createContainer=function(){var e=this.view.getLayer(G.FORE);return e.addGroup()},i.prototype.renderViews=function(){this.createFacetViews()},i.prototype.createFacetViews=function(){var e=this;return this.facets.map(function(t){return e.facetToView(t)})},i.prototype.clearFacetViews=function(){var e=this;(0,u.each)(this.facets,function(t){t.view&&(e.view.removeView(t.view),t.view=void 0)})},i.prototype.getFieldValues=function(e,t){var r=[],n={};return(0,u.each)(e,function(a){var o=a[t];!(0,u.isNil)(o)&&!n[o]&&(r.push(o),n[o]=!0)}),r},i.prototype.getRegion=function(e,t,r,n){var a=1/(t===0?1:t),o=1/(e===0?1:e),s={x:a*r,y:o*n},l={x:a*(r+1),y:o*(n+1)};return{start:s,end:l}},i.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},i.prototype.getDefaultTitleCfg=function(){var e=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:e}}},i.prototype.processAxis=function(e,t){var r=e.getOptions(),n=r.coordinate,a=e.geometries,o=(0,u.get)(n,"type","rect");if(o==="rect"&&a.length){(0,u.isNil)(r.axes)&&(r.axes={});var s=r.axes,l=a[0].getXYFields(),f=l[0],h=l[1],c=kt(s,f),v=kt(s,h);c!==!1&&(r.axes[f]=this.getXAxisOption(f,s,c,t)),v!==!1&&(r.axes[h]=this.getYAxisOption(h,s,v,t))}},i.prototype.getFacetDataFilter=function(e){return function(t){return(0,u.every)(e,function(r){var n=r.field,a=r.value;return!(0,u.isNil)(a)&&n?t[n]===a:!0})}},i}(),we={},me=function(i){return we[(0,u.lowerCase)(i)]},_e=function(i,e){we[(0,u.lowerCase)(i)]=e},qe=function(){function i(e,t){this.context=e,this.cfg=t,e.addAction(this)}return i.prototype.applyCfg=function(e){(0,u.assign)(this,e)},i.prototype.init=function(){this.applyCfg(this.cfg)},i.prototype.destroy=function(){this.context.removeAction(this),this.context=null},i}(),De=qe,dr=function(i){(0,k.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.execute=function(){this.callback&&this.callback(this.context)},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.callback=null},e}(De),Rr=dr,Oe={};function je(i,e){var t=Oe[i],r=null;if(t){var n=t.ActionClass,a=t.cfg;r=new n(e,a),r.name=i,r.init()}return r}function nr(i){var e=Oe[i];return(0,u.get)(e,"ActionClass")}function Je(i,e,t){Oe[i]={ActionClass:e,cfg:t}}function hr(i){delete Oe[i]}function un(i,e){var t=new Rr(e);return t.callback=i,t.name="callback",t}function Qr(i){if((0,u.isEmpty)(i))return null;var e=i[0].x,t=i[0].x,r=i[0].y,n=i[0].y;return(0,u.each)(i,function(a){e=e>a.x?a.x:e,t=t<a.x?a.x:t,r=r>a.y?a.y:r,n=n<a.y?a.y:n}),{minX:e,maxX:t,minY:r,maxY:n,centerX:(e+t)/2,centerY:(r+n)/2}}function Pr(i,e,t,r){return{x:i+t*Math.cos(r),y:e+t*Math.sin(r)}}function Hr(i,e,t,r,n,a){a===void 0&&(a=0);var o=Pr(i,e,t,r),s=Pr(i,e,t,n),l=Pr(i,e,a,r),f=Pr(i,e,a,n);if(n-r==Math.PI*2){var h=Pr(i,e,t,r+Math.PI),c=Pr(i,e,a,r+Math.PI),v=[["M",o.x,o.y],["A",t,t,0,1,1,h.x,h.y],["A",t,t,0,1,1,s.x,s.y],["M",l.x,l.y]];return a&&(v.push(["A",a,a,0,1,0,c.x,c.y]),v.push(["A",a,a,0,1,0,f.x,f.y])),v.push(["M",o.x,o.y]),v.push(["Z"]),v}var x=n-r<=Math.PI?0:1,P=[["M",o.x,o.y],["A",t,t,0,x,1,s.x,s.y],["L",f.x,f.y]];return a&&P.push(["A",a,a,0,x,0,l.x,l.y]),P.push(["L",o.x,o.y]),P.push(["Z"]),P}function wn(i,e,t,r,n){var a=Pr(i,e,t,r),o=Pr(i,e,t,n);if((0,u.isNumberEqual)(n-r,Math.PI*2)){var s=Pr(i,e,t,r+Math.PI);return[["M",a.x,a.y],["A",t,t,0,1,1,s.x,s.y],["A",t,t,0,1,1,a.x,a.y],["A",t,t,0,1,0,s.x,s.y],["A",t,t,0,1,0,a.x,a.y],["Z"]]}var l=n-r<=Math.PI?0:1;return[["M",a.x,a.y],["A",t,t,0,l,1,o.x,o.y]]}function fn(i,e){var t=i.points,r=Qr(t),n,a,o=e.startAngle,s=e.endAngle,l=s-o;return e.isTransposed?(n=r.maxY*l,a=r.minY*l):(n=r.maxX*l,a=r.minX*l),n+=o,a+=o,{startAngle:a,endAngle:n}}function Er(i,e){if((0,u.isNumber)(i)&&(0,u.isNumber)(e))return[i,e];for(var t=-1,r=0,n=0,a,o=i.length-1,s,l=0;++t<i.length;)a=o,o=t,l+=s=i[a]*e[o]-i[o]*e[a],r+=(i[a]+i[o])*s,n+=(e[a]+e[o])*s;return l*=3,[r/l,n/l]}function on(i,e){var t=i.attr(),r=e.attr();return(0,u.each)(t,function(n,a){r[a]===void 0&&(r[a]=void 0)}),r}function Dn(i,e,t){var r=Math.min(e,t),n=Math.max(e,t);return i>=r&&i<=n}function Mn(i,e,t){if((0,u.isString)(i))return i.padEnd(e,t);if((0,u.isArray)(i)){var r=i.length;if(r<e)for(var n=e-r,a=0;a<n;a++)i.push(t)}return i}function de(i,e){return e.forEach(function(t){delete i[t]}),i}function Wt(i,e,t){e===void 0&&(e=[]),t===void 0&&(t={});for(var r=0,n=i;r<n.length;r++){var a=n[r];t[a]||(e.push(a),t[a]=!0)}return e}function ve(i){if(i.isPolar&&!i.isTransposed)return(i.endAngle-i.startAngle)*i.getRadius();var e=i.convert({x:0,y:0}),t=i.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Ee(i){if(i.isPolar){var e=i.startAngle,t=i.endAngle;return t-e==Math.PI*2}return!1}function Ge(i,e){var t=i.getCenter();return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function tr(i,e){var t=!1;if(i)if(i.type==="theta"){var r=i.start,n=i.end;t=Dn(e.x,r.x,n.x)&&Dn(e.y,r.y,n.y)}else{var a=i.invert(e);t=Dn(a.x,0,1)&&Dn(a.y,0,1)}return t}function vr(i,e){var t=i.getCenter();return Math.atan2(e.y-t.y,e.x-t.x)}function cr(i,e){e===void 0&&(e=0);var t=i.start,r=i.end,n=i.getWidth(),a=i.getHeight();if(i.isPolar){var o=i.startAngle,s=i.endAngle,l=i.getCenter(),f=i.getRadius();return{type:"path",startState:{path:Hr(l.x,l.y,f+e,o,o)},endState:function(c){var v=(s-o)*c+o,x=Hr(l.x,l.y,f+e,o,v);return{path:x}},attrs:{path:Hr(l.x,l.y,f+e,o,s)}}}var h;return i.isTransposed?h={height:a+e*2}:h={width:n+e*2},{type:"rect",startState:{x:t.x-e,y:r.y-e,width:i.isTransposed?n+e*2:0,height:i.isTransposed?0:a+e*2},endState:h,attrs:{x:t.x-e,y:r.y-e,width:n+e*2,height:a+e*2}}}function Gr(i,e){var t=[];if(i.length){t.push(["M",i[0].x,i[0].y]);for(var r=1,n=i.length;r<n;r+=1){var a=i[r];t.push(["L",a.x,a.y])}e&&t.push(["Z"])}return t}function rn(i,e){for(var t=[i[0]],r=1,n=i.length;r<n;r=r+2){var a=e.convert({x:i[r],y:i[r+1]});t.push(a.x,a.y)}return t}function Vn(i,e,t){var r=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:e[1],y:e[2]},l=[],f=r?"y":"x",h=Math.abs(s[f]-o[f])*(a-n),c=s[f]>=o[f]?1:0,v=h>Math.PI?1:0,x=t.convert(s),P=Ge(t,x);if(P>=.5)if(h===Math.PI*2){var D={x:(s.x+o.x)/2,y:(s.y+o.y)/2},X=t.convert(D);l.push(["A",P,P,0,v,c,X.x,X.y]),l.push(["A",P,P,0,v,c,x.x,x.y])}else l.push(["A",P,P,0,v,c,x.x,x.y]);return l}function Ut(i){(0,u.each)(i,function(e,t){var r=e;if(r[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var ie=function(i,e,t,r){var n=[],a,o,s=!!r,l,f;if(s){l=[Infinity,Infinity],f=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var v=i[h];l=Ae.min([0,0],l,v),f=Ae.max([0,0],f,v)}l=Ae.min([0,0],l,r[0]),f=Ae.max([0,0],f,r[1])}for(var h=0,x=i.length;h<x;h++){var v=i[h];if(t)a=i[h?h-1:x-1],o=i[(h+1)%x];else if(h===0||h===x-1){n.push(v);continue}else a=i[h-1],o=i[h+1];var P=[0,0];P=Ae.sub(P,o,a),P=Ae.scale(P,P,e);var D=Ae.distance(v,a),X=Ae.distance(v,o),K=D+X;K!==0&&(D/=K,X/=K);var Z=Ae.scale([0,0],P,-D),gt=Ae.scale([0,0],P,X),mt=Ae.add([0,0],v,Z),Nt=Ae.add([0,0],v,gt);s&&(mt=Ae.max([0,0],mt,l),mt=Ae.min([0,0],mt,f),Nt=Ae.max([0,0],Nt,l),Nt=Ae.min([0,0],Nt,f)),n.push(mt),n.push(Nt)}return t&&n.push(n.shift()),n};function se(i,e,t){for(var r=!!e,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=ie(n,.4,r,t),l=n.length,f=[],h,c,v,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],v=n[a+1],f.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]]);return r&&(h=s[l],c=s[l+1],v=n[0],f.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]])),f}function Ce(i,e){return Gr(i,e)}function Te(i,e,t){var r=[],n=i[0],a=null;if(i.length<=2)return Ce(i,e);for(var o=0,s=i.length;o<s;o++){var l=i[o];(!a||!(a.x===l.x&&a.y===l.y))&&(r.push(l.x),r.push(l.y),a=l)}var f=t||[[0,0],[1,1]],h=se(r,e,f);return h.unshift(["M",n.x,n.y]),h}function ke(i,e){var t=[];return(0,u.each)(e,function(r){var n=r[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(rn(r,i));break;case"z":default:t.push(r);break}}),t}function ir(i,e){var t=[],r,n,a,o;return(0,u.each)(e,function(s,l){var f=s[0];switch(f.toLowerCase()){case"m":case"c":case"q":t.push(rn(s,i));break;case"l":r=e[l-1],n=s,a=i.isTransposed,o=a?r[r.length-2]===n[1]:r[r.length-1]===n[2],o?t=t.concat(Vn(r,n,i)):t.push(rn(s,i));break;case"z":default:t.push(s);break}}),Ut(t),t}var or=function(){function i(e,t,r,n){e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=t,this.height=n,this.width=r}return i.fromRange=function(e,t,r,n){return new i(e,t,r-e,n-t)},Object.defineProperty(i.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.add=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.clone();return(0,u.each)(e,function(n){r.x=Math.min(n.x,r.x),r.y=Math.min(n.y,r.y),r.width=Math.max(n.maxX,r.maxX)-r.x,r.height=Math.max(n.maxY,r.maxY)-r.y}),r},i.prototype.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.clone();return(0,u.each)(e,function(n){r.x=Math.max(n.x,r.x),r.y=Math.max(n.y,r.y),r.width=Math.min(n.maxX,r.maxX)-r.x,r.height=Math.min(n.maxY,r.maxY)-r.y}),r},i.prototype.cut=function(e,t){var r=e.width,n=e.height;switch(t){case Y.TOP:case Y.TOP_LEFT:case Y.TOP_RIGHT:return i.fromRange(this.minX,this.minY+n,this.maxX,this.maxY);case Y.RIGHT:case Y.RIGHT_TOP:case Y.RIGHT_BOTTOM:return i.fromRange(this.minX,this.minY,this.maxX-r,this.maxY);case Y.BOTTOM:case Y.BOTTOM_LEFT:case Y.BOTTOM_RIGHT:return i.fromRange(this.minX,this.minY,this.maxX,this.maxY-n);case Y.LEFT:case Y.LEFT_TOP:case Y.LEFT_BOTTOM:return i.fromRange(this.minX+r,this.minY,this.maxX,this.maxY);default:return this}},i.prototype.shrink=function(e){var t=e[0],r=e[1],n=e[2],a=e[3];return new i(this.x+a,this.y+t,this.width-a-r,this.height-t-n)},i.prototype.exceed=function(e){return[Math.max(-this.minY+e.minY,0),Math.max(this.maxX-e.maxX,0),Math.max(this.maxY-e.maxY,0),Math.max(-this.minX+e.minX,0)]},i.prototype.size=function(){return this.width*this.height},i}(),Or=function(i,e){var t=e.start,r=e.end;return new or(i.x+i.width*t.x,i.y+i.height*t.y,i.width*Math.abs(r.x-t.x),i.height*Math.abs(r.y-t.y))};function Cr(i){return[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}var Ar=d(70146);function hn(i,e){var t=i.event,r=t.target,n=r.getCanvasBBox();return n.width>=e||n.height>=e?n:null}function sn(i,e){var t=i.event,r=t.target,n=r.getCanvasBBox();return n.width>=e||n.height>=e?r.attr("path"):null}function Jr(i){var e=i.event,t,r=e.target;return r&&(t=r.get("element")),t}function ln(i){var e=i.event,t=e.target,r;return t&&(r=t.get("delegateObject")),r}function Fn(i){var e=i.event.gEvent;return!(e&&e.fromShape&&e.toShape&&e.fromShape.get("element")===e.toShape.get("element"))}function kn(i){return i&&i.component&&i.component.isList()}function Jn(i){return i&&i.component&&i.component.isSlider()}function Rn(i){var e=i.event,t=e.target;return t&&t.get("name")==="mask"}function Ai(i,e){var t=i.event.target;if(t.get("type")==="path"){var r=sn(i,e);return r?Oi(i.view,r):void 0}var n=hn(i,e);return n?_i(i.view,n):null}function ti(i,e,t){var r=hn(i,t);if(!r)return null;var n=i.view,a=Li(n,e,{x:r.x,y:r.y}),o=Li(n,e,{x:r.maxX,y:r.maxY}),s={minX:a.x,minY:a.y,maxX:o.x,maxY:o.y};return _i(e,s)}function Sr(i){var e=i.geometries,t=[];return(0,u.each)(e,function(r){var n=r.elements;t=t.concat(n)}),i.views&&i.views.length&&(0,u.each)(i.views,function(r){t=t.concat(Sr(r))}),t}function ii(i,e,t){var r=Sr(i);return r.filter(function(n){return yn(n,e)===t})}function ea(i,e){var t=i.geometries,r=[];return(0,u.each)(t,function(n){var a=n.getElementsBy(function(o){return o.hasState(e)});r=r.concat(a)}),r}function yn(i,e){var t=i.getModel(),r=t.data,n;return(0,u.isArray)(r)?n=r[0][e]:n=r[e],n}function Ti(i,e){return!(e.minX>i.maxX||e.maxX<i.minX||e.minY>i.maxY||e.maxY<i.minY)}function _i(i,e){var t=Sr(i),r=[];return(0,u.each)(t,function(n){var a=n.shape,o=a.getCanvasBBox();Ti(e,o)&&r.push(n)}),r}function ai(i){var e=[];return(0,u.each)(i,function(t){var r=t[0];if(r!=="A")for(var n=1;n<t.length;n=n+2)e.push([t[n],t[n+1]]);else{var a=t.length;e.push([t[a-2],t[a-1]])}}),e}function Oi(i,e){var t=Sr(i),r=ai(e),n=t.filter(function(a){var o=a.shape,s;if(o.get("type")==="path")s=ai(o.attr("path"));else{var l=o.getCanvasBBox();s=Cr(l)}return(0,Ar.default)(r,s)});return n}function ca(i){return i.getComponents().map(function(e){return e.component})}function zi(i,e){var t=e.x-i.x,r=e.y-i.y;return Math.sqrt(t*t+r*r)}function mi(i,e){if(i.length<=2)return Ce(i,!1);var t=i[0],r=[];(0,u.each)(i,function(a){r.push(a.x),r.push(a.y)});var n=se(r,e,null);return n.unshift(["M",t.x,t.y]),n}function xi(i,e){return i.x<=e.x&&i.maxX>=e.x&&i.y<=e.y&&i.maxY>e.y}function In(i){var e=i.parent,t=null;return e&&(t=e.views.filter(function(r){return r!==i})),t}function Ki(i,e){var t=i.getCoordinate();return t.invert(e)}function Li(i,e,t){var r=Ki(i,t);return e.getCoordinate().convert(r)}function Ii(i,e,t,r){var n=!1;return(0,u.each)(i,function(a){if(a[t]===e[t]&&a[r]===e[r])return n=!0,!1}),n}function oi(i,e){var t=i.getScaleByField(e);return!t&&i.views&&(0,u.each)(i.views,function(r){if(t=oi(r,e),t)return!1}),t}var ra=function(){function i(e){this.actions=[],this.event=null,this.cacheMap={},this.view=e}return i.prototype.cache=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===1)return this.cacheMap[e[0]];e.length===2&&(this.cacheMap[e[0]]=e[1])},i.prototype.getAction=function(e){return this.actions.find(function(t){return t.name===e})},i.prototype.addAction=function(e){this.actions.push(e)},i.prototype.removeAction=function(e){var t=this.actions,r=this.actions.indexOf(e);r>=0&&t.splice(r,1)},i.prototype.getCurrentPoint=function(){var e=this.event;if(e)if(e.target instanceof HTMLElement){var t=this.view.getCanvas(),r=t.getPointByClient(e.clientX,e.clientY);return r}else return{x:e.x,y:e.y};return null},i.prototype.getCurrentShape=function(){return(0,u.get)(this.event,["gEvent","shape"])},i.prototype.isInPlot=function(){var e=this.getCurrentPoint();return e?this.view.isPointInPlot(e):!1},i.prototype.isInShape=function(e){var t=this.getCurrentShape();return t?t.get("name")===e:!1},i.prototype.isInComponent=function(e){var t=ca(this.view),r=this.getCurrentPoint();return r?!!t.find(function(n){var a=n.getBBox();return e?n.get("name")===e&&xi(a,r):xi(a,r)}):!1},i.prototype.destroy=function(){this.view=null,this.event=null,(0,u.each)(this.actions.slice(),function(e){e.destroy()}),this.actions=null,this.cacheMap=null},i}(),na=ra,Da=function(){function i(e,t){this.view=e,this.cfg=t}return i.prototype.init=function(){this.initEvents()},i.prototype.initEvents=function(){},i.prototype.clearEvents=function(){},i.prototype.destroy=function(){this.clearEvents()},i}(),va=Da;function wa(i,e){var t=i.split(":"),r=t[0],n=e.getAction(r)||je(r,e);if(!n)throw new Error("There is no action named "+r);var a=t[1];return{action:n,methodName:a}}function Sa(i){var e=i.action,t=i.methodName;if(e[t])e[t]();else throw new Error("Action("+e.name+") doesn't have a method called "+t)}var qn={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},Ma=function(i){(0,k.__extends)(e,i);function e(t,r){var n=i.call(this,t,r)||this;return n.callbackCaches={},n.emitCaches={},n.steps=r,n}return e.prototype.init=function(){this.initContext(),i.prototype.init.call(this)},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},e.prototype.initEvents=function(){var t=this;(0,u.each)(this.steps,function(r,n){(0,u.each)(r,function(a){var o=t.getActionCallback(n,a);o&&t.bindEvent(a.trigger,o)})})},e.prototype.clearEvents=function(){var t=this;(0,u.each)(this.steps,function(r,n){(0,u.each)(r,function(a){var o=t.getActionCallback(n,a);o&&t.offEvent(a.trigger,o)})})},e.prototype.initContext=function(){var t=this.view,r=new na(t);this.context=r;var n=this.steps;(0,u.each)(n,function(a){(0,u.each)(a,function(o){if((0,u.isFunction)(o.action))o.actionObject={action:un(o.action,r),methodName:"execute"};else if((0,u.isString)(o.action))o.actionObject=wa(o.action,r);else if((0,u.isArray)(o.action)){var s=o.action;o.actionObject=[],(0,u.each)(s,function(l){o.actionObject.push(wa(l,r))})}})})},e.prototype.isAllowStep=function(t){var r=this.currentStepName,n=this.steps;if(r===t||t===qn.SHOW_ENABLE)return!0;if(t===qn.PROCESSING)return r===qn.START;if(t===qn.START)return r!==qn.PROCESSING;if(t===qn.END)return r===qn.PROCESSING||r===qn.START;if(t===qn.ROLLBACK){if(n[qn.END])return r===qn.END;if(r===qn.START)return!0}return!1},e.prototype.isAllowExcute=function(t,r){if(this.isAllowStep(t)){var n=this.getKey(t,r);return r.once&&this.emitCaches[n]?!1:r.isEnable?r.isEnable(this.context):!0}return!1},e.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},e.prototype.afterExecute=function(t,r){t!==qn.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,r);this.emitCaches[n]=!0},e.prototype.getKey=function(t,r){return t+r.trigger+r.action},e.prototype.getActionCallback=function(t,r){var n=this,a=this.context,o=this.callbackCaches,s=r.actionObject;if(r.action&&s){var l=this.getKey(t,r);if(!o[l]){var f=function(h){a.event=h,n.isAllowExcute(t,r)?((0,u.isArray)(s)?(0,u.each)(s,function(c){a.event=h,Sa(c)}):(a.event=h,Sa(s)),n.afterExecute(t,r),r.callback&&(a.event=h,r.callback(a))):a.event=null};r.debounce?o[l]=(0,u.debounce)(f,r.debounce.wait,r.debounce.immediate):r.throttle?o[l]=(0,u.throttle)(f,r.throttle.wait,{leading:r.throttle.leading,trailing:r.throttle.trailing}):o[l]=f}return o[l]}return null},e.prototype.bindEvent=function(t,r){var n=t.split(":");n[0]==="window"?window.addEventListener(n[1],r):n[0]==="document"?document.addEventListener(n[1],r):this.view.on(t,r)},e.prototype.offEvent=function(t,r){var n=t.split(":");n[0]==="window"?window.removeEventListener(n[1],r):n[0]==="document"?document.removeEventListener(n[1],r):this.view.off(t,r)},e}(va),da=Ma,$i={};function Xi(i){return $i[(0,u.lowerCase)(i)]}function zr(i,e){$i[(0,u.lowerCase)(i)]=e}function ui(i,e,t){var r=Xi(i);if(!r)return null;if((0,u.isPlainObject)(r)){var n=(0,u.mix)((0,u.clone)(r),t);return new da(e,n)}else{var a=r;return new a(e,t)}}var Nn=d(7755),cn=d(31506);function Vi(i){var e,t={point:{default:{fill:i.pointFillColor,r:i.pointSize,stroke:i.pointBorderColor,lineWidth:i.pointBorder,fillOpacity:i.pointFillOpacity},active:{stroke:i.pointActiveBorderColor,lineWidth:i.pointActiveBorder},selected:{stroke:i.pointSelectedBorderColor,lineWidth:i.pointSelectedBorder},inactive:{fillOpacity:i.pointInactiveFillOpacity,strokeOpacity:i.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:i.hollowPointFillColor,lineWidth:i.hollowPointBorder,stroke:i.hollowPointBorderColor,strokeOpacity:i.hollowPointBorderOpacity,r:i.hollowPointSize},active:{stroke:i.hollowPointActiveBorderColor,strokeOpacity:i.hollowPointActiveBorderOpacity},selected:{lineWidth:i.hollowPointSelectedBorder,stroke:i.hollowPointSelectedBorderColor,strokeOpacity:i.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:i.hollowPointInactiveBorderOpacity}},area:{default:{fill:i.areaFillColor,fillOpacity:i.areaFillOpacity,stroke:null},active:{fillOpacity:i.areaActiveFillOpacity},selected:{fillOpacity:i.areaSelectedFillOpacity},inactive:{fillOpacity:i.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:i.hollowAreaBorderColor,lineWidth:i.hollowAreaBorder,strokeOpacity:i.hollowAreaBorderOpacity},active:{fill:null,lineWidth:i.hollowAreaActiveBorder},selected:{fill:null,lineWidth:i.hollowAreaSelectedBorder},inactive:{strokeOpacity:i.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:i.intervalFillColor,fillOpacity:i.intervalFillOpacity},active:{stroke:i.intervalActiveBorderColor,lineWidth:i.intervalActiveBorder},selected:{stroke:i.intervalSelectedBorderColor,lineWidth:i.intervalSelectedBorder},inactive:{fillOpacity:i.intervalInactiveFillOpacity,strokeOpacity:i.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:i.hollowIntervalFillColor,stroke:i.hollowIntervalBorderColor,lineWidth:i.hollowIntervalBorder,strokeOpacity:i.hollowIntervalBorderOpacity},active:{stroke:i.hollowIntervalActiveBorderColor,lineWidth:i.hollowIntervalActiveBorder,strokeOpacity:i.hollowIntervalActiveBorderOpacity},selected:{stroke:i.hollowIntervalSelectedBorderColor,lineWidth:i.hollowIntervalSelectedBorder,strokeOpacity:i.hollowIntervalSelectedBorderOpacity},inactive:{stroke:i.hollowIntervalInactiveBorderColor,lineWidth:i.hollowIntervalInactiveBorder,strokeOpacity:i.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:i.lineBorderColor,lineWidth:i.lineBorder,strokeOpacity:i.lineBorderOpacity,fill:null,lineAppendWidth:10},active:{lineWidth:i.lineActiveBorder},selected:{lineWidth:i.lineSelectedBorder},inactive:{strokeOpacity:i.lineInactiveBorderOpacity}}},r={title:{autoRotate:!0,position:"center",style:{fill:i.axisTitleTextFillColor,fontSize:i.axisTitleTextFontSize,lineHeight:i.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},label:{autoRotate:!0,autoEllipsis:!0,autoHide:!0,offset:16,style:{fill:i.axisLabelFillColor,fontSize:i.axisLabelFontSize,lineHeight:i.axisLabelLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},line:{style:{lineWidth:i.axisLineBorder,stroke:i.axisLineBorderColor}},tickLine:{style:{lineWidth:i.axisTickLineBorder,stroke:i.axisTickLineBorderColor},alignTick:!0,length:i.axisTickLineLength},subTickLine:null,animate:!0},n={line:{type:"line",style:{stroke:i.axisGridBorderColor,lineWidth:i.axisGridBorder,lineDash:i.axisGridLineDash}},alignTick:!0,animate:!0},a={title:null,marker:{symbol:"circle",style:{r:i.legendCircleMarkerSize,fill:i.legendMarkerColor}},itemName:{spacing:5,style:{fill:i.legendItemNameFillColor,fontFamily:i.fontFamily,fontSize:i.legendItemNameFontSize,lineHeight:i.legendItemNameLineHeight,fontWeight:i.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},flipPage:!0,animate:!1,maxItemWidth:.2};return{background:i.backgroundColor,defaultColor:i.brandColor,padding:"auto",fontFamily:i.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:i.paletteQualitative10,colors20:i.paletteQualitative20,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(o){var s=o.geometry.coordinate;if(s.isPolar&&s.isTransposed){var l=fn(o.getModel(),s),f=l.startAngle,h=l.endAngle,c=(f+h)/2,v=7.5,x=v*Math.cos(c),P=v*Math.sin(c);return{matrix:cn.transform(null,[["t",x,P]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:(0,k.__assign)((0,k.__assign)({},t.line.default),{lineDash:[1,1]})},active:{style:(0,k.__assign)((0,k.__assign)({},t.line.active),{lineDash:[1,1]})},inactive:{style:(0,k.__assign)((0,k.__assign)({},t.line.inactive),{lineDash:[1,1]})},selected:{style:(0,k.__assign)((0,k.__assign)({},t.line.selected),{lineDash:[1,1]})}},dash:{default:{style:(0,k.__assign)((0,k.__assign)({},t.line.default),{lineDash:[5.5,1]})},active:{style:(0,k.__assign)((0,k.__assign)({},t.line.active),{lineDash:[5.5,1]})},inactive:{style:(0,k.__assign)((0,k.__assign)({},t.line.inactive),{lineDash:[5.5,1]})},selected:{style:(0,k.__assign)((0,k.__assign)({},t.line.selected),{lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}}},components:{axis:{top:(0,u.deepMix)({},r,{position:"top",grid:null,title:null,verticalLimitLength:1/2}),bottom:(0,u.deepMix)({},r,{position:"bottom",grid:null,title:null,verticalLimitLength:1/2}),left:(0,u.deepMix)({},r,{position:"left",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),right:(0,u.deepMix)({},r,{position:"right",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),circle:(0,u.deepMix)({},r,{title:null,label:{offset:8},grid:(0,u.deepMix)({},n,{line:{type:"line"}})}),radius:(0,u.deepMix)({},r,{title:null,label:{offset:8},grid:(0,u.deepMix)({},n,{line:{type:"circle"}})})},legend:{right:(0,u.deepMix)({},a,{layout:"vertical"}),left:(0,u.deepMix)({},a,{layout:"vertical"}),top:(0,u.deepMix)({},a,{layout:"horizontal"}),bottom:(0,u.deepMix)({},a,{layout:"horizontal"}),continuous:{title:null,background:null,track:{},rail:{type:"color",size:i.sliderRailHeight,defaultLength:i.sliderRailWidth,style:{fill:i.sliderRailFillColor,stroke:i.sliderRailBorderColor,lineWidth:i.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:i.sliderLabelTextFillColor,fontSize:i.sliderLabelTextFontSize,lineHeight:i.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},handler:{size:i.sliderHandlerWidth,style:{fill:i.sliderHandlerFillColor,stroke:i.sliderHandlerBorderColor}},slidable:!0},margin:[0,0,0,0]},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:i.tooltipCrosshairsBorderColor,lineWidth:i.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(e={},e[""+Nn.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:i.tooltipContainerFillColor,opacity:i.tooltipContainerFillOpacity,boxShadow:i.tooltipContainerShadow,borderRadius:i.tooltipContainerBorderRadius+"px",color:i.tooltipTextFillColor,fontSize:i.tooltipTextFontSize+"px",fontFamily:i.fontFamily,lineHeight:i.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},e[""+Nn.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},e[""+Nn.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},e[""+Nn.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},e[""+Nn.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},e[""+Nn.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},e)},annotation:{arc:{style:{stroke:i.annotationArcBorderColor,lineWidth:i.annotationArcBorder},animate:!0},line:{style:{stroke:i.annotationLineBorderColor,lineDash:i.annotationLineDash,lineWidth:i.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textAlign:"start",fontFamily:i.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:i.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:i.annotationRegionBorder,stroke:i.annotationRegionBorderColor,fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:i.brandColor,lineWidth:2}},line:{style:{stroke:i.annotationLineBorderColor,lineWidth:i.annotationLineBorder},length:i.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},animate:!0}}},labels:{offset:12,style:{fill:i.labelFillColor,fontSize:i.labelFontSize,fontFamily:i.fontFamily,stroke:i.labelBorderColor,lineWidth:i.labelBorder},autoRotate:!0},innerLabels:{style:{fill:i.innerLabelFillColor,fontSize:i.innerLabelFontSize,fontFamily:i.fontFamily,stroke:i.innerLabelBorderColor,lineWidth:i.innerLabelBorder},autoRotate:!0},pieLabels:{labelHeight:14,offset:30,labelLine:{style:{lineWidth:i.labelLineBorder}},autoRotate:!0}}}var vn={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Hi={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Qt=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],wt=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],z={backgroundColor:"transparent",brandColor:Qt[0],paletteQualitative10:Qt,paletteQualitative20:wt,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:vn[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:vn[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:vn[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:vn[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:vn[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:vn[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:vn[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Qt[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:vn[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:vn[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:vn[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:vn[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:vn[25],annotationArcBorderColor:vn[15],annotationArcBorder:.5,annotationLineBorderColor:vn[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:vn[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:Hi[95],annotationTextBorder:1.5,annotationRegionFillColor:vn[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:vn[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:vn[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:vn[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Hi[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:vn[25],pointFillColor:Qt[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Hi[100],pointBorderOpacity:1,pointActiveBorderColor:vn[100],pointSelectedBorder:2,pointSelectedBorderColor:vn[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Qt[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Hi[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:vn[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:vn[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Qt[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Qt[0],areaFillOpacity:.25,areaActiveFillColor:Qt[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Qt[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Qt[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:vn[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:vn[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Qt[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:vn[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:vn[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Qt[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Hi[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:vn[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:vn[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},nt=Vi(z),vt={default:nt};function Lt(i){return(0,u.get)(vt,(0,u.lowerCase)(i),vt.default)}function Ht(i,e){vt[(0,u.lowerCase)(i)]=(0,u.deepMix)({},vt.default,e)}function qt(i,e,t){var r=t.translate(i),n=t.translate(e);return(0,u.isNumberEqual)(r,n)}function ge(i,e){var t=e.coordinate,r=e.getXScale(),n=r.range,a=n[n.length-1],o=n[0],s=t.invert(i),l=s.x;return t.isPolar&&l>(1+a)/2&&(l=o),r.translate(r.invert(l))}function q(i,e,t){var r=t.coordinate,n=t.getYScale(),a=n.field,o=r.invert(e),s=n.invert(o.y),l=(0,u.find)(i,function(f){var h=f[at];return h[a][0]<=s&&h[a][1]>=s});return l||i[i.length-1]}var Q=(0,u.memoize)(function(i){if(i.isCategory)return 1;for(var e=i.values,t=e.length,r=i.translate(e[0]),n=r,a=0;a<t;a++){var o=e[a],s=i.translate(o);s<r&&(r=s),s>n&&(n=s)}return(n-r)/(t-1)});function $(i,e,t){var r=t;if(!t){var n=e.getAttribute("position"),a=n.getFields();r=a[0]}var o=e.scales;return o[r]?o[r].getText(i[r]):(0,u.hasKey)(i,r)?i[r]:r}function ot(i){var e=(0,u.values)(i.attributes);return(0,u.filter)(e,function(t){return(0,u.contains)(bt,t.type)})}function _t(i){for(var e=ot(i),t,r=0,n=e;r<n.length;r++){var a=n[r],o=a.getScale(a.type);if(o&&o.isLinear){t=o;break}}var s=i.getXScale(),l=i.getYScale();return t||l||s}function Xt(i,e){var t=e.field,r=i[t];if((0,u.isArray)(r)){var n=r.map(function(a){return e.getText(a)});return n.join("-")}return e.getText(r)}function ae(i,e){var t,r=e.getGroupScales();if(r.length&&(t=r[0]),t){var n=t.field;return t.getText(i[n])}var a=_t(e);return Ve(a)}function oe(i,e,t){if(e.length===0)return null;var r=t.type,n=t.getXScale(),a=t.getYScale(),o=n.field,s=a.field,l=null;if(r==="heatmap"||r==="point"){for(var f=t.coordinate,h=f.invert(i),c=n.invert(h.x),v=a.invert(h.y),x=Infinity,P=0;P<e.length;P++){var D=e[P],X=D[at],K=Math.pow(X[o]-c,2)+Math.pow(X[s]-v,2);K<x&&(x=K,l=D)}return l}var Z=e[0],gt=e[e.length-1],mt=ge(i,t),Nt=Z[at][o],Zt=Z[at][s],ee=gt[at][o],ue=a.isLinear&&(0,u.isArray)(Zt);if((0,u.isArray)(Nt)){for(var P=0;P<e.length;P++){var ne=e[P],X=ne[at];if(n.translate(X[o][0])<=mt&&n.translate(X[o][1])>=mt)if(ue)(0,u.isArray)(l)||(l=[]),l.push(ne);else{l=ne;break}}(0,u.isArray)(l)&&(l=q(l,i,t))}else{var xe=void 0;if(!n.isLinear&&n.type!=="timeCat"){for(var P=0;P<e.length;P++){var ne=e[P],X=ne[at];if(qt(X[o],mt,n))if(ue)(0,u.isArray)(l)||(l=[]),l.push(ne);else{l=ne;break}else n.translate(X[o])<=mt&&(gt=ne,xe=e[P+1])}(0,u.isArray)(l)&&(l=q(l,i,t))}else{if((mt>n.translate(ee)||mt<n.translate(Nt))&&(mt>n.max||mt<n.min))return null;for(var Pe=0,Ye=e.length-1,He=void 0;Pe<=Ye;){He=Math.floor((Pe+Ye)/2);var Ze=e[He][at][o];if(qt(Ze,mt,n))return e[He];n.translate(Ze)<=n.translate(mt)?(Pe=He+1,gt=e[He],xe=e[He+1]):(Ye===0&&(gt=e[0]),Ye=He-1)}}gt&&xe&&Math.abs(n.translate(gt[at][o])-mt)>Math.abs(n.translate(xe[at][o])-mt)&&(gt=xe)}var Ue=Q(t.getXScale());return!l&&Math.abs(n.translate(gt[at][o])-mt)<=Ue/2&&(l=gt),l}function ye(i,e,t){t===void 0&&(t="");var r=i[at],n=$(r,e,t),a=e.tooltipOption,o=e.theme.defaultColor,s=[],l,f;function h(Zt,ee){if(!(0,u.isNil)(ee)&&ee!==""){var ue={title:n,data:r,mappingData:i,name:Zt,value:ee,color:i.color||o,marker:!0};s.push(ue)}}if((0,u.isObject)(a)){var c=a.fields,v=a.callback;if(v){var x=c.map(function(Zt){return i[at][Zt]}),P=v.apply(void 0,x),D=(0,k.__assign)({data:i[at],mappingData:i,title:n,color:i.color||o,marker:!0},P);s.push(D)}else for(var X=e.scales,K=0,Z=c;K<Z.length;K++){var gt=Z[K];if(!(0,u.isNil)(r[gt])){var mt=X[gt];l=Ve(mt),f=mt.getText(r[gt]),h(l,f)}}}else{var Nt=_t(e);(0,u.isNil)(r[Nt.field])||(f=Xt(r,Nt),l=ae(r,e),h(l,f))}return s}var ze={};function We(i,e){ze[i]=e}function It(i){delete ze[i]}function $t(){return Object.keys(ze)}function le(i){return ze[i]}var fe=function(){function i(e){this.option=this.wrapperOption(e)}return i.prototype.update=function(e){return this.option=this.wrapperOption(e),this},i.prototype.hasAction=function(e){var t=this.option.actions;return(0,u.some)(t,function(r){return r[0]===e})},i.prototype.create=function(e,t){var r=this.option,n=r.type,a=r.cfg,o=n==="theta",s=(0,k.__assign)({start:e,end:t},a),l=(0,pn.getCoordinate)(o?"polar":n);return this.coordinate=new l(s),this.coordinate.type=n,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},i.prototype.adjust=function(e,t){return this.coordinate.update({start:e,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},i.prototype.rotate=function(e){return this.option.actions.push(["rotate",e]),this},i.prototype.reflect=function(e){return this.option.actions.push(["reflect",e]),this},i.prototype.scale=function(e,t){return this.option.actions.push(["scale",e,t]),this},i.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},i.prototype.getOption=function(){return this.option},i.prototype.getCoordinate=function(){return this.coordinate},i.prototype.wrapperOption=function(e){return(0,k.__assign)({type:"rect",actions:[],cfg:{}},e)},i.prototype.execActions=function(e){var t=this,r=this.option.actions;(0,u.each)(r,function(n){var a,o=n[0],s=n.slice(1),l=(0,u.isNil)(e)?!0:e.includes(o);l&&(a=t.coordinate)[o].apply(a,s)})},i}(),Ie=fe,$e=function(){function i(e,t,r){this.view=e,this.gEvent=t,this.data=r,this.type=t.type}return Object.defineProperty(i.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),i.prototype.toString=function(){return"[Event (type="+this.type+")]"},i.prototype.clone=function(){return new i(this.view,this.gEvent,this.data)},i}(),br=$e;function Lr(i){return!(0,u.isNumber)(i)&&!(0,u.isArray)(i)}function Tr(i){i===void 0&&(i=0);var e=(0,u.isArray)(i)?i:[i];switch(e.length){case 0:e=[0,0,0,0];break;case 1:e=new Array(4).fill(e[0]);break;case 2:e=(0,k.__spreadArrays)(e,e);break;case 3:e=(0,k.__spreadArrays)(e,[e[1]]);break;default:e=e.slice(0,4);break}return e}var gr=function(){function i(e,t,r,n){e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),this.top=e,this.right=t,this.bottom=r,this.left=n}return i.prototype.shrink=function(e){var t=e[0],r=e[1],n=e[2],a=e[3];return this.top+=t,this.right+=r,this.bottom+=n,this.left+=a,this},i.prototype.inc=function(e,t){var r=e.width,n=e.height;switch(t){case Y.TOP:case Y.TOP_LEFT:case Y.TOP_RIGHT:this.top+=n;break;case Y.RIGHT:case Y.RIGHT_TOP:case Y.RIGHT_BOTTOM:this.right+=r;break;case Y.BOTTOM:case Y.BOTTOM_LEFT:case Y.BOTTOM_RIGHT:this.bottom+=n;break;case Y.LEFT:case Y.LEFT_TOP:case Y.LEFT_BOTTOM:this.left+=r;break;default:break}return this},i.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},i}();function Ur(i){var e=i.padding;if(!Lr(e))return Tr(e);var t=i.viewBBox,r=i.autoPadding,n=new gr;(0,u.each)(i.getComponents(),function(s){var l=s.component,f=s.type;if(!(f===V.GRID||f===V.TOOLTIP)){var h=l.getLayoutBBox(),c=new or(h.x,h.y,h.width,h.height);if(f===V.AXIS){var v=c.exceed(t);n.shrink(v)}else{var x=s.direction;n.inc(c,x)}}});var a=n.getPadding();if(r){var o=Tr(i.appendPadding);return[Math.max(r[0]-o[0],a[0]),Math.max(r[1]-o[1],a[1]),Math.max(r[2]-o[2],a[2]),Math.max(r[3]-o[3],a[3])]}return a}function Yn(i){var e=i.getController("axis"),t=i.getController("legend"),r=i.getController("annotation"),n=i.getController("slider"),a=Ur(i);i.coordinateBBox=i.viewBBox.shrink(a).shrink(Tr(i.appendPadding)),i.adjustCoordinate(),[e,n,t,r].forEach(function(o){o&&o.layout()})}var bi=function(){function i(){this.scales=new Map,this.syncScales=new Map}return i.prototype.createScale=function(e,t,r,n){var a=r,o=this.getScaleMeta(n);if(t.length===0&&o){var s=o.scale,l={type:s.type};s.isCategory&&(l.values=s.values),a=(0,u.deepMix)(l,o.scaleDef,r)}var f=Ne(e,t,a);return this.cacheScale(f,r,n),f},i.prototype.sync=function(){var e=this;this.syncScales.forEach(function(t,r){var n=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,o=[];(0,u.each)(t,function(s){var l=e.getScale(s);a=(0,u.isNumber)(l.max)?Math.max(a,l.max):a,n=(0,u.isNumber)(l.min)?Math.min(n,l.min):n,(0,u.each)(l.values,function(f){o.includes(f)||o.push(f)})}),(0,u.each)(t,function(s){var l=e.getScale(s);l.isContinuous?l.change({min:n,max:a,values:o}):l.isCategory&&l.change({values:o})})})},i.prototype.cacheScale=function(e,t,r){var n=this.getScaleMeta(r);n&&n.scale.type===e.type?(Fe(n.scale,e),n.scaleDef=t):(n={key:r,scale:e,scaleDef:t},this.scales.set(r,n));var a=this.getSyncKey(n);if(n.syncKey=a,this.removeFromSyncScales(r),a){var o=this.syncScales.get(a);o||(o=[],this.syncScales.set(a,o)),o.push(r)}},i.prototype.getScale=function(e){var t=this.getScaleMeta(e);if(!t){var r=(0,u.last)(e.split("-")),n=this.syncScales.get(r);n&&n.length&&(t=this.getScaleMeta(n[0]))}return t&&t.scale},i.prototype.deleteScale=function(e){var t=this.getScaleMeta(e);if(t){var r=t.syncKey,n=this.syncScales.get(r);if(n&&n.length){var a=n.indexOf(e);a!==-1&&n.splice(a,1)}}this.scales.delete(e)},i.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},i.prototype.removeFromSyncScales=function(e){var t=this;this.syncScales.forEach(function(r,n){var a=r.indexOf(e);if(a!==-1)return r.splice(a,1),r.length===0&&t.syncScales.delete(n),!1})},i.prototype.getSyncKey=function(e){var t=e.scale,r=e.scaleDef,n=t.field,a=(0,u.get)(r,["sync"]);return a===!0?n:a===!1?void 0:a},i.prototype.getScaleMeta=function(e){return this.scales.get(e)},i}(),Oa=function(i){(0,k.__extends)(e,i);function e(t){var r=i.call(this,{visible:t.visible})||this;r.id=(0,u.uniqueId)("view"),r.views=[],r.geometries=[],r.controllers=[],r.interactions={},r.limitInPlot=!1,r.options={data:[],animate:!0},r.usedControllers=$t(),r.scalePool=new bi,r.layoutFunc=Yn,r.isPreMouseInPlot=!1,r.isDataChanged=!1,r.isCoordinateChanged=!1,r.createdScaleKeys=new Map,r.onCanvasEvent=function(X){var K=X.name;if(!K.includes(":")){var Z=r.createViewEvent(X);r.doPlotEvent(Z),r.emit(K,Z)}},r.onDelegateEvents=function(X){var K=X.name;if(!!K.includes(":")){var Z=r.createViewEvent(X);r.emit(K,Z)}};var n=t.parent,a=t.canvas,o=t.backgroundGroup,s=t.middleGroup,l=t.foregroundGroup,f=t.region,h=f===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:f,c=t.padding,v=t.appendPadding,x=t.theme,P=t.options,D=t.limitInPlot;return r.parent=n,r.canvas=a,r.backgroundGroup=o,r.middleGroup=s,r.foregroundGroup=l,r.region=h,r.padding=c,r.appendPadding=v,r.options=(0,k.__assign)((0,k.__assign)({},r.options),P),r.limitInPlot=D,r.themeObject=(0,u.isObject)(x)?(0,u.deepMix)({},Lt("default"),x):Lt(x),r.init(),r}return e.prototype.setLayout=function(t){this.layoutFunc=t},e.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.coordinateController=new Ie(this.options.coordinate),this.initOptions();for(var t=this.views,r=0;r<t.length;r++)t[r].init()},e.prototype.render=function(t){t===void 0&&(t=!1),this.emit(et.BEFORE_RENDER),this.paint(t),this.emit(et.AFTER_RENDER),this.visible===!1&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this;this.emit(et.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var r=this.geometries,n=0;n<r.length;n++)r[n].clear();this.geometries=[];for(var a=this.controllers,n=0;n<a.length;n++)a[n].clear();this.createdScaleKeys.forEach(function(s,l){t.getRootView().scalePool.deleteScale(l)}),this.createdScaleKeys.clear();for(var o=this.views,n=0;n<o.length;n++)o[n].clear();this.emit(et.AFTER_CLEAR)},e.prototype.destroy=function(){this.emit(et.BEFORE_DESTROY);var t=this.interactions;(0,u.each)(t,function(s){s&&s.destroy()}),this.clear();for(var r=this.controllers,n=0,a=r.length;n<a;n++){var o=r[n];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),i.prototype.destroy.call(this)},e.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var r=this.geometries,n=0,a=r.length;n<a;n++){var o=r[n];o.changeVisible(t)}for(var s=this.controllers,n=0,a=s.length;n<a;n++){var l=s[n];l.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},e.prototype.data=function(t){return(0,u.set)(this.options,"data",t),this.isDataChanged=!0,this},e.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},e.prototype.filter=function(t,r){return(0,u.isFunction)(r)?((0,u.set)(this.options,["filters",t],r),this):(!r&&(0,u.get)(this.options,["filters",t])&&delete this.options.filters[t],this)},e.prototype.axis=function(t,r){return(0,u.isBoolean)(t)?(0,u.set)(this.options,["axes"],t):(0,u.set)(this.options,["axes",t],r),this},e.prototype.legend=function(t,r){return(0,u.isBoolean)(t)?(0,u.set)(this.options,["legends"],t):(0,u.isString)(t)?(0,u.set)(this.options,["legends",t],r):(0,u.set)(this.options,["legends"],t),this},e.prototype.scale=function(t,r){var n=this;return(0,u.isString)(t)?(0,u.set)(this.options,["scales",t],r):(0,u.isObject)(t)&&(0,u.each)(t,function(a,o){(0,u.set)(n.options,["scales",o],a)}),this},e.prototype.tooltip=function(t){return(0,u.set)(this.options,"tooltip",t),this},e.prototype.annotation=function(){return this.getController("annotation")},e.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},e.prototype.coordinate=function(t,r){return(0,u.isString)(t)?(0,u.set)(this.options,"coordinate",{type:t,cfg:r}):(0,u.set)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},e.prototype.coord=function(t,r){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,r)},e.prototype.facet=function(t,r){this.facetInstance&&this.facetInstance.destroy();var n=me(t);if(!n)throw new Error("facet '"+t+"' is not exist!");return this.facetInstance=new n(this,(0,k.__assign)((0,k.__assign)({},r),{type:t})),this},e.prototype.animate=function(t){return(0,u.set)(this.options,"animate",t),this},e.prototype.updateOptions=function(t){return this.clear(),(0,u.mix)(this.options,t),this.initOptions(),this},e.prototype.option=function(t,r){if(e.prototype[t])throw new Error(`Can't use built in variable name "`+t+'", please change another one.');return(0,u.set)(this.options,t,r),this},e.prototype.theme=function(t){return this.themeObject=(0,u.isObject)(t)?(0,u.deepMix)({},this.themeObject,t):Lt(t),this},e.prototype.interaction=function(t,r){var n=this.interactions[t];n&&n.destroy();var a=ui(t,this,r);return a&&(a.init(),this.interactions[t]=a),this},e.prototype.removeInteraction=function(t){var r=this.interactions[t];r&&(r.destroy(),this.interactions[t]=void 0)},e.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(et.BEFORE_CHANGE_DATA),this.data(t),this.paint(!0);for(var r=this.views,n=0,a=r.length;n<a;n++){var o=r[n];o.changeData(t)}this.emit(et.AFTER_CHANGE_DATA)},e.prototype.createView=function(t){var r={data:this.options.data,scales:(0,u.clone)(this.options.scales),axes:(0,u.clone)(this.options.axes),coordinate:(0,u.clone)(this.coordinateController.getOption()),tooltip:(0,u.clone)(this.options.tooltip),legends:(0,u.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},n=new e((0,k.__assign)((0,k.__assign)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:U.BG}),middleGroup:this.middleGroup.addGroup({zIndex:U.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:U.FORE}),theme:this.themeObject,padding:this.padding},t),{options:(0,k.__assign)((0,k.__assign)({},r),(0,u.get)(t,"options",{}))}));return this.views.push(n),n},e.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},e.prototype.removeView=function(t){var r=(0,u.remove)(this.views,function(n){return n===t})[0];return r&&r.destroy(),r},e.prototype.getCoordinate=function(){return this.coordinateInstance},e.prototype.getTheme=function(){return this.themeObject},e.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},e.prototype.getYScales=function(){var t={};return this.geometries.map(function(r){var n=r.getYScale(),a=n.field;if(!t[a])return t[a]=!0,n})},e.prototype.getScalesByDim=function(t){for(var r=this.geometries,n={},a=0,o=r.length;a<o;a++){var s=r[a],l=t==="x"?s.getXScale():s.getYScale();l&&!n[l.field]&&(n[l.field]=l)}return n},e.prototype.getScaleByField=function(t,r){var n=r||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},e.prototype.getOptions=function(){return this.options},e.prototype.getData=function(){return this.filteredData},e.prototype.getLayer=function(t){return t===G.BG?this.backgroundGroup:t===G.MID?this.middleGroup:t===G.FORE?this.foregroundGroup:this.foregroundGroup},e.prototype.isPointInPlot=function(t){return tr(this.getCoordinate(),t)},e.prototype.getLegendAttributes=function(){return(0,u.flatten)(this.geometries.map(function(t){return t.getGroupAttributes()}))},e.prototype.getGroupScales=function(){var t=this.geometries.map(function(r){return r.getGroupScales()});return Wt((0,u.flatten)(t))},e.prototype.getCanvas=function(){return this.getRootView().canvas},e.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},e.prototype.getXY=function(t){var r=this.getCoordinate(),n=this.getScalesByDim("x"),a=this.getScalesByDim("y"),o,s;if((0,u.each)(t,function(l,f){n[f]&&(o=n[f].scale(l)),a[f]&&(s=a[f].scale(l))}),!(0,u.isNil)(o)&&!(0,u.isNil)(s))return r.convert({x:o,y:s})},e.prototype.getController=function(t){return(0,u.find)(this.controllers,function(r){return r.name===t})},e.prototype.showTooltip=function(t){var r=this.getController("tooltip");return r&&r.showTooltip(t),this},e.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},e.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},e.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},e.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},e.prototype.getTooltipItems=function(t){var r=this.getController("tooltip");return r?r.getTooltipItems(t):[]},e.prototype.getSnapRecords=function(t){for(var r=this.geometries,n=[],a=0,o=r.length;a<o;a++){var s=r[a],l=s.dataArray;s.sort(l);for(var f=void 0,h=0,c=l.length;h<c;h++){var v=l[h];f=oe(t,v,s),f&&n.push(f)}}for(var x=this.views,a=0,o=x.length;a<o;a++){var P=x[a],D=P.getSnapRecords(t);n=n.concat(D)}return n},e.prototype.getComponents=function(){for(var t=[],r=this.controllers,n=0,a=r.length;n<a;n++){var o=r[n];t=t.concat(o.getComponents())}return t},e.prototype.filterData=function(t){var r=this.options.filters;return(0,u.size)(r)===0?t:(0,u.filter)(t,function(n,a){var o=Object.keys(r);return o.every(function(s){var l=r[s];return l(n[s],n,a)})})},e.prototype.filterFieldData=function(t,r){var n=this.options.filters,a=(0,u.get)(n,t);return(0,u.isUndefined)(a)?r:r.filter(function(o,s){return a(o[t],o,s)})},e.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),r=t.start,n=t.end,a=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if((0,u.isEqual)(r,a)&&(0,u.isEqual)(n,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,o)},e.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(et.BEFORE_PAINT),this.renderBackgroundStyleShape(),this.renderLayoutRecursive(t),this.renderPaintRecursive(t),this.emit(et.AFTER_PAINT),this.isDataChanged=!1},e.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,u.get)(this.themeObject,"background");if(t){this.backgruondStyleRectShape||(this.backgruondStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{zIndex:-1}}));var r=this.viewBBox,n=r.x,a=r.y,o=r.width,s=r.height;this.backgruondStyleRectShape.attr({fill:t,x:n,y:a,width:o,height:s})}else this.backgruondStyleRectShape&&(this.backgruondStyleRectShape.remove(!0),this.backgruondStyleRectShape=void 0)}},e.prototype.renderLayoutRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.doLayout();var r=this.viewBBox,n=this.coordinateBBox;Lr(this.padding)&&(this.autoPadding=[n.tl.y-r.tl.y,r.tr.x-n.tr.x,r.bl.y-n.bl.y,n.tl.x-r.tl.x]);for(var a=this.views,o=0,s=a.length;o<s;o++){var l=a[o];l.renderLayoutRecursive(t)}},e.prototype.renderPaintRecursive=function(t){if(this.limitInPlot){var r=this.middleGroup,n=cr(this.coordinateInstance),a=n.type,o=n.attrs;r.setClip({type:a,attrs:o})}this.paintGeometries(t),this.renderComponents(t);for(var s=this.views,l=0,f=s.length;l<f;l++){var h=s[l];h.renderPaintRecursive(t)}},e.prototype.createScale=function(t,r,n,a){var o=(0,u.get)(this.options.scales,[t]),s=(0,k.__assign)((0,k.__assign)({},o),n);return this.parent?this.parent.createScale(t,r,s,a):this.scalePool.createScale(t,r,s,a)},e.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var r=this.views,n=0,a=r.length;n<a;n++){var o=r[n];o.renderDataRecursive(t)}},e.prototype.calculateViewBBox=function(){var t,r,n,a;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,r=o.y,n=o.width,a=o.height}else t=0,r=0,n=this.canvas.get("width"),a=this.canvas.get("height");var s=this.region,l=s.start,f=s.end,h=new or(t+n*l.x,r+a*l.y,n*(f.x-l.x),a*(f.y-l.y));(!this.viewBBox||!this.viewBBox.isEqual(h))&&(this.viewBBox=new or(t+n*l.x,r+a*l.y,n*(f.x-l.x),a*(f.y-l.y)),this.coordinateBBox=this.viewBBox)},e.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},e.prototype.initComponentController=function(){for(var t=this.usedControllers,r=0,n=t.length;r<n;r++){var a=t[r],o=le(a);o&&this.controllers.push(new o(this))}},e.prototype.createViewEvent=function(t){var r=t.shape,n=t.name,a=r?r.get("origin"):null,o=new br(this,t,a);return o.type=n,o},e.prototype.doPlotEvent=function(t){var r=t.type,n=t.x,a=t.y,o={x:n,y:a},s=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(s.includes(r)){var l=this.isPointInPlot(o);if(l){var f="plot:"+r;t.type=f,this.emit(f,t),(r==="mouseleave"||r==="touchend")&&(this.isPreMouseInPlot=!1)}r==="mousemove"||r==="touchmove"?(this.isPreMouseInPlot&&!l?(r==="mousemove"&&(t.type=ht.MOUSE_LEAVE,this.emit(ht.MOUSE_LEAVE,t)),t.type=ht.LEAVE,this.emit(ht.LEAVE,t)):!this.isPreMouseInPlot&&l&&(r==="mousemove"&&(t.type=ht.MOUSE_ENTER,this.emit(ht.MOUSE_ENTER,t)),t.type=ht.ENTER,this.emit(ht.ENTER,t)),this.isPreMouseInPlot=l):(r==="mouseleave"||r==="touchend")&&this.isPreMouseInPlot&&(r==="mouseleave"&&(t.type=ht.MOUSE_LEAVE,this.emit(ht.MOUSE_LEAVE,t)),t.type=ht.LEAVE,this.emit(ht.LEAVE,t),this.isPreMouseInPlot=!1)}},e.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},e.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var r=this.getCoordinate(),n=(0,u.get)(this.options,"scales",{}),a=this.geometries,o=0,s=a.length;o<s;o++){var l=a[o];l.scales=this.getGeometryScales();var f={coordinate:r,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?l.update(f):l.init(f)}this.adjustScales()},e.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),r=this.getGroupedFields(),n=this.getOptions(),a=n.data,o=n.scales,s=o===void 0?{}:o,l=this.filteredData,f=0,h=t.length;f<h;f++){var c=t[f],v=s[c],x=this.getScaleKey(c);this.createScale(c,r.includes(c)?a:l,v,x),this.createdScaleKeys.set(x,!0)}},e.prototype.syncScale=function(){this.getRootView().scalePool.sync()},e.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),r={},n=0;n<t.length;n++){var a=t[n];r[a]=this.getScaleByField(a)}return r},e.prototype.getScaleFields=function(){for(var t=[],r={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getScaleFields();Wt(s,t,r)}return t},e.prototype.getGroupedFields=function(){for(var t=[],r={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getGroupFields();Wt(s,t,r)}return t},e.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},e.prototype.adjustCategoryScaleRange=function(){var t=this,r=(0,k.__spreadArrays)([this.getXScale()],this.getYScales()).filter(function(o){return!!o}),n=this.getCoordinate(),a=this.options.scales;(0,u.each)(r,function(o){var s=o.field,l=o.values,f=o.isCategory,h=o.isIdentity;if((f||h)&&l&&!(0,u.get)(a,[s,"range"])){var c=l.length,v=void 0;if(c===1)v=[.5,1];else{var x=1,P=0;Ee(n)?n.isTransposed?(x=(0,u.get)(t.theme,"widthRatio.multiplePie",1/1.3),P=1/c*x,v=[P/2,1-P/2]):v=[0,1-1/c]:(P=1/c/2,v=[P,1-P])}o.range=v}})},e.prototype.initComponents=function(t){for(var r=this.controllers,n=0;n<r.length;n++){var a=r[n];t?a.update():(a.clear(),a.render())}},e.prototype.doLayout=function(){this.layoutFunc(this)},e.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,r=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,r)},e.prototype.paintGeometries=function(t){for(var r=this.options.animate,n=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var l=o[s];l.coordinate=n,l.canvasRegion=a,r||l.animate(!1),l.paint(t)}},e.prototype.renderComponents=function(t){for(var r=0;r<this.getComponents().length;r++){var n=this.getComponents()[r];n.component.render()}},e.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},e.prototype.initOptions=function(){for(var t=this.options,r=t.geometries,n=r===void 0?[]:r,a=t.interactions,o=a===void 0?[]:a,s=t.views,l=s===void 0?[]:s,f=t.annotations,h=f===void 0?[]:f,c=0;c<n.length;c++){var v=n[c];this.createGeometry(v)}for(var x=0;x<o.length;x++){var P=o[x],D=P.type,X=P.cfg;this.interaction(D,X)}for(var K=0;K<l.length;K++){var Z=l[K];this.createView(Z)}for(var gt=this.getController("annotation"),mt=0;mt<h.length;mt++){var Nt=h[mt];gt.annotation(Nt)}},e.prototype.createGeometry=function(t){var r=t.type,n=t.cfg,a=n===void 0?{}:n;if(this[r]){var o=this[r](a);(0,u.each)(t,function(s,l){(0,u.isFunction)(o[l])&&o[l](s)})}},e.prototype.getScaleKey=function(t){return this.id+"-"+t},e}(Ke);function ia(i,e){Oa.prototype[i.toLowerCase()]=function(t){t===void 0&&(t={});var r=(0,k.__assign)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),n=new e(r);return this.geometries.push(n),n}}var ns=Oa,Iu=function(i){(0,k.__extends)(e,i);function e(t){var r=this,n=t.container,a=t.width,o=t.height,s=t.autoFit,l=s===void 0?!1:s,f=t.padding,h=t.appendPadding,c=t.renderer,v=c===void 0?"canvas":c,x=t.pixelRatio,P=t.localRefresh,D=P===void 0?!0:P,X=t.visible,K=X===void 0?!0:X,Z=t.defaultInteractions,gt=Z===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:Z,mt=t.options,Nt=t.limitInPlot,Zt=t.theme,ee=(0,u.isString)(n)?document.getElementById(n):n,ue=(0,Ct.Z)('<div style="position:relative;"></div>');ee.appendChild(ue);var ne=Me(ee,l,a,o),xe=ft(v),Pe=new xe.Canvas((0,k.__assign)({container:ue,pixelRatio:x,localRefresh:D},ne));return r=i.call(this,{parent:null,canvas:Pe,backgroundGroup:Pe.addGroup({zIndex:U.BG}),middleGroup:Pe.addGroup({zIndex:U.MID}),foregroundGroup:Pe.addGroup({zIndex:U.FORE}),padding:f,appendPadding:h,visible:K,options:mt,limitInPlot:Nt,theme:Zt})||this,r.onResize=(0,u.debounce)(function(){r.forceFit()},300),r.ele=ee,r.canvas=Pe,r.width=ne.width,r.height=ne.height,r.autoFit=l,r.localRefresh=D,r.renderer=v,r.wrapperElement=ue,r.updateCanvasStyle(),r.bindAutoFit(),r.initDefaultInteractions(gt),r}return e.prototype.initDefaultInteractions=function(t){var r=this;(0,u.each)(t,function(n){r.interaction(n)})},e.prototype.changeSize=function(t,r){return this.width===t&&this.height===r?this:(this.width=t,this.height=r,this.canvas.changeSize(t,r),this.render(!0),this)},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),Xe(this.wrapperElement),this.wrapperElement=null},e.prototype.changeVisible=function(t){return i.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},e.prototype.forceFit=function(){if(!this.destroyed){var t=Me(this.ele,!0,this.width,this.height),r=t.width,n=t.height;this.changeSize(r,n)}},e.prototype.updateCanvasStyle=function(){(0,Rt.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},e.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},e.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},e}(ns),ku=Iu,ao=function(){function i(e){this.visible=!0,this.components=[],this.view=e}return i.prototype.clear=function(){(0,u.each)(this.components,function(e){e.component.destroy()}),this.components=[]},i.prototype.destroy=function(){this.clear()},i.prototype.getComponents=function(){return this.components},i.prototype.changeVisible=function(e){this.visible!==e&&(this.components.forEach(function(t){e?t.component.show():t.component.hide()}),this.visible=e)},i}(),Ys=0,Bu=1/2,Du=1/2,Gs=.05,zs=function(){function i(e){var t=e.xField,r=e.yField,n=e.adjustNames,a=n===void 0?["x","y"]:n,o=e.dimValuesMap;this.adjustNames=a,this.xField=t,this.yField=r,this.dimValuesMap=o}return i.prototype.isAdjust=function(e){return this.adjustNames.indexOf(e)>=0},i.prototype.getAdjustRange=function(e,t,r){var n=this.yField,a=r.indexOf(t),o=r.length,s,l;return!n&&this.isAdjust("y")?(s=0,l=1):o>1?(s=r[a===0?0:a-1],l=r[a===o-1?o-1:a+1],a!==0?s+=(t-s)/2:s-=(l-t)/2,a!==o-1?l-=(l-t)/2:l+=(t-r[o-2])/2):(s=t===0?0:t-.5,l=t===0?1:t+.5),{pre:s,next:l}},i.prototype.adjustData=function(e,t){var r=this,n=this.getDimValues(t);u.each(e,function(a,o){u.each(n,function(s,l){r.adjustDim(l,s,a,o)})})},i.prototype.groupData=function(e,t){return u.each(e,function(r){r[t]===void 0&&(r[t]=Ys)}),u.groupBy(e,t)},i.prototype.adjustDim=function(e,t,r,n){},i.prototype.getDimValues=function(e){var t=this,r=t.xField,n=t.yField,a=u.assign({},this.dimValuesMap),o=[];if(r&&this.isAdjust("x")&&o.push(r),n&&this.isAdjust("y")&&o.push(n),o.forEach(function(l){a&&a[l]||(a[l]=u.valuesOfKey(e,l).sort(function(f,h){return f-h}))}),!n&&this.isAdjust("y")){var s="y";a[s]=[Ys,1]}return a},i}(),So=zs,is={},Ua=function(i){return is[i.toLowerCase()]},Mo=function(i,e){if(Ua(i))throw new Error("Adjust type '"+i+"' existed.");is[i.toLowerCase()]=e},Jt=d(8108),Xs=function(i){(0,Jt.__extends)(e,i);function e(t){var r=i.call(this,t)||this;r.cacheMap={},r.adjustDataArray=[],r.mergeData=[];var n=t.marginRatio,a=n===void 0?Bu:n,o=t.dodgeRatio,s=o===void 0?Du:o,l=t.dodgeBy,f=t.intervalPadding,h=t.dodgePadding,c=t.xDimensionLength,v=t.groupNum,x=t.defaultSize,P=t.maxColumnWidth,D=t.minColumnWidth,X=t.columnWidthRatio,K=t.customOffset;return r.marginRatio=a,r.dodgeRatio=s,r.dodgeBy=l,r.intervalPadding=f,r.dodgePadding=h,r.xDimensionLegenth=c,r.groupNum=v,r.defaultSize=x,r.maxColumnWidth=P,r.minColumnWidth=D,r.columnWidthRatio=X,r.customOffset=K,r}return e.prototype.process=function(t){var r=u.clone(t),n=u.flatten(r),a=this.dodgeBy,o=a?u.group(n,a):r;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=n,this.adjustData(o,n),this.adjustDataArray=[],this.mergeData=[],r},e.prototype.adjustDim=function(t,r,n,a){var o=this,s=this.customOffset,l=this.getDistribution(t),f=this.groupData(n,t);return u.each(f,function(h,c){var v;r.length===1?v={pre:r[0]-1,next:r[0]+1}:v=o.getAdjustRange(t,parseFloat(c),r),u.each(h,function(x){var P=x[t],D=l[P],X=D.indexOf(a);if(u.isNil(s))x[t]=o.getDodgeOffset(v,X,D.length);else{var K=v.pre,Z=v.next;x[t]=u.isFunction(s)?s(x,v):(K+Z)/2+s}})}),[]},e.prototype.getDodgeOffset=function(t,r,n){var a=this,o=a.dodgeRatio,s=a.marginRatio,l=a.intervalPadding,f=a.dodgePadding,h=t.pre,c=t.next,v=c-h,x;if(!u.isNil(l)&&u.isNil(f)&&l>=0){var P=this.getIntervalOnlyOffset(n,r);x=h+P}else if(!u.isNil(f)&&u.isNil(l)&&f>=0){var P=this.getDodgeOnlyOffset(n,r);x=h+P}else if(!u.isNil(l)&&!u.isNil(f)&&l>=0&&f>=0){var P=this.getIntervalAndDodgeOffset(n,r);x=h+P}else{var D=v*o/n,X=s*D,P=1/2*(v-n*D-(n-1)*X)+((r+1)*D+r*X)-1/2*D-1/2*v;x=(h+c)/2+P}return x},e.prototype.getIntervalOnlyOffset=function(t,r){var n=this,a=n.defaultSize,o=n.intervalPadding,s=n.xDimensionLegenth,l=n.groupNum,f=n.dodgeRatio,h=n.maxColumnWidth,c=n.minColumnWidth,v=n.columnWidthRatio,x=o/s,P=(1-(l-1)*x)/l*f/(t-1),D=((1-x*(l-1))/l-P*(t-1))/t;if(D=u.isNil(v)?D:1/l/t*v,!u.isNil(h)){var X=h/s;D=Math.min(D,X)}if(!u.isNil(c)){var K=c/s;D=Math.max(D,K)}D=a?a/s:D,P=((1-(l-1)*x)/l-t*D)/(t-1);var Z=((1/2+r)*D+r*P+1/2*x)*l-x/2;return Z},e.prototype.getDodgeOnlyOffset=function(t,r){var n=this,a=n.defaultSize,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,f=n.marginRatio,h=n.maxColumnWidth,c=n.minColumnWidth,v=n.columnWidthRatio,x=o/s,P=1*f/(l-1),D=((1-P*(l-1))/l-x*(t-1))/t;if(D=v?1/l/t*v:D,!u.isNil(h)){var X=h/s;D=Math.min(D,X)}if(!u.isNil(c)){var K=c/s;D=Math.max(D,K)}D=a?a/s:D,P=(1-(D*t+x*(t-1))*l)/(l-1);var Z=((1/2+r)*D+r*x+1/2*P)*l-P/2;return Z},e.prototype.getIntervalAndDodgeOffset=function(t,r){var n=this,a=n.intervalPadding,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,f=a/s,h=o/s,c=((1-f*(l-1))/l-h*(t-1))/t,v=((1/2+r)*c+r*h+1/2*f)*l-f/2;return v},e.prototype.getDistribution=function(t){var r=this.adjustDataArray,n=this.cacheMap,a=n[t];return a||(a={},u.each(r,function(o,s){var l=u.valuesOfKey(o,t);l.length||l.push(0),u.each(l,function(f){a[f]||(a[f]=[]),a[f].push(s)})}),n[t]=a),a},e}(So),Fa=Xs;function Fu(i,e){return(e-i)*Math.random()+i}var Vs=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.process=function(t){var r=u.clone(t),n=u.flatten(r);return this.adjustData(r,n),r},e.prototype.adjustDim=function(t,r,n){var a=this,o=this.groupData(n,t);return u.each(o,function(s,l){return a.adjustGroup(s,t,parseFloat(l),r)})},e.prototype.getAdjustOffset=function(t){var r=t.pre,n=t.next,a=(n-r)*Gs;return Fu(r+a,n-a)},e.prototype.adjustGroup=function(t,r,n,a){var o=this,s=this.getAdjustRange(r,n,a);return u.each(t,function(l){l[r]=o.getAdjustOffset(s)}),t},e}(So),Hs=Vs,oo=u.Cache,Ru=function(i){(0,Jt.__extends)(e,i);function e(t){var r=i.call(this,t)||this,n=t.adjustNames,a=n===void 0?["y"]:n,o=t.height,s=o===void 0?NaN:o,l=t.size,f=l===void 0?10:l,h=t.reverseOrder,c=h===void 0?!1:h;return r.adjustNames=a,r.height=s,r.size=f,r.reverseOrder=c,r}return e.prototype.process=function(t){var r=this,n=r.yField,a=r.reverseOrder,o=n?this.processStack(t):this.processOneDimStack(t);return a?this.reverse(o):o},e.prototype.reverse=function(t){return t.slice(0).reverse()},e.prototype.processStack=function(t){var r=this,n=r.xField,a=r.yField,o=r.reverseOrder,s=o?this.reverse(t):t,l=new oo,f=new oo;return s.map(function(h){return h.map(function(c){var v,x=u.get(c,n,0),P=u.get(c,[a]),D=x.toString();if(P=u.isArray(P)?P[1]:P,!u.isNil(P)){var X=P>=0?l:f;X.has(D)||X.set(D,0);var K=X.get(D),Z=P+K;return X.set(D,Z),(0,Jt.__assign)((0,Jt.__assign)({},c),(v={},v[a]=[K,Z],v))}return c})})},e.prototype.processOneDimStack=function(t){var r=this,n=this,a=n.xField,o=n.height,s=n.reverseOrder,l="y",f=s?this.reverse(t):t,h=new oo;return f.map(function(c){return c.map(function(v){var x,P=r.size,D=v[a],X=P*2/o;h.has(D)||h.set(D,X/2);var K=h.get(D);return h.set(D,K+X),(0,Jt.__assign)((0,Jt.__assign)({},v),(x={},x[l]=K,x))})})},e}(So),Nu=Ru,C1=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.process=function(t){var r=u.flatten(t),n=this,a=n.xField,o=n.yField,s=this.getXValuesMaxMap(r),l=Math.max.apply(Math,Object.keys(s).map(function(f){return s[f]}));return u.map(t,function(f){return u.map(f,function(h){var c,v,x=h[o],P=h[a];if(u.isArray(x)){var D=(l-s[P])/2;return(0,Jt.__assign)((0,Jt.__assign)({},h),(c={},c[o]=u.map(x,function(K){return D+K}),c))}var X=(l-x)/2;return(0,Jt.__assign)((0,Jt.__assign)({},h),(v={},v[o]=[X,x+X],v))})})},e.prototype.getXValuesMaxMap=function(t){var r=this,n=this,a=n.xField,o=n.yField,s=u.groupBy(t,function(l){return l[a]});return u.mapValues(s,function(l){return r.getDimMaxValue(l,o)})},e.prototype.getDimMaxValue=function(t,r){var n=u.map(t,function(o){return u.get(o,r,[])}),a=u.flatten(n);return Math.max.apply(Math,a)},e}(So),E1=C1;Mo("Dodge",Fa),Mo("Jitter",Hs),Mo("Stack",Nu),Mo("Symmetric",E1);var uc={};function Yu(i){return uc[i.toLowerCase()]}function pi(i,e){uc[i.toLowerCase()]=e}var Yo={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},A1={interval:function(i){return{enter:{animation:i.isRect?i.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:i.isPolar&&i.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},fc={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(i){var e;return i.isRect?e=i.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",i.isPolar&&i.isTransposed&&(e="wave-in")),{animation:e}},schema:function(i){var e;return i.isRect?e=i.isTransposed?"grow-in-x":"grow-in-y":e="grow-in-xy",{animation:e}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function T1(i,e){return{delay:(0,u.isFunction)(i.delay)?i.delay(e):i.delay,easing:(0,u.isFunction)(i.easing)?i.easing(e):i.easing,duration:(0,u.isFunction)(i.duration)?i.duration(e):i.duration,callback:i.callback}}function hc(i,e,t){var r=A1[i];return r&&((0,u.isFunction)(r)&&(r=r(e)),r=(0,u.deepMix)({},Yo,r),t)?r[t]:r}function Go(i,e,t){var r=(0,u.get)(i.get("origin"),"data",at),n=e.animation,a=T1(e,r);if(n){var o=Yu(n);o&&o(i,a,t)}else i.animate(t.toAttrs,a)}function P1(i,e,t,r,n){if(fc[t]){var a=fc[t](r),o=Yu((0,u.get)(a,"animation",""));if(o){var s=(0,k.__assign)((0,k.__assign)((0,k.__assign)({},Yo.appear),a),e);i.stopAnimate(),o(i,s,{coordinate:r,minYPoint:n,toAttrs:null})}}}var _1=d(31207),O1=function(i){(0,k.__extends)(e,i);function e(t){var r=i.call(this,t)||this;r.states=[];var n=t.shapeFactory,a=t.container,o=t.offscreenGroup,s=t.visible,l=s===void 0?!0:s;return r.shapeFactory=n,r.container=a,r.offscreenGroup=o,r.visible=l,r}return e.prototype.draw=function(t,r){r===void 0&&(r=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,r),this.visible===!1&&this.changeVisible(!1)},e.prototype.update=function(t){var r=this,n=r.shapeFactory,a=r.shape;if(!!a){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(a,t);var o=this.getOffscreenGroup(),s=n.drawShape(this.shapeType,t,o);s.cfg.data=this.data,s.cfg.origin=t,this.syncShapeStyle(a,s,"",this.getAnimateCfg("update"))}},e.prototype.destroy=function(){var t=this,r=t.shapeFactory,n=t.shape;if(n){var a=this.getAnimateCfg("leave");a?Go(n,a,{coordinate:r.coordinate,toAttrs:(0,k.__assign)({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,i.prototype.destroy.call(this)},e.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(r){r.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(r){r.hide()}))},e.prototype.setState=function(t,r){var n=this,a=this,o=a.states,s=a.shapeFactory,l=a.model,f=a.shape,h=a.shapeType,c=o.indexOf(t);if(r){if(c>-1)return;o.push(t),(t==="active"||t==="selected")&&f.toFront()}else{if(c===-1)return;o.splice(c,1),(t==="active"||t==="selected")&&f.toBack()}var v=s.drawShape(h,l,this.getOffscreenGroup());o.length?o.forEach(function(P){n.syncShapeStyle(f,v,P,null)}):this.syncShapeStyle(f,v,"reset",null),v.remove(!0);var x={state:t,stateStatus:r,element:this,target:this.container};this.container.emit("statechange",x),(0,_1.propagationDelegate)(this.shape,"statechange",x)},e.prototype.clearStates=function(){var t=this,r=this.states;(0,u.each)(r,function(n){t.setState(n,!1)}),this.states=[]},e.prototype.hasState=function(t){return this.states.includes(t)},e.prototype.getStates=function(){return this.states},e.prototype.getData=function(){return this.data},e.prototype.getModel=function(){return this.model},e.prototype.getBBox=function(){var t=this,r=t.shape,n=t.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return r&&(a=r.getCanvasBBox()),n&&n.forEach(function(o){var s=o.getCanvasBBox();a.x=Math.min(s.x,a.x),a.y=Math.min(s.y,a.y),a.minX=Math.min(s.minX,a.minX),a.minY=Math.min(s.minY,a.minY),a.maxX=Math.max(s.maxX,a.maxX),a.maxY=Math.max(s.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},e.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,r=t.shapeType,n=t.geometry,a=t.shapeFactory,o=n.stateOption,s=a.defaultShapeType,l=a.theme[r]||a.theme[s];this.statesStyle=(0,u.deepMix)({},l,o)}return this.statesStyle},e.prototype.getStateStyle=function(t,r){var n=this.getStatesStyle(),a=(0,u.get)(n,[t,"style"],{}),o=a[r]||a;return(0,u.isFunction)(o)?o(this):o},e.prototype.getAnimateCfg=function(t){var r=this.animate;return r?r[t]:null},e.prototype.drawShape=function(t,r){r===void 0&&(r=!1);var n=this,a=n.shapeFactory,o=n.container,s=n.shapeType;if(this.shape=a.drawShape(s,t,o),this.shape){this.setShapeInfo(this.shape,t);var l=this.shape.cfg.name;l?(0,u.isString)(l)&&(this.shape.cfg.name=["element",l]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var f=r?"enter":"appear",h=this.getAnimateCfg(f);h&&Go(this.shape,h,{coordinate:a.coordinate,toAttrs:(0,k.__assign)({},this.shape.attr())})}},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.setShapeInfo=function(t,r){var n=this;if(t.cfg.origin=r,t.cfg.element=this,t.isGroup()){var a=t.get("children");a.forEach(function(o){n.setShapeInfo(o,r)})}},e.prototype.syncShapeStyle=function(t,r,n,a,o){if(n===void 0&&(n=""),o===void 0&&(o=0),t.isGroup())for(var s=t.get("children"),l=r.get("children"),f=0;f<s.length;f++)this.syncShapeStyle(s[f],l[f],n,a,o+f);else{if(n&&n!=="reset"){var h=t.get("name");(0,u.isArray)(h)&&(h=h[1]);var c=this.getStateStyle(n,h||o);r.attr(c)}var v=on(t,r);this.animate?a?Go(t,a,{coordinate:this.shapeFactory.coordinate,toAttrs:v,shapeModel:this.model}):n?(t.stopAnimate(),t.animate(v,{duration:300})):t.attr(v):t.attr(v)}},e.prototype.getShapeType=function(t){var r=(0,u.get)(t,"shape");return(0,u.isArray)(r)?r[0]:r},e}(Ke),cc=O1,vc={},dc={};function pc(i){return vc[i.toLowerCase()]}function as(i,e){vc[i.toLowerCase()]=e}function gc(i){return dc[i.toLowerCase()]}function Co(i,e){dc[i.toLowerCase()]=e}var Ws=d(57350),L1={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(i,e){var t=this.getShape(i);return t.getPoints?t.getPoints(e):this.getDefaultPoints(e)},getShape:function(i){var e=this[i]||this[this.defaultShapeType];return e.coordinate=this.coordinate,e},getDefaultPoints:function(){return[]},getMarker:function(i,e){var t=this.getShape(i);if(!t.getMarker){var r=this.defaultShapeType;t=this.getShape(r)}var n=this.theme,a=(0,u.get)(n,[i,"default"],{}),o=t.getMarker(e);return(0,u.deepMix)({},a,o)},drawShape:function(i,e,t){var r=this.getShape(i);return r.draw(e,t)}},I1={coordinate:null,parsePath:function(i){var e=this.coordinate,t=(0,Ws.parsePathString)(i);return e.isPolar?t=ir(e,t):t=ke(e,t),t},parsePoint:function(i){var e=this.coordinate;return e.convert(i)},parsePoints:function(i){var e=this.coordinate;return i.map(function(t){return e.convert(t)})},draw:function(i,e){}},Gu={};function so(i,e){var t=(0,u.upperFirst)(i),r=(0,k.__assign)((0,k.__assign)((0,k.__assign)({},L1),e),{geometryType:i});return Gu[t]=r,r}function Cn(i,e,t){var r=(0,u.upperFirst)(i),n=Gu[r],a=(0,k.__assign)((0,k.__assign)({},I1),t);return n[e]=a,a}function zu(i){var e=(0,u.upperFirst)(i);return Gu[e]}function k1(i,e,t){if(t===void 0&&(t={}),!e)return[i];var r=(0,u.groupToMap)(i,e),n=[];if(e.length===1&&t[e[0]])for(var a=t[e[0]],o=0,s=a;o<s.length;o++){var l=s[o],f=r["_"+l];f&&n.push(f)}else for(var h in r)if(r.hasOwnProperty(h)){var c=r[h];n.push(c)}return n}function yc(i,e){return(0,u.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,u.isEqual)(i[t],e[t])})}function os(i){return(0,u.isArray)(i)?i:i.split("*")}function B1(i,e){var t=[];return(0,u.each)(e,function(r,n){var a=n.split(" ")[0];a===i&&t.push(r)}),t}var D1=function(i){(0,k.__extends)(e,i);function e(t){var r=i.call(this,t)||this;r.type="base",r.attributes={},r.elements=[],r.elementsMap={},r.animateOption=!0,r.attributeOption={},r.lastElementsMap={},r.generatePoints=!1,r.beforeMappingData=null,r.adjusts={},r.idFields=[],r.hasSorted=!1,r.isCoordinateChanged=!1;var n=t.container,a=t.labelsContainer,o=t.coordinate,s=t.data,l=t.sortable,f=l===void 0?!1:l,h=t.visible,c=h===void 0?!0:h,v=t.theme,x=t.scales,P=x===void 0?{}:x,D=t.scaleDefs,X=D===void 0?{}:D;return r.container=n,r.labelsContainer=a,r.coordinate=o,r.data=s,r.sortable=f,r.visible=c,r.userTheme=v,r.scales=P,r.scaleDefs=X,r}return e.prototype.position=function(t){var r=t;(0,u.isPlainObject)(t)||(r={fields:os(t)});var n=(0,u.get)(r,"fields");return n.length===1&&(n.unshift("1"),(0,u.set)(r,"fields",n)),(0,u.set)(this.attributeOption,"position",r),this},e.prototype.color=function(t,r){return this.createAttrOption("color",t,r),this},e.prototype.shape=function(t,r){return this.createAttrOption("shape",t,r),this},e.prototype.size=function(t,r){return this.createAttrOption("size",t,r),this},e.prototype.adjust=function(t){var r=t;return((0,u.isString)(t)||(0,u.isPlainObject)(t))&&(r=[t]),(0,u.each)(r,function(n,a){(0,u.isObject)(n)||(r[a]={type:n})}),this.adjustOption=r,this},e.prototype.style=function(t,r){if((0,u.isString)(t)){var n=os(t);this.styleOption={fields:n,callback:r}}else{var a=t,n=a.fields,o=a.callback,s=a.cfg;n||o||s?this.styleOption=t:this.styleOption={cfg:t}}return this},e.prototype.tooltip=function(t,r){if((0,u.isString)(t)){var n=os(t);this.tooltipOption={fields:n,callback:r}}else this.tooltipOption=t;return this},e.prototype.animate=function(t){return this.animateOption=t,this},e.prototype.label=function(t,r,n){if((0,u.isString)(t)){var a={},o=os(t);a.fields=o,(0,u.isFunction)(r)?a.callback=r:(0,u.isPlainObject)(r)&&(a.cfg=r),n&&(a.cfg=n),this.labelOption=a}else this.labelOption=t;return this},e.prototype.state=function(t){return this.stateOption=t,this},e.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},e.prototype.update=function(t){t===void 0&&(t={});var r=t.data,n=t.isDataChanged,a=t.isCoordinateChanged,o=this,s=o.attributeOption,l=o.lastAttributeOption;(0,u.isEqual)(s,l)?r&&(n||!(0,u.isEqual)(r,this.data))?(this.setCfg(t),this.processData(r)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=a},e.prototype.paint=function(t){var r=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=(0,u.deepMix)({},hc(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={};var n=this.getOffscreenGroup();n.clear();for(var a=this.beforeMappingData,o=this.beforeMapping(a),s=[],l=0,f=o.length;l<f;l++){var h=o[l],c=this.mapping(h);s.push(c),this.createElements(c,l,t)}if(this.canDoGroupAnimation(t)){var v=this.container,x=this.type,P=this.coordinate,D=(0,u.get)(this.animateOption,"appear"),X=this.getYScale(),K=P.convert({x:0,y:X.scale(this.getYMinValue())});P1(v,D,x,P,K)}this.labelOption&&this.renderLabels((0,u.flatten)(s),t),this.dataArray=s,(0,u.each)(this.lastElementsMap,function(Z){Z.animate=r.animateOption,Z.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=(0,k.__assign)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this,r=t.container,n=t.geometryLabel,a=t.offscreenGroup;r&&r.clear(),n&&n.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},e.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,i.prototype.destroy.call(this)},e.prototype.getGroupScales=function(){return this.groupScales},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},e.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},e.prototype.getGroupAttributes=function(){var t=[];return(0,u.each)(this.attributes,function(r){bt.includes(r.type)&&t.push(r)}),t},e.prototype.getDefaultValue=function(t){var r,n=this.getAttribute(t);return n&&(0,u.isEmpty)(n.scales)&&(r=n.values[0]),r},e.prototype.getAttributeValues=function(t,r){for(var n=[],a=t.scales,o=0,s=a.length;o<s;o++){var l=a[o],f=l.field;l.isIdentity?n.push(l.values):n.push(r[f])}return t.mapping.apply(t,n)},e.prototype.getAdjust=function(t){return this.adjusts[t]},e.prototype.getShapeMarker=function(t,r){var n=this.getShapeFactory();return n.getMarker(t,r)},e.prototype.getElementsBy=function(t){return this.elements.filter(function(r){return t(r)})},e.prototype.getElementId=function(t){t=(0,u.isArray)(t)?t[0]:t;var r=t[at];if(this.idFields.length){for(var n=r[this.idFields[0]],a=1;a<this.idFields.length;a++)n+="-"+r[this.idFields[a]];return n}var o=this.type,s=this.getXScale(),l=this.getYScale(),f=s.field||"x",h=l.field||"y",c=r[h],v;s.type==="identity"?v=s.values[0]:v=r[f];var x;o==="interval"||o==="schema"?x=v:o==="line"||o==="area"||o==="path"?x=o:x=v+"-"+c;for(var P=this.groupScales,a=0,D=P.length;a<D;a++){var X=P[a],K=X.field;x=x+"-"+r[K]}var Z=this.getAdjust("dodge");if(Z){var gt=Z.dodgeBy;gt&&(x=x+"-"+r[gt])}return this.getAdjust("jitter")&&(x=x+"-"+t.x+"-"+t.y),x},e.prototype.getScaleFields=function(){var t=[],r={},n=this,a=n.attributeOption,o=n.labelOption,s=n.tooltipOption;for(var l in a)if(a.hasOwnProperty(l)){var f=a[l];f.fields?Wt(f.fields,t,r):f.values&&Wt(f.values,t,r)}return o&&o.fields&&Wt(o.fields,t,r),(0,u.isObject)(s)&&s.fields&&Wt(s.fields,t,r),t},e.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var r=this.elements,n=0,a=r.length;n<a;n++){var o=r[n];o.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},e.prototype.getGroupFields=function(){for(var t=[],r={},n=0,a=bt.length;n<a;n++){var o=bt[n],s=this.attributeOption[o];s&&s.fields&&Wt(s.fields,t,r)}return t},e.prototype.getXYFields=function(){var t=this.attributeOption.position.fields,r=t[0],n=t[1];return[r,n]},e.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.sort=function(t){if(!this.hasSorted)for(var r=this.getXScale(),n=r.field,a=0;a<t.length;a++){var o=t[a];o.sort(function(s,l){return r.translate(s[at][n])-r.translate(l[at][n])})}this.hasSorted=!0},e.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},e.prototype.getShapeFactory=function(){var t=this.shapeType;if(!!zu(t))return this.shapeFactory||(this.shapeFactory=(0,u.clone)(zu(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},e.prototype.createShapePointsCfg=function(t){var r=this.getXScale(),n=this.getYScale(),a=this.normalizeValues(t[r.field],r),o;return n?o=this.normalizeValues(t[n.field],n):o=t.y?t.y:.1,{x:a,y:o,y0:n?n.scale(this.getYMinValue()):void 0}},e.prototype.createElement=function(t,r){r===void 0&&(r=!1);var n=this.container,a=this.getDrawCfg(t),o=this.getShapeFactory(),s=new cc({shapeFactory:o,container:n,offscreenGroup:this.getOffscreenGroup()});return s.animate=this.animateOption,s.geometry=this,s.draw(a,r),s},e.prototype.getDrawCfg=function(t){var r=t[at],n={mappingData:t,data:r,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar},a=t.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),n.shape=a;var o=this.theme.geometries[this.shapeType];n.defaultStyle=(0,u.get)(o,[a,"default"],{}).style;var s=this.styleOption;return s&&(n.style=this.getStyleCfg(s,r)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},e.prototype.createElements=function(t,r,n){n===void 0&&(n=!1);for(var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,f=0,h=t.length;f<h;f++){var c=t[f],v=this.getElementId(c);s[v]&&(v=v+"-"+r+"-"+f);var x=o[v];if(!x)x=this.createElement(c,n);else{var P=this.getDrawCfg(c),D=x.getModel();(this.isCoordinateChanged||yc(P,D))&&(x.animate=this.animateOption,x.update(P)),delete o[v]}l.push(x),s[v]=x}return l},e.prototype.getLabelType=function(){var t=this,r=t.labelOption,n=t.coordinate,a=t.type,o=n.type,s=(0,u.get)(r,["cfg","type"]);return s||(o==="polar"?s="polar":o==="theta"?s="pie":a==="interval"||a==="polygon"?s="interval":s="base"),s},e.prototype.getYMinValue=function(){var t=this.getYScale(),r=t.min,n=t.max,a;return r>=0?a=r:n<=0?a=n:a=0,a},e.prototype.createAttrOption=function(t,r,n){if((0,u.isNil)(r)||(0,u.isObject)(r))(0,u.isObject)(r)&&(0,u.isEqual)(Object.keys(r),["values"])?(0,u.set)(this.attributeOption,t,{fields:r.values}):(0,u.set)(this.attributeOption,t,r);else{var a={};(0,u.isNumber)(r)?a.values=[r]:a.fields=os(r),n&&((0,u.isFunction)(n)?a.callback=n:a.values=n),(0,u.set)(this.attributeOption,t,a)}},e.prototype.initAttributes=function(){var t=this,r=this,n=r.attributes,a=r.attributeOption,o=r.theme,s=r.shapeType;this.groupScales=[];var l={},f=function(v){if(a.hasOwnProperty(v)){var x=a[v];if(!x)return{value:void 0};var P=(0,k.__assign)({},x),D=P.callback,X=P.values,K=P.fields,Z=K===void 0?[]:K,gt=Z.map(function(Nt){var Zt=t.scales[Nt];return Zt.isCategory&&!l[Nt]&&bt.includes(v)&&(t.groupScales.push(Zt),l[Nt]=!0),Zt});P.scales=gt,v!=="position"&&gt.length===1&&gt[0].type==="identity"?P.values=gt[0].values:!D&&!X&&(v==="size"?P.values=o.sizes:v==="shape"?P.values=o.shapes[s]||[]:v==="color"&&(gt.length?P.values=gt[0].values.length<=10?o.colors10:o.colors20:P.values=o.colors10));var mt=(0,Xr.getAttribute)(v);n[v]=new mt(P)}};for(var h in a){var c=f(h);if(typeof c=="object")return c.value}},e.prototype.processData=function(t){this.hasSorted=!1;for(var r=this.getAttribute("position").scales,n=r.filter(function(Nt){return Nt.isCategory}),a=this.groupData(t),o=[],s=0,l=a.length;s<l;s++){for(var f=a[s],h=[],c=0,v=f.length;c<v;c++){var x=f[c],P={};for(var D in x)P[D]=x[D];P[at]=x;for(var X=0,K=n;X<K.length;X++){var Z=K[X],gt=Z.field;P[gt]=Z.translate(P[gt])}h.push(P)}o.push(h)}var mt=this.adjustData(o);return this.beforeMappingData=mt,mt},e.prototype.adjustData=function(t){var r=this.adjustOption,n=t;if(r)for(var a=this.getXScale(),o=this.getYScale(),s=a.field,l=o?o.field:null,f=0,h=r.length;f<h;f++){var c=r[f],v=(0,k.__assign)({xField:s,yField:l},c),x=c.type;if(x==="dodge"){var P=[];if(a.isCategory||a.type==="identity")P.push("x");else if(!o)P.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");v.adjustNames=P,v.dodgeRatio=this.theme.columnWidthRatio}else if(x==="stack"){var D=this.coordinate;if(!o){v.height=D.getHeight();var X=this.getDefaultValue("size")||3;v.size=X}!D.isTransposed&&(0,u.isNil)(v.reverseOrder)&&(v.reverseOrder=!0)}var K=Ua(x),Z=new K(v);n=Z.process(n),this.adjusts[x]=Z}return n},e.prototype.groupData=function(t){for(var r=this.getGroupScales(),n=this.scaleDefs,a={},o=[],s=0;s<r.length;s++){var l=r[s],f=l.field;o.push(f),(0,u.get)(n,[f,"values"])&&(a[f]=n[f].values)}return k1(t,o,a)},e.prototype.updateStackRange=function(t,r){for(var n=(0,u.flatten)(r),a=t.field,o=t.min,s=t.max,l=0;l<n.length;l++){var f=n[l],h=Math.min.apply(null,f[a]),c=Math.max.apply(null,f[a]);h<o&&(o=h),c>s&&(s=c)}var v=this.scaleDefs,x={};o<t.min&&!(0,u.get)(v,[a,"min"])&&(x.min=o),s>t.max&&!(0,u.get)(v,[a,"max"])&&(x.max=s),t.change(x)},e.prototype.beforeMapping=function(t){var r=t;if(this.sortable&&this.sort(r),this.generatePoints)for(var n=0,a=r.length;n<a;n++){var o=r[n];this.generateShapePoints(o);var s=r[n+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return r},e.prototype.generateShapePoints=function(t){for(var r=this.getShapeFactory(),n=this.getAttribute("shape"),a=0;a<t.length;a++){var o=t[a],s=this.createShapePointsCfg(o),l=n?this.getAttributeValues(n,o):null,f=r.getShapePoints(l,s);o.points=f}},e.prototype.normalizeValues=function(t,r){var n=[];if((0,u.isArray)(t))for(var a=0;a<t.length;a++){var o=t[a];n.push(r.scale(o))}else n=r.scale(t);return n},e.prototype.mapping=function(t){for(var r=this.attributes,n=[],a=0;a<t.length;a++){var o=t[a],s={_origin:o[at],points:o.points,nextPoints:o.nextPoints};for(var l in r)if(r.hasOwnProperty(l)){var f=r[l],h=f.names,c=this.getAttributeValues(f,o);if(h.length>1)for(var v=0;v<c.length;v+=1){var x=c[v],P=h[v];s[P]=(0,u.isArray)(x)&&x.length===1?x[0]:x}else s[h[0]]=c.length===1?c[0]:c}this.convertPoint(s),n.push(s)}return n},e.prototype.convertPoint=function(t){var r=t.x,n=t.y,a,o,s,l=this.coordinate;if((0,u.isArray)(r)&&(0,u.isArray)(n)){a=[],o=[];for(var f=0,h=0,c=r.length,v=n.length;f<c&&h<v;f+=1,h+=1)s=l.convert({x:r[f],y:n[h]}),a.push(s.x),o.push(s.y)}else if((0,u.isArray)(n)){o=[];for(var x=0;x<n.length;x++){var P=n[x];s=l.convert({x:r,y:P}),a&&a!==s.x?((0,u.isArray)(a)||(a=[a]),a.push(s.x)):a=s.x,o.push(s.y)}}else if((0,u.isArray)(r)){a=[];for(var x=0;x<r.length;x++){var D=r[x];s=l.convert({x:D,y:n}),o&&o!==s.y?((0,u.isArray)(o)||(o=[o]),o.push(s.y)):o=s.y,a.push(s.x)}}else{var X=l.convert({x:r,y:n});a=X.x,o=X.y}t.x=a,t.y=o},e.prototype.getStyleCfg=function(t,r){var n=t.fields,a=n===void 0?[]:n,o=t.callback,s=t.cfg;if(s)return s;var l=a.map(function(f){return r[f]});return o.apply(void 0,l)},e.prototype.setCfg=function(t){var r=this,n=t.coordinate,a=t.data,o=t.theme,s=t.scaleDefs;n&&(this.coordinate=n),a&&(this.data=a),s&&(this.scaleDefs=s,this.idFields=[],(0,u.each)(s,function(l,f){l&&l.key&&r.idFields.push(f)})),o&&(this.theme=this.userTheme?(0,u.deepMix)({},o,this.userTheme):o)},e.prototype.renderLabels=function(t,r){r===void 0&&(r=!1);var n=this.geometryLabel;if(!n){var a=this.getLabelType(),o=pc(a);n=new o(this),this.geometryLabel=n}n.render(t,r);var s=n.labelsRenderer.shapesMap;(0,u.each)(this.elementsMap,function(l,f){var h=B1(f,s);if(h.length){l.labelShape=h;for(var c=0;c<h.length;c++)for(var v=h[c],x=v.getChildren(),P=0;P<x.length;P++){var D=x[P];D.cfg.name=["element","label"],D.cfg.element=l}}})},e.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&((0,u.get)(this.animateOption,"appear")===void 0||(0,u.get)(this.animateOption,"appear")&&(0,u.get)(this.animateOption,["appear","animation"])===void 0)},e}(Ke),Za=D1,js=cn.transform;function Xu(i,e,t){var r=js(i.getMatrix(),[["t",e,t]]);i.setMatrix(r)}function mc(i,e){var t=i.attr(),r=t.x,n=t.y,a=js(i.getMatrix(),[["t",-r,-n],["r",e],["t",r,n]]);i.setMatrix(a)}function o9(){return[1,0,0,0,1,0,0,0,1]}function F1(i,e){var t=i.getBBox(),r=(t.minX+t.maxX)/2,n=(t.minY+t.maxY)/2;i.applyToMatrix([r,n,1]);var a=js(i.getMatrix(),[["t",-r,-n],["s",e,e],["t",r,n]]);i.setMatrix(a)}var R1=function(){function i(e){this.shapesMap={},this.lastShapesMap={};var t=e.layout,r=e.container;this.layout=t,this.container=r}return i.prototype.render=function(e,t,r){var n=this;r===void 0&&(r=!1),this.shapesMap={};var a=this.container,o=this.createOffscreenGroup();if(e.length){for(var s=0,l=e;s<l.length;s++){var f=l[s];f&&this.renderLabel(f,o)}this.doLayout(e,t),this.renderLabelLine(e),this.adjustLabel(e)}var h=this.lastShapesMap,c=this.shapesMap;(0,u.each)(c,function(v,x){if(v.destroyed)delete c[x];else{if(h[x]){var P=v.get("data"),D=v.get("origin"),X=v.get("coordinate"),K=h[x],Z=v.get("animateCfg");K.set("data",P),K.set("origin",D),K.set("animateCfg",Z),K.set("coordinate",X);var gt=(0,u.get)(Z,"update"),mt=K.getChildren();v.getChildren().map(function(Zt,ee){var ue=mt[ee];ue.set("data",P),ue.set("origin",D),ue.set("animateCfg",Z),ue.set("coordinate",X);var ne=on(ue,Zt);gt?Go(ue,gt,{toAttrs:ne,coordinate:X}):ue.attr(ne)}),n.shapesMap[x]=K}else{a.add(v);var Nt=(0,u.get)(v.get("animateCfg"),r?"enter":"appear");Nt&&Go(v,Nt,{toAttrs:(0,k.__assign)({},v.attr()),coordinate:v.get("coordinate")})}delete h[x]}}),(0,u.each)(h,function(v){var x=(0,u.get)(v.get("animateCfg"),"leave");x?Go(v,x,{toAttrs:null,coordinate:v.get("coordinate")}):v.remove(!0)}),this.lastShapesMap=c,o.destroy()},i.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},i.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},i.prototype.renderLabel=function(e,t){var r=e.id,n=e.data,a=e.mappingData,o=e.coordinate,s=e.animate,l=e.content,f={id:r,data:n,origin:a,coordinate:o},h=t.addGroup((0,k.__assign)({name:"label",animateCfg:this.animate===!1||s===null||s===!1?!1:(0,u.deepMix)({},this.animate,s)},f)),c;if(l.isGroup&&l.isGroup()||l.isShape&&l.isShape()){var v=l.getCanvasBBox(),x=v.width,P=v.height,D=(0,u.get)(e,"textAlign","left"),X=e.x,K=e.y-P/2;D==="center"?X=X-x/2:(D==="right"||D==="end")&&(X=X-x),Xu(l,X,K),c=l,h.add(l)}else c=h.addShape("text",(0,k.__assign)({attrs:(0,k.__assign)({x:e.x,y:e.y,textAlign:e.textAlign,textBaseline:(0,u.get)(e,"textBaseline","middle"),text:e.content},e.style)},f));e.rotate&&mc(c,e.rotate),this.shapesMap[r]=h},i.prototype.doLayout=function(e,t){var r=this;if(this.layout){var n=(0,u.isArray)(this.layout)?this.layout:[this.layout];(0,u.each)(n,function(a){var o=gc((0,u.get)(a,"type",""));if(o){var s=[],l=[];(0,u.each)(r.shapesMap,function(f,h){s.push(f),l.push(t[h])}),o(e,s,l,r.region,a.cfg)}})}},i.prototype.renderLabelLine=function(e){var t=this;(0,u.each)(e,function(r){var n=(0,u.get)(r,"coordinate");if(!(!r||!n)){var a=n.getCenter(),o=n.getRadius();if(!!r.labelLine){var s=(0,u.get)(r,"labelLine",{}),l=r.id,f=s.path;if(!f){var h=Pr(a.x,a.y,o,r.angle);f=[["M",h.x,h.y],["L",r.x,r.y]]}var c=t.shapesMap[l];c.destroyed||c.addShape("path",{capture:!1,attrs:(0,k.__assign)({path:f,stroke:r.color?r.color:(0,u.get)(r,["style","fill"],"#000"),fill:null},s.style),id:l,origin:r.mappingData,data:r.data,coordinate:r.coordinate})}}})},i.prototype.createOffscreenGroup=function(){var e=this.container,t=e.getGroupBase(),r=new t({});return r},i.prototype.adjustLabel=function(e){var t=this;(0,u.each)(e,function(r){if(r){var n=r.id,a=t.shapesMap[n];if(!a.destroyed){var o=a.find(function(s){return s.get("type")==="text"});o&&(r.offsetX&&o.attr("x",o.attr("x")+r.offsetX),r.offsetY&&o.attr("y",o.attr("y")+r.offsetY))}}})},i}(),N1=R1;function Y1(i){var e=0;return(0,u.each)(i,function(t){e+=t}),e/i.length}var G1=function(){function i(e){this.geometry=e}return i.prototype.getLabelItems=function(e){var t=this,r=[],n=this.getLabelCfgs(e);return(0,u.each)(e,function(a,o){var s=n[o];if(!s||(0,u.isNil)(a.x)||(0,u.isNil)(a.y)){r.push(null);return}var l=(0,u.isArray)(s.content)?s.content:[s.content];s.content=l;var f=l.length;(0,u.each)(l,function(h,c){if((0,u.isNil)(h)||h===""){r.push(null);return}var v=(0,k.__assign)((0,k.__assign)({},s),t.getLabelPoint(s,a,c));v.textAlign||(v.textAlign=t.getLabelAlign(v,c,f)),v.offset<=0&&(v.labelLine=null),r.push(v)})}),r},i.prototype.render=function(e,t){t===void 0&&(t=!1);var r=this.getLabelItems(e),n=this.getLabelsRenderer(),a=this.getGeometryShapes();n.render(r,a,t)},i.prototype.clear=function(){var e=this.labelsRenderer;e&&e.clear()},i.prototype.destroy=function(){var e=this.labelsRenderer;e&&e.destroy(),this.labelsRenderer=null},i.prototype.getCoordinate=function(){return this.geometry.coordinate},i.prototype.getDefaultLabelCfg=function(){return(0,u.get)(this.geometry.theme,"labels",{})},i.prototype.setLabelPosition=function(e,t,r,n){},i.prototype.getDefaultOffset=function(e){var t=this.getCoordinate(),r=this.getOffsetVector(e);return t.isTransposed?r[0]:r[1]},i.prototype.getLabelOffset=function(e,t,r){var n=this.getDefaultOffset(e.offset),a=this.getCoordinate(),o=a.isTransposed,s=o?"x":"y",l=o?1:-1,f={x:0,y:0};return t>0||r===1?f[s]=n*l:f[s]=n*l*-1,f},i.prototype.getLabelPoint=function(e,t,r){var n=this.getCoordinate(),a=e.content.length;function o(D,X){var K=D;return(0,u.isArray)(K)&&(e.content.length===1?K.length<=2?K=K[D.length-1]:K=Y1(K):K=K[X]),K}var s={content:e.content[r],x:0,y:0,start:{x:0,y:0},color:"#fff"};if(t&&this.geometry.type==="polygon"){var l=Er(t.x,t.y);s.x=l[0],s.y=l[1]}else s.x=o(t.x,r),s.y=o(t.y,r);var f=(0,u.isArray)(t.shape)?t.shape[0]:t.shape;if(f==="funnel"||f==="pyramid"){var h=(0,u.get)(t,"nextPoints"),c=(0,u.get)(t,"points");if(h){var v=n.convert(c[1]),x=n.convert(h[1]);s.x=(v.x+x.x)/2,s.y=(v.y+x.y)/2}else if(f==="pyramid"){var v=n.convert(c[1]),x=n.convert(c[2]);s.x=(v.x+x.x)/2,s.y=(v.y+x.y)/2}}e.position&&this.setLabelPosition(s,t,r,e.position);var P=this.getLabelOffset(e,r,a);return s.start={x:s.x,y:s.y},s.x+=P.x,s.y+=P.y,s.color=t.color,s},i.prototype.getLabelAlign=function(e,t,r){var n="center",a=this.getCoordinate();if(a.isTransposed){var o=this.getDefaultOffset(e.offset);o<0?n="right":o===0?n="center":n="left",r>1&&t===0&&(n==="right"?n="left":n==="left"&&(n="right"))}return n},i.prototype.getLabelId=function(e){var t=this.geometry,r=t.type,n=t.getXScale(),a=t.getYScale(),o=e[at],s=t.getElementId(e);return r==="line"||r==="area"?s+=" "+o[n.field]:r==="path"&&(s+=" "+o[n.field]+"-"+o[a.field]),s},i.prototype.getLabelsRenderer=function(){var e=this.geometry,t=e.labelsContainer,r=e.labelOption,n=e.canvasRegion,a=e.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new N1({container:t,layout:(0,u.get)(r,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=n,s.animate=a?hc("label",o):!1,s},i.prototype.getLabelCfgs=function(e){var t=this,r=this.geometry,n=this.getDefaultLabelCfg(),a=r.type,o=r.theme,s=r.labelOption,l=r.scales,f=r.coordinate,h=s,c=h.fields,v=h.callback,x=h.cfg,P=c.map(function(X){return l[X]}),D=[];return(0,u.each)(e,function(X,K){var Z=X[at],gt=t.getLabelText(Z,P),mt;if(v){var Nt=c.map(function(ue){return Z[ue]});if(mt=v.apply(void 0,Nt),(0,u.isNil)(mt)){D.push(null);return}}var Zt=(0,k.__assign)((0,k.__assign)({id:t.getLabelId(X),data:Z,mappingData:X,coordinate:f},x),mt),ee=Zt.content;(0,u.isFunction)(ee)?Zt.content=ee(Z,X,K):(0,u.isUndefined)(ee)&&(Zt.content=gt[0]),(0,u.isFunction)(Zt.position)&&(Zt.position=Zt.position(Z,X,K)),a==="polygon"||Zt.offset<0&&!["line","point","path"].includes(a)?Zt=(0,u.deepMix)({},n,o.innerLabels,Zt):Zt=(0,u.deepMix)({},n,o.labels,Zt),D.push(Zt)}),D},i.prototype.getLabelText=function(e,t){var r=[];return(0,u.each)(t,function(n){var a=e[n.field];(0,u.isArray)(a)?a=a.map(function(o){return n.getText(o)}):a=n.getText(a),(0,u.isNil)(a)||a===""?r.push(null):r.push(a)}),r},i.prototype.getOffsetVector=function(e){e===void 0&&(e=0);var t=this.getCoordinate();return t.isTransposed?t.applyMatrix(e,0):t.applyMatrix(0,e)},i.prototype.getGeometryShapes=function(){var e=this.geometry,t={};return(0,u.each)(e.elementsMap,function(r,n){t[n]=r.shape}),(0,u.each)(e.getOffscreenGroup().getChildren(),function(r){var n=e.getElementId(r.get("origin").mappingData);t[n]=r}),t},i}(),Us=G1,z1=d(61102),X1="4.0.15",Eo={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Zn={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Ca=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],V1=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],H1={backgroundColor:"#141414",brandColor:Ca[0],paletteQualitative10:Ca,paletteQualitative20:V1,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:Zn[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:Zn[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:Zn[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:Zn[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:Zn[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:Zn[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:Zn[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Ca[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Zn[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:Zn[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Zn[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Eo[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Eo[25],annotationArcBorderColor:Zn[15],annotationArcBorder:.5,annotationLineBorderColor:Zn[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:Zn[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:Eo[95],annotationTextBorder:1.5,annotationRegionFillColor:Zn[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Zn[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:Zn[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Zn[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Eo[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:Zn[25],pointFillColor:Ca[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Eo[100],pointBorderOpacity:1,pointActiveBorderColor:Zn[100],pointSelectedBorder:2,pointSelectedBorderColor:Zn[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Ca[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Eo[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Zn[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Zn[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Ca[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Ca[0],areaFillOpacity:.25,areaActiveFillColor:Ca[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Ca[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Ca[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Zn[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Zn[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Ca[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Zn[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Zn[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Ca[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Eo[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Zn[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Zn[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},Dr=d(65353),Di=d(73890),Tn=d(21830),Zs=d(46812),Fi=d(66631),Bn=d(27154),W1=d(9217),j1=d(5253),s9=d(39984),U1=d(98229),Z1=d(35755);function K1(){return window?window.devicePixelRatio:1}function xc(i,e,t,r){var n=i-t,a=e-r;return Math.sqrt(n*n+a*a)}function Ao(i,e,t,r,n,a){return n>=i&&n<=i+t&&a>=e&&a<=e+r}function Vu(i,e){return!(e.minX>i.maxX||e.maxX<i.minX||e.minY>i.maxY||e.maxY<i.minY)}function $1(i,e){return!i||!e?i||e:{minX:Math.min(i.minX,e.minX),minY:Math.min(i.minY,e.minY),maxX:Math.max(i.maxX,e.maxX),maxY:Math.max(i.maxY,e.maxY)}}function bc(i,e){return i[0]===e[0]&&i[1]===e[1]}var l9=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,u9=/[^\s\,]+/gi,Q1=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,J1=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,q1=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,wc=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Sc(i,e){var t=i.match(wc);(0,Bn.default)(t,function(r){var n=r.split(":");e.addColorStop(n[0],n[1])})}function tb(i,e,t){var r=Q1.exec(t),n=parseFloat(r[1])%360*(Math.PI/180),a=r[2],o=e.getBBox(),s,l;n>=0&&n<1/2*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):1/2*Math.PI<=n&&n<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=n&&n<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var f=Math.tan(n),h=f*f,c=(l.x-s.x+f*(l.y-s.y))/(h+1)+s.x,v=f*(l.x-s.x+f*(l.y-s.y))/(h+1)+s.y,x=i.createLinearGradient(s.x,s.y,c,v);return Sc(a,x),x}function eb(i,e,t){var r=J1.exec(t),n=parseFloat(r[1]),a=parseFloat(r[2]),o=parseFloat(r[3]),s=r[4];if(o===0){var l=s.match(wc);return l[l.length-1].split(":")[1]}var f=e.getBBox(),h=f.maxX-f.minX,c=f.maxY-f.minY,v=Math.sqrt(h*h+c*c)/2,x=i.createRadialGradient(f.minX+h*n,f.minY+c*a,0,f.minX+h/2,f.minY+c/2,o*v);return Sc(s,x),x}function rb(i,e,t){if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var r,n,a=q1.exec(t),o=a[1],s=a[2];function l(){r=i.createPattern(n,o),e.set("pattern",r),e.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return n=new Image,s.match(/^data:/i)||(n.crossOrigin="Anonymous"),n.src=s,n.complete?l():(n.onload=l,n.src=n.src),r}function nb(i,e,t){if((0,Tn.default)(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return tb(i,e,t);if(t[0]==="r")return eb(i,e,t);if(t[0]==="p")return rb(i,e,t)}return t}}function ib(i){var e=0,t=0,r=0,n=0;return(0,Fi.default)(i)?i.length===1?e=t=r=n=i[0]:i.length===2?(e=r=i[0],t=n=i[1]):i.length===3?(e=i[0],t=n=i[1],r=i[2]):(e=i[0],t=i[1],r=i[2],n=i[3]):e=t=r=n=i,[e,t,r,n]}function Ks(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function Hu(i,e){return Ks(i)*Ks(e)?(i[0]*e[0]+i[1]*e[1])/(Ks(i)*Ks(e)):1}function Mc(i,e){return(i[0]*e[1]<i[1]*e[0]?-1:1)*Math.acos(Hu(i,e))}function Cc(i,e){var t=e[1],r=e[2],n=(0,j1.default)((0,W1.default)(e[3]),Math.PI*2),a=e[4],o=e[5],s=i[0],l=i[1],f=e[6],h=e[7],c=Math.cos(n)*(s-f)/2+Math.sin(n)*(l-h)/2,v=-1*Math.sin(n)*(s-f)/2+Math.cos(n)*(l-h)/2,x=c*c/(t*t)+v*v/(r*r);x>1&&(t*=Math.sqrt(x),r*=Math.sqrt(x));var P=t*t*(v*v)+r*r*(c*c),D=P?Math.sqrt((t*t*(r*r)-P)/P):1;a===o&&(D*=-1),isNaN(D)&&(D=0);var X=r?D*t*v/r:0,K=t?D*-r*c/t:0,Z=(s+f)/2+Math.cos(n)*X-Math.sin(n)*K,gt=(l+h)/2+Math.sin(n)*X+Math.cos(n)*K,mt=[(c-X)/t,(v-K)/r],Nt=[(-1*c-X)/t,(-1*v-K)/r],Zt=Mc([1,0],mt),ee=Mc(mt,Nt);return Hu(mt,Nt)<=-1&&(ee=Math.PI),Hu(mt,Nt)>=1&&(ee=0),o===0&&ee>0&&(ee=ee-2*Math.PI),o===1&&ee<0&&(ee=ee+2*Math.PI),{cx:Z,cy:gt,rx:bc(i,[f,h])?0:t,ry:bc(i,[f,h])?0:r,startAngle:Zt,endAngle:Zt+ee,xRotation:n,arcFlag:a,sweepFlag:o}}var $s=Math.sin,Qs=Math.cos,Wu=Math.atan2,Js=Math.PI;function Ec(i,e,t,r,n,a,o){var s=e.stroke,l=e.lineWidth,f=t-n,h=r-a,c=Wu(h,f),v=new Ju({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*Qs(Js/6)+","+10*$s(Js/6)+" L0,0 L"+10*Qs(Js/6)+",-"+10*$s(Js/6),stroke:s,lineWidth:l}});v.translate(n,a),v.rotateAtPoint(n,a,c),i.set(o?"startArrowShape":"endArrowShape",v)}function Ac(i,e,t,r,n,a,o){var s=e.startArrow,l=e.endArrow,f=e.stroke,h=e.lineWidth,c=o?s:l,v=c.d,x=c.fill,P=c.stroke,D=c.lineWidth,X=(0,Dr.__rest)(c,["d","fill","stroke","lineWidth"]),K=t-n,Z=r-a,gt=Wu(Z,K);v&&(n=n-Qs(gt)*v,a=a-$s(gt)*v);var mt=new Ju({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:(0,Dr.__assign)((0,Dr.__assign)({},X),{stroke:P||f,lineWidth:D||h,fill:x})});mt.translate(n,a),mt.rotateAtPoint(n,a,gt),i.set(o?"startArrowShape":"endArrowShape",mt)}function To(i,e,t,r,n){var a=Wu(r-e,t-i);return{dx:Qs(a)*n,dy:$s(a)*n}}function ju(i,e,t,r,n,a){typeof e.startArrow=="object"?Ac(i,e,t,r,n,a,!0):e.startArrow?Ec(i,e,t,r,n,a,!0):i.set("startArrowShape",null)}function Uu(i,e,t,r,n,a){typeof e.endArrow=="object"?Ac(i,e,t,r,n,a,!1):e.endArrow?Ec(i,e,t,r,n,a,!1):i.set("startArrowShape",null)}var Tc={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function zo(i,e){var t=e.attr();for(var r in t){var n=t[r],a=Tc[r]?Tc[r]:r;a==="matrix"&&n?i.transform(n[0],n[1],n[3],n[4],n[6],n[7]):a==="lineDash"&&i.setLineDash?(0,u.isArray)(n)&&i.setLineDash(n):(a==="strokeStyle"||a==="fillStyle"?n=nb(i,e,n):a==="globalAlpha"&&(n=n*i.globalAlpha),i[a]=n)}}function Zu(i,e,t){for(var r=0;r<e.length;r++){var n=e[r];n.get("visible")?n.draw(i,t):n.skipDraw()}}function Pc(i,e,t,r){var n=t.path,a=t.startArrow,o=t.endArrow,s=[0,0],l=[0,0],f={dx:0,dy:0};e.beginPath();for(var h=0;h<n.length;h++){var c=n[h],v=c[0];if(h===0&&a&&a.d){var x=i.getStartTangent();f=To(x[0][0],x[0][1],x[1][0],x[1][1],a.d)}else if(h===n.length-2&&n[h+1][0]==="Z"&&o&&o.d){var P=n[h+1];if(P[0]==="Z"){var x=i.getEndTangent();f=To(x[0][0],x[0][1],x[1][0],x[1][1],o.d)}}else if(h===n.length-1&&o&&o.d&&n[0]!=="Z"){var x=i.getEndTangent();f=To(x[0][0],x[0][1],x[1][0],x[1][1],o.d)}var D=f.dx,X=f.dy;switch(v){case"M":e.moveTo(c[1]-D,c[2]-X),l=[c[1],c[2]];break;case"L":e.lineTo(c[1]-D,c[2]-X);break;case"Q":e.quadraticCurveTo(c[1],c[2],c[3]-D,c[4]-X);break;case"C":e.bezierCurveTo(c[1],c[2],c[3],c[4],c[5]-D,c[6]-X);break;case"A":{var K=void 0;r?(K=r[h],K||(K=Cc(s,c),r[h]=K)):K=Cc(s,c);var Z=K.cx,gt=K.cy,mt=K.rx,Nt=K.ry,Zt=K.startAngle,ee=K.endAngle,ue=K.xRotation,ne=K.sweepFlag;if(e.ellipse)e.ellipse(Z,gt,mt,Nt,ue,Zt,ee,1-ne);else{var xe=mt>Nt?mt:Nt,Pe=mt>Nt?1:mt/Nt,Ye=mt>Nt?Nt/mt:1;e.translate(Z,gt),e.rotate(ue),e.scale(Pe,Ye),e.arc(0,0,xe,Zt,ee,1-ne),e.scale(1/Pe,1/Ye),e.rotate(-ue),e.translate(-Z,-gt)}break}case"Z":e.closePath();break;default:break}if(v==="Z")s=l;else{var He=c.length;s=[c[He-2],c[He-1]]}}}function _c(i,e){var t=i.get("canvas");t&&(e==="remove"&&(i._cacheCanvasBBox=i.get("cacheCanvasBBox")),i.get("hasChanged")||(t.refreshElement(i,e,t),t.get("autoDraw")&&t.draw(),i.set("hasChanged",!0)))}function ab(i){var e;if(i.destroyed)e=i._cacheCanvasBBox;else{var t=i.get("cacheCanvasBBox"),r=t&&!!(t.width&&t.height),n=i.getCanvasBBox(),a=n&&!!(n.width&&n.height);r&&a?e=$1(t,n):r?e=t:a&&(e=n)}return e}function Oc(i){if(!i.length)return null;var e=[],t=[],r=[],n=[];return(0,u.each)(i,function(a){var o=ab(a);o&&(e.push(o.minX),t.push(o.minY),r.push(o.maxX),n.push(o.maxY))}),{minX:Math.min.apply(null,e),minY:Math.min.apply(null,t),maxX:Math.max.apply(null,r),maxY:Math.max.apply(null,n)}}function ob(i,e){return!i||!e||!Vu(i,e)?null:{minX:Math.max(i.minX,e.minX),minY:Math.max(i.minY,e.minY),maxX:Math.min(i.maxX,e.maxX),maxY:Math.min(i.maxY,e.maxY)}}var Lc=d(41056),sb=function(i){(0,Dr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.onCanvasChange=function(t){_c(this,t)},e.prototype.getShapeBase=function(){return b},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,r){r&&(t.save(),zo(t,r),r.createPath(t),t.restore(),t.clip(),r._afterDraw())},e.prototype.draw=function(t,r){var n=this.getChildren();n.length&&(t.save(),zo(t,this),this._applyClip(t,this.getClip()),Zu(t,n,r),t.restore()),this.set("cacheCanvasBBox",this.getCanvasBBox()),this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(ar.AbstractGroup),Ku=sb,lb=function(i){(0,Dr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Dr.__assign)((0,Dr.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return b},e.prototype.getGroupBase=function(){return Ku},e.prototype.onCanvasChange=function(t){_c(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),r=this.getHitLineWidth(),n=(0,Lc.b)(t),a=n(this),o=r/2,s=a.x-o,l=a.y-o,f=a.x+a.width+o,h=a.y+a.height+o;return{x:s,minX:s,y:l,minY:l,width:a.width+r,height:a.height+r,maxX:f,maxY:h}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,r){r&&(t.save(),zo(t,r),r.createPath(t),t.restore(),t.clip(),r._afterDraw())},e.prototype.draw=function(t,r){var n=this.getClip();if(r){var a=n?Oc([this,n]):this.getCanvasBBox();if(!Vu(r,a)){this.set("hasChanged",!1);return}}t.save(),zo(t,this),this._applyClip(t,this.getClip()),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype._afterDraw=function(){var t=this.getCanvasBBox(),r=this.getCanvas();if(this.set("cacheCanvasBBox",t),r){var n=r.getViewRange();this.set("isInView",Vu(t,n))}this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var r=this.attrs,n=r.lineWidth,a=r.opacity,o=r.strokeOpacity,s=r.fillOpacity;this.isFill()&&(!(0,Di.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.isStroke()&&n>0&&(!(0,Di.default)(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,r){var n=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,r,n,a,o)},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(ar.AbstractShape),La=lb,ub=function(i){(0,Dr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Dr.__assign)((0,Dr.__assign)({},t),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.attr(),l=s.x,f=s.y,h=s.r,c=o/2,v=xc(l,f,t,r);return a&&n?v<=h+c:a?v<=h:n?v>=h-c&&v<=h+c:!1},e.prototype.createPath=function(t){var r=this.attr(),n=r.x,a=r.y,o=r.r;t.beginPath(),t.arc(n,a,o,0,Math.PI*2,!1),t.closePath()},e}(La),fb=ub;function qs(i,e,t,r){return i/(t*t)+e/(r*r)}var hb=function(i){(0,Dr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Dr.__assign)((0,Dr.__assign)({},t),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.attr(),l=o/2,f=s.x,h=s.y,c=s.rx,v=s.ry,x=(t-f)*(t-f),P=(r-h)*(r-h);return a&&n?qs(x,P,c+l,v+l)<=1:a?qs(x,P,c,v)<=1:n?qs(x,P,c-l,v-l)>=1&&qs(x,P,c+l,v+l)<=1:!1},e.prototype.createPath=function(t){var r=this.attr(),n=r.x,a=r.y,o=r.rx,s=r.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,a,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,f=o>s?1:o/s,h=o>s?s/o:1;t.save(),t.translate(n,a),t.scale(f,h),t.arc(0,0,l,0,Math.PI*2),t.restore(),t.closePath()}},e}(La),cb=hb;function Ic(i){return i instanceof HTMLElement&&(0,Tn.default)(i.nodeName)&&i.nodeName.toUpperCase()==="CANVAS"}var vb=function(i){(0,Dr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Dr.__assign)((0,Dr.__assign)({},t),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var r=this,n=this.attrs;if((0,Tn.default)(t)){var a=new Image;a.onload=function(){if(r.destroyed)return!1;r.attr("img",a),r.set("loading",!1),r._afterLoading();var o=r.get("callback");o&&o.call(r)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):Ic(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),t==="img"&&this._setImage(r)},e.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var r=this.attr(),n=r.x,a=r.y,o=r.width,s=r.height,l=r.sx,f=r.sy,h=r.swidth,c=r.sheight,v=r.img;(v instanceof Image||Ic(v))&&(!(0,Di.default)(l)&&!(0,Di.default)(f)&&!(0,Di.default)(h)&&!(0,Di.default)(c)?t.drawImage(v,l,f,h,c,n,a,o,s):t.drawImage(v,n,a,o,s))},e}(La),db=vb,Ka=d(23646);function lo(i,e,t,r,n,a,o){var s=Math.min(i,t),l=Math.max(i,t),f=Math.min(e,r),h=Math.max(e,r),c=n/2;return a>=s-c&&a<=l+c&&o>=f-c&&o<=h+c?Ka.default.pointToLine(i,e,t,r,a,o)<=n/2:!1}var pb=function(i){(0,Dr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Dr.__assign)((0,Dr.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),r=t.x1,n=t.y1,a=t.x2,o=t.y2,s=t.startArrow,l=t.endArrow;s&&ju(this,t,a,o,r,n),l&&Uu(this,t,r,n,a,o)},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){if(!n||!o)return!1;var s=this.attr(),l=s.x1,f=s.y1,h=s.x2,c=s.y2;return lo(l,f,h,c,o,t,r)},e.prototype.createPath=function(t){var r=this.attr(),n=r.x1,a=r.y1,o=r.x2,s=r.y2,l=r.startArrow,f=r.endArrow,h={dx:0,dy:0},c={dx:0,dy:0};l&&l.d&&(h=To(n,a,o,s,r.startArrow.d)),f&&f.d&&(c=To(n,a,o,s,r.endArrow.d)),t.beginPath(),t.moveTo(n+h.dx,a+h.dy),t.lineTo(o-c.dx,s-c.dy)},e.prototype.afterDrawPath=function(t){var r=this.get("startArrowShape"),n=this.get("endArrowShape");r&&r.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),r=t.x1,n=t.y1,a=t.x2,o=t.y2;return Ka.default.length(r,n,a,o)},e.prototype.getPoint=function(t){var r=this.attr(),n=r.x1,a=r.y1,o=r.x2,s=r.y2;return Ka.default.pointAt(n,a,o,s,t)},e}(La),gb=pb,kc=d(74479),yb={circle:function(i,e,t){return[["M",i-t,e],["A",t,t,0,1,0,i+t,e],["A",t,t,0,1,0,i-t,e]]},square:function(i,e,t){return[["M",i-t,e-t],["L",i+t,e-t],["L",i+t,e+t],["L",i-t,e+t],["Z"]]},diamond:function(i,e,t){return[["M",i-t,e],["L",i,e-t],["L",i+t,e],["L",i,e+t],["Z"]]},triangle:function(i,e,t){var r=t*Math.sin(1/3*Math.PI);return[["M",i-t,e+r],["L",i,e-r],["L",i+t,e+r],["Z"]]},"triangle-down":function(i,e,t){var r=t*Math.sin(1/3*Math.PI);return[["M",i-t,e-r],["L",i+t,e-r],["L",i,e+r],["Z"]]}},mb=function(i){(0,Dr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return(0,u.isNil)(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t=this.attr(),r=t.x,n=t.y,a=t.symbol||"circle",o=this._getR(t),s,l;return(0,Zs.default)(a)?(s=a,l=s(r,n,o),l=(0,kc.Z)(l)):(s=e.Symbols[a],l=s(r,n,o)),s?l:(console.warn(a+" marker is not supported."),null)},e.prototype.createPath=function(t){var r=this._getPath(),n=this.get("paramsCache");Pc(this,t,{path:r},n)},e.Symbols=yb,e}(La),xb=mb,tl=d(15730),bb=d(49274),wb=d(26632);function Bc(i,e,t){var r=(0,wb.getOffScreenContext)();return i.createPath(r),r.isPointInPath(e,t)}var Sb=1e-6;function $u(i){return Math.abs(i)<Sb?0:i<0?-1:1}function Mb(i,e,t){return(t[0]-i[0])*(e[1]-i[1])==(e[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],e[0])<=t[0]&&t[0]<=Math.max(i[0],e[0])&&Math.min(i[1],e[1])<=t[1]&&t[1]<=Math.max(i[1],e[1])}function Dc(i,e,t){var r=!1,n=i.length;if(n<=2)return!1;for(var a=0;a<n;a++){var o=i[a],s=i[(a+1)%n];if(Mb(o,s,[e,t]))return!0;$u(o[1]-t)>0!=$u(s[1]-t)>0&&$u(e-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(r=!r)}return r}var Cb=d(2879);function ss(i,e,t,r,n,a,o,s){var l=(Math.atan2(s-e,o-i)+Math.PI*2)%(Math.PI*2);if(l<r||l>n)return!1;var f={x:i+t*Math.cos(l),y:e+t*Math.sin(l)};return xc(f.x,f.y,o,s)<=a/2}var Qu=d(35600),Fc=d(77160);function Eb(i){for(var e=!1,t=i.length,r=0;r<t;r++){var n=i[r],a=n[0];if(a==="C"||a==="A"||a==="Q"){e=!0;break}}return e}function Ab(i,e,t,r){for(var n=!1,a=e/2,o=0;o<i.length;o++){var s=i[o],l=s.currentPoint,f=s.params,h=s.prePoint,c=s.box;if(!(c&&!Ao(c.x-a,c.y-a,c.width+e,c.height+e,t,r))){switch(s.command){case"L":case"Z":n=lo(h[0],h[1],l[0],l[1],e,t,r);break;case"Q":var v=Cb.default.pointDistance(h[0],h[1],f[1],f[2],f[3],f[4],t,r);n=v<=e/2;break;case"C":var x=tl.default.pointDistance(h[0],h[1],f[1],f[2],f[3],f[4],f[5],f[6],t,r);n=x<=e/2;break;case"A":var P=s.arcParams,D=P.cx,X=P.cy,K=P.rx,Z=P.ry,gt=P.startAngle,mt=P.endAngle,Nt=P.xRotation,Zt=[t,r,1],ee=[1,0,0,0,1,0,0,0,1],ue=K>Z?K:Z,ne=K>Z?1:K/Z,xe=K>Z?Z/K:1;Qu.translate(ee,ee,[-D,-X]),Qu.rotate(ee,ee,-Nt),Qu.scale(ee,ee,[1/ne,1/xe]),Fc.transformMat3(Zt,Zt,ee),n=ss(0,0,ue,gt,mt,e,Zt[0],Zt[1]);break;default:break}if(n)break}}return n}function Tb(i){for(var e=i.length,t=[],r=[],n=[],a=0;a<e;a++){var o=i[a],s=o[0];s==="M"?(n.length&&(r.push(n),n=[]),n.push([o[1],o[2]])):s==="Z"?n.length&&(t.push(n),n=[]):n.push([o[1],o[2]])}return n.length>0&&r.push(n),{polygons:t,polylines:r}}var el=(0,Dr.__assign)({hasArc:Eb,extractPolygons:Tb,isPointInStroke:Ab},ar.PathUtil);function Rc(i,e,t){for(var r=!1,n=0;n<i.length;n++){var a=i[n];if(r=Dc(a,e,t),r)break}return r}var Pb=function(i){(0,Dr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Dr.__assign)((0,Dr.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),t==="path"&&this._setPathArr(r),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=(0,kc.Z)(t);var r=el.hasArc(t);this.set("hasArc",r),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,bb.default)(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t=this.attr(),r=t.startArrow,n=t.endArrow;if(r){var a=this.getStartTangent();ju(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}if(n){var a=this.getEndTangent();Uu(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.getSegments(),l=this.get("hasArc"),f=!1;if(n&&(f=el.isPointInStroke(s,o,t,r)),!f&&a)if(l)f=Bc(this,t,r);else{var h=this.attr("path"),c=el.extractPolygons(h);f=Rc(c.polygons,t,r)||Rc(c.polylines,t,r)}return f},e.prototype.createPath=function(t){var r=this.attr(),n=this.get("paramsCache");Pc(this,t,r,n)},e.prototype.afterDrawPath=function(t){var r=this.get("startArrowShape"),n=this.get("endArrowShape");r&&r.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,u.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var n,a,o=this.get("curve");if(!r||r.length===0)return o?{x:o[0][1],y:o[0][2]}:null;(0,u.each)(r,function(h,c){t>=h[0]&&t<=h[1]&&(n=(t-h[0])/(h[1]-h[0]),a=c)});var s=o[a];if((0,u.isNil)(s)||(0,u.isNil)(a))return null;var l=s.length,f=o[a+1];return tl.default.pointAt(s[l-2],s[l-1],f[1],f[2],f[3],f[4],f[5],f[6],n)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",el.pathToCurve(t))},e.prototype._setTcache=function(){var t=0,r=0,n=[],a,o,s,l,f=this.get("curve");if(!!f){if((0,u.each)(f,function(h,c){s=f[c+1],l=h.length,s&&(t+=tl.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}(0,u.each)(f,function(h,c){s=f[c+1],l=h.length,s&&(a=[],a[0]=r/t,o=tl.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6]),r+=o||0,a[1]=r/t,n.push(a))}),this.set("tCache",n)}},e.prototype.getStartTangent=function(){var t=this.getSegments(),r;if(t.length>1){var n=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;r=[],o?(r.push([n[0]-o[0],n[1]-o[1]]),r.push([n[0],n[1]])):(r.push([a[0],a[1]]),r.push([n[0],n[1]]))}return r},e.prototype.getEndTangent=function(){var t=this.getSegments(),r=t.length,n;if(r>1){var a=t[r-2].currentPoint,o=t[r-1].currentPoint,s=t[r-1].endTangent;n=[],s?(n.push([o[0]-s[0],o[1]-s[1]]),n.push([o[0],o[1]])):(n.push([a[0],a[1]]),n.push([o[0],o[1]]))}return n},e}(La),Ju=Pb;function Nc(i,e,t,r,n){var a=i.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=i[o][0],l=i[o][1],f=i[o+1][0],h=i[o+1][1];if(lo(s,l,f,h,e,t,r))return!0}if(n){var c=i[0],v=i[a-1];if(lo(c[0],c[1],v[0],v[1],e,t,r))return!0}return!1}var _b=function(i){(0,Dr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.attr().points,l=!1;return n&&(l=Nc(s,o,t,r,!0)),!l&&a&&(l=Dc(s,t,r)),l},e.prototype.createPath=function(t){var r=this.attr(),n=r.points;if(!(n.length<2)){t.beginPath();for(var a=0;a<n.length;a++){var o=n[a];a===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},e}(La),Ob=_b,Yc=d(65386),Lb=function(i){(0,Dr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Dr.__assign)((0,Dr.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),r=this.attrs,n=r.points,a=r.startArrow,o=r.endArrow,s=n.length,l=n[0][0],f=n[0][1],h=n[s-1][0],c=n[s-1][1];a&&ju(this,t,n[1][0],n[1][1],l,f),o&&Uu(this,t,n[s-2][0],n[s-2][1],h,c)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){if(!n||!o)return!1;var s=this.attr().points;return Nc(s,o,t,r,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var r=this.attr(),n=r.points,a=r.startArrow,o=r.endArrow,s=n.length;if(!(n.length<2)){var l=n[0][0],f=n[0][1],h=n[s-1][0],c=n[s-1][1];if(a&&a.d){var v=To(l,f,n[1][0],n[1][1],a.d);l+=v.dx,f+=v.dy}if(o&&o.d){var v=To(n[s-2][0],n[s-2][1],h,c,o.d);h-=v.dx,c-=v.dy}t.beginPath(),t.moveTo(l,f);for(var x=0;x<s-1;x++){var P=n[x];t.lineTo(P[0],P[1])}t.lineTo(h,c)}},e.prototype.afterDrawPath=function(t){var r=this.get("startArrowShape"),n=this.get("endArrowShape");r&&r.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,r=this.get("totalLength");return(0,u.isNil)(r)?(this.set("totalLength",Yc.Z.length(t)),this.get("totalLength")):r},e.prototype.getPoint=function(t){var r=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,u.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Ka.default.pointAt(r[o][0],r[o][1],r[o+1][0],r[o+1][1],a)},e.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var r=this.getTotalLength();if(!(r<=0)){var n=0,a=[],o,s;(0,u.each)(t,function(l,f){t[f+1]&&(o=[],o[0]=n/r,s=Ka.default.length(l[0],l[1],t[f+1][0],t[f+1][1]),n+=s,o[1]=n/r,a.push(o))}),this.set("tCache",a)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,r=[];return r.push([t[1][0],t[1][1]]),r.push([t[0][0],t[0][1]]),r},e.prototype.getEndTangent=function(){var t=this.attr().points,r=t.length-1,n=[];return n.push([t[r-1][0],t[r-1][1]]),n.push([t[r][0],t[r][1]]),n},e}(La),Ib=Lb;function kb(i,e,t,r,n,a,o){var s=n/2;return Ao(i-s,e-s,t,n,a,o)||Ao(i+t-s,e-s,n,r,a,o)||Ao(i+s,e+r-s,t,n,a,o)||Ao(i-s,e+s,n,r,a,o)}function Bb(i,e,t,r,n,a,o,s){var l=a/2;return lo(i+n,e,i+t-n,e,a,o,s)||lo(i+t,e+n,i+t,e+r-n,a,o,s)||lo(i+t-n,e+r,i+n,e+r,a,o,s)||lo(i,e+r-n,i,e+n,a,o,s)||ss(i+t-n,e+n,n,1.5*Math.PI,2*Math.PI,a,o,s)||ss(i+t-n,e+r-n,n,0,.5*Math.PI,a,o,s)||ss(i+n,e+r-n,n,.5*Math.PI,Math.PI,a,o,s)||ss(i+n,e+n,n,Math.PI,1.5*Math.PI,a,o,s)}var Db=function(i){(0,Dr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Dr.__assign)((0,Dr.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,r,n,a,o){var s=this.attr(),l=s.x,f=s.y,h=s.width,c=s.height,v=s.radius;if(v){var P=!1;return n&&(P=Bb(l,f,h,c,v,o,t,r)),!P&&a&&(P=Bc(this,t,r)),P}else{var x=o/2;if(a&&n)return Ao(l-x,f-x,h+x,c+x,t,r);if(a)return Ao(l,f,h,c,t,r);if(n)return kb(l,f,h,c,o,t,r)}},e.prototype.createPath=function(t){var r=this.attr(),n=r.x,a=r.y,o=r.width,s=r.height,l=r.radius;if(t.beginPath(),l===0)t.rect(n,a,o,s);else{var f=ib(l),h=f[0],c=f[1],v=f[2],x=f[3];t.moveTo(n+h,a),t.lineTo(n+o-c,a),c!==0&&t.arc(n+o-c,a+c,c,-Math.PI/2,0),t.lineTo(n+o,a+s-v),v!==0&&t.arc(n+o-v,a+s-v,v,0,Math.PI/2),t.lineTo(n+x,a+s),x!==0&&t.arc(n+x,a+s-x,x,Math.PI/2,Math.PI),t.lineTo(n,a+h),h!==0&&t.arc(n+h,a+h,h,Math.PI,Math.PI*1.5),t.closePath()}},e}(La),Fb=Db,Gc=d(8914),Rb=function(i){(0,Dr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Dr.__assign)((0,Dr.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,Gc.assembleFont)(t)},e.prototype._setText=function(t){var r=null;(0,Tn.default)(t)&&t.indexOf(`
`)!==-1&&(r=t.split(`
`)),this.set("textArr",r)},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(r)},e.prototype._getSpaceingY=function(){var t=this.attrs,r=t.lineHeight,n=t.fontSize*1;return r?r-n:n*.14},e.prototype._drawTextArr=function(t,r,n){var a=this.attrs,o=a.textBaseline,s=a.x,l=a.y,f=a.fontSize*1,h=this._getSpaceingY(),c=(0,Gc.getTextHeight)(a.text,a.fontSize,a.lineHeight),v;(0,Bn.default)(r,function(x,P){v=l+P*(h+f)-c+f,o==="middle"&&(v+=c-f-(c-f)/2),o==="top"&&(v+=c-f),n?t.fillText(x,s,v):t.strokeText(x,s,v)})},e.prototype._drawText=function(t,r){var n=this.attr(),a=n.x,o=n.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,r);else{var l=n.text;r?t.fillText(l,a,o):t.strokeText(l,a,o)}},e.prototype.strokeAndFill=function(t){var r=this.attrs,n=r.lineWidth,a=r.opacity,o=r.strokeOpacity,s=r.fillOpacity;this.isStroke()&&n>0&&(!(0,Di.default)(o)&&o!==1&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&(!(0,Di.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(La),Nb=Rb,Yb=d(4555),f9=d(85424),Gb=d(22487),zc=d(6052);function zb(i,e){if(e){var t=(0,zc.U_)(e);return(0,zc.rG)(t,i)}return i}function Xc(i,e,t){var r=i.getTotalMatrix();if(r){var n=zb([e,t,1],r),a=n[0],o=n[1];return[a,o]}return[e,t]}function Vc(i,e,t){if(i.isCanvas&&i.isCanvas())return!0;if(!(0,Gb.isAllowCapture)(i)&&i.cfg.isInView===!1)return!1;if(i.cfg.clipShape){var r=Xc(i,e,t),n=r[0],a=r[1];if(i.isClipped(n,a))return!1}var o=i.cfg.cacheCanvasBBox;return o||(o=i.getCanvasBBox()),e>=o.minX&&e<=o.maxX&&t>=o.minY&&t<=o.maxY}function Hc(i,e,t){if(!Vc(i,e,t))return null;for(var r=null,n=i.getChildren(),a=n.length,o=a-1;o>=0;o--){var s=n[o];if(s.isGroup())r=Hc(s,e,t);else if(Vc(s,e,t)){var l=s,f=Xc(s,e,t),h=f[0],c=f[1];l.isInShape(h,c)&&(r=s)}if(r)break}return r}var Xb=function(i){(0,Dr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},e.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return b},e.prototype.getGroupBase=function(){return Ku},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||K1();return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.get("width"),maxY:this.get("height")}},e.prototype.createDom=function(){var t=document.createElement("canvas"),r=t.getContext("2d");return this.set("context",r),t},e.prototype.setDOMSize=function(t,r){i.prototype.setDOMSize.call(this,t,r);var n=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*t,a.height=o*r,o>1&&n.scale(o,o)},e.prototype.clear=function(){i.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),r=this.get("el");t.clearRect(0,0,r.width,r.height)},e.prototype.getShape=function(t,r){return this.get("quickHit")?Hc(this,t,r):i.prototype.getShape.call(this,t,r,null)},e.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),r=this.getViewRange(),n;if(t.length&&t[0]===this)n=r;else if(n=Oc(t),n){n.minX=Math.floor(n.minX),n.minY=Math.floor(n.minY),n.maxX=Math.ceil(n.maxX),n.maxY=Math.ceil(n.maxY);var a=this.get("clipView");a&&(n=ob(n,r))}return n},e.prototype.refreshElement=function(t){var r=this.get("refreshElements");r.push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,Z1.default)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),r=this.get("el"),n=this.getChildren();t.clearRect(0,0,r.width,r.height),zo(t,this),Zu(t,n),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),r=this.get("refreshElements"),n=this.getChildren(),a=this._getRefreshRegion();a&&(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),zo(t,this),Zu(t,n,a),t.restore()),(0,Bn.default)(r,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,r=this.get("drawFrame");r||(r=(0,U1.default)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",r))},e.prototype.skipDraw=function(){},e}(ar.AbstractCanvas),Wc=Xb,Vb=d(71270),Hb=Vb.version,qu={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},En={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},h9=null;function Ea(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function jc(i){var e=qu[i.type],t=i.getParent();if(!e)throw new Error("the type "+i.type+" is not supported by svg");var r=Ea(e);if(i.get("id")&&(r.id=i.get("id")),i.set("el",r),i.set("attrs",{}),t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(r)}return r}function Uc(i,e){var t=i.get("el"),r=(0,u.toArray)(t.children).sort(e),n=document.createDocumentFragment();r.forEach(function(a){n.appendChild(a)}),t.appendChild(n)}function Wb(i,e){var t=i.parentNode,r=Array.from(t.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),n=r[e],a=r.indexOf(i);if(n){if(a>e)t.insertBefore(i,n);else if(a<e){var o=r[e+1];o?t.insertBefore(i,o):t.appendChild(i)}}else t.appendChild(i)}function jb(i,e){var t=i.cfg.el,r=i.attr(),n={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(!n.dx&&!n.dy&&!n.blur&&!n.color)t.removeAttribute("filter");else{var a=e.find("filter",n);a||(a=e.addShadow(n)),t.setAttribute("filter","url(#"+a+")")}}function ls(i){var e=i.attr().matrix;if(e){for(var t=i.cfg.el,r=[],n=0;n<9;n+=3)r.push(e[n]+","+e[n+1]);r=r.join(","),r.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",e)}}function us(i,e){var t=i.getClip(),r=i.get("el");if(!t)r.removeAttribute("clip-path");else if(t&&!r.hasAttribute("clip-path")){jc(t),t.createPath(e);var n=e.addClip(t);r.setAttribute("clip-path","url(#"+n+")")}}function Zc(i,e){e.forEach(function(t){t.draw(i)})}function Kc(i,e){var t=i.get("canvas");if(t&&t.get("autoDraw")){var r=t.get("context"),n=i.getParent(),a=n?n.getChildren():[t],o=i.get("el");if(e==="remove"){var s=i.get("isClipShape");if(s){var l=o&&o.parentNode,f=l&&l.parentNode;l&&f&&f.removeChild(l)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(e==="show")o.setAttribute("visibility","visible");else if(e==="hide")o.setAttribute("visibility","hidden");else if(e==="zIndex")Wb(o,a.indexOf(i));else if(e==="sort"){var h=i.get("children");h&&h.length&&Uc(i,function(c,v){return h.indexOf(c)-h.indexOf(v)?1:0})}else e==="clear"?o&&(o.innerHTML=""):e==="matrix"?ls(i):e==="clip"?us(i,r):e==="attr"||e==="add"&&i.draw(r)}}var Ub=function(i){(0,Dr.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=Ea("g");this.set("el",t);var r=this.getParent();if(r){var n=r.get("el");n||(n=r.createDom(),r.set("el",n)),n.appendChild(t)}return t},e.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var r=this.get("canvas");if(r&&r.get("autoDraw")){var n=r.get("context");this.createPath(n,t)}},e.prototype.onCanvasChange=function(t){Kc(this,t)},e.prototype.getShapeBase=function(){return I},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var r=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),us(this,t),this.createPath(t),r.length&&Zc(t,r))},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,u.each)(r||n,function(o,s){En[s]&&a.setAttribute(En[s],o)}),ls(this)},e}(ar.AbstractGroup),tf=Ub,Zb=function(i){(0,Dr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Dr.__assign)((0,Dr.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var r=this.get("canvas");if(r&&r.get("autoDraw")){var n=r.get("context");this.draw(n,t)}},e.prototype.getShapeBase=function(){return I},e.prototype.getGroupBase=function(){return tf},e.prototype.onCanvasChange=function(t){Kc(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),r=null;if(t)r=t.getBBox();else{var n=(0,Lc.b)(this.get("type"));n&&(r=n(this))}if(r){var a=r.x,o=r.y,s=r.width,l=r.height,f=this.getHitLineWidth(),h=f/2,c=a-h,v=o-h,x=a+s+h,P=o+l+h;return{x:c,y:v,minX:c,minY:v,maxX:x,maxY:P,width:s+f,height:l+f}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),r=t.fill,n=t.fillStyle;return(r||n||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),r=t.stroke,n=t.strokeStyle;return(r||n)&&this.canStroke},e.prototype.draw=function(t,r){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||jc(this),us(this,t),this.createPath(t,r),this.shadow(t,r),this.strokeAndFill(t,r),this.transform(r))},e.prototype.createPath=function(t,r){},e.prototype.strokeAndFill=function(t,r){var n=r||this.attr(),a=n.fill,o=n.fillStyle,s=n.stroke,l=n.strokeStyle,f=n.fillOpacity,h=n.strokeOpacity,c=n.lineWidth,v=this.get("el");this.canFill&&(r?"fill"in n?this._setColor(t,"fill",a):"fillStyle"in n&&this._setColor(t,"fill",o):this._setColor(t,"fill",a||o),f&&v.setAttribute(En.fillOpacity,f)),this.canStroke&&c>0&&(r?"stroke"in n?this._setColor(t,"stroke",s):"strokeStyle"in n&&this._setColor(t,"stroke",l):this._setColor(t,"stroke",s||l),h&&v.setAttribute(En.strokeOpacity,h),c&&v.setAttribute(En.lineWidth,c))},e.prototype._setColor=function(t,r,n){var a=this.get("el");if(!n){a.setAttribute(En[r],"none");return}if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=t.find("gradient",n);o||(o=t.addGradient(n)),a.setAttribute(En[r],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var o=t.find("pattern",n);o||(o=t.addPattern(n)),a.setAttribute(En[r],"url(#"+o+")")}else a.setAttribute(En[r],n)},e.prototype.shadow=function(t,r){var n=this.attr(),a=r||n,o=a.shadowOffsetX,s=a.shadowOffsetY,l=a.shadowBlur,f=a.shadowColor;(o||s||l||f)&&jb(this,t)},e.prototype.transform=function(t){var r=this.attr(),n=(t||r).matrix;n&&ls(this)},e.prototype.isInShape=function(t,r){return this.isPointInPath(t,r)},e.prototype.isPointInPath=function(t,r){var n=this.get("el"),a=this.get("canvas"),o=a.get("el").getBoundingClientRect(),s=t+o.left,l=r+o.top,f=document.elementFromPoint(s,l);return!!(f&&f.isEqualNode(n))},e.prototype.getHitLineWidth=function(){var t=this.attrs,r=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?r+n:0},e}(ar.AbstractShape),Aa=Zb,Kb=function(i){(0,Dr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Dr.__assign)((0,Dr.__assign)({},t),{x:0,y:0,r:0})},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,u.each)(r||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):En[s]&&a.setAttribute(En[s],o)})},e}(Aa),$b=Kb,Qb=function(i){(0,Dr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,u.each)(r||n,function(o,s){En[s]&&a.setAttribute(En[s],o)}),a.innerHTML=n.html},e}(Aa),Jb=Qb,qb=function(i){(0,Dr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Dr.__assign)((0,Dr.__assign)({},t),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,u.each)(r||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):En[s]&&a.setAttribute(En[s],o)})},e}(Aa),tw=qb,ew=function(i){(0,Dr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Dr.__assign)((0,Dr.__assign)({},t),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,r){var n=this,a=this.attr(),o=this.get("el");(0,u.each)(r||a,function(s,l){l==="img"?n._setImage(a.img):En[l]&&o.setAttribute(En[l],s)})},e.prototype.setAttr=function(t,r){this.attrs[t]=r,t==="img"&&this._setImage(r)},e.prototype._setImage=function(t){var r=this.attr(),n=this.get("el");if((0,u.isString)(t))n.setAttribute("href",t);else if(t instanceof window.Image)r.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),r.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,u.isString)(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),r.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),r.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",a.toDataURL())}},e}(Aa),rw=ew,nw=function(i){(0,Dr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Dr.__assign)((0,Dr.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,u.each)(r||n,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var l=(0,u.isObject)(o)?t.addArrow(n,En[s]):t.getDefaultArrow(n,En[s]);a.setAttribute(En[s],"url(#"+l+")")}else a.removeAttribute(En[s]);else En[s]&&a.setAttribute(En[s],o)})},e.prototype.getTotalLength=function(){var t=this.attr(),r=t.x1,n=t.y1,a=t.x2,o=t.y2;return Ka.default.length(r,n,a,o)},e.prototype.getPoint=function(t){var r=this.attr(),n=r.x1,a=r.y1,o=r.x2,s=r.y2;return Ka.default.pointAt(n,a,o,s,t)},e}(Aa),iw=nw,rl={circle:function(i,e,t){return[["M",i,e],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(i,e,t){return[["M",i-t,e-t],["L",i+t,e-t],["L",i+t,e+t],["L",i-t,e+t],["Z"]]},diamond:function(i,e,t){return[["M",i-t,e],["L",i,e-t],["L",i+t,e],["L",i,e+t],["Z"]]},triangle:function(i,e,t){var r=t*Math.sin(1/3*Math.PI);return[["M",i-t,e+r],["L",i,e-r],["L",i+t,e+r],["z"]]},triangleDown:function(i,e,t){var r=t*Math.sin(1/3*Math.PI);return[["M",i-t,e-r],["L",i+t,e-r],["L",i,e+r],["Z"]]}},$c={get:function(i){return rl[i]},register:function(i,e){rl[i]=e},remove:function(i){delete rl[i]},getAll:function(){return rl}},aw=function(i){(0,Dr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return e.prototype.createPath=function(t){var r=this.get("el");r.setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return(0,u.isArray)(t)?t.map(function(r){return r.join(" ")}).join(""):t},e.prototype._getPath=function(){var t=this.attr(),r=t.x,n=t.y,a=t.r||t.radius,o=t.symbol||"circle",s;return(0,u.isFunction)(o)?s=o:s=$c.get(o),s?s(r,n,a):(console.warn(s+" symbol is not exist."),null)},e.symbolsFactory=$c,e}(Aa),ow=aw,sw=function(i){(0,Dr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Dr.__assign)((0,Dr.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,r){var n=this,a=this.attr(),o=this.get("el");(0,u.each)(r||a,function(s,l){if(l==="path"&&(0,u.isArray)(s))o.setAttribute("d",n._formatPath(s));else if(l==="startArrow"||l==="endArrow")if(s){var f=(0,u.isObject)(s)?t.addArrow(a,En[l]):t.getDefaultArrow(a,En[l]);o.setAttribute(En[l],"url(#"+f+")")}else o.removeAttribute(En[l]);else En[l]&&o.setAttribute(En[l],s)})},e.prototype._formatPath=function(t){var r=t.map(function(n){return n.join(" ")}).join("");return~r.indexOf("NaN")?"":r},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var r=this.get("el"),n=this.getTotalLength(),a=r?r.getPointAtLength(t*n):null;return a?{x:a.x,y:a.y}:null},e}(Aa),lw=sw,uw=function(i){(0,Dr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,u.each)(r||n,function(o,s){s==="points"&&(0,u.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):En[s]&&a.setAttribute(En[s],o)})},e}(Aa),fw=uw,hw=function(i){(0,Dr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Dr.__assign)((0,Dr.__assign)({},t),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(t,r,n){i.prototype.onAttrChange.call(this,t,r,n),["points"].indexOf(t)!==-1&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,r){var n=this.attr(),a=this.get("el");(0,u.each)(r||n,function(o,s){s==="points"&&(0,u.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):En[s]&&a.setAttribute(En[s],o)})},e.prototype.getTotalLength=function(){var t=this.attr().points,r=this.get("totalLength");return(0,u.isNil)(r)?(this.set("totalLength",Yc.Z.length(t)),this.get("totalLength")):r},e.prototype.getPoint=function(t){var r=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,u.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Ka.default.pointAt(r[o][0],r[o][1],r[o+1][0],r[o+1][1],a)},e.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var r=this.getTotalLength();if(!(r<=0)){var n=0,a=[],o,s;(0,u.each)(t,function(l,f){t[f+1]&&(o=[],o[0]=n/r,s=Ka.default.length(l[0],l[1],t[f+1][0],t[f+1][1]),n+=s,o[1]=n/r,a.push(o))}),this.set("tCache",a)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,r=[];return r.push([t[1][0],t[1][1]]),r.push([t[0][0],t[0][1]]),r},e.prototype.getEndTangent=function(){var t=this.attr().points,r=t.length-1,n=[];return n.push([t[r-1][0],t[r-1][1]]),n.push([t[r][0],t[r][1]]),n},e}(Aa),cw=hw,vw=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,dw=/[^\s\,]+/gi;function pw(i){var e=0,t=0,r=0,n=0;return(0,u.isArray)(i)?i.length===1?e=t=r=n=i[0]:i.length===2?(e=r=i[0],t=n=i[1]):i.length===3?(e=i[0],t=n=i[1],r=i[2]):(e=i[0],t=i[1],r=i[2],n=i[3]):e=t=r=n=i,{r1:e,r2:t,r3:r,r4:n}}function c9(i){if(i=i||[],isArray(i))return i;if(isString(i))return i=i.match(vw),each(i,function(e,t){if(e=e.match(dw),e[0].length>1){var r=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=r}each(e,function(n,a){isNaN(n)||(e[a]=+n)}),i[t]=e}),i}var gw=function(i){(0,Dr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Dr.__assign)((0,Dr.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,r){var n=this,a=this.attr(),o=this.get("el"),s=!1,l=["x","y","width","height","radius"];(0,u.each)(r||a,function(f,h){l.indexOf(h)!==-1&&!s?(o.setAttribute("d",n._assembleRect(a)),s=!0):l.indexOf(h)===-1&&En[h]&&o.setAttribute(En[h],f)})},e.prototype._assembleRect=function(t){var r=t.x,n=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+r+","+n+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var l=pw(s);(0,u.isArray)(s)?s.length===1?l.r1=l.r2=l.r3=l.r4=s[0]:s.length===2?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):s.length===3?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s;var f=[["M "+(r+l.r1)+","+n],["l "+(a-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-a)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]];return f.join(" ")},e}(Aa),yw=gw,mw=d(56463),Qc=.3,xw={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},bw={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},ww={left:"left",start:"left",center:"middle",right:"end",end:"end"},Sw=function(i){(0,Dr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Dr.__assign)((0,Dr.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,r){var n=this,a=this.attr(),o=this.get("el");this._setFont(),(0,u.each)(r||a,function(s,l){l==="text"?n._setText(""+s):l==="matrix"&&s?ls(n):En[l]&&o.setAttribute(En[l],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),r=this.attr(),n=r.textBaseline,a=r.textAlign,o=(0,mw.detect)();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",bw[n]||"alphabetic"):t.setAttribute("alignment-baseline",xw[n]||"baseline"),t.setAttribute("text-anchor",ww[a]||"left")},e.prototype._setText=function(t){var r=this.get("el"),n=this.attr(),a=n.x,o=n.textBaseline,s=o===void 0?"bottom":o;if(!t)r.innerHTML="";else if(~t.indexOf(`
`)){var l=t.split(`
`),f=l.length-1,h="";(0,u.each)(l,function(c,v){v===0?s==="alphabetic"?h+='<tspan x="'+a+'" dy="'+-f+'em">'+c+"</tspan>":s==="top"?h+='<tspan x="'+a+'" dy="0.9em">'+c+"</tspan>":s==="middle"?h+='<tspan x="'+a+'" dy="'+-(f-1)/2+'em">'+c+"</tspan>":s==="bottom"?h+='<tspan x="'+a+'" dy="-'+(f+Qc)+'em">'+c+"</tspan>":s==="hanging"&&(h+='<tspan x="'+a+'" dy="'+(-(f-1)-Qc)+'em">'+c+"</tspan>"):h+='<tspan x="'+a+'" dy="1em">'+c+"</tspan>"}),r.innerHTML=h}else r.innerHTML=t},e}(Aa),Mw=Sw,Cw=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Ew=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Aw=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Jc(i){var e=i.match(Aw);if(!e)return"";var t="";return e.sort(function(r,n){return r=r.split(":"),n=n.split(":"),Number(r[0])-Number(n[0])}),(0,u.each)(e,function(r){r=r.split(":"),t+='<stop offset="'+r[0]+'" stop-color="'+r[1]+'"></stop>'}),t}function Tw(i,e){var t=Cw.exec(i),r=(0,u.mod)((0,u.toRadian)(parseFloat(t[1])),Math.PI*2),n=t[2],a,o;r>=0&&r<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=r&&r<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=r&&r<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(r),l=s*s,f=(o.x-a.x+s*(o.y-a.y))/(l+1)+a.x,h=s*(o.x-a.x+s*(o.y-a.y))/(l+1)+a.y;e.setAttribute("x1",a.x),e.setAttribute("y1",a.y),e.setAttribute("x2",f),e.setAttribute("y2",h),e.innerHTML=Jc(n)}function Pw(i,e){var t=Ew.exec(i),r=parseFloat(t[1]),n=parseFloat(t[2]),a=parseFloat(t[3]),o=t[4];e.setAttribute("cx",r),e.setAttribute("cy",n),e.setAttribute("r",a),e.innerHTML=Jc(o)}var _w=function(){function i(e){this.cfg={};var t=null,r=(0,u.uniqueId)("gradient_");return e.toLowerCase()[0]==="l"?(t=Ea("linearGradient"),Tw(e,t)):(t=Ea("radialGradient"),Pw(e,t)),t.setAttribute("id",r),this.el=t,this.id=r,this.cfg=e,this}return i.prototype.match=function(e,t){return this.cfg===t},i}(),Ow=_w,Lw={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},Iw={x:"-40%",y:"-40%",width:"200%",height:"200%"},kw=function(){function i(e){this.type="filter",this.cfg={},this.type="filter";var t=Ea("filter");return(0,u.each)(Iw,function(r,n){t.setAttribute(n,r)}),this.el=t,this.id=(0,u.uniqueId)("filter_"),this.el.id=this.id,this.cfg=e,this._parseShadow(e,t),this}return i.prototype.match=function(e,t){if(this.type!==e)return!1;var r=!0,n=this.cfg;return(0,u.each)(Object.keys(n),function(a){if(n[a]!==t[a])return r=!1,!1}),r},i.prototype.update=function(e,t){var r=this.cfg;return r[Lw[e]]=t,this._parseShadow(r,this.el),this},i.prototype._parseShadow=function(e,t){var r=`<feDropShadow
      dx="`+(e.dx||0)+`"
      dy="`+(e.dy||0)+`"
      stdDeviation="`+(e.blur?e.blur/10:0)+`"
      flood-color="`+(e.color?e.color:"#000")+`"
      flood-opacity="`+(e.opacity?e.opacity:1)+`"
      />`;t.innerHTML=r},i}(),Bw=kw,Dw=function(){function i(e,t){this.cfg={};var r=Ea("marker"),n=(0,u.uniqueId)("marker_");r.setAttribute("id",n);var a=Ea("path");a.setAttribute("stroke",e.stroke||"none"),a.setAttribute("fill",e.fill||"none"),r.appendChild(a),r.setAttribute("overflow","visible"),r.setAttribute("orient","auto-start-reverse"),this.el=r,this.child=a,this.id=n;var o=e[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=e.stroke||"#000",o===!0?this._setDefaultPath(t,a):(this.cfg=o,this._setMarker(e.lineWidth,a)),this}return i.prototype.match=function(){return!1},i.prototype._setDefaultPath=function(e,t){var r=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),r.setAttribute("refX",""+10*Math.cos(Math.PI/6)),r.setAttribute("refY",""+5)},i.prototype._setMarker=function(e,t){var r=this.el,n=this.cfg.path,a=this.cfg.d;(0,u.isArray)(n)&&(n=n.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",n),r.appendChild(t),a&&r.setAttribute("refX",""+a/e)},i.prototype.update=function(e){var t=this.child;t.attr?t.attr("fill",e):t.setAttribute("fill",e)},i}(),qc=Dw,Fw=function(){function i(e){this.type="clip",this.cfg={};var t=Ea("clipPath");this.el=t,this.id=(0,u.uniqueId)("clip_"),t.id=this.id;var r=e.cfg.el;return t.appendChild(r),this.cfg=e,this}return i.prototype.match=function(){return!1},i.prototype.remove=function(){var e=this.el;e.parentNode.removeChild(e)},i}(),Rw=Fw,Nw=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Yw=function(){function i(e){this.cfg={};var t=Ea("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var r=Ea("image");t.appendChild(r);var n=(0,u.uniqueId)("pattern_");t.id=n,this.el=t,this.id=n,this.cfg=e;var a=Nw.exec(e),o=a[2];r.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function l(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return s.complete?l():(s.onload=l,s.src=s.src),this}return i.prototype.match=function(e,t){return this.cfg===t},i}(),Gw=Yw,zw=function(){function i(e){var t=Ea("defs"),r=(0,u.uniqueId)("defs_");t.id=r,e.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=e}return i.prototype.find=function(e,t){for(var r=this.children,n=null,a=0;a<r.length;a++)if(r[a].match(e,t)){n=r[a].id;break}return n},i.prototype.findById=function(e){for(var t=this.children,r=null,n=0;n<t.length;n++)if(t[n].id===e){r=t[n];break}return r},i.prototype.add=function(e){this.children.push(e),e.canvas=this.canvas,e.parent=this},i.prototype.getDefaultArrow=function(e,t){var r=e.stroke||e.strokeStyle;if(this.defaultArrow[r])return this.defaultArrow[r].id;var n=new qc(e,t);return this.defaultArrow[r]=n,this.el.appendChild(n.el),this.add(n),n.id},i.prototype.addGradient=function(e){var t=new Ow(e);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addArrow=function(e,t){var r=new qc(e,t);return this.el.appendChild(r.el),this.add(r),r.id},i.prototype.addShadow=function(e){var t=new Bw(e);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addPattern=function(e){var t=new Gw(e);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addClip=function(e){var t=new Rw(e);return this.el.appendChild(t.el),this.add(t),t.id},i}(),Xw=zw,Vw=function(i){(0,Dr.__extends)(e,i);function e(t){return i.call(this,(0,Dr.__assign)((0,Dr.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return e.prototype.getShapeBase=function(){return I},e.prototype.getGroupBase=function(){return tf},e.prototype.getShape=function(t,r,n){var a=n.target||n.srcElement;if(!qu[a.tagName]){for(var o=a.parentNode;o&&!qu[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},e.prototype.createDom=function(){var t=Ea("svg"),r=new Xw(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",r),t},e.prototype.onCanvasChange=function(t){var r=this.get("context"),n=this.get("el");if(t==="sort"){var a=this.get("children");a&&a.length&&Uc(this,function(s,l){return a.indexOf(s)-a.indexOf(l)?1:0})}else if(t==="clear"){if(n){n.innerHTML="";var o=r.el;o.innerHTML="",n.appendChild(o)}}else t==="matrix"?ls(this):t==="clip"?us(this,r):t==="changeSize"&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),r=this.getChildren();us(this,t),r.length&&Zc(t,r)},e}(ar.AbstractCanvas),tv=Vw,Hw=d(23231),Ww=Hw.version;function ef(i){return i?!1:i==null||isNaN(i)}function ev(i){if((0,u.isArray)(i))return ef(i[1].y);var e=i.y;return(0,u.isArray)(e)?ef(e[0]):ef(e)}function rf(i,e,t){if(e===void 0&&(e=!1),t===void 0&&(t=!0),!i.length||i.length===1&&!t)return[];if(e){for(var r=[],n=0,a=i.length;n<a;n++){var o=i[n];ev(o)||r.push(o)}return[r]}for(var s=[],l=[],n=0,a=i.length;n<a;n++){var o=i[n];ev(o)?l.length&&(l.length===1&&!t||s.push(l),l=[]):l.push(o)}return l.length&&s.push(l),s}function ki(i,e,t,r){r===void 0&&(r="");var n=i.style,a=n===void 0?{}:n,o=i.defaultStyle,s=i.color,l=i.size,f=(0,k.__assign)((0,k.__assign)({},o),a);return s&&(e&&(a.stroke||(f.stroke=s)),t&&(a.fill||(f.fill=s))),r&&(0,u.isNil)(a[r])&&!(0,u.isNil)(l)&&(f[r]=l),f}function nf(i){var e=i.x,t=(0,u.isArray)(i.y)?i.y:[i.y];return t.map(function(r,n){return{x:(0,u.isArray)(e)?e[n]:e,y:r}})}var jw={line:function(i,e,t){return[["M",i-t,e],["L",i+t,e]]},dot:function(i,e,t){return[["M",i-t,e],["L",i+t,e]]},dash:function(i,e,t){return[["M",i-t,e],["L",i+t,e]]},smooth:function(i,e,t){return[["M",i-t,e],["A",t/2,t/2,0,1,1,i,e],["A",t/2,t/2,0,1,0,i+t,e]]},hv:function(i,e,t){return[["M",i-t-1,e-2.5],["L",i,e-2.5],["L",i,e+2.5],["L",i+t+1,e+2.5]]},vh:function(i,e,t){return[["M",i-t-1,e+2.5],["L",i,e+2.5],["L",i,e-2.5],["L",i+t+1,e-2.5]]},hvh:function(i,e,t){return[["M",i-(t+1),e+2.5],["L",i-t/2,e+2.5],["L",i-t/2,e-2.5],["L",i+t/2,e-2.5],["L",i+t/2,e+2.5],["L",i+t+1,e+2.5]]},vhv:function(i,e){return[["M",i-5,e+2.5],["L",i-5,e],["L",i,e],["L",i,e-3],["L",i,e+3],["L",i+6.5,e+3]]}};function rv(i,e){var t=i.color;return{symbol:jw[e],style:{lineWidth:2,r:6,stroke:t}}}function Uw(i,e,t){for(var r=i.isStack,n=i.connectNulls,a=i.isInCircle,o=i.showSinglePoint,s=ki(i,!0,!1,"lineWidth"),l=rf(i.points,n,o),f=[],h=0,c=l.length;h<c;h++){var v=l[h];f=f.concat(Kw(v,a,r,e,t,s))}return s.path=f,s}function af(i,e,t,r,n){if(i.length===1)return[["M",i[0].x,i[0].y-n.lineWidth/2],["L",i[0].x,i[0].y],["L",i[0].x,i[0].y+n.lineWidth/2]];var a;return t?(e&&i.length&&i.push({x:i[0].x,y:i[0].y}),a=Te(i,!1,r)):(a=Ce(i,!1),e&&a.push(["Z"])),a}function Zw(i,e,t,r,n,a){var o=[],s=[];(0,u.each)(i,function(h){var c=nf(h);o.push(c[1]),s.push(c[0])});var l=af(o,e,r,n,a),f=af(s,e,r,n,a);return t?l:l.concat(f)}function Kw(i,e,t,r,n,a){if(i.length){var o=i[0];return(0,u.isArray)(o.y)?Zw(i,e,t,r,n,a):af(i,e,r,n,a)}return[]}var v9=so("line",{defaultShapeType:"line"});(0,u.each)(["line","dot","dash","smooth"],function(i){Cn("line",i,{draw:function(e,t){var r=i==="smooth",n;if(r){var a=this.coordinate,o=a.start,s=a.end;n=[[o.x,s.y],[s.x,o.y]]}var l=Uw(e,r,n),f=t.addShape({type:"path",attrs:l,name:"line"});return f},getMarker:function(e){return rv(e,i)}})});var d9=null,$w=function(i){(0,k.__extends)(e,i);function e(t){var r=i.call(this,t)||this;r.type="path",r.shapeType="line";var n=t.connectNulls,a=n===void 0?!1:n,o=t.showSinglePoint,s=o===void 0?!0:o;return r.connectNulls=a,r.showSinglePoint=s,r}return e.prototype.createElements=function(t,r,n){n===void 0&&(n=!1);var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,f=a.container,h=this.getElementId(t),c=this.getShapeInfo(t),v=o[h];if(v){var P=v.getModel();(this.isCoordinateChanged||yc(P,c))&&(v.animate=this.animateOption,v.update(c)),delete o[h]}else{var x=this.getShapeFactory();v=new cc({shapeFactory:x,container:f,offscreenGroup:this.getOffscreenGroup()}),v.geometry=this,v.animate=this.animateOption,v.draw(c,n)}return l.push(v),s[h]=v,l},e.prototype.getPointsAndData=function(t){for(var r=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];r.push({x:s.x,y:s.y}),n.push(s[at])}return{points:r,data:n}},e.prototype.getShapeInfo=function(t){var r=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),a=n.points,o=n.data;return r.mappingData=t,r.data=o,r.isStack=!!this.getAdjust("stack"),r.points=a,r.connectNulls=this.connectNulls,r.showSinglePoint=this.showSinglePoint,r},e}(Za),of=$w;function Qw(i,e,t,r,n){var a=[];if(i.length){for(var o=[],s=[],l=0,f=i.length;l<f;l++){var h=i[l];o.push(h[1]),s.push(h[0])}s=s.reverse(),(0,u.each)([o,s],function(c,v){var x=[],P=r.parsePoints(c),D=P[0];o.length===1&&s.length===1?x=v===0?[["M",D.x-.5,D.y],["L",D.x+.5,D.y]]:[["L",D.x+.5,D.y],["L",D.x-.5,D.y]]:(e&&P.push({x:D.x,y:D.y}),t?x=Te(P,!1,n):x=Ce(P,!1),v>0&&(x[0][0]="L")),a=a.concat(x)}),a.push(["Z"])}return a}function nl(i,e,t,r,n){for(var a=ki(i,e,!e,"lineWidth"),o=i.connectNulls,s=i.isInCircle,l=i.points,f=i.showSinglePoint,h=rf(l,o,f),c=[],v=0,x=h.length;v<x;v++){var P=h[v];c=c.concat(Qw(P,s,t,r,n))}return a.path=c,a}function nv(i){var e=i.start,t=i.end;return[[e.x,t.y],[t.x,e.y]]}var p9=so("area",{defaultShapeType:"area",getDefaultPoints:function(i){var e=i.x,t=i.y0,r=(0,u.isArray)(i.y)?i.y:[t,i.y];return r.map(function(n){return{x:e,y:n}})}});Cn("area","area",{draw:function(i,e){var t=nl(i,!1,!1,this),r=e.addShape({type:"path",attrs:t,name:"area"});return r},getMarker:function(i){var e=i.color;return{symbol:function(t,r,n){return n===void 0&&(n=5.5),[["M",t-n,r-4],["L",t+n,r-4],["L",t+n,r+4],["L",t-n,r+4],["Z"]]},style:{r:5,fill:e}}}});var g9=null,Jw=function(i){(0,k.__extends)(e,i);function e(t){var r=i.call(this,t)||this;r.type="area",r.shapeType="area",r.generatePoints=!0,r.startOnZero=!0;var n=t.startOnZero,a=n===void 0?!0:n,o=t.sortable,s=o===void 0?!0:o,l=t.showSinglePoint,f=l===void 0?!1:l;return r.startOnZero=a,r.sortable=s,r.showSinglePoint=f,r}return e.prototype.getPointsAndData=function(t){for(var r=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];r.push(s.points),n.push(s[at])}return{points:r,data:n}},e.prototype.getYMinValue=function(){if(this.startOnZero)return i.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},e}(of),qw=Jw,y9=so("edge",{defaultShapeType:"line",getDefaultPoints:function(i){return nf(i)}});Cn("edge","line",{draw:function(i,e){var t=ki(i,!0,!1,"lineWidth"),r=Ce(this.parsePoints(i.points),this.coordinate.isPolar);return e.addShape("path",{attrs:(0,k.__assign)((0,k.__assign)({},t),{path:r})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var m9=null,tS=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return e}(Za),eS=tS,rS=d(55223),nS=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return e.prototype.createElements=function(t,r,n){n===void 0&&(n=!1);var a=this.prepareRange(t),o=this.prepareSize(),s=(0,u.get)(this.styleOption,["style","shadowBlur"]);return(0,u.isNumber)(s)||(s=o/2),this.prepareGreyScaleBlurredCircle(o,s),this.drawWithRange(t,a,o,s),null},e.prototype.clear=function(){i.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},e.prototype.prepareRange=function(t){var r=this.getAttribute("color"),n=r.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[at][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},e.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,u.isNumber)(t)||(t=this.getDefaultSize()),t},e.prototype.prepareGreyScaleBlurredCircle=function(t,r){var n=this.getGrayScaleBlurredCanvas(),a=t+r,o=n.getContext("2d");n.width=n.height=a*2,o.clearRect(0,0,n.width,n.height),o.shadowOffsetX=o.shadowOffsetY=a*2,o.shadowBlur=r,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,t,0,Math.PI*2,!0),o.closePath(),o.fill()},e.prototype.drawWithRange=function(t,r,n,a){var o=this.coordinate,s=o.start,l=o.end,f=this.coordinate.getWidth(),h=this.coordinate.getHeight(),c=this.getAttribute("color"),v=c.getFields()[0];this.clearShadowCanvasCtx();var x=this.getShadowCanvasCtx();r&&(t=t.filter(function(ue){return ue[at][v]<=r[1]&&ue[at][v]>=r[0]}));for(var P=this.scales[v],D=0,X=t;D<X.length;D++){var K=X[D],Z=this.getDrawCfg(K),gt=Z.x,mt=Z.y,Nt=P.scale(K[at][v]);this.drawGrayScaleBlurredCircle(gt-s.x,mt-l.y,n+a,Nt,x)}var Zt=x.getImageData(0,0,f,h);this.clearShadowCanvasCtx(),this.colorize(Zt),x.putImageData(Zt,0,0);var ee=this.getImageShape();ee.attr("x",s.x),ee.attr("y",l.y),ee.attr("width",f),ee.attr("height",h),ee.attr("img",x.canvas),ee.set("origin",this.getShapeInfo(t))},e.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),r=this.coordinate;return Math.min(r.getWidth()/(t.scales[0].ticks.length*4),r.getHeight()/(t.scales[1].ticks.length*4))},e.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},e.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},e.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},e.prototype.drawGrayScaleBlurredCircle=function(t,r,n,a,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=a,o.drawImage(s,t-n,r-n)},e.prototype.colorize=function(t){for(var r=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if((0,u.isNumber)(s)){var l=a[s]?a[s]:rS.default.rgb2arr(r.gradient(s/256));n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},e.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var r=this.container;return t=r.addShape({type:"image",attrs:{}}),this.imageShape=t,t},e.prototype.getShapeInfo=function(t){var r=this.getDrawCfg(t[0]);return(0,k.__assign)((0,k.__assign)({},r),{mappingData:t,data:this.getData(t)})},e.prototype.getData=function(t){return t.map(function(r){return r[at]})},e}(Za),iS=nS;function sf(i,e){e===void 0&&(e=!1);var t=i.x,r=i.y,n=i.y0,a=i.size,o,s;(0,u.isArray)(r)?(o=r[0],s=r[1]):(o=n,s=r);var l,f;(0,u.isArray)(t)?(l=t[0],f=t[1]):(l=t-a/2,f=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return e?h.push({x:f,y:(s+o)/2}):h.push({x:f,y:s},{x:f,y:o}),h}function lf(i,e){e===void 0&&(e=!0);var t=[],r=i[0];t.push(["M",r.x,r.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return e&&(t.push(["L",r.x,r.y]),t.push(["z"])),t}function iv(i,e,t){var r=[];return(0,u.isNil)(e)?t?r.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[2].x,i[2].y],["Z"]):r.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[3].x,i[3].y],["Z"]):r.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",e[1].x,e[1].y],["L",e[0].x,e[0].y],["Z"]),r}var x9=so("interval",{defaultShapeType:"rect",getDefaultPoints:function(i){return sf(i)}});Cn("interval","rect",{draw:function(i,e){var t=ki(i,!1,!0),r=this.parsePath(lf(i.points)),n=e.addShape("path",{attrs:(0,k.__assign)((0,k.__assign)({},t),{path:r}),name:"interval"});return n},getMarker:function(i){var e=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}});var b9=null;function aS(i,e){var t=i.length,r=i;(0,u.isString)(r[0])&&(r=i.map(function(s){return e.translate(s)}));for(var n=r[1]-r[0],a=2;a<t;a++){var o=r[a]-r[a-1];n>o&&(n=o)}return n}function oS(i,e){if(e){var t=(0,u.flatten)(i),r=(0,u.valuesOfKey)(t,e);return r.length}return i.length}function av(i){var e=i.theme,t=i.coordinate,r=i.getXScale(),n=r.values,a=i.beforeMappingData,o=n.length;if(r.isLinear&&n.length>1){n.sort();var s=aS(n,r);o=(r.max-r.min)/s,n.length>o&&(o=n.length)}var l=r.range,f=1/o,h=1;if(t.isPolar?t.isTransposed&&o>1?h=e.multiplePieWidthRatio:h=e.roseWidthRatio:(r.isLinear&&(f*=l[1]-l[0]),h=e.columnWidthRatio),f*=h,i.getAdjust("dodge")){var c=i.getAdjust("dodge"),v=c.dodgeBy,x=oS(a,v);f=f/x}var P=e.maxColumnWidth,D=e.minColumnWidth,X=ve(i.coordinate);if(P){var K=P/X;f>K&&(f=K)}if(D){var Z=D/X;f<Z&&(f=Z)}return f}var sS=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="interval",t.shapeType="interval",t.generatePoints=!0,t}return e.prototype.createShapePointsCfg=function(t){var r=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=ve(o);n=n/s}else this.defaultSize||(this.defaultSize=av(this)),n=this.defaultSize;return r.size=n,r},e.prototype.adjustScale=function(){i.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:Math.max(Math.max.apply(null,t.values),t.max)});else{var r=this.scaleDefs,n=t.field,a=t.min,o=t.max,s=t.type;s!=="time"&&(a>0&&!(0,u.get)(r,[n,"min"])&&t.change({min:0}),o<=0&&!(0,u.get)(r,[n,"max"])&&t.change({max:0}))}},e}(Za),lS=sS,uS=function(i){(0,k.__extends)(e,i);function e(t){var r=i.call(this,t)||this;r.type="line";var n=t.sortable,a=n===void 0?!0:n;return r.sortable=a,r}return e}(of),fS=uS,Po={hexagon:function(i,e,t){var r=t/2*Math.sqrt(3);return[["M",i,e-t],["L",i+r,e-t/2],["L",i+r,e+t/2],["L",i,e+t],["L",i-r,e+t/2],["L",i-r,e-t/2],["Z"]]},bowtie:function(i,e,t){var r=t-1.5;return[["M",i-t,e-r],["L",i+t,e+r],["L",i+t,e-r],["L",i-t,e+r],["Z"]]},cross:function(i,e,t){return[["M",i-t,e-t],["L",i+t,e+t],["M",i+t,e-t],["L",i-t,e+t]]},tick:function(i,e,t){return[["M",i-t/2,e-t],["L",i+t/2,e-t],["M",i,e-t],["L",i,e+t],["M",i-t/2,e+t],["L",i+t/2,e+t]]},plus:function(i,e,t){return[["M",i-t,e],["L",i+t,e],["M",i,e-t],["L",i,e+t]]},hyphen:function(i,e,t){return[["M",i-t,e],["L",i+t,e]]},line:function(i,e,t){return[["M",i,e-t],["L",i,e+t]]}},ov=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],hS=["cross","tick","plus","hyphen","line"];function uf(i,e,t,r,n){var a=ki(e,n,!n,"r"),o=i.parsePoints(e.points),s=o[0];if(e.isStack)s=o[1];else if(o.length>1){for(var l=t.addGroup(),f=0,h=o;f<h.length;f++){var c=h[f];l.addShape({type:"marker",attrs:(0,k.__assign)((0,k.__assign)((0,k.__assign)({},a),{symbol:Po[r]||r}),c)})}return l}return t.addShape({type:"marker",attrs:(0,k.__assign)((0,k.__assign)((0,k.__assign)({},a),{symbol:Po[r]||r}),s)})}var w9=so("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(i){return nf(i)}});(0,u.each)(ov,function(i){Cn("point","hollow-"+i,{draw:function(e,t){return uf(this,e,t,i,!0)},getMarker:function(e){var t=e.color;return{symbol:Po[i]||i,style:{r:4.5,stroke:t,fill:null}}}})});var S9=null,cS=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return e.prototype.getDrawCfg=function(t){var r=i.prototype.getDrawCfg.call(this,t);return(0,k.__assign)((0,k.__assign)({},r),{isStack:!!this.getAdjust("stack")})},e}(Za),vS=cS;function dS(i){for(var e=i[0],t=1,r=[["M",e.x,e.y]];t<i.length;){var n=i[t];(n.x!==i[t-1].x||n.y!==i[t-1].y)&&(r.push(["L",n.x,n.y]),n.x===e.x&&n.y===e.y&&t<i.length-1&&(e=i[t+1],r.push(["Z"]),r.push(["M",e.x,e.y]),t++)),t++}return(0,u.isEqual)((0,u.last)(r),e)||r.push(["L",e.x,e.y]),r.push(["Z"]),r}var M9=so("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(i){var e=[];return(0,u.each)(i.x,function(t,r){var n=i.y[r];e.push({x:t,y:n})}),e}});Cn("polygon","polygon",{draw:function(i,e){if(!(0,u.isEmpty)(i.points)){var t=ki(i,!0,!0),r=this.parsePath(dS(i.points));return e.addShape("path",{attrs:(0,k.__assign)((0,k.__assign)({},t),{path:r}),name:"polygon"})}},getMarker:function(i){var e=i.color;return{symbol:"square",style:{r:4,fill:e}}}});var C9=null,pS=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return e.prototype.createShapePointsCfg=function(t){var r=i.prototype.createShapePointsCfg.call(this,t),n=r.x,a=r.y,o;if(!((0,u.isArray)(n)&&(0,u.isArray)(a))){var s=this.getXScale(),l=this.getYScale(),f=s.values.length,h=l.values.length,c=.5*1/f,v=.5*1/h;s.isCategory&&l.isCategory?(n=[n-c,n-c,n+c,n+c],a=[a-v,a+v,a+v,a-v]):(0,u.isArray)(n)?(o=n,n=[o[0],o[0],o[1],o[1]],a=[a-v/2,a+v/2,a+v/2,a-v/2]):(0,u.isArray)(a)&&(o=a,a=[o[0],o[1],o[1],o[0]],n=[n-c/2,n-c/2,n+c/2,n+c/2]),r.x=n,r.y=a}return r},e}(Za),gS=pS,E9=so("schema",{defaultShapeType:""}),A9=null,yS=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return e.prototype.createShapePointsCfg=function(t){var r=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=ve(o);n=n/s}else this.defaultSize||(this.defaultSize=av(this)),n=this.defaultSize;return r.size=n,r},e}(Za),mS=yS;Cn("area","line",{draw:function(i,e){var t=nl(i,!0,!1,this),r=e.addShape({type:"path",attrs:t,name:"area"});return r},getMarker:function(i){var e=i.color;return{symbol:function(t,r,n){return n===void 0&&(n=5.5),[["M",t-n,r-4],["L",t+n,r-4],["L",t+n,r+4],["L",t-n,r+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}}),Cn("area","smooth",{draw:function(i,e){var t=this.coordinate,r=nl(i,!1,!0,this,nv(t)),n=e.addShape({type:"path",attrs:r,name:"area"});return n},getMarker:function(i){var e=i.color;return{symbol:function(t,r,n){return n===void 0&&(n=5.5),[["M",t-n,r-4],["L",t+n,r-4],["L",t+n,r+4],["L",t-n,r+4],["Z"]]},style:{r:5,fill:e}}}}),Cn("area","smooth-line",{draw:function(i,e){var t=this.coordinate,r=nl(i,!0,!0,this,nv(t)),n=e.addShape({type:"path",attrs:r,name:"area"});return n},getMarker:function(i){var e=i.color;return{symbol:function(t,r,n){return n===void 0&&(n=5.5),[["M",t-n,r-4],["L",t+n,r-4],["L",t+n,r+4],["L",t-n,r+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}});function ff(i,e){var t=[];t.push({x:i.x,y:i.y*1/2+e.y*1/2}),t.push({x:e.x,y:i.y*1/2+e.y*1/2}),t.push(e);var r=["C"];return(0,u.each)(t,function(n){r.push(n.x,n.y)}),r}function hf(i,e){var t=[];t.push({x:e.x,y:e.y}),t.push(i);var r=["Q"];return(0,u.each)(t,function(n){r.push(n.x,n.y)}),r}function xS(i,e,t){var r=hf(e,t),n=[["M",i.x,i.y]];return n.push(r),n}function bS(i,e){var t=hf(i[1],e),r=hf(i[3],e),n=[["M",i[0].x,i[0].y]];return n.push(r),n.push(["L",i[3].x,i[3].y]),n.push(["L",i[2].x,i[2].y]),n.push(t),n.push(["L",i[1].x,i[1].y]),n.push(["L",i[0].x,i[0].y]),n.push(["Z"]),n}Cn("edge","arc",{draw:function(i,e){var t=ki(i,!0,!1,"lineWidth"),r=i.points,n=r.length>2?"weight":"normal",a;if(i.isInCircle){var o={x:0,y:1};return n==="normal"?a=xS(r[0],r[1],o):(t.fill=t.stroke,a=bS(r,o)),a=this.parsePath(a),e.addShape("path",{attrs:(0,k.__assign)((0,k.__assign)({},t),{path:a})})}else{if(n==="normal")return r=this.parsePoints(r),a=wn((r[1].x+r[0].x)/2,r[0].y,Math.abs(r[1].x-r[0].x)/2,Math.PI,Math.PI*2),e.addShape("path",{attrs:(0,k.__assign)((0,k.__assign)({},t),{path:a})});var s=ff(r[1],r[3]),l=ff(r[2],r[0]);return a=[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],s,["L",r[3].x,r[3].y],["L",r[2].x,r[2].y],l,["Z"]],a=this.parsePath(a),t.fill=t.stroke,e.addShape("path",{attrs:(0,k.__assign)((0,k.__assign)({},t),{path:a})})}},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});function wS(i,e){var t=ff(i,e),r=[["M",i.x,i.y]];return r.push(t),r}Cn("edge","smooth",{draw:function(i,e){var t=ki(i,!0,!1,"lineWidth"),r=i.points,n=this.parsePath(wS(r[0],r[1]));return e.addShape("path",{attrs:(0,k.__assign)((0,k.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var il=1/3;function SS(i,e){var t=[];t.push({x:i.x,y:i.y*(1-il)+e.y*il}),t.push({x:e.x,y:i.y*(1-il)+e.y*il}),t.push(e);var r=[["M",i.x,i.y]];return(0,u.each)(t,function(n){r.push(["L",n.x,n.y])}),r}Cn("edge","vhv",{draw:function(i,e){var t=ki(i,!0,!1,"lineWidth"),r=i.points,n=this.parsePath(SS(r[0],r[1]));return e.addShape("path",{attrs:(0,k.__assign)((0,k.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}}),Cn("interval","funnel",{getPoints:function(i){return i.size=i.size*2,sf(i)},draw:function(i,e){var t=ki(i,!1,!0),r=this.parsePath(iv(i.points,i.nextPoints,!1)),n=e.addShape("path",{attrs:(0,k.__assign)((0,k.__assign)({},t),{path:r}),name:"interval"});return n},getMarker:function(i){var e=i.color;return{symbol:"square",style:{r:4,fill:e}}}}),Cn("interval","hollow-rect",{draw:function(i,e){var t=ki(i,!0,!1),r=this.parsePath(lf(i.points)),n=e.addShape("path",{attrs:(0,k.__assign)((0,k.__assign)({},t),{path:r}),name:"interval"});return n},getMarker:function(i){var e=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}});function MS(i){var e=i.x,t=i.y,r=i.y0;return(0,u.isArray)(t)?t.map(function(n,a){return{x:(0,u.isArray)(e)?e[a]:e,y:n}}):[{x:e,y:r},{x:e,y:t}]}Cn("interval","line",{getPoints:function(i){return MS(i)},draw:function(i,e){var t=ki(i,!0,!1,"lineWidth"),r=this.parsePath(lf(i.points,!1)),n=e.addShape("path",{attrs:(0,k.__assign)((0,k.__assign)({},t),{path:r}),name:"interval"});return n},getMarker:function(i){var e=i.color;return{symbol:function(t,r,n){return[["M",t,r-n],["L",t,r+n]]},style:{r:5,stroke:e}}}}),Cn("interval","pyramid",{getPoints:function(i){return i.size=i.size*2,sf(i,!0)},draw:function(i,e){var t=ki(i,!1,!0),r=this.parsePath(iv(i.points,i.nextPoints,!0)),n=e.addShape("path",{attrs:(0,k.__assign)((0,k.__assign)({},t),{path:r}),name:"interval"});return n},getMarker:function(i){var e=i.color;return{symbol:"square",style:{r:4,fill:e}}}});function CS(i){var e=i.x,t=i.y,r=i.y0,n=i.size,a,o;(0,u.isArray)(t)?(a=t[0],o=t[1]):(a=r,o=t);var s=e+n/2,l=e-n/2;return[{x:e,y:a},{x:e,y:o},{x:l,y:a},{x:s,y:a},{x:l,y:o},{x:s,y:o}]}function ES(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y]]}Cn("interval","tick",{getPoints:function(i){return CS(i)},draw:function(i,e){var t=ki(i,!0,!1),r=this.parsePath(ES(i.points)),n=e.addShape("path",{attrs:(0,k.__assign)((0,k.__assign)({},t),{path:r}),name:"interval"});return n},getMarker:function(i){var e=i.color;return{symbol:function(t,r,n){return[["M",t-n/2,r-n],["L",t+n/2,r-n],["M",t,r-n],["L",t,r+n],["M",t-n/2,r+n],["L",t+n/2,r+n]]},style:{r:5,stroke:e}}}});var AS=function(i,e,t){var r=i.x,n=i.y,a=e.x,o=e.y,s;switch(t){case"hv":s=[{x:a,y:n}];break;case"vh":s=[{x:r,y:o}];break;case"hvh":var l=(a+r)/2;s=[{x:l,y:n},{x:l,y:o}];break;case"vhv":var f=(n+o)/2;s=[{x:r,y:f},{x:a,y:f}];break;default:break}return s};function TS(i,e){var t=[];return(0,u.each)(i,function(r,n){var a=i[n+1];if(t.push(r),a){var o=AS(r,a,e);t=t.concat(o)}}),t}function PS(i){return i.map(function(e,t){return t===0?["M",e.x,e.y]:["L",e.x,e.y]})}function _S(i,e){var t=rf(i.points,i.connectNulls,i.showSinglePoint),r=[];return(0,u.each)(t,function(n){var a=TS(n,e);r=r.concat(PS(a))}),(0,k.__assign)((0,k.__assign)({},ki(i,!0,!1,"lineWidth")),{path:r})}(0,u.each)(["hv","vh","hvh","vhv"],function(i){Cn("line",i,{draw:function(e,t){var r=_S(e,i),n=t.addShape({type:"path",attrs:r,name:"line"});return n},getMarker:function(e){return rv(e,i)}})}),(0,u.each)(hS,function(i){Cn("point",i,{draw:function(e,t){return uf(this,e,t,i,!0)},getMarker:function(e){var t=e.color;return{symbol:Po[i],style:{r:4.5,stroke:t,fill:null}}}})}),Cn("point","image",{draw:function(i,e){var t=ki(i,!1,!1,"r").r,r=this.parsePoints(i.points),n=r[0];if(i.isStack)n=r[1];else if(r.length>1){for(var a=e.addGroup(),o=0,s=r;o<s.length;o++){var l=s[o];a.addShape("image",{attrs:{x:l.x-t/2,y:l.y-t,width:t,height:t,img:i.shape[1]}})}return a}return e.addShape("image",{attrs:{x:n.x-t/2,y:n.y-t,width:t,height:t,img:i.shape[1]}})},getMarker:function(i){var e=i.color;return{symbol:"circle",style:{r:4.5,fill:e}}}}),(0,u.each)(ov,function(i){Cn("point",i,{draw:function(e,t){return uf(this,e,t,i,!1)},getMarker:function(e){var t=e.color;return{symbol:Po[i]||i,style:{r:4.5,fill:t}}}})});function sv(i){var e=(0,u.isArray)(i)?i:[i],t=e[0],r=e[e.length-1],n=e.length>1?e[1]:t,a=e.length>3?e[3]:r,o=e.length>2?e[2]:n;return{min:t,max:r,min1:n,max1:a,median:o}}function lv(i,e,t){var r=t/2,n;if((0,u.isArray)(e)){var a=sv(e),o=a.min,s=a.max,l=a.median,f=a.min1,h=a.max1,c=i-r,v=i+r;n=[[c,s],[v,s],[i,s],[i,h],[c,f],[c,h],[v,h],[v,f],[i,f],[i,o],[c,o],[v,o],[c,l],[v,l]]}else{e=(0,u.isNil)(e)?.5:e;var x=sv(i),o=x.min,s=x.max,l=x.median,f=x.min1,h=x.max1,P=e-r,D=e+r;n=[[o,P],[o,D],[o,e],[f,e],[f,P],[f,D],[h,D],[h,P],[h,e],[s,e],[s,P],[s,D],[l,P],[l,D]]}return n.map(function(X){return{x:X[0],y:X[1]}})}function OS(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y],["L",i[6].x,i[6].y],["L",i[7].x,i[7].y],["L",i[4].x,i[4].y],["Z"],["M",i[8].x,i[8].y],["L",i[9].x,i[9].y],["M",i[10].x,i[10].y],["L",i[11].x,i[11].y],["M",i[12].x,i[12].y],["L",i[13].x,i[13].y]]}Cn("schema","box",{getPoints:function(i){var e=i.x,t=i.y,r=i.size;return lv(e,t,r)},draw:function(i,e){var t=ki(i,!0,!1),r=this.parsePath(OS(i.points)),n=e.addShape("path",{attrs:(0,k.__assign)((0,k.__assign)({},t),{path:r,name:"schema"})});return n},getMarker:function(i){var e=i.color;return{symbol:function(t,r,n){var a=[r-6,r-3,r,r+3,r+6],o=lv(t,a,n);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:e}}}});function LS(i){var e=(0,u.isArray)(i)?i:[i],t=e.sort(function(r,n){return n-r});return Mn(t,4,t[t.length-1])}function uv(i,e,t){var r=LS(e);return[{x:i,y:r[0]},{x:i,y:r[1]},{x:i-t/2,y:r[2]},{x:i-t/2,y:r[1]},{x:i+t/2,y:r[1]},{x:i+t/2,y:r[2]},{x:i,y:r[2]},{x:i,y:r[3]}]}function IS(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["L",i[4].x,i[4].y],["L",i[5].x,i[5].y],["Z"],["M",i[6].x,i[6].y],["L",i[7].x,i[7].y]]}Cn("schema","candle",{getPoints:function(i){var e=i.x,t=i.y,r=i.size;return uv(e,t,r)},draw:function(i,e){var t=ki(i,!0,!0),r=this.parsePath(IS(i.points)),n=e.addShape("path",{attrs:(0,k.__assign)((0,k.__assign)({},t),{path:r,name:"schema"})});return n},getMarker:function(i){var e=i.color;return{symbol:function(t,r,n){var a=[r+7.5,r+3,r-3,r-7.5],o=uv(t,a,n);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:e,fill:e,r:6}}}});function kS(i,e){var t=Math.abs(i[0].x-i[2].x),r=Math.abs(i[0].y-i[2].y),n=Math.min(t,r);e&&(n=(0,u.clamp)(e,0,Math.min(t,r))),n=n/2;var a=(i[0].x+i[2].x)/2,o=(i[0].y+i[2].y)/2;return{x:a-n,y:o-n,width:n*2,height:n*2}}Cn("polygon","square",{draw:function(i,e){if(!(0,u.isEmpty)(i.points)){var t=ki(i,!0,!0),r=this.parsePoints(i.points);return e.addShape("rect",{attrs:(0,k.__assign)((0,k.__assign)({},t),kS(r,i.size)),name:"polygon"})}},getMarker:function(i){var e=i.color;return{symbol:"square",style:{r:4,fill:e}}}});var BS=function(i){(0,k.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.setLabelPosition=function(t,r,n,a){var o=this.getCoordinate(),s=o.isTransposed,l=r.points,f=o.convert(l[0]),h=o.convert(l[2]),c=s?-1:1,v=(f.x-h.x)/2*c,x=(f.y-h.y)/2*c;switch(a){case"right":s||(t.x-=v,t.y+=x),t.textAlign=(0,u.get)(t,"textAlign","left");break;case"left":s?t.x-=v*2:(t.x+=v,t.y+=x),t.textAlign=(0,u.get)(t,"textAlign","right");break;case"bottom":s?(t.x-=v,t.y-=x):t.y+=x*2,t.textAlign=(0,u.get)(t,"textAlign","center"),t.textBaseline=(0,u.get)(t,"textBaseline","top");break;case"middle":s?t.x-=v:t.y+=x,t.textAlign=(0,u.get)(t,"textAlign","center");break;case"top":s&&(t.x-=v,t.y+=x),t.textAlign=(0,u.get)(t,"textAlign","center"),t.textBaseline=(0,u.get)(t,"textBaseline","bottom");break;default:break}},e}(Us),DS=BS,al=Math.PI/2,FS=function(i){(0,k.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getLabelAlign=function(t){var r=this.getCoordinate(),n;if(t.labelEmit)n=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!r.isTransposed)n="center";else{var a=r.getCenter(),o=this.getDefaultOffset(t.offset);Math.abs(t.x-a.x)<1?n="center":t.angle>Math.PI||t.angle<=0?n=o>0?"left":"right":n=o>0?"right":"left"}return n},e.prototype.getLabelPoint=function(t,r,n){var a=1,o,s=t.content[n];this.isToMiddle(r)?o=this.getMiddlePoint(r.points):(t.content.length===1&&n===0?n=1:n===0&&(a=-1),o=this.getArcPoint(r,n));var l=this.getDefaultOffset(t.offset)*a,f=this.getPointAngle(o),h=t.labelEmit,c=this.getCirclePoint(f,l,o,h);return c.r===0?c.content="":(c.content=s,c.angle=f,c.color=r.color),c.rotate=t.autoRotate?this.getLabelRotate(f,l,h):t.rotate,c.start={x:o.x,y:o.y},c},e.prototype.getArcPoint=function(t,r){return r===void 0&&(r=0),!(0,u.isArray)(t.x)&&!(0,u.isArray)(t.y)?{x:t.x,y:t.y}:{x:(0,u.isArray)(t.x)?t.x[r]:t.x,y:(0,u.isArray)(t.y)?t.y[r]:t.y}},e.prototype.getPointAngle=function(t){return vr(this.getCoordinate(),t)},e.prototype.getCirclePoint=function(t,r,n,a){var o=this.getCoordinate(),s=o.getCenter(),l=Ge(o,n);if(l===0)return(0,k.__assign)((0,k.__assign)({},s),{r:l});var f=t;if(o.isTransposed&&l>r&&!a){var h=Math.asin(r/(2*l));f=t+h*2}else l=l+r;return{x:s.x+l*Math.cos(f),y:s.y+l*Math.sin(f),r:l}},e.prototype.getLabelRotate=function(t,r,n){var a=t+al;return n&&(a-=al),a&&(a>al?a=a-Math.PI:a<-al&&(a=a+Math.PI)),a},e.prototype.getMiddlePoint=function(t){var r=this.getCoordinate(),n=t.length,a={x:0,y:0};return(0,u.each)(t,function(o){a.x+=o.x,a.y+=o.y}),a.x/=n,a.y/=n,a=r.convert(a),a},e.prototype.isToMiddle=function(t){return t.x.length>2},e}(Us),fv=FS,RS=function(i){(0,k.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.defaultLayout="distribute",r}return e.prototype.getDefaultLabelCfg=function(){return(0,u.get)(this.geometry.theme,"pieLabels",{})},e.prototype.getDefaultOffset=function(t){return t||0},e.prototype.getLabelRotate=function(t,r,n){var a;return r<0&&(a=t,a>Math.PI/2&&(a=a-Math.PI),a<-Math.PI/2&&(a=a+Math.PI)),a},e.prototype.getLabelAlign=function(t){var r=this.getCoordinate(),n=r.getCenter(),a;t.angle<=Math.PI/2&&t.x>=n.x?a="left":a="right";var o=this.getDefaultOffset(t.offset);return o<=0&&(a==="right"?a="left":a="right"),a},e.prototype.getArcPoint=function(t){return t},e.prototype.getPointAngle=function(t){var r=this.getCoordinate(),n={x:(0,u.isArray)(t.x)?t.x[0]:t.x,y:t.y[0]},a={x:(0,u.isArray)(t.x)?t.x[1]:t.x,y:t.y[1]},o,s=vr(r,n);if(t.points&&t.points[0].y===t.points[1].y)o=s;else{var l=vr(r,a);s>=l&&(l=l+Math.PI*2),o=s+(l-s)/2}return o},e.prototype.getCirclePoint=function(t,r,n){var a=this.getCoordinate(),o=a.getCenter(),s=a.getRadius()+r;return(0,k.__assign)((0,k.__assign)({},Pr(o.x,o.y,s,t)),{angle:t,r:s})},e}(fv),NS=RS,hv=4;function YS(i,e,t,r,n,a){var o=!0,s=r.start,l=r.end,f=Math.min(s.y,l.y),h=Math.abs(s.y-l.y),c,v=0,x=Number.MIN_VALUE,P=e.map(function(Nt){return Nt.y>v&&(v=Nt.y),Nt.y<x&&(x=Nt.y),{size:t,targets:[Nt.y-f]}});for(x-=f,v-f>h&&(h=v-f);o;)for(P.forEach(function(Nt){var Zt=(Math.min.apply(x,Nt.targets)+Math.max.apply(x,Nt.targets))/2;Nt.pos=Math.min(Math.max(x,Zt-Nt.size/2),h-Nt.size)}),o=!1,c=P.length;c--;)if(c>0){var D=P[c-1],X=P[c];D.pos+D.size>X.pos&&(D.size+=X.size,D.targets=D.targets.concat(X.targets),D.pos+D.size>h&&(D.pos=h-D.size),P.splice(c,1),o=!0)}c=0,P.forEach(function(Nt){var Zt=f+t/2;Nt.targets.forEach(function(){e[c].y=Nt.pos+Zt,Zt+=t,c++})});for(var K={},Z=0,gt=i;Z<gt.length;Z++){var mt=gt[Z];K[mt.get("id")]=mt}e.forEach(function(Nt){var Zt=Nt.r*Nt.r,ee=Math.pow(Math.abs(Nt.y-n.y),2);if(Zt<ee)Nt.x=n.x;else{var ue=Math.sqrt(Zt-ee);a?Nt.x=n.x+ue:Nt.x=n.x-ue}var ne=K[Nt.id];ne.attr("x",Nt.x),ne.attr("y",Nt.y);var xe=(0,u.find)(ne.getChildren(),function(Pe){return Pe.get("type")==="text"});xe&&(xe.attr("y",Nt.y),xe.attr("x",Nt.x))})}function GS(i,e,t,r){var n=i[0]?i[0].offset:0,a=e[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=14,f=o+n,h=f*2+l*2,c={start:a.start,end:a.end},v=[[],[]];i.forEach(function(x){!x||(x.textAlign==="right"?v[0].push(x):v[1].push(x))}),v.forEach(function(x,P){var D=h/l;x.length>D&&(x.sort(function(X,K){return K["..percent"]-X["..percent"]}),x.splice(D,x.length-D)),x.sort(function(X,K){return X.y-K.y}),YS(e,x,l,c,s,P)})}(0,u.each)(i,function(x){if(x&&x.labelLine){var P=x.offset,D=x.angle,X=Pr(s.x,s.y,o,D),K=Pr(s.x,s.y,o+P/2,D),Z=x.x+(0,u.get)(x,"offsetX",0),gt=x.y+(0,u.get)(x,"offsetY",0),mt={x:Z-Math.cos(D)*hv,y:gt-Math.sin(D)*hv};(0,u.isObject)(x.labelLine)||(x.labelLine={}),x.labelLine.path=["M "+X.x,X.y+" Q"+K.x,K.y+" "+mt.x,mt.y].join(",")}})}var cv=4;function zS(i,e,t,r,n,a,o){e.sort(function(ne,xe){return ne.y-xe.y});var s=r.start,l=r.end,f=Math.min(s.y,l.y),h=Math.max(s.y,l.y),c,v=e.map(function(ne){return{content:ne.content,size:t,pos:ne.y,targets:[ne.y]}}),x=Math.max.apply(Math,v.map(function(ne){return ne.pos})),P=Math.min.apply(Math,v.map(function(ne){return ne.pos}));if(o){for(var D=Math.min(P,h-(v.length-1)*t),X=Math.max(D+v.length*t,x+t),K=!0;K;)for(K=!1,c=v.length;c--;)if(c>0){var Z=v[c-1],gt=v[c];Z.pos+Z.size>gt.pos&&(gt.pos+c*t<X?(Z.size+=gt.size,Z.targets=Z.targets.concat(gt.targets),v.splice(c,1)):Z.pos=gt.pos-Z.size,K=!0)}}else for(var X=Math.max(f+(v.length-1)*t,x),D=Math.min(P,X-(v.length-1)*t),K=!0;K;)for(K=!1,c=v.length;c--;)if(c>0){var Z=v[c-1],gt=v[c];Z.pos+Z.size>gt.pos&&(Z.pos-D>c*t?Z.pos-=Z.size:(Z.size+=gt.size,Z.targets=Z.targets.concat(gt.targets),v.splice(c,1)),K=!0)}c=0,v.forEach(function(ne){var xe=ne.pos;ne.targets.forEach(function(){e[c].y=xe,xe+=t,c++})});for(var mt={},Nt=0,Zt=i;Nt<Zt.length;Nt++){var ee=Zt[Nt];mt[ee.get("id")]=ee}var ue=(Math.max.apply(Math,e.map(function(ne){return ne.y}))-Math.min.apply(Math,e.map(function(ne){return ne.y})))/2;ue=Math.max(ue,a),e.forEach(function(ne){var xe=mt[ne.id],Pe=xe.find(function(Ue){return Ue.get("type")==="text"});if(Pe&&Pe.attr("y")!==ne.y){var Ye=ue*ue,He=Math.pow(Math.abs(ne.y-n.y),2);if(Ye<He)ne.x=n.x;else{var Ze=Math.sqrt(Ye-He);o?ne.x=n.x+Ze:ne.x=n.x-Ze}}xe.attr("x",ne.x),xe.attr("y",ne.y),Pe&&(Pe.attr("y",ne.y),Pe.attr("x",ne.x))})}function XS(i,e,t,r){var n=i[0]?i[0].offset:0,a=e[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=(0,u.get)(i[0],"labelHeight",14),f=o+n,h=f*2+l*2,c={start:a.start,end:a.end},v=[[],[]];i.forEach(function(x){!x||(x.x<s.x?v[0].push(x):v[1].push(x))}),v.forEach(function(x,P){var D=h/l;if(x.length>D){x.sort(function(K,Z){return Z["data.percent"]-K["data.percent"]});var X=x.splice(D,x.length-D+1);X.forEach(function(K){var Z=e.findIndex(function(gt){return gt.get("id")===K.id});e[Z]&&(e[Z].remove(!0),e.splice(Z,1))})}zS(e,x,l,c,s,f,P===1)})}(0,u.each)(i,function(x){if(x&&x.labelLine){var P=x.angle,D=Pr(s.x,s.y,o,P),X=x.x+(0,u.get)(x,"offsetX",0)*(Math.cos(P)>0?1:-1),K=x.y+(0,u.get)(x,"offsetY",0)*(Math.sin(P)>0?1:-1),Z={x:X-Math.cos(P)*cv,y:K-Math.sin(P)*cv},gt=x.labelLine.smooth,mt=[],Nt=Z.x-s.x,Zt=Z.y-s.y,ee=Math.atan(Zt/Nt);if(Nt<0&&(ee+=Math.PI),gt===!1){(0,u.isObject)(x.labelLine)||(x.labelLine={});var ue=0;(P<0&&P>-Math.PI/2||P>Math.PI*1.5)&&Z.y>D.y&&(ue=1),P>=0&&P<Math.PI/2&&Z.y>D.y&&(ue=1),P>=Math.PI/2&&P<Math.PI&&D.y>Z.y&&(ue=1),(P<-Math.PI/2||P>=Math.PI&&P<Math.PI*1.5)&&D.y>Z.y&&(ue=1);var ne=n/2>4?4:Math.max(n/2-1,0),xe=Pr(s.x,s.y,o+ne,P),Pe=Pr(s.x,s.y,o+n/2,ee),Ye=0;mt.push("M "+D.x+" "+D.y),mt.push("L "+xe.x+" "+xe.y),mt.push("A "+s.x+" "+s.y+" 0 "+Ye+" "+ue+" "+Pe.x+" "+Pe.y),mt.push("L "+Z.x+" "+Z.y)}else{var xe=Pr(s.x,s.y,o+(n/2>4?4:Math.max(n/2-1,0)),P),He=D.x<s.x?1:-1;mt.push("M "+Z.x+" "+Z.y);var Ze=(D.y-s.y)/(D.x-s.x),Ue=(Z.y-s.y)/(Z.x-s.x);Math.abs(Ze-Ue)>Math.pow(Math.E,-16)&&mt.push.apply(mt,["C",Z.x+He*4,Z.y,2*xe.x-D.x,2*xe.y-D.y,D.x,D.y]),mt.push("L "+D.x+" "+D.y)}x.labelLine.path=mt.join(" ")}})}function VS(i,e,t,r){(0,u.each)(e,function(n){var a=r.minX,o=r.minY,s=r.maxX,l=r.maxY,f=n.getCanvasBBox(),h=f.minX,c=f.minY,v=f.maxX,x=f.maxY,P=f.x,D=f.y,X=f.width,K=f.height,Z=P,gt=D;(h<a||v<a)&&(Z=a),(c<o||x<o)&&(gt=o),h>s?Z=s-X:v>s&&(Z=Z-(v-s)),c>l?gt=l-K:x>l&&(gt=gt-(x-l)),(Z!==P||gt!==D)&&Xu(n,Z-P,gt-D)})}function HS(i,e,t,r){(0,u.each)(e,function(n,a){var o=n.getCanvasBBox(),s=t[a].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&n.remove(!0)})}var WS=100,vv=function(){function i(e){e===void 0&&(e={}),this.bitmap={};var t=e.xGap,r=t===void 0?1:t,n=e.yGap,a=n===void 0?8:n;this.xGap=r,this.yGap=a}return i.prototype.hasGap=function(e){for(var t=!0,r=this.bitmap,n=Math.round(e.minX),a=Math.round(e.maxX),o=Math.round(e.minY),s=Math.round(e.maxY),l=n;l<=a;l+=1){if(!r[l]){r[l]={};continue}if(l===n||l===a){for(var f=o;f<=s;f++)if(r[l][f]){t=!1;break}}else if(r[l][o]||r[l][s]){t=!1;break}}return t},i.prototype.fillGap=function(e){for(var t=this.bitmap,r=Math.round(e.minX),n=Math.round(e.maxX),a=Math.round(e.minY),o=Math.round(e.maxY),s=r;s<=n;s+=1)t[s]||(t[s]={});for(var s=r;s<=n;s+=this.xGap){for(var l=a;l<=o;l+=this.yGap)t[s][l]=!0;t[s][o]=!0}if(this.yGap!==1)for(var s=a;s<=o;s+=1)t[r][s]=!0,t[n][s]=!0;if(this.xGap!==1)for(var s=r;s<=n;s+=1)t[s][a]=!0,t[s][o]=!0},i.prototype.destroy=function(){this.bitmap={}},i}();function jS(i,e,t){t===void 0&&(t=WS);var r=-1,n=i.attr(),a=n.x,o=n.y,s=i.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),f,h=-r,c=0,v=0,x=function(K){var Z=K*.1;return[Z*Math.cos(Z),Z*Math.sin(Z)]};if(e.hasGap(s))return e.fillGap(s),!0;for(var P=!1,D=0,X={};Math.min(Math.abs(c),Math.abs(v))<l&&D<t;)if(f=x(h+=r),c=~~f[0],v=~~f[1],!(!c&&!v||X[c+"-"+v])&&(i.attr({x:a+c,y:o+v}),c+v<0&&i.attr("textAlign","right"),D++,e.hasGap(i.getCanvasBBox()))){e.fillGap(i.getCanvasBBox()),P=!0,X[c+"-"+v]=!0;break}return P}function US(i,e,t,r){var n=i.getCanvasBBox(),a=n.width,o=n.height,s={x:e,y:t,textAlign:"center"};switch(r){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=o*2+2;break;case 6:s.y+=o*2+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right";break;default:break}return i.attr(s),i.getCanvasBBox()}function ZS(i,e,t,r){var n=new vv;(0,u.each)(e,function(a){var o=a.find(function(s){return s.get("type")==="text"});jS(o,n)||a.remove(!0)}),n.destroy()}function KS(i,e,t,r){var n=new vv;(0,u.each)(e,function(a){for(var o=a.find(function(x){return x.get("type")==="text"}),s=o.attr(),l=s.x,f=s.y,h=!1,c=0;c<=8;c++){var v=US(o,l,f,c);if(n.hasGap(v)){n.fillGap(v),h=!0;break}}h||a.remove(!0)}),n.destroy()}function $S(i,e,t){var r={fillOpacity:(0,u.isNil)(i.attr("fillOpacity"))?1:i.attr("fillOpacity"),strokeOpacity:(0,u.isNil)(i.attr("strokeOpacity"))?1:i.attr("strokeOpacity"),opacity:(0,u.isNil)(i.attr("opacity"))?1:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),i.animate(r,e)}function QS(i,e,t){var r={fillOpacity:0,strokeOpacity:0,opacity:0},n=e.easing,a=e.duration,o=e.delay;i.animate(r,a,n,function(){i.remove(!0)},o)}function JS(i,e,t){var r,n=e[0],a=e[1];return i.applyToMatrix([n,a,1]),t==="x"?(i.setMatrix(cn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,1],["t",n,a]])),r=cn.transform(i.getMatrix(),[["t",-n,-a],["s",100,1],["t",n,a]])):t==="y"?(i.setMatrix(cn.transform(i.getMatrix(),[["t",-n,-a],["s",1,.01],["t",n,a]])),r=cn.transform(i.getMatrix(),[["t",-n,-a],["s",1,100],["t",n,a]])):t==="xy"&&(i.setMatrix(cn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])),r=cn.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])),r}function cf(i,e,t,r,n){var a=t.start,o=t.end,s=t.getWidth(),l=t.getHeight(),f,h;n==="y"?(f=a.x+s/2,h=r.y<a.y?r.y:a.y):n==="x"?(f=r.x>a.x?r.x:a.x,h=a.y+l/2):n==="xy"&&(t.isPolar?(f=t.getCenter().x,h=t.getCenter().y):(f=(a.x+o.x)/2,h=(a.y+o.y)/2));var c=JS(i,[f,h],n);i.animate({matrix:c},e)}function qS(i,e,t){var r=t.coordinate,n=t.minYPoint;cf(i,e,r,n,"x")}function t2(i,e,t){var r=t.coordinate,n=t.minYPoint;cf(i,e,r,n,"y")}function e2(i,e,t){var r=t.coordinate,n=t.minYPoint;cf(i,e,r,n,"xy")}function r2(i,e,t){var r=i.getTotalLength();i.attr("lineDash",[r]),i.animate(function(n){return{lineDashOffset:(1-n)*r}},e)}function n2(i,e,t){var r=t.toAttrs,n=r.x,a=r.y;delete r.x,delete r.y,i.attr(r),i.animate({x:n,y:a},e)}function i2(i,e,t){var r=i.getBBox(),n=i.get("origin").mappingData,a=n.points,o=a[0].y-a[1].y>0?r.maxX:r.minX,s=(r.minY+r.maxY)/2;i.applyToMatrix([o,s,1]);var l=cn.transform(i.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);i.setMatrix(l),i.animate({matrix:cn.transform(i.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},e)}function a2(i,e,t){var r=i.getBBox(),n=i.get("origin").mappingData,a=(r.minX+r.maxX)/2,o=n.points,s=o[0].y-o[1].y<=0?r.maxY:r.minY;i.applyToMatrix([a,s,1]);var l=cn.transform(i.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);i.setMatrix(l),i.animate({matrix:cn.transform(i.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},e)}var o2=d(84909);function dv(i,e){var t,r=(0,o2.Z)(i,e),n=r.startAngle,a=r.endAngle;return!(0,u.isNumberEqual)(n,-Math.PI*.5)&&n<-Math.PI*.5&&(n+=Math.PI*2),!(0,u.isNumberEqual)(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),e[5]===0&&(t=[a,n],n=t[0],a=t[1]),(0,u.isNumberEqual)(n,Math.PI*1.5)&&(n=Math.PI*-.5),(0,u.isNumberEqual)(a,Math.PI*-.5)&&(a=Math.PI*1.5),{startAngle:n,endAngle:a}}function pv(i){var e;return i[0]==="M"||i[0]==="L"?e=[i[1],i[2]]:(i[0]==="a"||i[0]==="A")&&(e=[i[i.length-2],i[i.length-1]]),e}function gv(i){var e,t,r,n=i.filter(function(gt){return gt[0]==="A"||gt[0]==="a"}),a=n[0],o=n.length>1?n[1]:n[0],s=i.indexOf(a),l=i.indexOf(o),f=pv(i[s-1]),h=pv(i[l-1]),c=dv(f,a),v=c.startAngle,x=c.endAngle,P=dv(h,o),D=P.startAngle,X=P.endAngle;(0,u.isNumberEqual)(v,D)&&(0,u.isNumberEqual)(x,X)?(t=v,r=x):(t=Math.min(v,D),r=Math.max(x,X));var K=a[1],Z=n[n.length-1][1];return K<Z?(e=[Z,K],K=e[0],Z=e[1]):K===Z&&(Z=0),{startAngle:t,endAngle:r,radius:K,innerRadius:Z}}function s2(i,e,t){var r=t.toAttrs,n=t.coordinate,a=r.path,o=a.map(function(Z){return Z[0]}),s=gv(a),l=s.startAngle,f=s.endAngle,h=s.radius,c=s.innerRadius,v=gv(i.attr("path")),x=v.startAngle,P=v.endAngle,D=n.getCenter(),X=l-x,K=f-P;i.animate(function(Z){var gt=x+Z*X,mt=P+Z*K;return(0,k.__assign)((0,k.__assign)({},r),{path:(0,u.isEqual)(o,["M","A","A","Z"])?wn(D.x,D.y,h,gt,mt):Hr(D.x,D.y,h,gt,mt,c)})},(0,k.__assign)((0,k.__assign)({},e),{callback:function(){i.attr("path",a)}}))}function l2(i,e,t){var r=cr(t.coordinate,20),n=r.type,a=r.startState,o=r.endState,s=i.setClip({type:n,attrs:a});s.animate(o,(0,k.__assign)((0,k.__assign)({},e),{callback:function(){i&&!i.get("destroyed")&&i.set("clipShape",null),s.remove(!0)}}))}function vf(i,e,t){if(i.isGroup())(0,u.each)(i.getChildren(),function(s){vf(s,e,t)});else{var r=i.getBBox(),n=(r.minX+r.maxX)/2,a=(r.minY+r.maxY)/2;if(i.applyToMatrix([n,a,1]),t==="zoomIn"){var o=cn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]]);i.setMatrix(o),i.animate({matrix:cn.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])},e)}else i.animate({matrix:cn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])},(0,k.__assign)((0,k.__assign)({},e),{callback:function(){i.remove(!0)}}))}}function u2(i,e,t){vf(i,e,"zoomIn")}function f2(i,e,t){vf(i,e,"zoomOut")}function $a(i){return[Y.TOP,Y.BOTTOM].includes(i)?{offsetX:0,offsetY:i===Y.TOP?-8:8,style:{textAlign:"center",textBaseline:i===Y.TOP?"bottom":"top"}}:[Y.LEFT,Y.RIGHT].includes(i)?{offsetX:i===Y.LEFT?-8:8,offsetY:0,style:{textAlign:i===Y.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function df(i,e,t){return{x:i.x+e*Math.cos(t),y:i.y+e*Math.sin(t)}}var h2=function(i){(0,k.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.getRegion=function(t,r){var n=1/2,a={x:.5,y:.5},o=Math.PI*2/t,s=-1*Math.PI/2+o*r,l=n/(1+1/Math.sin(o/2)),f=df(a,n-l,s),h=Math.PI*5/4,c=Math.PI*1/4;return{start:df(f,l,h),end:df(f,l,c)}},e.prototype.afterEachView=function(t,r){this.processAxis(t,r)},e.prototype.beforeEachView=function(t,r){},e.prototype.generateFacets=function(t){var r=this,n=this.cfg,a=n.fields,o=n.type,s=a[0];if(!s)throw new Error("No `fields` specified!");var l=this.getFieldValues(t,s),f=l.length,h=[];return l.forEach(function(c,v){var x=[{field:s,value:c,values:l}],P=(0,u.filter)(t,r.getFacetDataFilter(x)),D={type:o,data:P,region:r.getRegion(f,v),columnValue:c,columnField:s,columnIndex:v,columnValuesLength:f,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};h.push(D)}),h},e.prototype.getXAxisOption=function(t,r,n,a){return n},e.prototype.getYAxisOption=function(t,r,n,a){return n},e.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(r){var n=r.columnValue,a=r.view,o=(0,u.get)(t.cfg.title,"formatter"),s=(0,u.deepMix)({position:["50%","0%"],content:o?o(n):n},$a(Y.TOP),t.cfg.title);a.annotation().text(s)})},e}(Kt),c2=h2,v2=function(i){(0,k.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,r){this.processAxis(t,r)},e.prototype.beforeEachView=function(t,r){},e.prototype.generateFacets=function(t){var r=this,n=this.cfg.fields,a=this.cfg.cols,o=n[0];if(!o)throw new Error("No `fields` specified!");var s=this.getFieldValues(t,o),l=s.length;a=a||l;var f=this.getPageCount(l,a),h=[];return s.forEach(function(c,v){var x=r.getRowCol(v,a),P=x.row,D=x.col,X=[{field:o,value:c,values:s}],K=(0,u.filter)(t,r.getFacetDataFilter(X)),Z={type:r.cfg.type,data:K,region:r.getRegion(f,a,D,P),columnValue:c,rowValue:c,columnField:o,rowField:null,columnIndex:D,rowIndex:P,columnValuesLength:a,rowValuesLength:f,total:l};h.push(Z)}),h},e.prototype.getXAxisOption=function(t,r,n,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?(0,k.__assign)((0,k.__assign)({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,r,n,a){return a.columnIndex!==0?(0,k.__assign)((0,k.__assign)({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(r){var n=r.columnValue,a=r.view,o=(0,u.get)(t.cfg.title,"formatter"),s=(0,u.deepMix)({position:["50%","0%"],content:o?o(n):n},$a(Y.TOP),t.cfg.title);a.annotation().text(s)})},e.prototype.getPageCount=function(t,r){return Math.floor((t+r-1)/r)},e.prototype.getRowCol=function(t,r){var n=Math.floor(t/r),a=t%r;return{row:n,col:a}},e}(Kt),d2=v2,p2=function(i){(0,k.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,k.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,k.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,r){this.processAxis(t,r)},e.prototype.beforeEachView=function(t,r){},e.prototype.generateFacets=function(t){for(var r=this.cfg,n=r.fields,a=r.type,o=n.length,s=o,l=[],f=0;f<s;f++)for(var h=n[f],c=0;c<o;c++){var v=n[c],x={type:a,data:t,region:this.getRegion(o,s,f,c),columnValue:h,rowValue:v,columnField:h,rowField:v,columnIndex:f,rowIndex:c,columnValuesLength:s,rowValuesLength:o};l.push(x)}return l},e.prototype.getXAxisOption=function(t,r,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,k.__assign)((0,k.__assign)({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,r,n,a){return a.columnIndex!==0?(0,k.__assign)((0,k.__assign)({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(r,n){var a=r.columnIndex,o=r.rowIndex,s=r.columnValuesLength,l=r.rowValuesLength,f=r.columnValue,h=r.rowValue,c=r.view;if(o===0){var v=(0,u.get)(t.cfg.columnTitle,"formatter"),x=(0,u.deepMix)({position:["50%","0%"],content:v?v(f):f},$a(Y.TOP),t.cfg.columnTitle);c.annotation().text(x)}if(a===s-1){var v=(0,u.get)(t.cfg.rowTitle,"formatter"),x=(0,u.deepMix)({position:["100%","50%"],content:v?v(h):h},$a(Y.RIGHT),t.cfg.rowTitle);c.annotation().text(x)}})},e}(Kt),g2=p2,y2=function(i){(0,k.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this),transpose:!1})},e.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.beforeEachView=function(t,r){this.cfg.transpose?r.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():r.rowIndex%2!=0&&t.coordinate().reflect("y")},e.prototype.afterEachView=function(t,r){this.processAxis(t,r)},e.prototype.generateFacets=function(t){var r=this,n=this.cfg.fields[0],a=[],o=1,s=1,l=[""],f=[""],h,c;return this.cfg.transpose?(h=n,l=this.getFieldValues(t,h).slice(0,2),o=l.length):(c=n,f=this.getFieldValues(t,c).slice(0,2),s=f.length),l.forEach(function(v,x){f.forEach(function(P,D){var X=[{field:h,value:v,values:l},{field:c,value:P,values:f}],K=(0,u.filter)(t,r.getFacetDataFilter(X)),Z={type:r.cfg.type,data:K,region:r.getRegion(s,o,x,D),columnValue:v,rowValue:P,columnField:h,rowField:c,columnIndex:x,rowIndex:D,columnValuesLength:o,rowValuesLength:s};a.push(Z)})}),a},e.prototype.getXAxisOption=function(t,r,n,a){return a.columnIndex===1||a.rowIndex===1?(0,k.__assign)((0,k.__assign)({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,r,n,a){return n},e.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(r,n){var a=r.columnValue,o=r.rowValue,s=r.view,l=(0,u.get)(t.cfg.title,"formatter");if(t.cfg.transpose){var f=(0,u.deepMix)({position:["50%","0%"],content:l?l(a):a},$a(Y.TOP),t.cfg.title);s.annotation().text(f)}else{var f=(0,u.deepMix)({position:["100%","50%"],content:l?l(o):o},$a(Y.RIGHT),t.cfg.title);s.annotation().text(f)}})},e}(Kt),m2=y2,x2=function(i){(0,k.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.afterEachView=function(t,r){this.processAxis(t,r)},e.prototype.beforeEachView=function(t,r){},e.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,k.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,k.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.generateFacets=function(t){var r=this,n=this.cfg.fields,a=n[0],o=n[1],s=[],l=1,f=1,h=[""],c=[""];return a&&(h=this.getFieldValues(t,a),l=h.length),o&&(c=this.getFieldValues(t,o),f=c.length),h.forEach(function(v,x){c.forEach(function(P,D){var X=[{field:a,value:v,values:h},{field:o,value:P,values:c}],K=(0,u.filter)(t,r.getFacetDataFilter(X)),Z={type:r.cfg.type,data:K,region:r.getRegion(f,l,x,D),columnValue:v,rowValue:P,columnField:a,rowField:o,columnIndex:x,rowIndex:D,columnValuesLength:l,rowValuesLength:f};s.push(Z)})}),s},e.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(r,n){var a=r.columnIndex,o=r.rowIndex,s=r.columnValuesLength,l=r.columnValue,f=r.rowValue,h=r.view;if(o===0){var c=(0,u.get)(t.cfg.columnTitle,"formatter"),v=(0,u.deepMix)({position:["50%","0%"],content:c?c(l):l},$a(Y.TOP),t.cfg.columnTitle);h.annotation().text(v)}if(a===s-1){var c=(0,u.get)(t.cfg.rowTitle,"formatter"),v=(0,u.deepMix)({position:["100%","50%"],content:c?c(f):f},$a(Y.RIGHT),t.cfg.rowTitle);h.annotation().text(v)}})},e.prototype.getXAxisOption=function(t,r,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,k.__assign)((0,k.__assign)({},n),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?(0,k.__assign)((0,k.__assign)({},n),{title:null}):n},e.prototype.getYAxisOption=function(t,r,n,a){return a.columnIndex!==0?(0,k.__assign)((0,k.__assign)({},n),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?(0,k.__assign)((0,k.__assign)({},n),{title:null}):n},e}(Kt),b2=x2,w2=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return e.prototype.afterEachView=function(t,r){this.processAxis(t,r)},e.prototype.beforeEachView=function(t,r){},e.prototype.init=function(){i.prototype.init.call(this),this.view.on(et.AFTER_RENDER,this.afterChartRender)},e.prototype.getDefaultCfg=function(){return(0,u.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},e.prototype.generateFacets=function(t){var r=this.cfg.fields;if(!r.length)throw new Error("Please specify for the fields for rootFacet!");var n=[],a={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return n.push(a),a.children=this.getChildFacets(t,1,n),this.setRegion(n),n},e.prototype.setRegion=function(t){var r=this;this.forceColIndex(t),t.forEach(function(n){n.region=r.getRegion(n.rowValuesLength,n.columnValuesLength,n.columnIndex,n.rowIndex)})},e.prototype.getRegion=function(t,r,n,a){var o=1/r,s=1/t,l={x:o*n,y:s*a},f={x:l.x+o,y:l.y+s*2/3};return{start:l,end:f}},e.prototype.forceColIndex=function(t){var r=this,n=[],a=0;t.forEach(function(v){r.isLeaf(v)&&(n.push(v),v.columnIndex=a,a++)}),n.forEach(function(v){v.columnValuesLength=n.length});for(var o=this.cfg.fields.length,s=o-1;s>=0;s--)for(var l=this.getFacetsByLevel(t,s),f=0,h=l;f<h.length;f++){var c=h[f];this.isLeaf(c)||(c.originColIndex=c.columnIndex,c.columnIndex=this.getRegionIndex(c.children),c.columnValuesLength=n.length)}},e.prototype.getFacetsByLevel=function(t,r){var n=[];return t.forEach(function(a){a.rowIndex===r&&n.push(a)}),n},e.prototype.getRegionIndex=function(t){var r=t[0],n=t[t.length-1];return(n.columnIndex-r.columnIndex)/2+r.columnIndex},e.prototype.isLeaf=function(t){return!t.children||!t.children.length},e.prototype.getRows=function(){return this.cfg.fields.length+1},e.prototype.getChildFacets=function(t,r,n){var a=this,o=this.cfg.fields,s=o.length;if(!(s<r)){var l=[],f=o[r-1],h=this.getFieldValues(t,f);return h.forEach(function(c,v){var x=[{field:f,value:c,values:h}],P=t.filter(a.getFacetDataFilter(x));if(P.length){var D={type:a.cfg.type,data:P,region:null,columnValue:c,rowValue:"",columnField:f,rowField:"",columnIndex:v,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:r,children:a.getChildFacets(P,r+1,n)};l.push(D),n.push(D)}}),l}},e.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.renderTitle=function(){var t=this;(0,u.each)(this.facets,function(r){var n=r.columnValue,a=r.view,o=(0,u.get)(t.cfg.title,"formatter"),s=(0,u.deepMix)({position:["50%","0%"],content:o?o(n):n},$a(Y.TOP),t.cfg.title);a.annotation().text(s)})},e.prototype.drawLines=function(t){var r=this;t.forEach(function(n){if(!r.isLeaf(n)){var a=n.children;r.addFacetLines(n,a)}})},e.prototype.addFacetLines=function(t,r){var n=this,a=t.view,o=a.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};r.forEach(function(l){var f=l.view.coordinateBBox,h={x:f.bl.x+(f.tr.x-f.bl.x)/2,y:f.tr.y},c={x:s.x,y:s.y+(h.y-s.y)/2},v={x:h.x,y:c.y};n.drawLine([s,c,v,h])})},e.prototype.getPath=function(t){var r=[],n=this.cfg.line.smooth;return n?(r.push(["M",t[0].x,t[0].y]),r.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(a,o){o===0?r.push(["M",a.x,a.y]):r.push(["L",a.x,a.y])}),r},e.prototype.drawLine=function(t){var r=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:(0,u.assign)({path:r},n)})},e.prototype.getXAxisOption=function(t,r,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,k.__assign)((0,k.__assign)({},n),{title:null,label:null}):n},e.prototype.getYAxisOption=function(t,r,n,a){return a.originColIndex!==0&&a.columnIndex!==0?(0,k.__assign)((0,k.__assign)({},n),{title:null,label:null}):n},e}(Kt),S2=w2,M2=function(i){(0,k.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.cache=new Map,r.foregroundContainer=r.view.getLayer(G.FORE).addGroup(),r.backgroundContainer=r.view.getLayer(G.BG).addGroup(),r.option=[],r}return Object.defineProperty(e.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.layout=function(){var t=this,r=this.getComponents(),n=function(o){var s=o.component,l=o.extra,f=l.type,h=t.getAnnotationTheme(f);s.update(t.getAnnotationCfg(f,l,h))},a=function(o){var s=t.createAnnotation(o);s&&(s.component.init(),o.type==="regionFilter"&&s.component.render(),t.cache.set(o,s))};r.length?(0,u.each)(r,function(o){var s=o.component;s.get("type")==="regionFilter"?t.view.getRootView().once(et.AFTER_RENDER,function(){n(o)}):n(o)}):(0,u.each)(this.option,function(o){o.type==="regionFilter"?t.view.getRootView().once(et.AFTER_RENDER,function(){a(o)}):a(o)})},e.prototype.render=function(){},e.prototype.update=function(){var t=this,r=new WeakMap,n=function(a){var o=a.type,s=t.getAnnotationTheme(o),l=t.getAnnotationCfg(o,a,s),f=t.cache.get(a);if(f)de(l,["container"]),f.component.update(l),r.set(a,!0);else{var h=t.createAnnotation(a);h&&(h.component.init(),a.type==="regionFilter"&&h.component.render(),t.cache.set(a,h),r.set(a,!0))}};this.view.once(et.AFTER_RENDER,function(){(0,u.each)(t.option,function(o){o.type==="regionFilter"&&n(o)});var a=new Map;t.cache.forEach(function(o,s){r.has(s)?a.set(s,o):o.component.destroy()}),t.cache=a}),(0,u.each)(this.option,function(a){a.type!=="regionFilter"&&n(a)})},e.prototype.clear=function(t){t===void 0&&(t=!1),i.prototype.clear.call(this),this.cache.clear(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},e.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(r){t.push(r)}),t},e.prototype.createAnnotation=function(t){var r=t.type,n=en.Annotation[(0,u.upperFirst)(r)];if(n){var a=this.getAnnotationTheme(r),o=this.getAnnotationCfg(r,t,a),s=new n(o);return{component:s,layer:this.isTop(o)?G.FORE:G.BG,direction:Y.NONE,type:V.ANNOTATION,extra:t}}},e.prototype.annotation=function(t){this.option.push(t)},e.prototype.arc=function(t){return this.annotation((0,k.__assign)({type:"arc"},t)),this},e.prototype.image=function(t){return this.annotation((0,k.__assign)({type:"image"},t)),this},e.prototype.line=function(t){return this.annotation((0,k.__assign)({type:"line"},t)),this},e.prototype.region=function(t){return this.annotation((0,k.__assign)({type:"region"},t)),this},e.prototype.text=function(t){return this.annotation((0,k.__assign)({type:"text"},t)),this},e.prototype.dataMarker=function(t){return this.annotation((0,k.__assign)({type:"dataMarker"},t)),this},e.prototype.dataRegion=function(t){this.annotation((0,k.__assign)({type:"dataRegion"},t))},e.prototype.regionFilter=function(t){this.annotation((0,k.__assign)({type:"regionFilter"},t))},e.prototype.parsePosition=function(t){var r=this.view.getXScale(),n=this.view.getScalesByDim("y"),a=(0,u.isFunction)(t)?t.call(null,r,n):t,o=0,s=0;if((0,u.isArray)(a)){var l=a[0],f=a[1];if((0,u.isString)(l)&&l.indexOf("%")!==-1&&!isNaN(l.slice(0,-1)))return this.parsePercentPosition(a);o=this.getNormalizedValue(l,r),s=this.getNormalizedValue(f,Object.values(n)[0])}else if(!(0,u.isNil)(a))for(var h=0,c=(0,u.keys)(a);h<c.length;h++){var v=c[h],x=a[v];v===r.field&&(o=this.getNormalizedValue(x,r)),n[v]&&(s=this.getNormalizedValue(x,n[v]))}return this.view.getCoordinate().convert({x:o,y:s})},e.prototype.getRegionPoints=function(t,r){var n=this,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],l=a.field,f=this.view.getData(),h=(0,u.isArray)(t)?t[0]:t[l],c=(0,u.isArray)(r)?r[0]:r[l],v=[],x;return(0,u.each)(f,function(P,D){if(P[l]===h&&(x=D),D>=x){var X=n.parsePosition([P[l],P[s.field]]);X&&v.push(X)}if(P[l]===c)return!1}),v},e.prototype.getNormalizedValue=function(t,r){var n,a;switch(t){case"start":n=0;break;case"end":n=1;break;case"median":{a=r.isCategory?(r.values.length-1)/2:(r.min+r.max)/2,n=r.scale(a);break}case"min":case"max":r.isCategory?a=t==="min"?0:r.values.length-1:a=r[t],n=r.scale(a);break;default:n=r.scale(t)}return n},e.prototype.parsePercentPosition=function(t){var r=parseFloat(t[0])/100,n=parseFloat(t[1])/100,a=this.view.getCoordinate(),o=a.start,s=a.end,l={x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},f=a.getWidth()*r+l.x,h=a.getHeight()*n+l.y;return{x:f,y:h}},e.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),r=t.start,n=t.end,a=t.getWidth(),o=t.getHeight(),s={x:Math.min(r.x,n.x),y:Math.min(r.y,n.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+a,maxY:s.y+o,width:a,height:o}},e.prototype.getAnnotationCfg=function(t,r,n){var a=this.view.getCoordinate(),o={};if((0,u.isNil)(r))return null;if(t==="arc"){var s=r,l=s.start,f=s.end,h=this.parsePosition(l),c=this.parsePosition(f),v=vr(a,h),x=vr(a,c);v>x&&(x=Math.PI*2+x),o={center:a.getCenter(),radius:Ge(a,h),startAngle:v,endAngle:x}}else if(t==="image"){var P=r,l=P.start,f=P.end;o={start:this.parsePosition(l),end:this.parsePosition(f),src:r.src}}else if(t==="line"){var D=r,l=D.start,f=D.end;o={start:this.parsePosition(l),end:this.parsePosition(f),text:(0,u.get)(r,"text",null)}}else if(t==="region"){var X=r,l=X.start,f=X.end;o={start:this.parsePosition(l),end:this.parsePosition(f)}}else if(t==="text"){var K=this.view.getData(),Z=r,gt=Z.position,mt=Z.content,Nt=(0,k.__rest)(Z,["position","content"]),Zt=mt;(0,u.isFunction)(mt)&&(Zt=mt(K)),o=(0,k.__assign)((0,k.__assign)((0,k.__assign)({},this.parsePosition(gt)),Nt),{content:Zt})}else if(t==="dataMarker"){var ee=r,gt=ee.position,ue=ee.point,ne=ee.line,xe=ee.text,Pe=ee.autoAdjust,Ye=ee.direction;o=(0,k.__assign)((0,k.__assign)({},this.parsePosition(gt)),{coordinateBBox:this.getCoordinateBBox(),point:ue,line:ne,text:xe,autoAdjust:Pe,direction:Ye})}else if(t==="dataRegion"){var He=r,l=He.start,f=He.end,Ze=He.region,xe=He.text,Ue=He.lineLength;o={points:this.getRegionPoints(l,f),region:Ze,text:xe,lineLength:Ue}}else if(t==="regionFilter"){var ur=r,l=ur.start,f=ur.end,wr=ur.apply,mr=ur.color,pr=this.view.geometries,fr=[],Yr=function(Ir){!Ir||(Ir.isGroup()?Ir.getChildren().forEach(function(Vr){return Yr(Vr)}):fr.push(Ir))};(0,u.each)(pr,function(Ir){wr?(0,u.contains)(wr,Ir.type)&&(0,u.each)(Ir.elements,function(Vr){Yr(Vr.shape)}):(0,u.each)(Ir.elements,function(Vr){Yr(Vr.shape)})}),o={color:mr,shapes:fr,start:this.parsePosition(l),end:this.parsePosition(f)}}var _r=(0,u.deepMix)({},n,(0,k.__assign)((0,k.__assign)({},o),{top:r.top,style:r.style,offsetX:r.offsetX,offsetY:r.offsetY}));return _r.container=this.getComponentContainer(_r),_r.animate=this.view.getOptions().animate&&_r.animate&&(0,u.get)(r,"animate",_r.animate),_r.animateOption=(0,u.deepMix)({},Yo,_r.animateOption,r.animateOption),_r},e.prototype.isTop=function(t){return(0,u.get)(t,"top",!0)},e.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},e.prototype.getAnnotationTheme=function(t){return(0,u.get)(this.view.getTheme(),["components","annotation",t],{})},e}(ao),C2=M2;function yv(i,e){return(0,u.get)(i,["components","axis",e,"grid"],{})}function ol(i,e,t,r){var n=[],a=e.getTicks();return i.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(o,s,l){var f=s.value;if(r)n.push({points:[i.convert(t==="y"?{x:0,y:f}:{x:f,y:0}),i.convert(t==="y"?{x:1,y:f}:{x:f,y:1})]});else if(l){var h=o.value,c=(h+f)/2;n.push({points:[i.convert(t==="y"?{x:0,y:c}:{x:c,y:0}),i.convert(t==="y"?{x:1,y:c}:{x:c,y:1})]})}return s},a[0]),n}function pf(i,e,t,r,n){var a=e.values.length,o=[],s=t.getTicks();return s.reduce(function(l,f){var h=l?l.value:f.value,c=f.value,v=(h+c)/2;return n==="x"?o.push({points:[i.convert({x:r?c:v,y:0}),i.convert({x:r?c:v,y:1})]}):o.push({points:(0,u.map)(Array(a+1),function(x,P){return i.convert({x:P/a,y:r?c:v})})}),f},s[0]),o}function mv(i,e){var t=(0,u.get)(e,"grid");if(t===null)return!1;var r=(0,u.get)(i,"grid");return!(t===void 0&&r===null)}var uo=["container"],xv=(0,k.__assign)((0,k.__assign)({},Yo),{appear:null}),E2=function(i){(0,k.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.cache=new Map,r.gridContainer=r.view.getLayer(G.BG).addGroup(),r.axisContainer=r.view.getLayer(G.BG).addGroup(),r}return Object.defineProperty(e.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this,r=this.view.getCoordinate();(0,u.each)(this.getComponents(),function(n){var a=n.component,o=n.direction,s=n.type,l=n.extra,f=l.dim,h=l.scale,c=l.alignTick,v;if(s===V.AXIS)r.isPolar?f==="x"?v=r.isTransposed?Pt(r,o):rt(r):f==="y"&&(v=r.isTransposed?rt(r):Pt(r,o)):v=Pt(r,o);else if(s===V.GRID)if(r.isPolar){var x=void 0;r.isTransposed?x=f==="x"?pf(r,t.view.getYScales()[0],h,c,f):ol(r,h,f,c):x=f==="x"?ol(r,h,f,c):pf(r,t.view.getXScale(),h,c,f),v={items:x,center:t.view.getCoordinate().getCenter()}}else v={items:ol(r,h,f,c)};a.update(v)})},e.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var r=new Map;this.cache.forEach(function(n,a){t.has(a)?r.set(a,n):n.component.destroy()}),this.cache=r},e.prototype.clear=function(){i.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.axisContainer.clear()},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.gridContainer.remove(!0),this.axisContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(r){t.push(r)}),t},e.prototype.updateXAxes=function(t){var r=this.view.getXScale();if(!(!r||r.isIdentity)){var n=kt(this.option,r.field);if(n!==!1){var a=Vt(n,Y.BOTTOM),o=G.BG,s="x",l=this.view.getCoordinate(),f=this.getId("axis",r.field),h=this.getId("grid",r.field);if(l.isRect){var c=this.cache.get(f);if(c){var v=this.getLineAxisCfg(r,n,a);de(v,uo),c.component.update(v),t.set(f,c)}else c=this.createLineAxis(r,n,o,a,s),this.cache.set(f,c),t.set(f,c);var x=this.cache.get(h);if(x){var v=this.getLineGridCfg(r,n,a,s);de(v,uo),x.component.update(v),t.set(h,x)}else x=this.createLineGrid(r,n,o,a,s),x&&(this.cache.set(h,x),t.set(h,x))}else if(l.isPolar){var c=this.cache.get(f);if(c){var v=l.isTransposed?this.getLineAxisCfg(r,n,Y.RADIUS):this.getCircleAxisCfg(r,n,a);de(v,uo),c.component.update(v),t.set(f,c)}else{if(l.isTransposed){if((0,u.isUndefined)(n))return;c=this.createLineAxis(r,n,o,Y.RADIUS,s)}else c=this.createCircleAxis(r,n,o,a,s);this.cache.set(f,c),t.set(f,c)}var x=this.cache.get(h);if(x){var v=l.isTransposed?this.getCircleGridCfg(r,n,Y.RADIUS,s):this.getLineGridCfg(r,n,Y.CIRCLE,s);de(v,uo),x.component.update(v),t.set(h,x)}else{if(l.isTransposed){if((0,u.isUndefined)(n))return;x=this.createCircleGrid(r,n,o,Y.RADIUS,s)}else x=this.createLineGrid(r,n,o,Y.CIRCLE,s);x&&(this.cache.set(h,x),t.set(h,x))}}}}},e.prototype.updateYAxes=function(t){var r=this,n=this.view.getYScales();(0,u.each)(n,function(a,o){if(!(!a||a.isIdentity)){var s=a.field,l=kt(r.option,s);if(l!==!1){var f=G.BG,h="y",c=r.getId("axis",s),v=r.getId("grid",s),x=r.view.getCoordinate();if(x.isRect){var P=Vt(l,o===0?Y.LEFT:Y.RIGHT),D=r.cache.get(c);if(D){var X=r.getLineAxisCfg(a,l,P);de(X,uo),D.component.update(X),t.set(c,D)}else D=r.createLineAxis(a,l,f,P,h),r.cache.set(c,D),t.set(c,D);var K=r.cache.get(v);if(K){var X=r.getLineGridCfg(a,l,P,h);de(X,uo),K.component.update(X),t.set(v,K)}else K=r.createLineGrid(a,l,f,P,h),K&&(r.cache.set(v,K),t.set(v,K))}else if(x.isPolar){var D=r.cache.get(c);if(D){var X=x.isTransposed?r.getCircleAxisCfg(a,l,Y.CIRCLE):r.getLineAxisCfg(a,l,Y.RADIUS);de(X,uo),D.component.update(X),t.set(c,D)}else{if(x.isTransposed){if((0,u.isUndefined)(l))return;D=r.createCircleAxis(a,l,f,Y.CIRCLE,h)}else D=r.createLineAxis(a,l,f,Y.RADIUS,h);r.cache.set(c,D),t.set(c,D)}var K=r.cache.get(v);if(K){var X=x.isTransposed?r.getLineGridCfg(a,l,Y.CIRCLE,h):r.getCircleGridCfg(a,l,Y.RADIUS,h);de(X,uo),K.component.update(X),t.set(v,K)}else{if(x.isTransposed){if((0,u.isUndefined)(l))return;K=r.createLineGrid(a,l,f,Y.CIRCLE,h)}else K=r.createCircleGrid(a,l,f,Y.RADIUS,h);K&&(r.cache.set(v,K),t.set(v,K))}}}}})},e.prototype.createLineAxis=function(t,r,n,a,o){var s={component:new Xn(this.getLineAxisCfg(t,r,a)),layer:n,direction:a===Y.RADIUS?Y.NONE:a,type:V.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},e.prototype.createLineGrid=function(t,r,n,a,o){var s=this.getLineGridCfg(t,r,a,o);if(s){var l={component:new gi(s),layer:n,direction:Y.NONE,type:V.GRID,extra:{dim:o,scale:t,alignTick:(0,u.get)(s,"alignTick",!0)}};return l.component.init(),l}},e.prototype.createCircleAxis=function(t,r,n,a,o){var s={component:new ni(this.getCircleAxisCfg(t,r,a)),layer:n,direction:a,type:V.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},e.prototype.createCircleGrid=function(t,r,n,a,o){var s=this.getCircleGridCfg(t,r,a,o);if(s){var l={component:new yi(s),layer:n,direction:Y.NONE,type:V.GRID,extra:{dim:o,scale:t,alignTick:(0,u.get)(s,"alignTick",!0)}};return l.component.init(),l}},e.prototype.getLineAxisCfg=function(t,r,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=Pt(o,n),l=Gt(t,r),f=F(this.view.getTheme(),n),h=(0,u.get)(r,["title"])?(0,u.deepMix)({title:{style:{text:l}}},r):r,c=(0,u.deepMix)((0,k.__assign)((0,k.__assign)({container:a},s),{ticks:t.getTicks().map(function(gt){return{id:""+gt.tickValue,name:gt.text,value:gt.value}}),verticalFactor:o.isPolar?R(s,o.getCenter())*-1:R(s,o.getCenter())}),f,h),v=this.getAnimateCfg(c),x=v.animate,P=v.animateOption;c.animateOption=P,c.animate=x;var D=W(s),X=(0,u.get)(c,"verticalLimitLength",D?1/3:1/2);if(X<=1){var K=this.view.getCanvas().get("width"),Z=this.view.getCanvas().get("height");c.verticalLimitLength=X*(D?K:Z)}return c},e.prototype.getLineGridCfg=function(t,r,n,a){if(!!mv(F(this.view.getTheme(),n),r)){var o=yv(this.view.getTheme(),n),s=(0,u.deepMix)({container:this.gridContainer},o,(0,u.get)(r,"grid"),this.getAnimateCfg(r));return s.items=ol(this.view.getCoordinate(),t,a,(0,u.get)(s,"alignTick",!0)),s}},e.prototype.getCircleAxisCfg=function(t,r,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=t.getTicks().map(function(D){return{id:""+D.tickValue,name:D.text,value:D.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&s.pop();var l=Gt(t,r),f=F(this.view.getTheme(),Y.CIRCLE),h=(0,u.get)(r,["title"])?(0,u.deepMix)({title:{style:{text:l}}},r):r,c=(0,u.deepMix)((0,k.__assign)((0,k.__assign)({container:a},rt(this.view.getCoordinate())),{ticks:s,verticalFactor:1}),f,h),v=this.getAnimateCfg(c),x=v.animate,P=v.animateOption;return c.animate=x,c.animateOption=P,c},e.prototype.getCircleGridCfg=function(t,r,n,a){if(!!mv(F(this.view.getTheme(),n),r)){var o=yv(this.view.getTheme(),Y.RADIUS),s=(0,u.deepMix)({container:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,(0,u.get)(r,"grid"),this.getAnimateCfg(r)),l=(0,u.get)(s,"alignTick",!0),f=a==="x"?this.view.getYScales()[0]:this.view.getXScale();return s.items=pf(this.view.getCoordinate(),f,t,l,a),s}},e.prototype.getId=function(t,r){var n=this.view.getCoordinate();return t+"-"+r+"-"+n.type},e.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,u.get)(t,"animate"),animateOption:t&&t.animateOption?(0,u.deepMix)({},xv,t.animateOption):xv}},e}(ao),A2=E2;function sl(i,e,t){return t===Y.TOP?[i.minX+i.width/2-e.width/2,i.minY]:t===Y.BOTTOM?[i.minX+i.width/2-e.width/2,i.maxY-e.height]:t===Y.LEFT?[i.minX,i.minY+i.height/2-e.height/2]:t===Y.RIGHT?[i.maxX-e.width,i.minY+i.height/2-e.height/2]:t===Y.TOP_LEFT||t===Y.LEFT_TOP?[i.tl.x,i.tl.y]:t===Y.TOP_RIGHT||t===Y.RIGHT_TOP?[i.tr.x-e.width,i.tr.y]:t===Y.BOTTOM_LEFT||t===Y.LEFT_BOTTOM?[i.bl.x,i.bl.y-e.height]:t===Y.BOTTOM_RIGHT||t===Y.RIGHT_BOTTOM?[i.br.x-e.width,i.br.y-e.height]:[0,0]}function T2(i,e){if(e.isTransposed)switch(i){case DIRECTION.BOTTOM:return DIRECTION.LEFT;case DIRECTION.LEFT:return DIRECTION.BOTTOM;case DIRECTION.RIGHT:return DIRECTION.TOP;case DIRECTION.TOP:return DIRECTION.RIGHT}return i}function bv(i){return i===DIRECTION.LEFT?DIRECTION.RIGHT:i===DIRECTION.RIGHT?DIRECTION.LEFT:i}function wv(i){return i===DIRECTION.TOP?DIRECTION.BOTTOM:i===DIRECTION.BOTTOM?DIRECTION.TOP:i}function P2(i,e){var t=e.matrix[0],r=e.matrix[4],n=i;return t<0&&(n=bv(n)),r<0&&(n=wv(n)),n}function _2(i,e){var t=i;return e.isReflect("x")&&(t=bv(t)),e.isReflect("y")&&(t=wv(t)),t}function T9(i,e){var t=i;return t=T2(t,e),t=P2(t,e),t=_2(t,e),t}function Sv(i,e,t){if(!i)return t;var r;if(i.callback&&i.callback.length>1){var n=Array(i.callback.length-1).fill("");r=i.mapping.apply(i,(0,k.__spreadArrays)([e],n)).join("")}else r=i.mapping(e).join("");return r||t}function Mv(i){var e=i.symbol;(0,u.isString)(e)&&Po[e]&&(i.symbol=Po[e])}function gf(i){return i.startsWith(Y.LEFT)||i.startsWith(Y.RIGHT)?"vertical":"horizontal"}function O2(i,e,t,r,n){var a=t.getScale(t.type);if(a.isCategory){var o=a.field,s=e.getAttribute("color"),l=e.getAttribute("shape"),f=i.getTheme().defaultColor,h=e.coordinate.isPolar;return a.getTicks().map(function(c){var v,x=c.text,P=c.value,D=x,X=a.invert(P),K=i.filterFieldData(o,[(v={},v[o]=X,v)]).length===0,Z=Sv(s,X,f),gt=Sv(l,X,"point"),mt=e.getShapeMarker(gt,{color:Z,isInPolar:h});return mt=(0,u.deepMix)({},r,mt,n),Mv(mt),{id:X,name:D,value:X,marker:mt,unchecked:K}})}return[]}function L2(i,e,t){return t.map(function(r){var n=(0,u.deepMix)({},i,e,r.marker);return Mv(n),r.marker=n,r})}function Cv(i,e){return(0,u.isBoolean)(i)?i===!1?!1:{}:(0,u.get)(i,[e],i)}function fs(i){return(0,u.get)(i,"position",Y.BOTTOM)}var I2=function(i){(0,k.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.container=r.view.getLayer(G.FORE).addGroup(),r}return Object.defineProperty(e.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){var t=this;this.option=this.view.getOptions().legends;var r=function(s,l,f){var h=t.createFieldLegend(s,l,f);h&&(h.component.init(),t.components.push(h))};if((0,u.get)(this.option,"custom")){var n=this.createCustomLegend(void 0,void 0,void 0,this.option);if(n){n.init();var a=G.FORE,o=fs(this.option);this.components.push({id:"global-custom",component:n,layer:a,direction:o,type:V.LEGEND,extra:void 0})}}else this.loopLegends(r)},e.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox;var r=(0,u.get)(this.view.getTheme(),["components","legend","margin"],[0,0,0,0]);(0,u.each)(this.components,function(n){var a=n.component,o=n.direction,s=gf(o),l=t.getCategoryLegendSizeCfg(s),f=a.get("maxWidth"),h=a.get("maxHeight");a.update({maxWidth:Math.min(l.maxWidth,f||0),maxHeight:Math.min(l.maxHeight,h||0)});var c=a.getLayoutBBox(),v=new or(c.x,c.y,c.width,c.height),x=sl(t.view.viewBBox,v,o),P=x[0],D=x[1],X=sl(t.layoutBBox,v,o),K=X[0],Z=X[1],gt=0,mt=0;o.startsWith("top")||o.startsWith("bottom")?(gt=P,mt=Z):(gt=K,mt=D),o.indexOf("left")>=0&&(gt+=r[3]),o.indexOf("right")>=0&&(gt-=r[1]),o.indexOf("top")>=0&&(mt+=r[0]),o.indexOf("bottom")>=0&&(mt-=r[2]),a.update({x:gt,y:mt}),t.layoutBBox=t.layoutBBox.cut(v,o)})},e.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var r={},n=function(v,x,P){var D=t.getId(P.field),X=t.getComponentById(D);if(X){var K=void 0,Z=Cv(t.option,P.field);Z!==!1&&((0,u.get)(Z,"custom")?K=t.getCategoryCfg(v,x,P,Z,!0):P.isLinear?K=t.getContinuousCfg(v,x,P,Z):P.isCategory&&(K=t.getCategoryCfg(v,x,P,Z))),K&&(de(K,["container"]),X.direction=fs(Z),X.component.update(K),r[D]=!0)}else{var gt=t.createFieldLegend(v,x,P);gt&&(gt.component.init(),t.components.push(gt),r[D]=!0)}};if((0,u.get)(this.option,"custom")){var a="global-custom",o=this.getComponentById(a);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);de(s,["container"]),o.component.update(s),r[a]=!0}else{var l=this.createCustomLegend(void 0,void 0,void 0,this.option);if(l){l.init();var f=G.FORE,h=fs(this.option);this.components.push({id:a,component:l,layer:f,direction:h,type:V.LEGEND,extra:void 0}),r[a]=!0}}}else this.loopLegends(n);var c=[];(0,u.each)(this.getComponents(),function(v){r[v.id]?c.push(v):v.component.destroy()}),this.components=c},e.prototype.clear=function(){i.prototype.clear.call(this),this.container.clear()},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.container.remove(!0)},e.prototype.getGeometries=function(t){var r=this,n=t.geometries;return(0,u.each)(t.views,function(a){n=n.concat(r.getGeometries(a))}),n},e.prototype.loopLegends=function(t){var r=this.view.getRootView()===this.view;if(!!r){var n=this.getGeometries(this.view),a={};(0,u.each)(n,function(o){var s=o.getGroupAttributes();(0,u.each)(s,function(l){var f=l.getScale(l.type);!f||f.type==="identity"||a[f.field]||(t(o,l,f),a[f.field]=!0)})})}},e.prototype.createFieldLegend=function(t,r,n){var a,o=Cv(this.option,n.field),s=G.FORE,l=fs(o);if(o!==!1&&((0,u.get)(o,"custom")?a=this.createCustomLegend(t,r,n,o):n.isLinear?a=this.createContinuousLegend(t,r,n,o):n.isCategory&&(a=this.createCategoryLegend(t,r,n,o))),a)return a.set("field",n.field),{id:this.getId(n.field),component:a,layer:s,direction:l,type:V.LEGEND,extra:{scale:n}}},e.prototype.createCustomLegend=function(t,r,n,a){var o=this.getCategoryCfg(t,r,n,a,!0);return new te(o)},e.prototype.createContinuousLegend=function(t,r,n,a){var o=this.getContinuousCfg(t,r,n,a);return new he(o)},e.prototype.createCategoryLegend=function(t,r,n,a){var o=this.getCategoryCfg(t,r,n,a);return new te(o)},e.prototype.getContinuousCfg=function(t,r,n,a){var o=n.getTicks(),s=(0,u.find)(o,function(D){return D.value===0}),l=(0,u.find)(o,function(D){return D.value===1}),f=o.map(function(D){var X=D.value,K=D.tickValue,Z=r.mapping(n.invert(X)).join("");return{value:K,attrValue:Z,color:Z,scaleValue:X}});s||f.push({value:n.min,attrValue:r.mapping(n.invert(0)).join(""),color:r.mapping(n.invert(0)).join(""),scaleValue:0}),l||f.push({value:n.max,attrValue:r.mapping(n.invert(1)).join(""),color:r.mapping(n.invert(1)).join(""),scaleValue:1}),f.sort(function(D,X){return D.value-X.value});var h={min:(0,u.head)(f).value,max:(0,u.last)(f).value,colors:[],rail:{type:r.type},track:{}};r.type==="size"&&(h.track={style:{fill:r.type==="size"?this.view.getTheme().defaultColor:void 0}}),r.type==="color"&&(h.colors=f.map(function(D){return D.attrValue}));var c=this.container,v=fs(a),x=gf(v),P=(0,u.get)(a,"title");return P&&(P=(0,u.deepMix)({text:Ve(n)},P)),h.container=c,h.layout=x,h.title=P,h.animateOption=Yo,this.mergeLegendCfg(h,a,"continuous")},e.prototype.getCategoryCfg=function(t,r,n,a,o){var s=this.container,l=(0,u.get)(a,"position",Y.BOTTOM),f=(0,u.get)(this.view.getTheme(),["components","legend",l,"marker"]),h=(0,u.get)(a,"marker"),c=gf(l),v=o?L2(f,h,a.items):O2(this.view,t,r,f,h),x=(0,u.get)(a,"title");x&&(x=(0,u.deepMix)({text:n?Ve(n):""},x));var P=this.getCategoryLegendSizeCfg(c);P.container=s,P.layout=c,P.items=v,P.title=x,P.animateOption=Yo;var D=this.mergeLegendCfg(P,a,l);D.reversed&&D.items.reverse();var X=(0,u.get)(D,"maxItemWidth");return X&&X<=1&&(D.maxItemWidth=this.view.viewBBox.width*X),D},e.prototype.mergeLegendCfg=function(t,r,n){var a=n.split("-")[0],o=(0,u.get)(this.view.getTheme(),["components","legend",a],{});return(0,u.deepMix)({},o,t,r)},e.prototype.getId=function(t){return this.name+"-"+t},e.prototype.getComponentById=function(t){return(0,u.find)(this.components,function(r){return r.id===t})},e.prototype.getCategoryLegendSizeCfg=function(t){var r=this.view.viewBBox,n=r.width,a=r.height;return t==="vertical"?{maxWidth:n*it,maxHeight:a}:{maxWidth:n,maxHeight:a*it}},e}(ao),k2=I2,B2=function(i){(0,k.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.onValueChanged=function(n){var a=n[0],o=n[1];r.updateMinMaxText(a,o),r.view.render(!0)},r.container=r.view.getLayer(G.FORE).addGroup(),r}return Object.defineProperty(e.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){if(this.option=this.view.getOptions().slider,this.option){this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onValueChanged));var t=this.slider.component.get("start")||0,r=this.slider.component.get("end")||1;this.updateMinMaxText(t,r)}else this.slider&&(this.slider.component.destroy(),this.slider=void 0)},e.prototype.layout=function(){if(this.slider){var t=this.view.coordinateBBox.width,r=this.slider.component.getLayoutBBox(),n=new or(r.x,r.y,Math.min(r.width,t),r.height),a=sl(this.view.viewBBox,n,Y.BOTTOM),o=a[0],s=a[1],l=sl(this.view.coordinateBBox,n,Y.BOTTOM),f=l[0],h=l[1];this.slider.component.update({x:f,y:s,width:t})}},e.prototype.update=function(){this.render()},e.prototype.createSlider=function(){var t=this.getSliderCfg(),r=new en.Slider((0,k.__assign)({container:this.container},t));return r.init(),{component:r,layer:G.FORE,direction:Y.BOTTOM,type:V.OTHER}},e.prototype.updateSlider=function(){var t=this.getSliderCfg();return de(t,["x","y","width","start","end","minText","maxText"]),this.slider.component.update(t),this.slider},e.prototype.getSliderCfg=function(){if((0,u.isObject)(this.option)){var t=(0,k.__assign)({data:this.getData()},(0,u.get)(this.option,"trendCfg",{})),r=0,n=0,a=this.view.coordinateBBox.width,o=(0,u.deepMix)({},{x:r,y:n,width:a},this.option);return(0,k.__assign)((0,k.__assign)({},o),{trendCfg:t})}return{}},e.prototype.getData=function(){var t=this.view.getOptions().data,r=this.view.getYScales()[0],n=this.view.getGroupScales();if(n.length){var a=n[0],o=a.field,s=a.ticks;return t.reduce(function(l,f){return f[o]===s[0]&&l.push(f[r.field]),l},[])}return t.map(function(l){return l[r.field]||0})},e.prototype.updateMinMaxText=function(t,r){var n=this.view.getOptions().data,a=this.view.getXScale(),o=(0,u.size)(n);if(!(!a||!o)){var s=a.field,l=n.reduce(function(D,X){return D.includes(X[s])||D.push(X[s]),D},[]),f=(0,u.size)(l),h=Math.floor(t*(f-1)),c=Math.floor(r*(f-1)),v=(0,u.get)(l,[h]),x=(0,u.get)(l,[c]),P=this.getSliderCfg().formatter;P&&(v=P(v,n[h],h),x=P(x,n[c],c)),this.slider.component.update({minText:v,maxText:x,start:t,end:r}),this.view.filter(a.field,function(D,X){var K=l.indexOf(D);return K>-1?Dn(K,h,c):!0})}},e.prototype.getComponents=function(){return this.slider?[this.slider]:[]},e}(ao),D2=B2;function F2(i){for(var e=[],t=function(n){var a=i[n],o=(0,u.find)(e,function(s){return s.color===a.color&&s.name===a.name&&s.value===a.value&&s.title===a.title});o||e.push(a)},r=0;r<i.length;r++)t(r);return e}var R2=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(e.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},e.prototype.render=function(){},e.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var r=this.view,n=this.getTooltipItems(t);if(!n.length){this.hideTooltip();return}var a=this.getTitle(n),o={x:n[0].x,y:n[0].y};r.emit("tooltip:show",(0,k.__assign)({items:n,title:a},t));var s=this.getTooltipCfg(),l=s.follow,f=s.showMarkers,h=s.showCrosshairs,c=s.showContent,v=s.marker,x=this.items,P=this.title;if(!(0,u.isEqual)(P,a)||!(0,u.isEqual)(x,n)?(r.emit("tooltip:change",(0,k.__assign)({items:n,title:a},t)),c&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,u.mix)({},s,{items:n,title:a},l?t:{})),this.tooltip.show()),f&&this.renderTooltipMarkers(n,v)):(this.tooltip&&l&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=n,this.title=a,h){var D=(0,u.get)(s,["crosshairs","follow"],!1);this.renderCrosshairs(D?t:o,s)}}},e.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var r=this.tooltipMarkersGroup;r&&r.hide();var n=this.xCrosshair,a=this.yCrosshair;n&&n.hide(),a&&a.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",{}),this.point=null},e.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},e.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},e.prototype.isTooltipLocked=function(){return this.isLocked},e.prototype.clear=function(){var t=this,r=t.tooltip,n=t.xCrosshair,a=t.yCrosshair,o=t.tooltipMarkersGroup;r&&(r.hide(),r.clear()),n&&n.clear(),a&&a.clear(),o&&o.clear()},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},e.prototype.changeVisible=function(t){if(this.visible!==t){var r=this,n=r.tooltip,a=r.tooltipMarkersGroup,o=r.xCrosshair,s=r.yCrosshair;t?(n&&n.show(),a&&a.show(),o&&o.show(),s&&s.show()):(n&&n.hide(),a&&a.hide(),o&&o.hide(),s&&s.hide()),this.visible=t}},e.prototype.getTooltipItems=function(t){var r=this.findItemsFromView(this.view,t);if(r.length){r=(0,u.flatten)(r);for(var n=0,a=r;n<a.length;n++)for(var o=a[n],s=0,l=o;s<l.length;s++){var f=l[s],h=f.mappingData,c=h.x,v=h.y;f.x=(0,u.isArray)(c)?c[c.length-1]:c,f.y=(0,u.isArray)(v)?v[v.length-1]:v}var x=this.getTooltipCfg().shared;if(x===!1&&r.length>1){for(var P=r[0],D=Math.abs(t.y-P[0].y),X=0,K=r;X<K.length;X++){var Z=K[X],gt=Math.abs(t.y-Z[0].y);gt<=D&&(P=Z,D=gt)}r=[P]}return F2((0,u.flatten)(r))}return[]},e.prototype.layout=function(){},e.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},e.prototype.getTooltipCfg=function(){var t=this.view,r=t.getOptions().tooltip,n=t.getTheme(),a=(0,u.get)(n,["components","tooltip"],{}),o=(0,u.isUndefined)((0,u.get)(r,"enterable"))?a.enterable:(0,u.get)(r,"enterable");return(0,u.deepMix)({},a,r,{capture:!!(o||this.isLocked)})},e.prototype.getTitle=function(t){var r=t[0].title||t[0].name;return this.title=r,r},e.prototype.renderTooltip=function(){var t=this.view.getCanvas(),r={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),a=new be((0,k.__assign)((0,k.__assign)({parent:t.get("el").parentNode,region:r},n),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},e.prototype.renderTooltipMarkers=function(t,r){for(var n=this.getTooltipMarkersGroup(),a=0,o=t;a<o.length;a++){var s=o[a],l=s.x,f=s.y,h=(0,k.__assign)((0,k.__assign)({fill:s.color,symbol:"circle",shadowColor:s.color},r),{x:l,y:f});n.addShape("marker",{attrs:h})}},e.prototype.renderCrosshairs=function(t,r){var n=(0,u.get)(r,["crosshairs","type"],"x");n==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,r)):n==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,r)):n==="xy"&&(this.renderXCrosshairs(t,r),this.renderYCrosshairs(t,r))},e.prototype.renderXCrosshairs=function(t,r){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!tr(n,t)){var a,o;if(n.isRect)n.isTransposed?(a={x:n.start.x,y:t.y},o={x:n.end.x,y:t.y}):(a={x:t.x,y:n.end.y},o={x:t.x,y:n.start.y});else{var s=vr(n,t),l=n.getCenter(),f=n.getRadius();o=Pr(l.x,l.y,f,s),a=l}var h=(0,u.deepMix)({start:a,end:o,container:this.getTooltipCrosshairsGroup()},(0,u.get)(r,"crosshairs",{}),this.getCrosshairsText("x",t,r));delete h.type;var c=this.xCrosshair;c?c.update(h):(c=new en.Crosshair.Line(h),c.init()),c.render(),c.show(),this.xCrosshair=c}},e.prototype.renderYCrosshairs=function(t,r){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!tr(n,t)){var a,o;if(n.isRect){var s=void 0,l=void 0;n.isTransposed?(s={x:t.x,y:n.end.y},l={x:t.x,y:n.start.y}):(s={x:n.start.x,y:t.y},l={x:n.end.x,y:t.y}),a={start:s,end:l},o="Line"}else a={center:n.getCenter(),radius:Ge(n,t),startAngle:n.startAngle,endAngle:n.endAngle},o="Circle";a=(0,u.deepMix)({container:this.getTooltipCrosshairsGroup()},a,(0,u.get)(r,"crosshairs",{}),this.getCrosshairsText("y",t,r)),delete a.type;var f=this.yCrosshair;f?n.isRect&&f.get("type")==="circle"||!n.isRect&&f.get("type")==="line"?(f=new en.Crosshair[o](a),f.init()):f.update(a):(f=new en.Crosshair[o](a),f.init()),f.render(),f.show(),this.yCrosshair=f}},e.prototype.getCrosshairsText=function(t,r,n){var a=(0,u.get)(n,["crosshairs","text"]),o=(0,u.get)(n,["crosshairs","follow"]),s=this.items;if(a){var l=this.getViewWithGeometry(this.view),f=s[0],h=l.getXScale(),c=l.getYScales()[0],v=void 0,x=void 0;if(o){var P=this.view.getCoordinate().invert(r);v=h.invert(P.x),x=c.invert(P.y)}else v=f.data[h.field],x=f.data[c.field];var D=t==="x"?v:x;return(0,u.isFunction)(a)?a=a(t,D,s,r):a.content=D,{text:a}}},e.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},e.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},e.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},e.prototype.getTooltipItemsByHitShape=function(t,r,n){var a=[],o=t.container,s=o.getShape(r.x,r.y);if(s&&s.get("visible")&&s.get("origin")){var l=s.get("origin").mappingData,f=ye(l,t,n);f.length&&a.push(f)}return a},e.prototype.getTooltipItemsByFindData=function(t,r,n){var a=[],o=t.dataArray;t.sort(o);for(var s=0,l=o;s<l.length;s++){var f=l[s],h=oe(r,f,t);if(h){var c=t.getElementId(h),v=t.elementsMap[c];if(t.type==="heatmap"||v.visible){var x=ye(h,t,n);x.length&&a.push(x)}}}return a},e.prototype.findItemsFromView=function(t,r){if(t.getOptions().tooltip===!1)return[];for(var n=[],a=t.geometries,o=this.getTooltipCfg(),s=o.shared,l=o.title,f=0,h=a;f<h.length;f++){var c=h[f];if(c.visible&&c.tooltipOption!==!1){var v=c.type,x=void 0;["point","edge","polygon"].includes(v)?x=this.getTooltipItemsByHitShape(c,r,l):["area","line","path","heatmap"].includes(v)?x=this.getTooltipItemsByFindData(c,r,l):s!==!1?x=this.getTooltipItemsByFindData(c,r,l):x=this.getTooltipItemsByHitShape(c,r,l),x.length&&n.push(x)}}for(var P=0,D=t.views;P<D.length;P++){var X=D[P];n=n.concat(this.findItemsFromView(X,r))}return n},e.prototype.getViewWithGeometry=function(t){var r=this;return t.geometries.length?t:(0,u.find)(t.views,function(n){return r.getViewWithGeometry(n)})},e}(ao),N2=R2,Y2=function(i){(0,k.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.show=function(){var t=this.context.view,r=this.context.event,n=t.getTooltipItems({x:r.x,y:r.y});if(!(0,u.isEqual)(n,this.items)&&(this.items=n,n.length)){var a=t.getXScale().field,o=n[0].data[a],s=[],l=t.geometries;if((0,u.each)(l,function(He){if(He.type==="interval"||He.type==="schema"){var Ze=He.getElementsBy(function(Ue){var ur=Ue.getData();return ur[a]===o});s=s.concat(Ze)}}),s.length){var f=t.getCoordinate(),h=s[0].shape.getCanvasBBox(),c=s[0].shape.getCanvasBBox(),v=h;(0,u.each)(s,function(He){var Ze=He.shape.getCanvasBBox();f.isTransposed?(Ze.minY<h.minY&&(h=Ze),Ze.maxY>c.maxY&&(c=Ze)):(Ze.minX<h.minX&&(h=Ze),Ze.maxX>c.maxX&&(c=Ze)),v.x=Math.min(Ze.minX,v.minX),v.y=Math.min(Ze.minY,v.minY),v.width=Math.max(Ze.maxX,v.maxX)-v.x,v.height=Math.max(Ze.maxY,v.maxY)-v.y});var x=t.backgroundGroup,P=t.coordinateBBox,D=void 0;if(f.isRect){var X=t.getXScale(),K=X.isLinear?0:.25,Z=void 0,gt=void 0,mt=void 0,Nt=void 0;f.isTransposed?(Z=P.minX,gt=Math.min(c.minY,h.minY)-K*c.height,mt=P.width,Nt=v.height+K*2*c.height):(Z=Math.min(h.minX,c.minX)-K*h.width,gt=Math.min(P.minY,h.minY),mt=v.width+K*2*h.width,Nt=P.height),D=[["M",Z,gt],["L",Z+mt,gt],["L",Z+mt,gt+Nt],["L",Z,gt+Nt],["Z"]]}else{var Zt=(0,u.head)(s),ee=(0,u.last)(s),ue=fn(Zt.getModel(),f).startAngle,ne=fn(ee.getModel(),f).endAngle,xe=f.getCenter(),Pe=f.getRadius(),Ye=f.innerRadius*Pe;D=Hr(xe.x,xe.y,Pe,ue,ne,Ye)}this.regionPath?(this.regionPath.attr("path",D),this.regionPath.show()):this.regionPath=x.addShape({type:"path",name:"active-region",capture:!1,attrs:{path:D,fill:"#CCD6EC",opacity:.3}})}}},e.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},e.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),i.prototype.destroy.call(this)},e}(De),G2=Y2,z2=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return e.prototype.show=function(){var t=this.context,r=t.event,n=t.view,a=n.isTooltipLocked();if(!a){var o=this.timeStamp,s=+new Date;if(s-o>16){var l=this.location,f={x:r.x,y:r.y};(!l||!(0,u.isEqual)(l,f))&&this.showTooltip(n,f),this.timeStamp=s,this.location=f}}},e.prototype.hide=function(){var t=this.context.view,r=t.isTooltipLocked();r||(this.hideTooltip(t),this.location=null)},e.prototype.showTooltip=function(t,r){t.showTooltip(r)},e.prototype.hideTooltip=function(t){t.hideTooltip()},e}(De),Ev=z2,X2=function(i){(0,k.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.showTooltip=function(t,r){var n=In(t);(0,u.each)(n,function(a){var o=Li(t,a,r);a.showTooltip(o)})},e.prototype.hideTooltip=function(t){var r=In(t);(0,u.each)(r,function(n){n.hideTooltip()})},e}(Ev),V2=X2,H2=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return e.prototype.destroy=function(){i.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.show=function(){var t=this.context,r=t.event,n=this.timeStamp,a=+new Date;if(a-n>16){var o=this.location,s={x:r.x,y:r.y};(!o||!(0,u.isEqual)(o,s))&&this.showTooltip(s),this.timeStamp=a,this.location=s}},e.prototype.hide=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var r=this.context,n=r.event,a=n.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=a.get("tip");this.tooltip.update((0,k.__assign)({title:o},t)),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t=this.context.view,r=t.canvas,n={start:{x:0,y:0},end:{x:r.get("width"),y:r.get("height")}},a=t.getTheme(),o=(0,u.get)(a,["components","tooltip","domStyles"],{}),s=new be({parent:r.get("el").parentNode,region:n,visible:!1,crosshairs:null,domStyles:o});s.init(),s.setCapture(!1),this.tooltip=s},e}(De),W2=H2,j2=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t}return e.prototype.hasState=function(t){return t.hasState(this.stateName)},e.prototype.setElementState=function(t,r){t.setState(this.stateName,r)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},e.prototype.clearViewState=function(t){var r=this,n=ea(t,this.stateName);(0,u.each)(n,function(a){r.setElementState(a,!1)})},e}(De),yf=j2;function Av(i){return(0,u.get)(i.get("delegateObject"),"item")}var U2=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return e.prototype.isItemIgnore=function(t,r){var n=this.ignoreListItemStates,a=n.filter(function(o){return r.hasState(t,o)});return!!a.length},e.prototype.setStateByComponent=function(t,r,n){var a=this.context.view,o=t.get("field"),s=Sr(a);this.setElementsStateByItem(s,o,r,n)},e.prototype.setStateByElement=function(t,r){this.setElementState(t,r)},e.prototype.isMathItem=function(t,r,n){var a=this.context.view,o=oi(a,r),s=yn(t,r);return!(0,u.isNil)(s)&&n.name===o.getText(s)},e.prototype.setElementsStateByItem=function(t,r,n,a){var o=this;(0,u.each)(t,function(s){o.isMathItem(s,r,n)&&s.setState(o.stateName,a)})},e.prototype.setStateEnable=function(t){var r=Jr(this.context);if(r)Fn(this.context)&&this.setStateByElement(r,t);else{var n=ln(this.context);if(kn(n)){var a=n.item,o=n.component;if(a&&o&&!this.isItemIgnore(a,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&Av(s.fromShape)===Av(s.toShape))return;this.setStateByComponent(o,a,t)}}}},e.prototype.toggle=function(){var t=Jr(this.context);if(t){var r=t.hasState(this.stateName);this.setElementState(t,!r)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(yf),mf=U2,Z2=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(mf),K2=Z2,$2=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.cache={},t}return e.prototype.getColorScale=function(t,r){var n=r.geometry.getAttribute("color");if(!n)return null;var a=t.getScaleByField(n.getFields()[0]);return a},e.prototype.getLinkPath=function(t,r){var n=t.shape.getCanvasBBox(),a=r.shape.getCanvasBBox(),o=[["M",n.maxX,n.minY],["L",a.minX,a.minY],["L",a.minX,a.maxY],["L",n.maxX,n.maxY],["Z"]];return o},e.prototype.addLinkShape=function(t,r,n){t.addShape({type:"path",attrs:{opacity:.4,fill:r.shape.attr("fill"),path:this.getLinkPath(r,n)}})},e.prototype.linkByElement=function(t){var r=this,n=this.context.view,a=this.getColorScale(n,t);if(!!a){var o=yn(t,a.field);if(!this.cache[o]){var s=ii(n,a.field,o),l=this.linkGroup,f=l.addGroup();this.cache[o]=f;var h=s.length;(0,u.each)(s,function(c,v){if(v<h-1){var x=s[v+1];r.addLinkShape(f,c,x)}})}}},e.prototype.removeLink=function(t){var r=this.getColorScale(this.context.view,t);if(!!r){var n=yn(t,r.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},e.prototype.link=function(){var t=this.context;this.linkGroup||(this.linkGroup=t.view.foregroundGroup.addGroup({capture:!1}));var r=Jr(t);r&&this.linkByElement(r)},e.prototype.unlink=function(){var t=Jr(this.context);t&&this.removeLink(t)},e.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear()},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},e}(De),Q2=$2,J2=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},e.prototype.getIntersectElements=function(){var t=null;if(Rn(this.context))t=Ai(this.context,10);else{var r=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!r||!n)return;var a={minX:Math.min(r.x,n.x),minY:Math.min(r.y,n.y),maxX:Math.max(r.x,n.x),maxY:Math.max(r.y,n.y)},o=this.context.view;t=_i(o,a)}return t},e.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var r=Sr(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,r):this.clear()}},e.prototype.setSiblingsStateByRecord=function(t,r){var n=this,a=this.context.view,o=In(a),s=t.map(function(h){return h.getModel().data}),l=a.getXScale().field,f=a.getYScales()[0].field;(0,u.each)(o,function(h){var c=Sr(h),v=c.filter(function(x){var P=x.getModel().data;return Ii(s,P,l,f)});n.setElementsState(v,r,c)})},e.prototype.setSiblingsState=function(t){var r=this,n=this.context.view,a=In(n);Rn(this.context)&&(0,u.each)(a,function(o){var s=Sr(o),l=ti(r.context,o,10);l&&l.length?r.setElementsState(l,t,s):r.clearViewState(o)})},e.prototype.setElementsState=function(t,r,n){var a=this;(0,u.each)(n,function(o){t.includes(o)?a.setElementState(o,r):a.setElementState(o,!1)})},e.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},e.prototype.clear=function(){var t=this,r=this.context.view;if(this.effectSiblings){var n=In(r);(0,u.each)(n,function(a){t.clearViewState(a)})}else this.clearViewState(r)},e}(yf),xf=J2,q2=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(xf),tM=q2,eM=function(i){(0,k.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.setStateEnable=function(t){var r=Jr(this.context);if(r){if(!Fn(this.context))return;t?(this.clear(),this.setElementState(r,!0)):this.hasState(r)&&this.setElementState(r,!1)}},e.prototype.toggle=function(){var t=Jr(this.context);if(t){var r=this.hasState(t);r||this.clear(),this.setElementState(t,!r)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(yf),bf=eM,rM=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(bf),nM=rM,hs="inactive",cs="active";function wf(i){var e=Sr(i);(0,u.each)(e,function(t){t.hasState(cs)&&t.setState(cs,!1),t.hasState(hs)&&t.setState(hs,!1)})}function Tv(i,e,t){(0,u.each)(i,function(r){e(r)?(r.hasState(hs)&&r.setState(hs,!1),r.setState(cs,t)):(r.hasState(cs)&&r.setState(cs,!1),r.setState(hs,t))})}var _o=Ft.INACTIVE,Qa=Ft.ACTIVE,iM=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=Qa,t}return e.prototype.setElementsStateByItem=function(t,r,n,a){var o=this,s=function(l){return o.isMathItem(l,r,n)};this.setHighlightBy(t,s,a)},e.prototype.setElementHighlight=function(t,r){r(t)?(t.hasState(_o)&&t.setState(_o,!1),t.setState(Qa,!0)):t.hasState(Qa)||t.setState(_o,!0)},e.prototype.setHighlightBy=function(t,r,n){var a=this;if(n)(0,u.each)(t,function(l){a.setElementHighlight(l,r)});else{var o=ea(this.context.view,Qa),s=!0;(0,u.each)(o,function(l){if(!r(l))return s=!1,!1}),s?this.clear():(0,u.each)(t,function(l){r(l)&&(l.hasState(Qa)&&l.setState(Qa,!1),l.setState(_o,!0))})}},e.prototype.setElementState=function(t,r){var n=this.context.view,a=Sr(n);this.setHighlightBy(a,function(o){return t===o},r)},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var t=this.context.view;wf(t)},e}(mf),Sf=iM,aM=function(i){(0,k.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.setStateByElement=function(t,r){var n=this.context.view,a=t.geometry.getAttribute("color");if(!!a){var o=n.getScaleByField(a.getFields()[0]),s=yn(t,o.field),l=Sr(n),f=l.filter(function(h){return yn(h,o.field)===s});this.setHighlightBy(l,function(h){return f.includes(h)},r)}},e}(Sf),oM=aM,sM=function(i){(0,k.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.setElementHighlight=function(t,r){r(t)?(t.hasState(_o)&&t.setState(_o,!1),t.setState(Qa,!0)):(t.setState(_o,!0),t.hasState(Qa)&&t.setState(Qa,!1))},e.prototype.setStateByElement=function(t,r){var n=this.context.view,a=n.getXScale(),o=yn(t,a.field),s=Sr(n),l=s.filter(function(f){return yn(f,a.field)===o});this.setHighlightBy(s,function(f){return l.includes(f)},r)},e.prototype.toggle=function(){var t=Jr(this.context);if(t){var r=t.hasState(this.stateName);this.setStateByElement(t,!r)}},e}(Sf),lM=sM,uM=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.clearViewState=function(t){wf(t)},e.prototype.highlight=function(){this.setState()},e.prototype.setElementsState=function(t,r,n){Tv(n,function(a){return t.indexOf(a)>=0},r)},e}(xf),Pv=uM,fM=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.highlight=function(){this.setState()},e.prototype.setElementState=function(t,r){var n=this.context.view,a=Sr(n);Tv(a,function(o){return t===o},r)},e.prototype.clear=function(){var t=this.context.view;wf(t)},e}(bf),hM=fM,cM=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(xf),vM=cM,dM=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(mf),pM=dM,gM=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(bf),yM=gM,mM=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return e.prototype.getTriggerListInfo=function(){var t=ln(this.context),r=null;return kn(t)&&(r={item:t.item,list:t.component}),r},e.prototype.getAllowComponents=function(){var t=this,r=this.context.view,n=ca(r),a=[];return(0,u.each)(n,function(o){o.isList()&&t.allowSetStateByElement(o)&&a.push(o)}),a},e.prototype.hasState=function(t,r){return t.hasState(r,this.stateName)},e.prototype.clearAllComponentsState=function(){var t=this,r=this.getAllowComponents();(0,u.each)(r,function(n){n.clearItemsState(t.stateName)})},e.prototype.allowSetStateByElement=function(t){var r=t.get("field");if(!r)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(this.cfg.componentNames.indexOf(n)===-1)return!1}var a=this.context.view,o=oi(a,r);return o&&o.isCategory},e.prototype.allowSetStateByItem=function(t,r){var n=this.ignoreItemStates;if(n.length){var a=n.filter(function(o){return r.hasState(t,o)});return a.length===0}return!0},e.prototype.setStateByElement=function(t,r,n){var a=t.get("field"),o=this.context.view,s=oi(o,a),l=yn(r,a),f=s.getText(l);this.setItemsState(t,f,n)},e.prototype.setStateEnable=function(t){var r=this,n=Jr(this.context);if(n){var a=this.getAllowComponents();(0,u.each)(a,function(f){r.setStateByElement(f,n,t)})}else{var o=ln(this.context);if(kn(o)){var s=o.item,l=o.component;this.allowSetStateByElement(l)&&this.allowSetStateByItem(s,l)&&this.setItemState(l,s,t)}}},e.prototype.setItemsState=function(t,r,n){var a=this,o=t.getItems();(0,u.each)(o,function(s){s.name===r&&a.setItemState(t,s,n)})},e.prototype.setItemState=function(t,r,n){t.setItemState(r,this.stateName,n)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.reset=function(){this.setStateEnable(!1)},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var r=t.list,n=t.item,a=this.hasState(r,n);this.setItemState(r,n,!a)}},e.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},e}(De),ll=mM,xM=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(ll),bM=xM,_v="inactive",Ov="active";function wM(i){var e=i.getItems();(0,u.each)(e,function(t){i.hasState(t,Ov)&&i.setItemState(t,Ov,!1),i.hasState(t,_v)&&i.setItemState(t,_v,!1)})}var vs="inactive",Oo="active",SM=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=Oo,t.ignoreItemStates=["unchecked"],t}return e.prototype.setItemsState=function(t,r,n){this.setHighlightBy(t,function(a){return a.name===r},n)},e.prototype.setItemState=function(t,r,n){var a=t.getItems();this.setHighlightBy(t,function(o){return o===r},n)},e.prototype.setHighlightBy=function(t,r,n){var a=t.getItems();if(n)(0,u.each)(a,function(l){r(l)?(t.hasState(l,vs)&&t.setItemState(l,vs,!1),t.setItemState(l,Oo,!0)):t.hasState(l,Oo)||t.setItemState(l,vs,!0)});else{var o=t.getItemsByState(Oo),s=!0;(0,u.each)(o,function(l){if(!r(l))return s=!1,!1}),s?this.clear():(0,u.each)(a,function(l){r(l)&&(t.hasState(l,Oo)&&t.setItemState(l,Oo,!1),t.setItemState(l,vs,!0))})}},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)wM(t.list);else{var r=this.getAllowComponents();(0,u.each)(r,function(n){n.clearItemsState(Oo),n.clearItemsState(vs)})}},e}(ll),Mf=SM,MM=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(ll),CM=MM,EM=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="unchecked",t}return e.prototype.unchecked=function(){this.setState()},e}(ll),AM=EM,TM=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.emitEvent=function(t){var r="mask:"+t,n=this.context.view,a=this.context.event;n.emit(r,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},e.prototype.createMask=function(){var t=this.context.view,r=this.getMaskAttrs(),n=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,k.__assign)({fill:"#C5D4EB",opacity:.3},r)});return n},e.prototype.getMaskPath=function(){return[]},e.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},e.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},e.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),r=this.preMovePoint,n=t.x-r.x,a=t.y-r.y,o=this.points;(0,u.each)(o,function(s){s.x+=n,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},e.prototype.updateMask=function(){var t=this.getMaskAttrs();this.maskShape.attr(t)},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},e.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},e.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},e.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,i.prototype.destroy.call(this)},e}(De),Cf=TM,PM=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="circle",t}return e.prototype.getMaskAttrs=function(){var t=this.points,r=(0,u.last)(this.points),n=0,a=0,o=0;if(t.length){var s=t[0];n=zi(s,r)/2,a=(r.x+s.x)/2,o=(r.y+s.y)/2}return{x:a,y:o,r:n}},e}(Cf),_M=PM,OM=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="rect",t}return e.prototype.getRegion=function(){var t=this.points;return{start:(0,u.head)(t),end:(0,u.last)(t)}},e.prototype.getMaskAttrs=function(){var t=this.getRegion(),r=t.start,n=t.end,a=Math.min(r.x,n.x),o=Math.min(r.y,n.y),s=Math.abs(n.x-r.x),l=Math.abs(n.y-r.y);return{x:a,y:o,width:s,height:l}},e}(Cf),Lv=OM;function Iv(i){i.x=(0,u.clamp)(i.x,0,1),i.y=(0,u.clamp)(i.y,0,1)}var LM=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return e.prototype.getRegion=function(){var t=null,r=null,n=this.points,a=this.dim,o=this.context.view.getCoordinate(),s=o.invert((0,u.head)(n)),l=o.invert((0,u.last)(n));return this.inPlot&&(Iv(s),Iv(l)),a==="x"?(t=o.convert({x:s.x,y:0}),r=o.convert({x:l.x,y:1})):(t=o.convert({x:0,y:s.y}),r=o.convert({x:1,y:l.y})),{start:t,end:r}},e}(Lv),kv=LM,IM=function(i){(0,k.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getMaskPath=function(){var t=this.points,r=[];return t.length&&((0,u.each)(t,function(n,a){a===0?r.push(["M",n.x,n.y]):r.push(["L",n.x,n.y])}),r.push(["L",t[0].x,t[0].y])),r},e.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},e.prototype.addPoint=function(){this.resize()},e}(Cf),Bv=IM,kM=function(i){(0,k.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getMaskPath=function(){var t=this.points;return mi(t,!0)},e}(Bv),BM=kM,DM=function(i){(0,k.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.setCursor=function(t){var r=this.context.view;r.getCanvas().setCursor(t)},e.prototype.default=function(){this.setCursor("default")},e.prototype.pointer=function(){this.setCursor("pointer")},e.prototype.move=function(){this.setCursor("move")},e.prototype.crosshair=function(){this.setCursor("crosshair")},e.prototype.wait=function(){this.setCursor("wait")},e.prototype.help=function(){this.setCursor("help")},e.prototype.text=function(){this.setCursor("text")},e.prototype.eResize=function(){this.setCursor("e-resize")},e.prototype.wResize=function(){this.setCursor("w-resize")},e.prototype.nResize=function(){this.setCursor("n-resize")},e.prototype.sResize=function(){this.setCursor("s-resize")},e.prototype.neResize=function(){this.setCursor("ne-resize")},e.prototype.nwResize=function(){this.setCursor("nw-resize")},e.prototype.seResize=function(){this.setCursor("se-resize")},e.prototype.swResize=function(){this.setCursor("sw-resize")},e.prototype.nsResize=function(){this.setCursor("ns-resize")},e.prototype.ewResize=function(){this.setCursor("ew-resize")},e}(De),FM=DM,RM=function(i){(0,k.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.filterView=function(t,r,n){var a=this;t.getScaleByField(r)&&t.filter(r,n),t.views&&t.views.length&&(0,u.each)(t.views,function(o){a.filterView(o,r,n)})},e.prototype.filter=function(){var t=ln(this.context);if(t){var r=this.context.view,n=t.component,a=n.get("field");if(kn(t)){if(a){var o=n.getItemsByState("unchecked"),s=oi(r,a),l=o.map(function(v){return v.name});l.length?this.filterView(r,a,function(v){var x=s.getText(v);return!l.includes(x)}):this.filterView(r,a,null),r.render(!0)}}else if(Jn(t)){var f=n.getValue(),h=f[0],c=f[1];this.filterView(r,a,function(v){return v>=h&&v<=c}),r.render(!0)}}},e}(De),NM=RM;function Dv(i,e,t,r){var n=Math.min(t[e],r[e]),a=Math.max(t[e],r[e]),o=i.range,s=o[0],l=o[1];if(n<s&&(n=s),a>l&&(a=l),n===l&&a===l)return null;var f=i.invert(n),h=i.invert(a);if(i.isCategory){var c=i.values.indexOf(f),v=i.values.indexOf(h),x=i.values.slice(c,v+1);return function(P){return x.includes(P)}}else return function(P){return P>=f&&P<=h}}var YM=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},e.prototype.filter=function(){var t,r;if(Rn(this.context)){var n=this.context.event.target,a=n.getCanvasBBox();t={x:a.x,y:a.y},r={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;t=this.startPoint,r=this.context.getCurrentPoint()}if(!(Math.abs(t.x-r.x)<5||Math.abs(t.x-r.y)<5)){var o=this.context.view,s=o.getCoordinate(),l=s.invert(r),f=s.invert(t);if(this.hasDim("x")){var h=o.getXScale(),c=Dv(h,"x",l,f);this.filterView(o,h.field,c)}if(this.hasDim("y")){var v=o.getYScales()[0],c=Dv(v,"y",l,f);this.filterView(o,v.field,c)}this.reRender(o)}},e.prototype.end=function(){this.isStarted=!1},e.prototype.reset=function(){var t=this.context.view;if(this.isStarted=!1,this.hasDim("x")){var r=t.getXScale();this.filterView(t,r.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t)},e.prototype.filterView=function(t,r,n){t.filter(r,n)},e.prototype.reRender=function(t){t.render(!0)},e}(De),ul=YM,GM=function(i){(0,k.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.filterView=function(t,r,n){var a=In(t);(0,u.each)(a,function(o){o.filter(r,n)})},e.prototype.reRender=function(t){var r=In(t);(0,u.each)(r,function(n){n.render(!0)})},e}(ul),Ef=GM,zM=function(i){(0,k.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.filter=function(){var t=ln(this.context),r=this.context.view,n=Sr(r);if(Rn(this.context)){var a=Ai(this.context,10);a&&(0,u.each)(n,function(P){a.includes(P)?P.show():P.hide()})}else if(t){var o=t.component,s=o.get("field");if(kn(t)){if(s){var l=o.getItemsByState("unchecked"),f=oi(r,s),h=l.map(function(P){return P.name});(0,u.each)(n,function(P){var D=yn(P,s),X=f.getText(D);h.indexOf(X)>=0?P.hide():P.show()})}}else if(Jn(t)){var c=o.getValue(),v=c[0],x=c[1];(0,u.each)(n,function(P){var D=yn(P,s);D>=v&&D<=x?P.show():P.hide()})}}},e.prototype.clear=function(){var t=Sr(this.context.view);(0,u.each)(t,function(r){r.show()})},e.prototype.reset=function(){this.clear()},e}(De),XM=zM,VM=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.byRecord=!1,t}return e.prototype.filter=function(){Rn(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},e.prototype.filterByRecord=function(){var t=this.context.view,r=Ai(this.context,10);if(!!r){var n=t.getXScale().field,a=t.getYScales()[0].field,o=r.map(function(l){return l.getModel().data}),s=In(t);(0,u.each)(s,function(l){var f=Sr(l);(0,u.each)(f,function(h){var c=h.getModel().data;Ii(o,c,n,a)?h.show():h.hide()})})}},e.prototype.filterByBBox=function(){var t=this,r=this.context.view,n=In(r);(0,u.each)(n,function(a){var o=ti(t.context,a,10),s=Sr(a);o&&(0,u.each)(s,function(l){o.includes(l)?l.show():l.hide()})})},e.prototype.reset=function(){var t=In(this.context.view);(0,u.each)(t,function(r){var n=Sr(r);(0,u.each)(n,function(a){a.show()})})},e}(De),Fv=VM,HM=10,WM=5,jM=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return e.prototype.getButtonCfg=function(){return(0,u.deepMix)(this.buttonCfg,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),r=this.context.view.foregroundGroup.addGroup({name:t.name}),n=r.addShape({type:"text",name:"button-text",attrs:(0,k.__assign)({text:t.text},t.textStyle)}),a=n.getBBox(),o=Tr(t.padding),s=r.addShape({type:"rect",name:"button-rect",attrs:(0,k.__assign)({x:a.x-o[3],y:a.y-o[0],width:a.width+o[1]+o[3],height:a.height+o[0]+o[2]},t.style)});s.toBack(),r.on("mouseenter",function(){s.attr(t.activeStyle)}),r.on("mouseleave",function(){s.attr(t.style)}),this.buttonGroup=r},e.prototype.resetPosition=function(){var t=this.context.view,r=t.getCoordinate(),n=r.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=cn.transform(null,[["t",n.x-o.width-HM,n.y+o.height+WM]]);a.setMatrix(s)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),i.prototype.destroy.call(this)},e}(De),UM=jM,ZM=4,KM=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},e.prototype.drag=function(){if(!!this.startPoint){var t=this.context.getCurrentPoint(),r=this.context.view,n=this.context.event;this.dragStart?r.emit("drag",{target:n.target,x:n.x,y:n.y}):zi(t,this.startPoint)>ZM&&(r.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},e.prototype.end=function(){if(this.dragStart){var t=this.context.view,r=this.context.event;t.emit("dragend",{target:r.target,x:r.x,y:r.y})}this.starting=!1,this.dragStart=!1},e}(De),$M=KM,QM=5,JM=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},e.prototype.move=function(){if(!!this.starting){var t=this.startPoint,r=this.context.getCurrentPoint(),n=zi(t,r);if(n>QM&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,o=cn.transform(this.startMatrix,[["t",r.x-t.x,r.y-t.y]]);a.backgroundGroup.setMatrix(o),a.foregroundGroup.setMatrix(o),a.middleGroup.setMatrix(o)}}},e.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},e.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},e}(De),qM=JM,Rv="x",Nv="y",tC=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=[Rv,Nv],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.getScale=function(t){var r=this.context.view;return t==="x"?r.getXScale():r.getYScales()[0]},e.prototype.resetDim=function(t){var r=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);r.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},e.prototype.reset=function(){this.resetDim(Rv),this.resetDim(Nv);var t=this.context.view;t.render(!0)},e}(De),Yv=tC,eC=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return e.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var r=this.dims;(0,u.each)(r,function(n){var a=t.getScale(n),o=a.min,s=a.max,l=a.values;t.startCache[n]={min:o,max:s,values:l}})},e.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},e.prototype.translate=function(){var t=this;if(!!this.starting){var r=this.startPoint,n=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),o=n.invert(r),s=n.invert(a),l=s.x-o.x,f=s.y-o.y,h=this.context.view,c=this.dims;(0,u.each)(c,function(v){t.translateDim(v,{x:l*-1,y:f*-1})}),h.render(!0)}},e.prototype.translateDim=function(t,r){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,r)}},e.prototype.translateLinear=function(t,r,n){var a=this.context.view,o=this.startCache[t],s=o.min,l=o.max,f=l-s,h=n[t]*f;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:r.nice,min:s,max:l}),a.scale(r.field,{nice:!1,min:s+h,max:l+h})},e.prototype.reset=function(){i.prototype.reset.call(this),this.startPoint=null,this.starting=!1},e}(Yv),rC=eC,nC=function(i){(0,k.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.zoomRatio=.05,t}return e.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},e.prototype.zoom=function(t){var r=this,n=this.dims;(0,u.each)(n,function(a){r.zoomDim(a,t)}),this.context.view.render(!0)},e.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},e.prototype.zoomDim=function(t,r){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,r)}},e.prototype.zoomLinear=function(t,r,n){var a=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:r.nice,min:r.min,max:r.max});var o=this.cacheScaleDefs[t],s=o.max-o.min,l=r.min,f=r.max,h=n*s,c=l-h,v=f+h,x=v-c,P=x/s;v>c&&P<100&&P>.01&&a.scale(r.field,{nice:!1,min:l-h,max:f+h})},e}(Yv),iC=nC;Ht("dark",Vi(H1)),st("canvas",O),st("svg",_),ia("Polygon",gS),ia("Interval",lS),ia("Schema",mS),ia("Path",of),ia("Point",vS),ia("Line",fS),ia("Area",qw),ia("Edge",eS),ia("Heatmap",iS),as("base",Us),as("interval",DS),as("pie",NS),as("polar",fv),Co("overlap",KS),Co("distribute",GS),Co("fixed-overlap",ZS),Co("limit-in-shape",HS),Co("limit-in-canvas",VS),Co("pie-outer",XS),pi("fade-in",$S),pi("fade-out",QS),pi("grow-in-x",qS),pi("grow-in-xy",e2),pi("grow-in-y",t2),pi("scale-in-x",i2),pi("scale-in-y",a2),pi("wave-in",l2),pi("zoom-in",u2),pi("zoom-out",f2),pi("position-update",n2),pi("sector-path-update",s2),pi("path-in",r2),_e("rect",b2),_e("mirror",m2),_e("list",d2),_e("matrix",g2),_e("circle",c2),_e("tree",S2),We("axis",A2),We("legend",k2),We("tooltip",N2),We("annotation",C2),We("slider",D2),Je("tooltip",Ev),Je("sibling-tooltip",V2),Je("ellipsis-text",W2),Je("element-active",K2),Je("element-single-active",nM),Je("element-range-active",tM),Je("element-highlight",Sf),Je("element-highlight-by-x",lM),Je("element-highlight-by-color",oM),Je("element-single-highlight",hM),Je("element-range-highlight",Pv),Je("element-sibling-highlight",Pv,{effectSiblings:!0,effectByRecord:!0}),Je("element-selected",pM),Je("element-single-selected",yM),Je("element-range-selected",vM),Je("element-link-by-color",Q2),Je("active-region",G2),Je("list-active",bM),Je("list-selected",CM),Je("list-highlight",Mf),Je("list-unchecked",AM),Je("legend-item-highlight",Mf,{componentNames:["legend"]}),Je("axis-label-highlight",Mf,{componentNames:["axis"]}),Je("rect-mask",Lv),Je("x-rect-mask",kv,{dim:"x"}),Je("y-rect-mask",kv,{dim:"y"}),Je("circle-mask",_M),Je("path-mask",Bv),Je("smooth-path-mask",BM),Je("cursor",FM),Je("data-filter",NM),Je("brush",ul),Je("brush-x",ul,{dims:["x"]}),Je("brush-y",ul,{dims:["y"]}),Je("sibling-filter",Ef),Je("sibling-x-filter",Ef),Je("sibling-y-filter",Ef),Je("element-filter",XM),Je("element-sibling-filter",Fv),Je("element-sibling-filter-record",Fv,{byRecord:!0}),Je("view-drag",$M),Je("view-move",qM),Je("scale-translate",rC),Je("scale-zoom",iC),Je("reset-button",UM,{name:"reset-button",text:"reset"});function fo(i){return i.isInPlot()}zr("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),zr("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),zr("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),zr("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),zr("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),zr("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),zr("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),zr("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),zr("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),zr("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),zr("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),zr("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(i){return!i.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(i){return!i.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),zr("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:fo,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:fo,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:fo,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),zr("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),zr("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:fo,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:fo,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:fo,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),zr("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:fo,action:"path-mask:start"},{trigger:"mousedown",isEnable:fo,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),zr("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),zr("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),zr("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),zr("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),zr("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),zr("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});function Gv(i){return i.gEvent.preventDefault(),i.gEvent.originalEvent.deltaY>0}zr("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(i){return Gv(i.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(i){return!Gv(i.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),zr("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});var zv={translate:Xu,rotate:mc,zoom:F1,transform:js,getAngle:fn,polarToCartesian:Pr},fl=function(){function i(e){this.EVENT="gesture",this.gm=e}return i.prototype.do=function(e){var t=e.type;switch(t){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e);break;case"touchcancel":this.onTouchCancel(e);break;default:return}},i.prototype.emit=function(e){this.gm.emit(this.EVENT,e)},i}(),aC=function(i){(0,Dr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="pan",t}return e.prototype.onTouchCancel=function(t){},e.prototype.onTouchEnd=function(t){},e.prototype.onTouchMove=function(t){var r=t.x,n=t.y,a=r-this.preX,o=n-this.preY;this.preX=r,this.preY=n,this.emit({x:r,y:n,deltaX:a,deltaY:o,event:t})},e.prototype.onTouchStart=function(t){var r=t.x,n=t.y;this.preX=r,this.preY=n},e}(fl),ho=typeof performance=="object"&&performance.now?performance:Date,oC=300,Xv=10,sC=function(i){(0,Dr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="press",t}return e.prototype.onTouchCancel=function(t){this.clearTimeout()},e.prototype.onTouchEnd=function(t){this.clearTimeout()},e.prototype.onTouchMove=function(t){var r=t.x,n=t.y;(r-this.touchStartX>Xv||n-this.touchStartY>Xv)&&this.clearTimeout()},e.prototype.onTouchStart=function(t){var r=this;this.clearTimeout();var n=t.x,a=t.y;this.touchStartTime=ho.now(),this.touchStartX=n,this.touchStartY=a,this.pressTimeout=window.setTimeout(function(){r.emit({x:n,y:a,event:t})},oC)},e.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},e}(fl),lC=100,uC=function(i){(0,Dr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="swipe",t.latestMoveTime=0,t.ms=0,t.speedX=0,t.speedY=0,t.preX=0,t.preY=0,t}return e.prototype.onTouchCancel=function(t){},e.prototype.onTouchEnd=function(t){var r=this.speedX,n=this.speedY;if(ho.now()-this.latestMoveTime<lC){var a=t.x,o=t.y;this.emit({x:a,y:o,speedX:r,speedY:n,event:t})}},e.prototype.onTouchMove=function(t){var r=t.x,n=t.y,a=ho.now(),o=r-this.preX,s=n-this.preY,l=a-this.ms;this.speedX=o/l,this.speedY=s/l,this.latestMoveTime=a},e.prototype.onTouchStart=function(t){var r=t.x,n=t.y;this.speedX=this.speedY=0,this.preX=r,this.preY=n,this.ms=ho.now()},e}(fl),fC=300,Vv=2,hC=function(i){(0,Dr.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="tap",t}return e.prototype.onTouchCancel=function(t){},e.prototype.onTouchEnd=function(t){var r=t.x,n=t.y;r-this.touchStartX<Vv&&n-this.touchStartY<Vv&&ho.now()-this.touchStartTime<fC&&this.emit({x:r,y:n,event:t})},e.prototype.onTouchMove=function(t){},e.prototype.onTouchStart=function(t){var r=t.x,n=t.y;this.touchStartTime=ho.now(),this.touchStartX=r,this.touchStartY=n},e}(fl),cC={Pan:aC,Press:sC,Swipe:uC,Tap:hC},vC=function(i){return cC[i]},Hv=function(i){(0,Dr.__extends)(e,i);function e(t,r){r===void 0&&(r={});var n=i.call(this)||this;return n.onTouchStart=function(a){n.preventEvent(a),n.element.on("touchmove",n.onTouchMove),n.element.on("touchend",n.onTouchEnd),n.element.on("touchcancel",n.onTouchCancel),n.emit("touchdown",a),n.doGestures(a)},n.onTouchMove=function(a){n.preventEvent(a),n.emit("touchmove",a),n.doGestures(a)},n.onTouchEnd=function(a){n.preventEvent(a),n.emit("touchend",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.onTouchCancel=function(a){n.preventEvent(a),n.emit("touchcancel",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.element=t,n.options=r,n.initialGestures(),n.bindTouchStart(),n}return e.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},e.prototype.initialGestures=function(){var t=this,r=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=r.map(function(n){var a=vC(n);return new a(t)})},e.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},e.prototype.preventEvent=function(t){var r=t.type,n=this.options.prevents||[];n.includes(r)&&t.preventDefault()},e.prototype.doGestures=function(t){this.gestures.forEach(function(r){r.do(t)})},e}(Be.default),dC=d(68716),pC=dC.yD,gC=800,yC="swipe",mC="pan",Wv="wheel",xC=function(i){(0,Dr.__extends)(e,i);function e(t){var r=i.call(this)||this;return r.rafMs=0,r.onPan=function(n){r.raf&&cancelAnimationFrame(r.raf);var a=n.deltaX,o=n.deltaY,s=r.getWrapperEvent(n,a,o);r.emit(Wv,s)},r.onSwipe=function(n){var a=n.speedX,o=n.speedY;r.rafMs=ho.now(),r.ms=r.rafMs,(a!==0||o!==0)&&r.rafInertia(n)},r.element=t,r.gm=new Hv(t,{gestures:["Pan","Swipe"]}),r.gm.on(yC,r.onSwipe),r.gm.on(mC,r.onPan),r}return e.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},e.prototype.rafInertia=function(t){var r=this,n=t.speedX,a=t.speedY;this.raf=window.requestAnimationFrame(function(){var o=ho.now(),s=(o-r.ms)/gC;if(s<1){s=pC(1-s);var l=o-r.rafMs,f=n*s*l,h=a*s*l,c=r.getWrapperEvent(t,f,h);r.emit(Wv,c),r.rafMs=o,r.rafInertia(t)}})},e.prototype.getWrapperEvent=function(t,r,n){return(0,Dr.__assign)((0,Dr.__assign)({},t),{deltaX:-r,deltaY:-n})},e}(Be.default),An=d(78646),jv=d(13733),bC=d(90835),P9=d(86050),wC=d(85506),co=d(97488),_9=d(98880),SC=d(88373),Lo=d(55225);We("gesture",pt.Z);var pa="origin",ds="_origin",Uv=1e3,Zv=60*Uv,Kv=60*Zv,hl=24*Kv,MC=hl*7,CC=hl*30,EC=hl*365,AC={second:{value:Uv,format:"HH:mm:ss"},miniute:{value:Zv,format:"HH:mm"},hour:{value:Kv,format:"HH"},day:{value:hl,format:"YYYY-MM-DD"},week:{value:MC,format:"YYYY-MM-DD"},month:{value:CC,format:"YYYY-MM"},year:{value:EC,format:"YYYY"}},cl=["click","dblclick","mousemove","mouseenter","mouseleave","mousedown","mouseup","contextmenu"],TC=[],PC={axis:"axis-label",label:"label",legend:"legend-item"},_C={title:"title",description:"description",breadcrumb:"breadcrumb"},$v=(0,u.deepMix)(Bi(_C),Af("Plot",cl)),Qv=Af("Layer",cl),bn=(0,u.deepMix)({},Bi(PC),Af("View",cl),OC());function di(i,e,t){i.view.on(e,function(r){var n={x:r==null?void 0:r.x,y:r==null?void 0:r.y,clientX:r==null?void 0:r.clientX,clientY:r==null?void 0:r.clientY,target:r==null?void 0:r.target,data:(r==null?void 0:r.data)?r.data.data:null,plot:i,canvas:i.canvas,gEvent:r==null?void 0:r.gEvent};t(n)})}function Bi(i){var e={};return(0,u.each)(i,function(t,r){var n=(0,u.upperFirst)(r),a="on"+n,o=t+":";(0,u.each)(cl,function(s){var l=(0,u.upperFirst)(s),f=""+a+l,h=""+o+s;e[f]=h})}),e}function Af(i,e){var t={},r="on";return(0,u.each)(e,function(n){var a=(0,u.upperFirst)(n),o=""+r+i+a;t[o]=n}),t}function OC(){var i={},e="on";return(0,u.each)(TC,function(t){var r=(0,u.upperFirst)(t),n=""+e+r;i[n]=t}),i}var LC=d(62810),IC=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.fromBBoxObject=function(t){return new e(t.x,t.y,t.width,t.height)},e}(LC.BBox),tn=IC,kC=function(i){(0,Jt.__extends)(e,i);function e(t){var r=i.call(this)||this;return r.layers=[],r.destroyed=!1,r.visibility=!0,r.rendered=!1,r.eventHandlers=[],r.options=r.getOptions(t),r.processOptions(r.options),r}return e.prototype.processOptions=function(t){this.id=t.id,this.x=t.x||0,this.y=t.y||0,this.width=t.width,this.height=t.height,this.canvas=t.canvas,this.parent=t.parent},e.prototype.updateConfig=function(t){this.options=(0,u.deepMix)({},this.options,t),this.processOptions(this.options)},e.prototype.beforeInit=function(){return null},e.prototype.init=function(){this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.eachLayer(function(t){t.init()})},e.prototype.afterInit=function(){return null},e.prototype.render=function(){this.rendered||(this.container=this.parent?this.parent.container.addGroup():this.canvas.addGroup()),this.rendered=!0,this.beforeInit(),this.init(),this.afterInit(),this.eachLayer(function(t){t.render()}),this.canvas.draw()},e.prototype.clear=function(){this.eachLayer(function(t){t.destroy()}),this.layers=[],this.container.clear()},e.prototype.destroy=function(){var t=this;this.eachLayer(function(r){r.destroy()}),(0,u.each)(this.eventHandlers,function(r){t.off(r.eventName,r.handler)}),this.container.remove(!0),this.destroyed=!0},e.prototype.show=function(){this.container.attr("visible",!0),this.container.set("visible",!0),this.visibility=!0,this.canvas.draw()},e.prototype.hide=function(){this.container.attr("visible",!1),this.container.set("visible",!1),this.visibility=!1,this.canvas.draw()},e.prototype.addLayer=function(t){var r=(0,u.findIndex)(this.layers,function(n){return n===t});r<0&&(t.parent!==this&&(t.parent=this,t.init()),this.layers.push(t))},e.prototype.removeLayer=function(t){var r=(0,u.findIndex)(this.layers,function(n){return n===t});r>=0&&this.layers.splice(r,1)},e.prototype.updateBBox=function(t,r){r===void 0&&(r=!1);var n={x:this.x,y:this.y,width:this.width,height:this.height},a=(0,u.deepMix)({},n,t);this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.render(),r&&this.eachLayer(function(o){o.updateBBoxByParent(),o.render()}),this.canvas.draw()},e.prototype.updateBBoxByParent=function(){var t=this.layerRegion;this.x=this.parent.x+this.parent.width*t.start.x,this.y=this.parent.y+this.parent.height*t.start.y,this.width=this.parent.width*(t.end.x-t.start.x),this.height=this.parent.height*(t.end.y-t.start.y),this.layerBBox=this.getLayerBBox()},e.prototype.getGlobalPosition=function(){for(var t=this.x,r=this.y,n=this.parent;n;)t+=n.x,r+=n.y,n=n.parent;return{x:t,y:r}},e.prototype.getGlobalBBox=function(){var t=this.getGlobalPosition();return new tn(t.x,t.y,this.width,this.height)},e.prototype.getOptions=function(t){var r=0,n=0;t.parent&&(r=t.parent.width,n=t.parent.height);var a={x:0,y:0,width:r,height:n};return(0,u.deepMix)({},a,t)},e.prototype.eachLayer=function(t){(0,u.each)(this.layers,t)},e.prototype.parseEvents=function(t){var r=this,n=(0,u.keys)(Qv);(0,u.each)(t,function(a,o){if((0,u.contains)(n,o)&&(0,u.isFunction)(a)){var s=Qv[o]||o,l=a;r.on(s,l),r.eventHandlers.push({name:s,handler:l})}})},e.prototype.getLayerBBox=function(){return new tn(this.x,this.y,this.width,this.height)},e.prototype.getLayerRegion=function(){if(this.parent){var t=this.parent.width,r=this.parent.height,n=this.parent.x,a=this.parent.y,o=(this.x-n)/t,s=(this.y-a)/r,l=(this.x+this.width-n)/t,f=(this.y+this.height-a)/r;return{start:{x:o,y:s},end:{x:l,y:f}}}return{start:{x:0,y:0},end:{x:1,y:1}}},e}(Be.default),vl=kC;function Xo(i){return i?!!(i.visible===!0&&typeof i.text=="string"&&i.text.trim()):!1}function Jv(i,e){var t=(0,Jt.__spreadArrays)(i);return e.forEach(function(r,n){t.splice(r+n,0,`
`)}),t.join("")}function BC(i){return i.getComponents().filter(function(e){return e.type===An.COMPONENT_TYPE.AXIS}).map(function(e){return e.component})}function DC(i){return i.getComponents().filter(function(e){return e.type===An.COMPONENT_TYPE.LEGEND}).map(function(e){return e.component})}function O9(i){var e=i.backgroundGroup.findAll(function(t){if(t.get("name")){var r=t.get("name").split("-");return r[0]==="axis"}});return e}function L9(i){var e=i.foregroundGroup.findAll(function(t){if(t.get("name"))return t.get("name")==="legend-item-group"});return e}function FC(i,e){for(var t=i.length;t>0&&!(e>=i[t-1]);)t-=1;return t}function qv(i,e){return!(i.maxY<e.minY||e.maxY<i.minY||i.maxX<e.minX||e.maxX<i.minX)}function I9(){return!!navigator.userAgent.match(/(Mobile)|(Android)|(WebOS)|(iPhone)|(iPad)/)}var RC=function(){function i(e){this.position="top",this.destroyed=!1,(0,u.assign)(this,e),this.init()}return i.prototype.getBBox=function(){var e=this;if(this.shape){var t=this.shape.getBBox();if(this.index===0)return tn.fromBBoxObject(t);var r=this.plot.theme.description.padding;return(0,u.isArray)(r)&&(0,u.each)(r,function(n,a){typeof r[a]=="function"&&(r[a]=r[a](e.plot.options.legend.position))}),new tn(t.maxX,t.minY,t.width,t.height)}return null},i.prototype.clear=function(){this.shape&&this.shape.attr("text","")},i.prototype.destroy=function(){this.shape&&this.shape.remove(),this.destroyed=!0},i.prototype.init=function(){var e=this.textWrapper(),t=this.getPosition(),r=t.x,n=t.y;this.shape=this.container.addShape("text",{attrs:(0,u.mix)({x:r,y:n,text:e},this.style,{textAlign:this.getTextAlign()})}),this.shape.name=this.name},i.prototype.getPosition=function(){return this.alignTo==="left"?{x:this.leftMargin,y:this.topMargin}:this.alignTo==="middle"?{x:this.leftMargin+this.wrapperWidth/2,y:this.topMargin}:{x:this.rightMargin,y:this.topMargin}},i.prototype.getTextAlign=function(){return this.alignTo==="left"?"left":this.alignTo==="middle"?"center":"right"},i.prototype.textWrapper=function(){var e=this.wrapperWidth,t=this.style,r=this.text,n=this.container.addShape("text",{attrs:(0,Jt.__assign)({text:"",x:0,y:0},t)}),a=r.split(`
`),o=a.map(function(s){for(var l="",f=s.split(""),h=[],c=0;c<f.length;c++){var v=f[c];n.attr("text",l+=v);var x=n.getBBox().width-1;if(x>e){if(c===0)break;h.push(c),l=""}}return Jv(f,h)});return n.remove(),o.join(`
`)},i}(),dl=RC,NC=function(i){(0,Jt.__extends)(e,i);function e(t){var r=i.call(this)||this;return r.container=t.container,r.destroyed=!1,r.config=t,r.disposables=[],r}return e.prototype.init=function(){this.group||this.initGroup(),this.initConfig(this.config)},e.prototype.getGroup=function(){return this.group},e.prototype.getConfig=function(){return this.config},e.prototype.getBBox=function(){return this.getGroup().getBBox()},e.prototype.clear=function(){this.group.clear()},e.prototype.render=function(){this.group.clear(),this.renderInner(this.group),this.getCanvas().draw()},e.prototype.update=function(t){this.config=(0,Jt.__assign)((0,Jt.__assign)({},this.config),t),this.initConfig(this.config)},e.prototype.destroy=function(){(0,u.each)(this.disposables,function(t){t()}),this.disposables=[],this.group.remove(!0),this.destroyed=!0},e.prototype.initGroup=function(){this.group=this.container.addGroup()},e.prototype.getCanvas=function(){return this.container.get("canvas")},e.prototype.addDisposable=function(t){this.disposables.push(t)},e.prototype.initConfig=function(t){},e}(Be.default),ps=NC,YC=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.labelsCfgMap={},t.lastLabelsCfgMap={},t}return e.prototype.getGeometry=function(){return this.geometry},e.prototype.getLabels=function(){return this.labels},e.prototype.show=function(){this.container.show()},e.prototype.hide=function(){this.container.hide()},e.prototype.initConfig=function(t){var r=this;this.layer=t.layer;var n=this.layer.view;this.view=n,this.geometry=t.geometry,this.coord=n.getCoordinate(),this.options=(0,u.deepMix)(this.getDefaultOptions(),t.label);var a=function(){r.clear(),r.labelsCfgMap={},r.lastLabelsCfgMap={},r.render()};n.on(An.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){n.off(An.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)})},e.prototype.renderInner=function(t){var r=this;this.labels=[],this.labelsCfgMap={},(0,u.each)(this.geometry.elements,function(s,l){var f=[].concat(r.drawLabelItem(t,s,l));(0,u.each)(f,function(h,c){r.adjustLabel(h,s,c),h.destroyed||(r.labels.push(h),r.labelsCfgMap[h.get("id")]=(0,u.clone)(h.attrs))})}),this.layoutLabels(this.geometry,this.labels);var n=this.lastLabelsCfgMap,a=this.labelsCfgMap,o=this.geometry.animateOption?(0,co.getDefaultAnimateCfg)("label",this.coord):!1;(0,u.each)(a,function(s,l){var f=t.findById(l);if(f)if(n[l]){var h=n[l],c=(0,u.get)(o,"update");c&&(f.stopAnimate(),f.attr(h),(0,co.doAnimate)(f,c,{toAttrs:(0,Jt.__assign)({},s),coordinate:r.coord}))}else{var v=(0,u.get)(o,"appear");v&&(f.stopAnimate(),(0,co.doAnimate)(f,v,{toAttrs:(0,Jt.__assign)({},f.attr()),coordinate:r.coord}))}delete n[l]}),(0,u.each)(n,function(s,l){var f=(0,u.get)(o,"leave");if(f){var h=t.addShape("text",{attrs:s,id:l,name:"label"});h.stopAnimate(),(0,co.doAnimate)(h,f,{toAttrs:null,coordinate:r.coord})}}),this.lastLabelsCfgMap=this.labelsCfgMap},e.prototype.drawLabelText=function(t,r,n){return n===void 0&&(n={}),t.addShape("text",(0,Jt.__assign)({attrs:r},n))},e.prototype.drawLabelItem=function(t,r,n){var a=this,o=r.getModel(),s=[].concat(this.getLabelItemAttrs(r,n)),l=this.getDefaultOffset(),f=this.getLabelOffset();return(0,u.map)(s,function(h,c){var v,x={x:h.x+f.x,y:h.y+f.y},P=(0,u.isArray)(o.mappingData)?o.mappingData[c]:o.mappingData,D=a.getLabelId(P);return a.drawLabelText(t,(0,Jt.__assign)((0,Jt.__assign)({},h),x),(v={id:D,name:"label",offset:l,element:r},v[pa]=P,v))})},e.prototype.getDefaultOffset=function(){return Number(this.options.offset)},e.prototype.getLabelOffset=function(){var t=this.options,r=t.offsetX,n=t.offsetY;return{x:(0,u.isNumber)(r)?r:0,y:(0,u.isNumber)(n)?n:0}},e.prototype.getLabelOffsetByDimAndFactor=function(t,r){var n=this.options,a=n.offsetX,o=n.offsetY,s=this.getDefaultOffset(),l={x:0,y:0};return l[t]=s*r,(0,u.isNumber)(a)&&(l.x+=a),(0,u.isNumber)(o)&&(l.y+=o),l},e.prototype.getDefaultOptions=function(){return{}},e.prototype.layoutLabels=function(t,r){},e.prototype.getLabelId=function(t){var r=t._origin,n=this.geometry.type,a=this.geometry.getXScale(),o=this.geometry.getYScale(),s=this.geometry.getElementId(t);return n==="line"||n==="area"?s+=" "+r[a.field]:n==="path"&&(s+=" "+r[a.field]+"-"+r[o.field]),s},e.prototype.getCoordinateBBox=function(){var t=this.coord,r=t.start,n=t.end;return new tn(Math.min(r.x,n.x),Math.min(r.y,n.y),t.getWidth(),t.getHeight())},e}(ps),Tf=YC,td={};function aa(i,e){td[i]=e}function GC(i){return td[i]}var Pf=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];return function(t,r,n){return i.reduce(function(a,o){return o(a,r,n)},t)}},_f=function(){return function(i){return i}},ed=function(i){return function(e){var t=Number(e);return isNaN(t)||(0,u.isNil)(i)?e:t.toFixed(i)}},rd=function(i){return function(e){return(0,u.isNil)(i)?e:e+" "+i}};function Of(i,e,t){i[t]&&(e[t]=i[t])}var zC=function(){function i(e){this.config=!1,this.plot=e.plot,this.dim=e.dim,this.init()}return i.prototype.init=function(){this.config=!1;var e=this.plot.getPlotTheme();this.themeConfig=e&&e.axis&&e.axis[this.dim],this._needDraw()&&this._styleParser()},i.prototype._styleParser=function(){this.config=(0,Jt.__assign)({},this.localProps),this._isVisible("line")?this._lineParser():this.config.line=null,this._isVisible("grid")?this._gridParser():this.config.grid=null,this._isVisible("tickLine")?this._tickLineParser():this.config.tickLine=null,this._isVisible("label")?this._labelParser():this.config.label=null,this._isVisible("title")?this._titleParser():this.config.title=null,Of(this.localProps,this.config,"autoHideLabel"),Of(this.localProps,this.config,"autoRotateLabel"),Of(this.localProps,this.config,"autoRotateTitle")},i.prototype._needDraw=function(){var e=this.plot.options,t=e[this.dim+"Axis"]?e[this.dim+"Axis"]:{},r=(0,u.deepMix)({},this.themeConfig,t);return this.localProps=r,!!r.visible},i.prototype._lineParser=function(){this.config.line=this.localProps.line,this.localProps.line.style&&(this.config.line={style:this.localProps.line.style}),this.applyThemeConfig("line")},i.prototype._gridParser=function(){var e=this,t,r,n,a,o,s=(r=(t=this.localProps.grid)===null||t===void 0?void 0:t.line)===null||r===void 0?void 0:r.style,l=(a=(n=this.localProps.grid)===null||n===void 0?void 0:n.line)===null||a===void 0?void 0:a.type,f=(o=this.localProps.grid)===null||o===void 0?void 0:o.alternateColor;(0,u.isFunction)(s)?this.config.grid=function(h,c,v){var x=s(h,c,v);return{line:{type:l,style:(0,u.deepMix)({},(0,u.get)(e.themeConfig,"grid.line.style"),x)},alternateColor:f}}:s&&(this.config.grid={line:{type:l,style:s},alternateColor:f},this.applyThemeConfig("grid"))},i.prototype._tickLineParser=function(){this.config.tickLine=this.localProps.tickLine,this.localProps.tickLine.style&&(this.config.tickLine={style:this.localProps.tickLine.style}),this.applyThemeConfig("tickLine")},i.prototype._labelParser=function(){var e=this.localProps.label,t=e.style,r=(0,Jt.__rest)(e,["style"]),n=(0,Jt.__assign)({},r);t&&(n.style=(0,Jt.__assign)({},this.localProps.label.style)),n.style=(0,u.deepMix)({},(0,u.get)(this.themeConfig,"label.style"),n.style);var a=this.parseFormatter(n);n.formatter=a,this.config.label=n},i.prototype._titleParser=function(){var e=(0,Jt.__assign)({},this.localProps.title),t=this.localProps.title,r=t.visible,n=t.style,a=t.text;r?(this.config.showTitle=!0,n&&(e.style=n),e.style=(0,u.deepMix)({},(0,u.get)(this.config,"title.style"),e.textStyle),a&&(e.text=a)):this.config.showTitle=!1,this.config.title=e},i.prototype._isVisible=function(e){return!!(this.localProps[e]&&this.localProps[e].visible)},i.prototype.applyThemeConfig=function(e){this.config[e]=(0,u.deepMix)({},(0,u.get)(this.themeConfig,e+".style"),this.config[e])},i.prototype.parseFormatter=function(e){var t=Pf(_f(),ed(e.precision),rd(e.suffix));return e.formatter&&(t=Pf(t,e.formatter)),t},i}(),XC=zC;function pl(i){var e=0;return each(i,function(t){e+=t*t}),Math.sqrt(e)}function Lf(i,e){return i.x*e.y+i.y*e.x}function k9(i,e){var t=pl(i),r=pl(e),n=Lf(i,e),a=Math.acos(n/t/r);return a}function B9(i,e){var t=pl(i),r=pl(e),n=Lf(i,e),a=Math.acos(n/t/r);return t*r*Math.sin(a)}function D9(i,e){var t=i.x,r=i.y,n=i.z,a=e.x,o=e.y,s=e.z,l=r*s-n*o,f=n*a-t*s,h=t*o-r*a;return{x:l,y:f,z:h}}function F9(i,e){return{x:i.x-e.x,y:i.y-e.y}}function gl(i,e,t){t===void 0&&(t=1);var r=[i.x,i.y,t];return Fc.transformMat3(r,r,e),{x:r[0],y:r[1]}}function nd(i,e,t){return i>=e&&i<=t}var VC=.001;function R9(i,e,t,r){var n={x:t.x-i.x,y:t.y-i.y},a={x:e.x-i.x,y:e.y-i.y},o={x:r.x-t.x,y:r.y-t.y},s=a.x*o.y-a.y*o.x,l=s*s,f=a.x*a.x+a.y*a.y,h=o.x*o.x+o.y*o.y,c=null;if(l>VC*f*h){var v=(n.x*o.y-n.y*o.x)/s,x=(n.x*a.y-n.y*a.x)/s;nd(v,0,1)&&nd(x,0,1)&&(c={x:i.x+v*a.x,y:i.y+v*a.y})}return c}function HC(i,e){for(var t=!1,r=0,n=e.length-1;r<e.length;n=r++){var a=e[r].x,o=e[r].y,s=e[n].x,l=e[n].y,f=o>i.y!=l>i.y&&i.x<=(s-a)*(i.y-o)/(l-o)+a;f&&(t=!t)}return t}function yl(i){return i*i}function ml(i,e){return Math.sqrt(yl(i.x-e.x)+yl(i.y-e.y))}function id(i,e){return Math.sqrt(yl(i.x-e.x)+yl(i.y-e.y))}function ad(i,e,t){var r=ml(e,t);if(r===0)return ml(i,e);var n=((i.x-e.x)*(t.x-e.x)+(i.y-e.y)*(t.y-e.y))/r;n=Math.max(0,Math.min(1,n));var a=ml(i,{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)});return Math.sqrt(a)}function od(i,e){var t=Infinity;(0,u.each)(e,function(h){var c=Math.sqrt(ml(h,i));t>c&&(t=c)});for(var r=0,n=e.length-1;r<e.length;n=r++){var a=e[r].x,o=e[r].y,s=e[n].x,l=e[n].y,f=ad(i,{x:a,y:o},{x:s,y:l});t>f&&(t=f)}return t}function WC(i,e){for(var t=0,r=i;t<r.length;t++){var n=r[t],a=HC(n,e);if(a)return!0}return!1}function sd(i,e){if(WC(i,e))return 0;var t=Infinity,r=Infinity;return(0,u.each)(i,function(n){var a=od(n,e);t>a&&(t=a)}),(0,u.each)(e,function(n){var a=od(n,i);r>a&&(r=a)}),Math.min(t,r)}function jC(i){var e=i.getBBox(),t=e.minX,r=e.minY,n=e.maxX-e.minX,a=e.maxY-e.minY,o=i.attr("matrix"),s;o?s=[o[0],o[1],0,o[3],o[4],0,0,0,1]:s=[1,0,0,0,1,0,0,0,1];var l=gl({x:0,y:0},s);l.x+=t,l.y+=r;var f=gl({x:n,y:0},s);f.x+=t,f.y+=r;var h=gl({x:0,y:a},s);h.x+=t,h.y+=r;var c=gl({x:n,y:a},s);c.x+=t,c.y+=r;var v=[l,f,h,c];v.sort(function(ue,ne){return ue.y-ne.y});var x=v[0].y,P=v[v.length-1].y,D=[v[0],v[1]],X=[v[2],v[3]],K=D[0].x<D[1].x?D[0]:D[1],Z=D[0].x<D[1].x?D[1]:D[0],gt=X[0].x<X[1].x?X[0]:X[1],mt=X[0].x<X[1].x?X[1]:X[0];v.sort(function(ue,ne){return ue.x-ne.x});var Nt=v[0].x,Zt=v[v.length-1].x,ee={width:Zt-Nt,height:P-x,left:Nt,right:Zt,top:x,bottom:P,topLeft:K,topRight:Z,bottomLeft:gt,bottomRight:mt,centerX:Nt+(Zt-Nt)/2,centerY:x+(P-x)/2};return ee}var UC=2;function If(i){return i.length<5?i:kf(i,UC)}function kf(i,e){for(var t,r=-Infinity,n=0,a=i.length-1,o=1;o<a;o++){var s=i[o],l={start:i[0],end:i[a]},f=ad(s,l.start,l.end);f>r&&(r=f,n=o)}if(r>e){var h=kf(i.slice(0,n+1),e),c=kf(i.slice(n,i.length),e);t=h.concat(c)}else t=[i[0],i[i.length-1]];return t}function ld(i){var e=(0,u.clone)(i);e.sort(function(r,n){return r-n});var t=Math.floor(e.length/2);return e.length%2?e[t]:(e[t-1]+e[t])/2}function ZC(i){var e=0;return(0,u.each)(i,function(t){e+=t}),e/i.length}function ud(i){return Math.ceil(Math.log(i.length)/Math.LN2)+1}function KC(i,e,t,r,n){n===void 0&&(n=2);for(var a=[],o=i;o<=i+t;o+=n)a.push([o,e]);for(var s=e;s<=e+r;s+=n)a.push([i+t,s]);for(var o=i+t;o>=i;o-=n)a.push([o,e+r]);for(var s=e+r;s>=e;s-=n)a.push([i,s]);return a}var $C=function(){function i(e){(0,u.assign)(this,e),this._init()}return i.prototype._init=function(){var e=this.plot.options,t=e.yField,r=e.data,n=this.plot.processData(r);if(!((0,u.isEmpty)(n)||!(0,u.isNumber)(n[0][t]))){var a=this.getDefaultStyle(),o={type:"line",top:!0,start:this.cfg.start,end:this.cfg.end};if(o.style=(0,u.deepMix)({},a.line.style,this.cfg.lineStyle),o.text=(0,u.deepMix)({},a.text,this.cfg.text),this.cfg.type){var s=this._getState(this.cfg.type),l=this.getYScale(),f=(1-l.scale(s))*100+"%",h=["0%",f],c=["100%",f];this.config=(0,u.mix)({start:h,end:c},o)}else{var v=this.cfg,x=v.start,P=v.end;this.config=(0,u.clone)(o);var D=this.getXScale(),X=this.getYScale(),K=(0,u.clone)(x),Z=(0,u.clone)(P);(0,u.each)(x,function(gt,mt){(!(0,u.contains)((0,u.toArray)(x[mt]),"%")||(0,u.isNumber)(x[mt]))&&(mt===0?K[mt]=D.scale(x[0])*100+"%":K[mt]=(1-X.scale(x[1]))*100+"%")}),(0,u.each)(P,function(gt,mt){(!(0,u.contains)((0,u.toArray)(P[mt]),"%")||(0,u.isNumber)(P[mt]))&&(mt===0?Z[mt]=D.scale(P[0])*100+"%":Z[mt]=(1-X.scale(P[1]))*100+"%")}),this.config.start=K,this.config.end=Z}}},i.prototype.getYScale=function(){var e=this._getState("min"),t=this._getState("max"),r=(0,jr.getScale)("linear"),n=new r((0,u.mix)({},{min:this.plot.type==="column"?0:e,max:t,nice:!0,values:this.values},this.plot.config.scales[this.plot.options.yField]));return n},i.prototype.getXScale=function(){var e=this.extractXValue();if((0,u.isString)(e[0])){var t=(0,jr.getScale)("cat"),r=new t((0,u.mix)({},{values:e},this.plot.config.scales[this.plot.options.xField]));return r}else{var n=Math.min.apply(Math,e),a=Math.max.apply(Math,e),t=(0,jr.getScale)("linear"),r=new t((0,u.mix)({},{min:n,max:a,nice:!0,values:e},this.plot.config.scales[this.plot.options.xField]));return r}},i.prototype._getState=function(e){if(this.values=this._extractValues(),e==="median")return ld(this.values);if(e==="mean")return ZC(this.values);if(e==="max")return Math.max.apply(Math,this.values);if(e==="min")return Math.min.apply(Math,this.values)},i.prototype._extractValues=function(){var e=this.plot.options,t=e.yField,r=[],n=this.plot.processData(e.data);return(0,u.each)(n,function(a){(0,u.isArray)(a[t])?r.push.apply(r,a[t]):r.push(a[t])}),r},i.prototype.extractXValue=function(){var e=this.plot.options,t=e.xField,r=[],n=this.plot.processData(e.data);return(0,u.each)(n,function(a){(0,u.isArray)(a[t])?r.push.apply(r,a[t]):r.push(a[t])}),r},i.prototype.getDefaultStyle=function(){return this.getDefaultTextAlign(),{line:{style:{lineWidth:2,stroke:"#333333",opacity:.7,lineDash:[0,0]}},text:{content:"",offsetY:-5,style:{fontSize:14,stroke:"white",lineWidth:2,textAlign:this.getDefaultTextAlign()}}}},i.prototype.getDefaultTextAlign=function(){var e=this.cfg.text;if(e){if(!e.position||e.position==="start")return"left";if(e.position==="center")return"center";if(e.position==="end")return"right"}},i}(),QC=$C,JC=function(){function i(e){this.config={};var t=e.plot,r=(0,Jt.__rest)(e,["plot"]);this.plot=t,this.originConfig=r,this.init(e)}return i.prototype.getConfig=function(){return this.config},i.prototype.init=function(e){var t=this;(0,u.assign)(this.config,e),this.config.callback=function(r){return t.parseCallBack(r)}},i.prototype.parseCallBack=function(e){var t=this.originConfig,r=this.plot.getPlotTheme(),n=(0,Jt.__assign)({},t);return this.parseOffset(t,n),t.position&&((0,u.isFunction)(t.position)?n.position=t.position(e):n.position=t.position),this.parseFormatter(n),t.style&&((0,u.isFunction)(t.style)?n.textStyle=t.style(e):n.textStyle=t.style),n.textStyle=(0,u.deepMix)({},(0,u.get)(r,"label.style"),n.textStyle),t.autoRotate&&(n.autoRotate=t.autoRotate),n},i.prototype.parseOffset=function(e,t){var r=["offset","offsetX","offsetY"],n=0;(0,u.each)(r,function(a){(0,u.has)(e,a)&&(t[a]=e[a],n++)}),n===0&&(0,u.get)(e,"position")==="middle"&&(t.offset=0)},i.prototype.parseFormatter=function(e){var t=this.originConfig;e.content=function(r,n){var a=r[t.fields[0]];return Pf(_f(),ed(t.precision),rd(t.suffix),t.formatter?t.formatter:_f())(a,r,n)}},i}(),qC=JC,Io,Bf;function fd(i,e){Io||hd(i),(0,u.each)(Io,function(t){var r=cd(t,e),n=r.labelData,a=r.con;if(vd(n,a)){var o=nE();t.shape.attr(o)}})}function tE(i,e){Io||hd(i),(0,u.each)(Io,function(t,r){var n=cd(t,e),a=n.labelData,o=n.con;if(vd(a,o)){var s=Bf[r],l=rE(s);t.shape.attr(l)}})}function hd(i){var e;Io=[],Bf=[];var t=(e=i.view.getController("axis"))===null||e===void 0?void 0:e.getComponents();(0,u.each)(t,function(r){var n=r.component,a=[],o=eE(i,n),s=n.get("labelRenderer").get("group").get("children");if((0,u.each)(s,function(h){h.type==="text"&&(a.push({shape:h}),Bf.push(h.attr()))}),o){var l=o.ticks,f=o.field;(0,u.each)(a,function(h,c){h.value=l[c],h.scaleField=f,h.type=o.type})}Io.push.apply(Io,a)})}function eE(i,e){var t=i.options,r="y",n=e.get("position");(n==="bottom"||n==="top")&&(r="x");var a=t[r+"Field"];return i.view.get("scales")[a]}function cd(i,e){var t,r=(t={},t[i.scaleField]=i.value,t),n=(0,u.clone)(e);return i.type==="time"&&(0,u.isObject)(e)&&!(0,u.isFunction)(n.exp)&&(n.exp=new Date(n.exp).getTime()),{labelData:r,con:n}}function rE(i){var e=i.opacity||1;return{opacity:e*.2}}function nE(){return{opacity:1,fontWeight:600,fill:"red"}}function vd(i,e){if(!(0,u.isFunction)(e)){var t=e.name,r=e.exp;return i[t]?(0,u.isFunction)(r)?r(i[t]):i[t]===r:!1}return e(i)}var iE={active:fd,selected:fd,disable:tE},aE=function(i){(0,Jt.__extends)(e,i);function e(){var t=i.call(this)||this;return t._states={},t._stateStack={},t}return e.prototype.setState=function(t,r){this._stateStack[t]=r,this._onUpdate()},e.prototype.getState=function(t){return this._states[t]},e.prototype.getAllStates=function(){return this._states},e.prototype.clear=function(){this._states={},this._stateStack={},this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null)},e.prototype._onUpdate=function(){var t=this,r=this._stateStack;this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null),this._changeTimer=setTimeout(function(){(0,u.each)(r,function(n,a){var o=r[a];(!t._states[a]||t._states[a]!==n)&&(t._states[a]=n,t._triggerEvent(a,o))}),t._stateStack={}},16)},e.prototype._triggerEvent=function(t,r){this.emit(t+":change",{name:t,exp:r})},e}(Be.default),oE=aE;function Ja(i,e){if(!(0,u.isFunction)(e)){var t=e.name,r=e.exp;return(0,u.isFunction)(r)?r(i[t]):i[t]===r}return e(i)}var sE=function(){function i(e){this.shapeContainers=[],(0,u.assign)(this,e)}return i.prototype.createStateManager=function(){this.stateManager=new oE},i.prototype.bindStateManager=function(e,t){this.stateManager=e,t.setState&&this._updateStateProcess(t.setState),t.onStateChange&&this._stateChangeProcess(t.onStateChange)},i.prototype.defaultStates=function(e){var t=this;(0,u.each)(e,function(r,n){var a=r.condition,o=r.related;t.setState({type:n,condition:a,related:o})})},i.prototype.setState=function(e){var t=this,r=e.type,n=e.condition,a=e.related;this.shapes=this._getShapes(),this.originAttrs=this._getOriginAttrs(),(0,u.each)(this.shapes,function(o,s){var l=o.get("origin").data,f=(0,u.isArray)(l)?l[0]:l;if(Ja(f,n)){var h=e.style?e.style:t._getDefaultStateStyle(r,o),c=t.originAttrs[s],v=void 0;(0,u.isFunction)(h)?v=h(c):v=(0,u.mix)({},c,h),o.attr(v),t.setZIndex(r,o)}}),a&&this._parserRelated(r,a,n),this.plot.canvas.draw()},i.prototype._updateStateProcess=function(e){var t=this;(0,u.each)(e,function(r){var n=r.state,a;(0,u.isFunction)(n)?a=function(o){var s=n(o);t.stateManager.setState(s.name,s.exp)}:a=function(){t.stateManager.setState(n.name,n.exp)},r.event?di(t.plot,t._eventParser(r.event),a):a()})},i.prototype._stateChangeProcess=function(e){var t=this;(0,u.each)(e,function(r){t.stateManager.on(r.name+":change",function(n){r.callback(n,t.plot)})})},i.prototype._getShapes=function(){var e=this,t=[],r=this.plot.view.geometries;return(0,u.each)(r,function(n){var a=n.container;e.shapeContainers.push(a),n.destroyed||t.push.apply(t,n.getShapes())}),t},i.prototype._getOriginAttrs=function(){var e=[];return(0,u.each)(this.shapes,function(t){e.push((0,u.clone)(t.attr()))}),e},i.prototype._eventParser=function(e){var t=e.split(":"),r=this.plot.geometryParser("g2",t[0]),n=t[1];return r+":"+n},i.prototype._getDefaultStateStyle=function(e,t){var r=this.plot.theme,n=this.plot.geometryParser("plot",t.name),a=n+"Style";if(r[a]){var o=r[a][e];return(0,u.isFunction)(o)&&(o=o(t.attr())),o}return{}},i.prototype._parserRelated=function(e,t,r){var n=this;(0,u.each)(t,function(a){if(n.plot[a]){var o=xE(a,e);o(n.plot,r)}})},i.prototype.setZIndex=function(e,t){if(e==="active"||e==="selected"){var r=t.get("parent").get("children");r[r.length-1].setZIndex(0),t.setZIndex(1)}},i.prototype.resetZIndex=function(){(0,u.each)(this.shapeContainers,function(e){var t=e.get("children");t.sort(function(r,n){return r._INDEX-n._INDEX})})},i}(),lE=sE,Vo,xl;function dd(i,e){Vo||pd(i),(0,u.each)(Vo,function(t,r){var n=t.get("origin");if(Ja(n,e)){var a=xl[r],o=(0,u.mix)({},a,{opacity:1});t.attr(o)}})}function uE(i,e){Vo||pd(i),(0,u.each)(Vo,function(t,r){var n=t.get("origin");if(Ja(n,e)){var a=xl[r],o=fE(a);t.attr(o)}})}function pd(i){Vo=[],xl=[];var e=i.view.get("elements");(0,u.each)(e,function(t){var r=t.get("labels");r&&(0,u.each)(r,function(n){Vo.push(n),xl.push(n.attr())})})}function fE(i){var e=i.opacity||1;return{opacity:e*.2}}var hE={active:dd,selected:dd,disable:uE},cE=["xField","yField","angleField"];function gd(i,e){var t=i.options;if(dE(t,e)){var r=t.data;(0,u.each)(r,function(n){if(Ja(n,e)){var a=i.view.getXY(n);i.view.on("tooltip:create",function(o){yd(e,o,!1)}),i.view.showTooltip(a)}})}}function vE(i,e){i.view.on("tooltip:change",function(t){yd(e,t,!0)})}function yd(i,e,t){var r=!t,n=(0,u.clone)(e.items);e.items.splice(0),(0,u.each)(n,function(a){var o=a.point._origin;Ja(o,i)===r&&e.items.push(a)})}function dE(i,e){var t=pE(i);return!(0,u.isFunction)(e)&&t.indexOf(e.name)}function pE(i){var e=[];return(0,u.each)(cE,function(t){(0,u.has)(i,t)&&e.push(t)}),e}var gE={active:gd,selected:gd,disable:vE},yE={axis:XC,label:qC,guideLine:QC},mE={tooltip:gE,label:hE,axis:iE};function Ri(i,e){var t=yE[i];return new t(e).config}function xE(i,e){return mE[i][e]}var bE=["start","process","end","reset"],wE=function(){function i(e){var t=this.getDefaultCfg();(0,u.assign)(this,t,e),this.canvas=this.view.canvas,this._eventHandlers=[],this._bindEvents()}return i.prototype.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},i.prototype._start=function(e){this.preStart(e),this.start(e),this.afterStart(e)},i.prototype.preStart=function(e){},i.prototype.afterStart=function(e){},i.prototype._process=function(e){this.preProcess(e),this.process(e),this.afterProcess(e)},i.prototype.preProcess=function(e){},i.prototype.process=function(e){},i.prototype.afterProcess=function(e){},i.prototype._end=function(e){this.preEnd(e),this.end(e),this.afterEnd(e)},i.prototype.preEnd=function(e){},i.prototype.end=function(e){},i.prototype.afterEnd=function(e){},i.prototype._reset=function(e){this.preReset(e),this.reset(e),this.afterReset(e)},i.prototype.preReset=function(e){},i.prototype.reset=function(e){},i.prototype.afterReset=function(e){},i.prototype._bindEvents=function(){var e=this;(0,u.each)(bE,function(t){var r=e[t+"Event"],n=(0,u.wrapBehavior)(e,"_"+t);e.view.on(r,n),e._eventHandlers.push({type:r,handler:n})})},i.prototype._unbindEvents=function(){var e=this,t=this._eventHandlers;(0,u.each)(t,function(r){e.view.off(r.type,r.handler)})},i.prototype.destroy=function(){this._unbindEvents(),this._reset()},i}(),Df=wE,SE=function(i){(0,Jt.__extends)(e,i);function e(t,r,n,a){var o=i.call(this,t)||this;return o.viewLayer=r,o.interactionRange=n,o.interactionConfig=a,o.disposables=[],o}return e.registerInteraction=function(t,r){e.GLOBAL_INTERACTION_MAP[t]=r},e.registerPlotInteraction=function(t,r,n){e.PLOT_INTERACTION_MAP[t]||(e.PLOT_INTERACTION_MAP[t]={}),e.PLOT_INTERACTION_MAP[t][r]=n},e.getInteraction=function(t,r){return r&&e.PLOT_INTERACTION_MAP[r]&&e[r][t]?e.PLOT_INTERACTION_MAP[r][t]:e.GLOBAL_INTERACTION_MAP[t]},e.getInteractionRange=function(t,r){},e.prototype.destroy=function(){(0,u.each)(this.disposables,function(t){t()}),this.disposables=[],this.clear(),i.prototype.destroy.call(this)},e.prototype.getViewLayer=function(){return this.viewLayer},e.prototype.getRange=function(){return this.interactionRange},e.prototype.getInteractionConfig=function(){return this.interactionConfig},e.prototype.addDisposable=function(t){this.disposables.push(t)},e.prototype.render=function(){},e.prototype.start=function(t){},e.GLOBAL_INTERACTION_MAP={},e.PLOT_INTERACTION_MAP={},e}(Df),Ia=SE,md=function(i,e,t,r,n){var a=r[0],o=r[1];n===void 0&&(n=!1);var s=(0,u.groupBy)(t,i),l=n?e.slice(e.length-o,e.length-a):e.slice(a,o);return(0,u.flatten)((0,u.map)(l,function(f){return s[f]||[]}))},Ra;(function(i){i.BEFORE_INIT="beforeinit",i.AFTER_INIT="afterinit",i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata"})(Ra||(Ra={}));var bl=4,xd=8,ME=32,CE=20,EE=999,wl=function(i){i===void 0&&(i={});var e=(0,Jt.__assign)({type:"horizontal",categorySize:ME,width:xd,height:xd,padding:[0,0,0,0]},i);return i.padding||(e.padding=e.type==="horizontal"?[bl,0,bl,0]:[0,bl,0,bl]),e},AE=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,u.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return e.getInteractionRange=function(t,r){var n=wl(r),a=n.padding,o=a[0],s=a[1],l=a[2],f=a[3];return n.type==="horizontal"?new tn(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l):new tn(t.maxX-n.width-f-s,t.minY,n.width+f+s,t.height)},e.prototype.render=function(){var t=this,r=this.getViewLayer(),n=this.view;this.ratio=0,this.thumbOffset=0;var a=function(){var s=t.view.padding;s==="auto"||(0,u.isEqual)(s,[0,0,0,1])||(t.trackLen?t.renderScrollbar():(t.measureScrollBar(),t.changeViewData(t.getScrollRange(),!0)))},o=function(){t.trackLen=0};n.on(An.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){return n.off(An.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)}),n.on(An.VIEW_LIFE_CIRCLE.AFTER_RENDER,a),this.addDisposable(function(){return n.off(An.VIEW_LIFE_CIRCLE.AFTER_RENDER,a)}),r.on(Ra.BEFORE_CHANGE_DATA,o),this.addDisposable(function(){return r.off(Ra.BEFORE_CHANGE_DATA,o)})},e.prototype.start=function(){},e.prototype.clear=function(){this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=null),this.container&&(this.container.remove(!0),this.container=null),this.trackLen=null,this.thumbLen=null},e.prototype.renderScrollbar=function(){var t=wl(this.getInteractionConfig()),r=this.getRange(),n=t.type!=="vertical",a=this.view.coordinateBBox,o=t.padding,s=o[0],l=o[3],f=n?{x:a.minX+l,y:r.minY+s}:{x:r.minX+l,y:a.minY+s};this.scrollbar?(this.scrollbar.update({trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.thumbOffset,x:f.x,y:f.y}),this.scrollbar.render()):(this.container=this.canvas.addGroup(),this.scrollbar=new en.Scrollbar({container:this.container,x:f.x,y:f.y,isHorizontal:n,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.ratio*this.trackLen}),this.scrollbar.init(),this.scrollbar.render(),this.scrollbar.get("group").set("zIndex",EE),this.scrollbar.on("scrollchange",this.onChangeFn))},e.prototype.measureScrollBar=function(){var t=wl(this.getInteractionConfig()),r=t.padding,n=r[0],a=r[1],o=r[2],s=r[3],l=t.type!=="vertical",f=this.view.coordinateBBox,h=this.view.getXScale(),c=this.view.getYScales().filter(function(v){return v});this.cnt=h.values.length,this.xScaleCfg={field:h.field,values:h.values||[]},this.yScalesCfg=c,this.step=Math.floor((l?f.width:f.height)/t.categorySize),this.trackLen=l?f.width-s-a:f.height-n-o,this.thumbLen=Math.max(this.trackLen*(0,u.clamp)(this.step/h.values.length,0,1),CE)},e.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,u.clamp)(this.ratio,0,1)),r=Math.min(t+this.step,this.cnt);return[t,r]},e.prototype.changeViewData=function(t,r){var n=this,a=t[0],o=t[1],s=wl(this.getInteractionConfig()),l=this.getViewLayer(),f=l.options.meta,h=l.getData(),c=md(this.xScaleCfg.field,this.xScaleCfg.values,h,[a,o],s.type==="vertical");this.yScalesCfg.forEach(function(v){var x=(0,u.get)(f,v.field)||{};n.view.scale(v.field,(0,Jt.__assign)((0,Jt.__assign)({formatter:v.formatter},x),{type:v.type,min:v.min,max:v.max}))}),r?(this.view.data(c),this.view.render()):this.view.changeData(c)},e.prototype.onChange=function(t){var r=t.ratio,n=t.thumbOffset;this.ratio=r,this.thumbOffset=n;var a=this.view.getOptions().animate;this.view.animate(!1),this.changeViewData(this.getScrollRange(),!0),this.view.animate(a),this.renderScrollbar()},e}(Ia),TE=AE,Sl=4,bd=16,Ff=function(i){i===void 0&&(i={});var e=(0,Jt.__assign)({type:"horizontal",start:0,end:1,width:void 0,height:void 0,padding:[0,0,0,0],backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},trendCfg:{}},i);i.padding||(e.padding=e.type==="horizontal"?[Sl,0,Sl,0]:[0,Sl,0,Sl]),i.height||(e.height=bd),i.width||(e.width=bd);var t=(0,u.clamp)(Math.min(e.start,e.end),0,1),r=(0,u.clamp)(Math.max(e.start,e.end),0,1);return e.start=t,e.end=r,e},PE=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,u.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return e.getInteractionRange=function(t,r){var n=Ff(r),a=n.padding||[0,0,0,0],o=a[0],s=a[1],l=a[2],f=a[3];if(n.type==="horizontal"){var h=new tn(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l);return h}else return new tn(t.maxX-n.width-f-s,t.minY,n.width+f+s,t.height)},e.prototype.render=function(){var t=this,r=this.getViewLayer(),n=this.view,a=Ff(this.getInteractionConfig());this.curStart=a.start,this.curEnd=a.end,this.xScaleCfg=void 0;var o=function(){var s=t.view.padding;if(!(s==="auto"||(0,u.isEqual)(s,[0,0,0,1]))&&!(0,u.isEmpty)(r.options.data))if(t.xScaleCfg)t.renderSlider();else{var l=n.getXScale();t.xScaleCfg={field:l.field,values:l.values||[]},n.data(t.getSliderData(t.curStart,t.curEnd)),n.render()}};n.on(An.VIEW_LIFE_CIRCLE.AFTER_PAINT,o),this.addDisposable(function(){return n.off(An.VIEW_LIFE_CIRCLE.AFTER_PAINT,o)}),n.on(An.VIEW_LIFE_CIRCLE.AFTER_RENDER,o),this.addDisposable(function(){return n.off(An.VIEW_LIFE_CIRCLE.AFTER_RENDER,o)})},e.prototype.start=function(){},e.prototype.clear=function(){this.slider&&(this.slider.destroy(),this.slider=null),this.container&&(this.container.remove(!0),this.container=null)},e.prototype.renderSlider=function(){this.slider?(this.slider.update(this.getSliderConfig()),this.slider.render()):(this.container=this.canvas.addGroup(),this.slider=new en.Slider((0,Jt.__assign)((0,Jt.__assign)({},this.getSliderConfig()),{container:this.container})),this.slider.init(),this.slider.render(),this.slider.on("sliderchange",this.onChangeFn))},e.prototype.getSliderConfig=function(){var t=this.view,r=t.coordinateBBox,n=this.getRange(),a=Ff(this.getInteractionConfig()),o=a||{},s=o.padding,l=s===void 0?[0,0,0,0]:s,f=o.backgroundStyle,h=o.foregroundStyle,c=o.handlerStyle,v=o.textStyle,x=o.trendCfg,P=x===void 0?{}:x,D=l[0],X=l[1],K=l[2],Z=l[3],gt=this.getSliderMinMaxText(this.curStart,this.curEnd),mt=gt.minText,Nt=gt.maxText,Zt={x:r.minX+Z,y:n.minY+D,width:r.width-Z-X,height:n.height-D-K,start:this.curStart,end:this.curEnd,minText:mt,maxText:Nt,backgroundStyle:f,foregroundStyle:h,handlerStyle:c,textStyle:v,trendCfg:(0,Jt.__assign)((0,Jt.__assign)({isArea:!1,smooth:!1},P),{data:this.getSliderTrendData()})};return Zt},e.prototype.getSliderTrendData=function(){var t=this.getViewLayer().options,r=t.data,n=t.yField;return(0,u.map)(r,function(a){return a[n]})},e.prototype.getSliderData=function(t,r){var n=this.getViewLayer().getData(),a=(0,u.size)(this.xScaleCfg.values),o=Math.round(t*a),s=Math.max(o+1,Math.round(r*a));return md(this.xScaleCfg.field,this.xScaleCfg.values,n,[o,s])},e.prototype.getSliderMinMaxText=function(t,r){var n=this.getViewLayer().options,a=n.data,o=a===void 0?[]:a,s=n.xField,l=(0,u.size)(o),f=Math.round(t*l),h=Math.max(f+1,Math.round(r*l)),c=o.slice(f,h);return{minText:c.length>0?(0,u.head)(c)[s]:"",maxText:c.length>0?(0,u.last)(c)[s]:""}},e.prototype.onChange=function(t){var r=this.view,n=(0,u.clamp)(Math.min(t[0],t[1]),0,1),a=(0,u.clamp)(Math.max(t[0],t[1]),0,1),o=this.getSliderData(n,a),s=this.getSliderMinMaxText(n,a),l=s.minText,f=s.maxText;this.curStart=n,this.curEnd=a,this.slider.update({start:n,end:a,minText:l,maxText:f}),this.slider.render();var h=r.getOptions().animate;r.animate(!1),r.data(o),r.render(),r.animate(h)},e}(Ia),_E=PE,OE=function(i){(0,Jt.__extends)(e,i);function e(t){return i.call(this,(0,u.deepMix)({},t))||this}return e.prototype.renderInner=function(t){var r=this;this.initElement(t),this.updateElement(),this.renderMarker(),t.off("click"),t.on("click",function(){r.emit("click")})},e.prototype.destroy=function(){this.group.off(),i.prototype.destroy.call(this)},e.prototype.initElement=function(t){this.circle=t.addShape("circle",{attrs:{x:this.config.x,y:this.config.y,r:this.config.r,fill:"#607889"}}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ffffff"}}),this.pauseGroupMarker=t.addGroup();var r=1/4*this.config.r,n=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-n/2,width:r,height:n,fill:"#ffffff"}}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-n/2,width:r,height:n,fill:"#ffffff"}})},e.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var t=1/4*this.config.r,r=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-r/2),this.pauseLeftMarker.attr("width",t),this.pauseLeftMarker.attr("height",r),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-r/2),this.pauseRightMarker.attr("width",t),this.pauseRightMarker.attr("height",r)},e.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},e.prototype.getStartMarkerPath=function(){var t=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-t/Math.sqrt(3)/2,this.config.y-t/2],["L",this.config.x+t/Math.sqrt(3),this.config.y],["L",this.config.x-t/Math.sqrt(3)/2,this.config.y+t/2]]},e}(ps),LE=OE,wd="timelinestart",IE="timelinechange",Sd="timelineend",kE="timelineupdate",BE=20,DE=20,FE=function(i){(0,Jt.__extends)(e,i);function e(t){var r=i.call(this,(0,u.deepMix)({},{speed:1,loop:!1},t))||this;return r.onTimeSelectMouseMove=function(n){n.stopPropagation(),n.preventDefault();var a=(0,u.get)(n,"touches.0.pageX",n.pageX),o=a-r.prevX;r.setTimeSelectX(o),r.prevX=a},r.onTimeSelectMouseUp=function(){r.syncCurrnentTick(),r.emit(Sd,null);var n=r.getCanvas().get("container");n&&(n.removeEventListener("mousemove",r.onTimeSelectMouseMove),n.removeEventListener("mouseup",r.onTimeSelectMouseUp),n.removeEventListener("mouseleave",r.onTimeSelectMouseUp),n.removeEventListener("touchmove",r.onTimeSelectMouseMove),n.removeEventListener("touchend",r.onTimeSelectMouseUp),n.removeEventListener("touchcancel",r.onTimeSelectMouseUp))},r.onTimeSelectMouseDown=function(n){var a=n.originalEvent;a.stopPropagation(),a.preventDefault(),r.isPlay===!1?r.emit(wd,null):(r.isPlay=!1,r.changePlayStatus(!1)),r.prevX=(0,u.get)(a,"touches.0.pageX",a.pageX);var o=r.getCanvas().get("container");o.addEventListener("mousemove",r.onTimeSelectMouseMove),o.addEventListener("mouseup",r.onTimeSelectMouseUp),o.addEventListener("mouseleave",r.onTimeSelectMouseUp),o.addEventListener("touchmove",r.onTimeSelectMouseMove),o.addEventListener("touchend",r.onTimeSelectMouseUp),o.addEventListener("touchcancel",r.onTimeSelectMouseUp)},r}return e.prototype.renderInner=function(t){var r=this.config,n=r.ticks,a=r.defaultCurrentTick;n&&n.length&&(this.currentTick=this.config.ticks.includes(a)?a:n[0],this.renderPlayButton(t),this.renderTimeLine(t),this.renderTimeSelect(t,this.currentTick),this.initEvent())},e.prototype.update=function(t){i.prototype.update.call(this,t),this.emit(kE,this.currentTick)},e.prototype.destroy=function(){i.prototype.destroy.call(this),this.timeLineButton.destroy(),this.timeLineButton.off(),this.timeSelect.off(),this.playHandler&&window.cancelAnimationFrame(this.playHandler)},e.prototype.renderPlayButton=function(t){var r=this.config,n=r.height,a=r.x,o=r.y,s=.8,l=n/2*s;this.timeLineButton?this.timeLineButton.update({x:a+l,y:o+l+n*(1-s)/2,r:l}):(this.timeLineButton=new LE({container:t,x:a+l,y:o+l+n*(1-s)/2,r:l,isPlay:this.isPlay}),this.timeLineButton.init()),this.timeLineButton.render()},e.prototype.getTimeLinePath=function(){var t=this.timeLine,r=t.x,n=t.y,a=t.width,o=t.height,s=o/2;return a>0?"M"+r+", "+n+("A"+s+","+s+" 90 0,0 "+r+","+(n+o))+("L"+(r+a)+", "+(n+o))+("A"+s+","+s+" 90 0,0 "+(r+a)+","+n)+("L"+r+", "+n):[]},e.prototype.renderTimeLine=function(t){var r=this,n=this.config,a=n.width,o=n.height,s=n.ticks,l=n.x,f=n.y;this.timeLine||(this.timeLine={}),this.timeLine.height=o*.15,this.timeLine.x=l+o+BE,this.timeLine.y=f+(o/2-this.timeLine.height/2),this.timeLine.width=a-this.timeLine.x-DE,this.timeLine&&this.timeLine.shape?this.timeLine.shape.attr("path",this.getTimeLinePath()):this.timeLine.shape=t.addShape("path",{attrs:{path:this.getTimeLinePath(),fill:"#607889",opacity:.2}});var h=this.timeLine.width/(s.length-1);this.tickPosList=[],this.timeLine.textList&&this.timeLine.textList.length&&this.timeLine.textList.forEach(function(v){v.destroy()});var c=-Infinity;this.timeLine.textList=s.map(function(v,x){r.tickPosList.push(r.timeLine.x+x*h);var P=t.addShape("text",{attrs:{x:r.timeLine.x+x*h,y:r.timeLine.y+r.timeLine.height+5,text:v,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),D=P.getBBox();return D.minX>c?(P.show(),c=D.minX+D.width+10):P.hide(),P})},e.prototype.renderTimeSelect=function(t,r){var n=this.config,a=n.ticks,o=n.height,s=this.timeLine.width/(a.length-1),l=(0,u.findIndex)(a,function(v){return v===r}),f=this.timeLine.x+l*s,h=this.config.y+o/2,c=o*.15;this.timeSelect?(this.timeSelect.attr("x",f),this.timeSelect.attr("y",h),this.timeSelect.attr("r",c)):this.timeSelect=t.addShape("circle",{attrs:{x:f,y:h,r:c,fill:"#607889"}}),this.timeSelectText?(this.timeSelectText.attr("x",f),this.timeSelectText.attr("y",h-o*.15-14),this.timeSelectText.attr("text",this.currentTick)):this.timeSelectText=t.addShape("text",{attrs:{x:f,y:h-o*.15-14,text:this.currentTick,textAlign:"center",textBaseline:"top",fill:"#607889"}})},e.prototype.adjustTickIndex=function(t){for(var r=0;r<this.tickPosList.length-1;r++)if(this.tickPosList[r]<=t&&t<=this.tickPosList[r+1])return Math.abs(this.tickPosList[r]-t)<Math.abs(t-this.tickPosList[r+1])?r:r+1},e.prototype.setTimeSelectX=function(t){var r=this.timeSelect.attr("x")+t;r<this.timeLine.x&&(r=this.timeLine.x),r>this.timeLine.x+this.timeLine.width&&(r=this.timeLine.x+this.timeLine.width,this.isPlay&&(this.config.loop?this.timeSelect.attr("x")===this.timeLine.x+this.timeLine.width&&(r=this.timeLine.x):(this.isPlay=!1,this.changePlayStatus()))),this.timeSelect.attr("x",r),this.timeSelectText.attr("x",r);var n=this.adjustTickIndex(r);this.currentTick!==this.config.ticks[n]&&(this.currentTick=this.config.ticks[n],this.timeSelectText.attr("text",this.currentTick),this.emit(IE,this.currentTick)),this.getCanvas().draw()},e.prototype.syncCurrnentTick=function(){var t=this,r=this.config.ticks,n=this.timeLine.width/(r.length-1),a=(0,u.findIndex)(r,function(s){return s===t.currentTick}),o=this.timeLine.x+a*n;this.timeSelect.attr("x",o),this.timeSelectText.attr("x",o),this.getCanvas().draw()},e.prototype.startPlay=function(){var t=this;return window.requestAnimationFrame(function(){var r=t.config,n=r.speed,a=r.ticks,o=t.timeLine.width,s=o/a.length,l=s/(n*1e3/60);t.setTimeSelectX(l),t.isPlay&&(t.playHandler=t.startPlay())})},e.prototype.changePlayStatus=function(t){t===void 0&&(t=!0),this.timeLineButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.emit(wd,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&(this.syncCurrnentTick(),this.emit(Sd,null))),this.getCanvas().draw()},e.prototype.initEvent=function(){var t=this;this.timeLineButton.off("click"),this.timeLineButton.on("click",function(){t.isPlay=!t.isPlay,t.changePlayStatus()}),this.timeSelect.off("mousedown"),this.timeSelect.on("mousedown",function(r){t.onTimeSelectMouseDown(r)})},e}(ps),RE=FE,NE=40;function Md(i){return(0,Jt.__assign)({loop:!1,auto:!0,height:NE,padding:[0,20,0,0],speed:2},i)}var YE=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,u.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return e.getInteractionRange=function(t,r){var n=Md(r),a=n.padding[0],o=n.padding[2];return new tn(t.minX,t.maxY-n.height-a-o,t.width,n.height+a+o)},e.prototype.setAnimate=function(t){var r=this.view.geometries;this.view.animate(t),r.forEach(function(n){n.animate(t)})},e.prototype.start=function(){},e.prototype.renderTimeLine=function(){var t=this;this.config=Md(this.getInteractionConfig());var r=this.view.viewBBox,n=this.config,a=n.loop,o=n.padding,s=n.speed,l=o[0],f=o[1],h=o[2],c=o[3],v=this.getRange(),x=this.getTicks(),P=r.width-c-f,D={x:r.minX+c,y:v.tl.y+l,width:P,height:v.height-l-h,loop:a,ticks:x,speed:s,defaultCurrentTick:x[0]};this.timeline?(0,u.isEqual)(D,this.timeLineConfig)||(this.timeLineConfig=D,this.timeline.update(D)):(this.container=this.canvas.addGroup(),this.timeline=new RE((0,Jt.__assign)({container:this.container},D)),this.timeline.init(),this.timeline.render(),this.timeline.on("timelinestart",function(){t.originAnimation=t.view.getOptions().animate,t.setAnimate(!0)}),this.timeline.on("timelineend",function(){t.setAnimate(t.originAnimation)}),this.timeline.on("timelinechange",this.onChangeFn),this.timeline.on("timelineupdate",this.onChange.bind(this)),this.view.data(this.getFilterData(x[0])),this.timeLineConfig=D)},e.prototype.onChange=function(t){var r=this.getFilterData(t);this.view.changeData(r)},e.prototype.getFilterData=function(t){var r=this.config.field,n=this.getViewLayer().options.data;return n.filter(function(a){return a[r]===t})},e.prototype.getTicks=function(){var t=this.config.field,r=this.getViewLayer().options.data;return(0,u.uniq)(r.map(function(n){return n[t]}))},e.prototype.render=function(){var t=this;this.firstRender=!0,this.view.on(An.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){t.renderTimeLine()}),this.view.on(An.VIEW_LIFE_CIRCLE.BEFORE_PAINT,function(){t.renderTimeLine()}),this.view.on(An.VIEW_LIFE_CIRCLE.AFTER_PAINT,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1}),this.view.on(An.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1})},e.prototype.clear=function(){this.timeline&&(this.timeline.destroy(),this.timeline=null),this.container&&(this.container.remove(!0),this.container=null)},e}(Ia),GE=YE;function zE(i,e){var t=[1,0,0,0,1,0,0,0,1],r=cn.transform(t,e);i.setMatrix(r)}function Ho(i,e){var t=e?(0,u.clone)(e):[1,0,0,0,1,0,0,0,1];return cn.transform(t,i)}function Cd(i,e,t,r){var n=r?(0,u.clone)(r):[1,0,0,0,1,0,0,0,1];n[6]=e,n[7]=t,i.setMatrix(n)}function XE(i,e,t){zv.translate(i,e,t)}function N9(i,e){Util.rotate(i,e)}var VE=document.createElement("canvas"),Ed=VE.getContext("2d"),Ml=(0,u.memoize)(function(i,e){e===void 0&&(e={});var t=e.fontSize,r=e.fontFamily,n=e.fontWeight,a=e.fontStyle,o=e.fontVariant;return Ed.font=[a,o,n,t+"px",r].join(" "),Ed.measureText((0,u.isString)(i)?i:"").width},function(i,e){return e?(0,Jt.__spreadArrays)([i],(0,u.values)(e)).join(""):i}),Ad=function(i,e,t){var r=16,n=Ml("...",t),a;(0,u.isString)(i)?a=i:a=(0,u.toString)(i);var o=e,s=[],l,f;if(Ml(i,t)<=e)return i;for(;l=a.substr(0,r),f=Ml(l,t),!(f+n>o&&f>o);)if(s.push(l),o-=f,a=a.substr(r),!a)return s.join("");for(;l=a.substr(0,1),f=Ml(l,t),!(f+n>o);)if(s.push(l),o-=f,a=a.substr(1),!a)return s.join("");return s.join("")+"..."},ei;(function(i){i.TOOLTIP_INDICATOR_INNER="tooltip_indicator-inner",i.TOOLTIP_INDICATOR_TITLE="tooltip_indicator-title",i.TOOLTIP_INDICATOR_BODY="tooltip_indicator-body",i.TOOLTIP_INDICATOR_ITEM_GROUP="tooltip_indicator-item-group",i.TOOLTIP_INDICATOR_ITEM_BACKGROUND="tooltip_indicator-item-background",i.TOOLTIP_INDICATOR_ITEM_LINE="tooltip_indicator-item-line",i.TOOLTIP_INDICATOR_ITEM_TITLE="tooltip_indicator-item-title",i.TOOLTIP_INDICATOR_ITEM_BODY="tooltip_indicator-item-body",i.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP="tooltip_indicator-item-value-group",i.TOOLTIP_INDICATOR_ITEM_NAME="tooltip_indicator-item-name",i.TOOLTIP_INDICATOR_ITEM_VALUE="tooltip_indicator-item-value"})(ei||(ei={}));var Cl;(function(i){i.ON_SELECT_ITEM="onSelectItem"})(Cl||(Cl={}));var vo;(function(i){i[i.LARGE=12]="LARGE",i[i.NORMAL=8]="NORMAL",i[i.SMALL=4]="SMALL"})(vo||(vo={}));var HE=160,WE=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.curX=0,t.curY=0,t.offsetX=0,t.scrollWidth=0,t.onBodyGroupMousemove=function(r){var n=UE(r.target,function(o){return o.get("name")===ei.TOOLTIP_INDICATOR_ITEM_GROUP});if(n){var a=n.get("delegateObject");t.doSelectItem(a.item.id)}},t.onWheel=function(r){var n=t.config.width,a=n===void 0?0:n,o=r.deltaX,s=Math.min(t.scrollWidth-a,0)-(t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2)),l=Math.max(t.scrollWidth-a,0)+t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2),f=(0,u.clamp)(t.offsetX+o,s,l);f!==t.offsetX&&(XE(t.bodyGroup,t.offsetX-f,0),t.offsetX=f)},t}return e.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},e.prototype.selectItem=function(t){this.doSelectItem(t)},e.prototype.resetSelect=function(){this.doSelectItem(this.selectedItemId)},e.prototype.initConfig=function(t){var r,n=t.theme,a=n===void 0?{}:n,o={x:0,y:0,title:{text:"",spacingY:vo.NORMAL,style:{}},line:{spacingX:vo.SMALL,width:2,style:{}},itemTitle:{spacingX:0,spacingY:vo.SMALL,style:{}},itemName:{spacingX:vo.NORMAL,spacingY:vo.SMALL,style:{}},itemValue:{style:{}},itemBackground:{style:{opacity:0,fill:"#000"}},itemSpacing:vo.LARGE};this.config=(0,u.deepMix)({},(r=a==null?void 0:a.components)===null||r===void 0?void 0:r.tooltipIndicator,o,t),this.selectedItemId=this.config.selectedItem},e.prototype.renderInner=function(t){var r=this;this.resetRender();var n=this.config,a=n.items,o=n.x,s=n.y,l=[],f=t.addGroup({name:ei.TOOLTIP_INDICATOR_INNER});this.renderTitle(f),this.bodyGroup=f.addGroup({name:ei.TOOLTIP_INDICATOR_BODY}),a==null||a.forEach(function(h,c){l.push(r.renderItem(r.bodyGroup,h,c))}),this.layoutItems(f),Cd(f,o,s),this.applyClip(t),this.bindEvents(f)},e.prototype.renderTitle=function(t){var r=this.config.title;if(r==null?void 0:r.text){var n=t.addShape({type:"text",name:ei.TOOLTIP_INDICATOR_TITLE,attrs:(0,Jt.__assign)({text:r==null?void 0:r.text,textAlign:"left",textBaseline:"top"},(r==null?void 0:r.style)||{})}),a=n.getBBox();return this.curY+=a.height,this.curY+=r.spacingY||0,n}},e.prototype.renderItem=function(t,r,n){var a=this.config.itemBackground,o=t.addGroup({name:ei.TOOLTIP_INDICATOR_ITEM_GROUP,delegateObject:{item:r,index:n}}),s=this.curX,l=this.curY,f=o.addShape({name:ei.TOOLTIP_INDICATOR_ITEM_BACKGROUND,type:"rect",attrs:(0,Jt.__assign)({x:this.curX,y:this.curY,width:1,height:1},a.style||{})}),h=this.renderLine(o,r);this.renderItemTitle(o,r),this.renderItemValues(o,r);var c=o.getBBox();return h.attr({y2:h.attr("y1")+c.height}),this.curX=s+c.width,this.curX+=this.config.itemSpacing||0,f.attr({width:this.curX-s-f.attr("lineWidth")*2,height:this.curY-l-f.attr("lineWidth")*2}),this.curY=l,o},e.prototype.renderLine=function(t,r){var n=this.config.line,a=n.width||2,o=(0,Jt.__assign)({x1:this.curX+a/2,y1:this.curY,x2:this.curX+a/2,y2:this.curY,lineWidth:a,stroke:r.color},(n==null?void 0:n.style)||{}),s=t.addShape({name:ei.TOOLTIP_INDICATOR_ITEM_LINE,type:"line",attrs:o}),l=s.getBBox();return this.curX+=l.width,this.curX+=n.spacingX||0,s},e.prototype.renderItemTitle=function(t,r){var n=this.config.itemTitle,a=Ad(r.title,HE,n.style||{}),o=t.addShape({name:ei.TOOLTIP_INDICATOR_ITEM_TITLE,type:"text",attrs:(0,Jt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:a},n.style||{})}),s=o.getBBox();return this.curY+=s.height,this.curY+=n.spacingY||0,o},e.prototype.renderItemValues=function(t,r){var n=this,a,o=t.addGroup({name:ei.TOOLTIP_INDICATOR_ITEM_BODY}),s=this.curX;return(a=r.values)===null||a===void 0||a.forEach(function(l,f){var h=o.addGroup({name:ei.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP,delegateObject:{item:r,valueIndex:f}});n.curX=s,n.renderItemValueName(h,l),n.renderItemValueValue(h,l)}),this.layoutItemValues(o),o},e.prototype.renderItemValueName=function(t,r){var n=this.config.itemName;if(r.name){var a=t.addShape({name:ei.TOOLTIP_INDICATOR_ITEM_NAME,type:"text",attrs:(0,Jt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:r.name},n.style||{})}),o=a.getBBox();return r.wrapLine?(this.curY+=o.height,this.curY+=n.spacingY||0):(this.curX+=o.width,this.curX+=n.spacingX||0),a}},e.prototype.renderItemValueValue=function(t,r){var n=this.config,a=n.itemName,o=n.itemValue,s=t.addShape({name:ei.TOOLTIP_INDICATOR_ITEM_VALUE,type:"text",attrs:(0,Jt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:r.value},o.style||{})}),l=s.getBBox();return this.curY+=l.height,this.curY+=a.spacingY||0,s},e.prototype.layoutItems=function(t){var r=t.findAllByName(ei.TOOLTIP_INDICATOR_BODY)[0],n=t.findAllByName(ei.TOOLTIP_INDICATOR_ITEM_GROUP);if(!(!r||n.length===0)){var a=r.getBBox();this.scrollWidth=a.width}},e.prototype.layoutItemValues=function(t){var r=t.findAllByName(ei.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP),n=r.map(function(l){return tn.fromBBoxObject(l.getBBox())}),a=t.findAllByName(ei.TOOLTIP_INDICATOR_ITEM_VALUE),o=a.map(function(l){return tn.fromBBoxObject(l.getBBox())}),s=Math.max.apply(Math,o.map(function(l){return l.maxX}));r.forEach(function(l,f){var h=n[f],c=l.findAllByName(ei.TOOLTIP_INDICATOR_ITEM_NAME)[0],v=l.findAllByName(ei.TOOLTIP_INDICATOR_ITEM_VALUE)[0];if(c&&v){var x=tn.fromBBoxObject(c.getBBox()),P=tn.fromBBoxObject(v.getBBox());x.height<h.height&&c.attr("y",c.attr("y")+(h.height-x.height)/2),P.height<h.height&&v.attr("y",v.attr("y")+(h.height-P.height)/2),P.maxX<s&&v.attr("x",v.attr("x")+s-P.maxX)}})},e.prototype.applyClip=function(t){var r=this.config,n=r.x,a=r.y,o=r.width,s=r.height,l=t.getBBox();(o||s)&&t.setClip({type:"rect",attrs:{x:n,y:a,width:o||l.width,height:s||l.height}})},e.prototype.doSelectItem=function(t){var r=this,n=this.getGroup(),a=n.findAllByName(ei.TOOLTIP_INDICATOR_ITEM_GROUP);t!==this.selectedItemId?(a.forEach(function(o){var s=o.get("delegateObject");s&&r.applyItemStyle(o,s.item.id===t?"selected":"inactive")}),this.selectedItemId=t):(a.forEach(function(o){r.applyItemStyle(o)}),this.selectedItemId=void 0),this.emit(Cl.ON_SELECT_ITEM,this.selectedItemId)},e.prototype.applyItemStyle=function(t,r){var n=this.config,a=n.line,o=n.itemTitle,s=n.itemName,l=n.itemValue,f=t.findAllByName(ei.TOOLTIP_INDICATOR_ITEM_LINE)[0],h=t.findAllByName(ei.TOOLTIP_INDICATOR_ITEM_TITLE)[0],c=t.findAllByName(ei.TOOLTIP_INDICATOR_ITEM_NAME),v=t.findAllByName(ei.TOOLTIP_INDICATOR_ITEM_VALUE),x=r&&r+"Style";f&&(f.attr(a.style),f.attr(a[x]||{})),h&&(h.attr(o.style),h.attr(o[x]||{})),c.forEach(function(P){P.attr(s.style),P.attr(s[x]||{})}),v.forEach(function(P){P.attr(l.style),P.attr(l[x]||{})})},e.prototype.bindEvents=function(t){var r=this;this.offEvents();var n=t.findAllByName(ei.TOOLTIP_INDICATOR_BODY)[0];n.on("mousemove",this.onBodyGroupMousemove),this.addDisposable(function(){n.off("mousemove",r.onBodyGroupMousemove)}),this.gm=new Hv(n),this.wheel=new xC(n),this.wheel.on("wheel",this.onWheel)},e.prototype.offEvents=function(){this.gm&&this.gm.destroy(),this.wheel&&this.wheel.destroy()},e.prototype.resetRender=function(){this.curX=0,this.curY=0,this.offsetX=0},e}(ps),jE=WE;function UE(i,e){for(var t=i;t;){if(e(t))return t;t=t.getParent()}}function ZE(i,e){return(0,u.filter)(i.geometries,function(t){return t.type===e})}function po(i,e){return(0,u.head)(ZE(i,e))}function KE(i){return(0,u.map)(i.elements,function(e){return e.shape})}function Y9(i,e){i.geometries.forEach(e)}function Rf(i,e){i.geometries.forEach(function(t){t.elements.forEach(function(r){e(r)})})}function $E(i,e,t){return(0,u.some)(e,function(r){return t(r.get(pa),i.get(pa))})}function El(i,e){var t=i.getBBox(),r=0,n=0;t.minX<e.minX?r=t.minX-e.minX:t.maxX>e.maxX&&(r=t.maxX-e.maxX),r&&i.attr("x",i.attr("x")-r),t.minY<e.minY?n=t.minY-e.minY:t.maxY>e.maxY&&(n=t.maxY-e.maxY),n&&i.attr("y",i.attr("y")-n)}function Nf(i,e,t){t===void 0&&(t=0);var r=Math.max(0,Math.min(i.x+i.width+t,e.x+e.width+t)-Math.max(i.x-t,e.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,e.y+e.height+t)-Math.max(i.y-t,e.y-t));return r*n}function Al(i,e){var t=i.getBBox();return(0,u.some)(e,function(r){var n=r.getBBox();return Nf(t,n,2)>0})}var Td=8,Pd=function(i){i===void 0&&(i={});var e=(0,Jt.__assign)({showTotal:!1,showPercent:!1,padding:[Td,24,Td,24],height:i.showPercent?72:54},i);return e},Wo;(function(i){i.ACTIVE_ELEMENT="tooltip_indicator_active_element",i.ACTIVE_ELEMENT_BY_X="tooltip_indicator_active_element_by_x"})(Wo||(Wo={}));var QE=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.state="selected",t.isSingle=!1,t}return e.prototype.active=function(){var t=wC.getCurrentElement(this.context);t.hasState("selected")?this.isSingle?this.setStateByX(t):this.setState(t):this.setStateByX(t)},e.prototype.setState=function(t){var r=this;Rf(this.getView(),function(n){n===t?n.hasState(r.state)||n.setState(r.state,!0):n.setState(r.state,!1)}),this.isSingle=!0,this.getView().emit(Wo.ACTIVE_ELEMENT,{element:t,isSingle:!0})},e.prototype.setStateByX=function(t){var r=this,n=this.getXField(),a=t.getData()[n];Rf(this.getView(),function(o){o.getData()[n]===a?o.hasState(r.state)||o.setState(r.state,!0):o.setState(r.state,!1)}),this.isSingle=!1,this.getView().emit(Wo.ACTIVE_ELEMENT_BY_X,{element:t,isSingle:!1})},e.prototype.setStateByField=function(t,r){var n=this,a=this.getView().getXScale().field,o=this.getView().getGroupScales()[0].field;Rf(this.getView(),function(s){var l=s.getData();s.setState(n.state,l[a]===t&&(r===void 0||l[o]===r))})},e.prototype.getView=function(){return this.context.view},e.prototype.getXField=function(){var t=this.context.view;return t.getXScale().field},e}(De);Je("tooltip-indicator",QE),zr("element-tooltip-indicator",{start:[{trigger:"element:mousemove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"element:touchmove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}}]});var JE=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.onElementActive=function(r){var n=r.element,a=r.isSingle,o=t.view.getXScale(),s=t.view.getXScale().field,l=t.view.getGroupScales()[0].field,f=n.getData(),h=f[s],c=t.getLegendItems(h);t.component.update({items:c,title:{text:o.getText(h)}}),t.component.render(),a&&t.component.selectItem(f[l]),t.curX=h},t.onSelectTooltipIndicatorItem=function(r){t.component&&r&&t.getInteractionAction().setStateByField(t.curX,r)},t}return e.getInteractionRange=function(t,r){var n=Pd(r),a=n.padding,o=a[0],s=a[2];return new tn(t.minX,t.minY,t.width,n.height+o+s)},e.prototype.clear=function(){this.component&&this.component.destroy(),this.container&&this.container.remove(!0),this.component=null,this.container=null},e.prototype.render=function(){var t=this,r=this.view,n=function(){var a=t.view.getXScale(),o=(0,u.last)(a.getTicks()).tickValue,s=t.view.padding;(0,u.isEqual)([0,0,0,0],s)||(t.component?t.updateComponent():(t.createComponent(),t.component.on(Cl.ON_SELECT_ITEM,t.onSelectTooltipIndicatorItem)),t.curX=o,t.component.update({title:{text:a.getText(t.curX)}}),t.component.render(),t.getInteractionAction().setStateByField(o))};r.legend(!1),r.removeInteraction("active-region"),r.removeInteraction("tooltip"),r.interaction("element-tooltip-indicator"),r.on(An.VIEW_LIFE_CIRCLE.AFTER_PAINT,n),r.on(An.VIEW_LIFE_CIRCLE.AFTER_RENDER,n),r.on(Wo.ACTIVE_ELEMENT,this.onElementActive),r.on(Wo.ACTIVE_ELEMENT_BY_X,this.onElementActive)},e.prototype.getInteractionAction=function(){var t=this.view.interactions["element-tooltip-indicator"];return t&&t.context.getAction("tooltip-indicator")},e.prototype.createComponent=function(){var t=Pd(this.getInteractionConfig()).padding,r=t[0],n=t[1],a=t[2],o=t[3],s=this.getLegendItems(),l=this.getRange(),f=this.view.getXScale(),h=(0,u.last)(f.getTicks()).tickValue;this.container=this.canvas.addGroup(),this.component=new jE({container:this.container,x:l.x+o,y:l.y+r,width:l.width-o-n,height:l.height-r-a,theme:this.getViewLayer().getPlotTheme(),items:s}),this.component.init(),this.getInteractionAction().setStateByField(h)},e.prototype.updateComponent=function(){var t=this.getLegendItems();this.component.update({items:t})},e.prototype.getLegendItems=function(t){var r=this.view,n=r.getData(),a=r.getTheme().defaultColor,o=r.getXScale(),s=r.getYScales()[0],l=t||(0,u.last)(o.getTicks()).tickValue,f=r.getLegendAttributes(),h=f.find(function(D){return D.type==="color"}),c=[],v=r.getGroupScales()[0],x=v.field;v&&v.isCategory&&v.getTicks().forEach(function(D){var X=D.text,K=D.tickValue,Z=h.mapping(K).join("")||a;c.push({id:K,title:X,color:Z,values:[]})});var P=(n==null?void 0:n.filter(function(D){return D[o.field]===l}))||[];return c.forEach(function(D){var X=P.find(function(K){return K[x]===D.id});D.values.push({value:s.formatter?s.formatter(X[s.field]):X[s.field]})}),c},e}(Ia),qE=JE;Ia.registerInteraction("slider",_E),Ia.registerInteraction("scrollbar",TE),Ia.registerInteraction("timeline",GE),Ia.registerInteraction("tooltip-indicator",qE);var _d=Ia,tA=function(){function i(e){this.innerPaddingComponents=[],this.outerPaddingComponents=[],this.plot=e.plot}return i.prototype.registerPadding=function(e,t,r){t===void 0&&(t="outer"),r===void 0&&(r=!1),t==="inner"?r?this.innerPaddingComponents.find(function(n){return n==e})||this.innerPaddingComponents.push(e):this.innerPaddingComponents.push(e):r?this.outerPaddingComponents.find(function(n){return n==e})||this.outerPaddingComponents.push(e):this.outerPaddingComponents.push(e)},i.prototype.getPaddingComponents=function(e){return e===void 0&&(e="outer"),(e==="outer"?this.outerPaddingComponents:this.innerPaddingComponents)||[]},i.prototype.clear=function(){this.innerPaddingComponents=[],this.outerPaddingComponents=(0,u.filter)(this.outerPaddingComponents,function(e){return e.afterRender})},i.prototype.clearOuterComponents=function(){(0,u.each)(this.outerPaddingComponents,function(e){e.afterRender&&e.destroy()}),this.outerPaddingComponents=[]},i.prototype.getPadding=function(){var e=this.plot.options,t=e.padding?e.padding:this.plot.config.theme.padding;return t==="auto"?[0,0,0,1]:t},i.prototype.processAutoPadding=function(){var e=this._getInnerAutoPadding();this.plot.updateConfig({padding:e}),this.plot.render()},i.prototype.processOuterPadding=function(){this.plot.layerBBox||(this.plot.layerBBox=new tn(this.plot.x,this.plot.y,this.plot.width,this.plot.height));var e=this.plot.layerBBox.minX,t=this.plot.layerBBox.maxX,r=this.plot.layerBBox.minY,n=this.plot.layerBBox.maxY;return(0,u.each)(this.outerPaddingComponents,function(a){var o=a.position;if(!a.destroyed){var s=a.getBBox(),l=s.minX,f=s.maxX,h=s.minY,c=s.maxY;c>=r&&c<=n&&o==="top"&&(r=c),h>=r&&h<=n&&o==="bottom"&&(n=h),f>e&&f<=t&&o==="left"&&(e=f),l>=e&&f<=t&&o==="right"&&(t=l)}}),new tn(e,r,t-e,n-r)},i.prototype._getInnerAutoPadding=function(){var e,t=this.plot.options,r=this.plot.view,n=r.coordinateBBox,a=n.maxX,o=n.maxY,s=n.minY,l=n.minX,f=this.plot.config.theme.bleeding;(0,u.isArray)(f)&&(0,u.each)(f,function(D,X){typeof f[X]=="function"&&(f[X]=f[X](t))}),this.bleeding=(0,u.clone)(f);var h=[new tn(n.minX,n.minY,n.width,n.height)];((e=this.plot.config.coordinate)===null||e===void 0?void 0:e.type)==="cartesian"&&this._getCartesianAxis(r,h[0],h);var c=this._mergeBBox(h);this._getLegend(r,c,h),c=this._mergeBBox(h);var v=this.innerPaddingComponents;(0,u.each)(v,function(D){var X=D,K=X.getBBox();h.push(K)}),c=this._mergeBBox(h);var x=[s-c.minY+this.bleeding[0],c.maxX-a+this.bleeding[1],c.maxY-o+this.bleeding[2],l-c.minX+this.bleeding[3]],P=this._getPanel(r);return x[0]+=P[0],x[1]+=P[1],x[2]+=P[2],x[3]+=P[3],x},i.prototype._getCartesianAxis=function(e,t,r){var n=BC(e),a=e.getCoordinate().isTransposed;(0,u.each)(n,function(o){if(o.get("group").get("children").length!==0){var s=o.get("position"),l=o.getLayoutBBox(),f=l.minX,h=l.minY,c=l.width,v=l.height;a?s==="bottom"?r.push(new tn(t.minX-c,h,c,v)):s==="left"?r.push(new tn(f,t.maxY,c,v)):s==="top"&&r.push(new tn(t.maxX,h,c,v)):s==="left"?r.push(new tn(t.minX-c,h,c,v)):s==="bottom"?r.push(new tn(f,t.maxY,c,v)):s==="right"&&r.push(new tn(t.maxX,h,c,v))}})},i.prototype._getLegend=function(e,t,r){var n=DC(e);(0,u.each)(n,function(a){var o=a.get("position").split("-")[0],s=a.getLayoutBBox(),l=s.minX,f=s.minY,h=s.width,c=s.height;o==="top"?r.push(new tn(l,t.minY-c,h,c)):o==="bottom"?r.push(new tn(l,t.maxY,h,c)):o==="left"?r.push(new tn(t.minX-h,f,h,c)):r.push(new tn(t.maxX,f,h,c))})},i.prototype._getPanel=function(e){var t=[],r=e.geometries;(0,u.each)(r,function(P){P.labelsContainer&&t.push(P.labelsContainer)});var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;(0,u.each)(t,function(P){var D=P.get("children");D.forEach(function(X){if(!(X.type==="group"&&X.get("children").length===0)){var K=X.getBBox();K.minX<n&&(n=K.minX),K.maxX>a&&(a=K.maxX),K.minY<o&&(o=K.minY),K.maxY>s&&(s=K.maxY)}})});var l=e.coordinateBBox,f=Math.max(a-parseFloat(l.maxX),0);if(f>0){var h=l.width/(l.width+f);f*=h}var c=Math.max(parseFloat(l.minX)-n,0);if(c>0){var h=l.width/(l.width+c);c*=h}var v=Math.max(parseFloat(l.minY)-o,0);if(v>0){var h=l.height/(l.height+v);v*=h}var x=Math.max(s-parseFloat(l.maxY),0);if(x>0){var h=l.height/(l.height+x);x*=h}return[v,f,x,c]},i.prototype._mergeBBox=function(e){var t=Infinity,r=-Infinity,n=Infinity,a=-Infinity;return(0,u.each)(e,function(o){var s=o;t=Math.min(s.minX,t),r=Math.max(s.maxX,r),n=Math.min(s.minY,n),a=Math.max(s.maxY,a)}),{minX:t,maxX:r,minY:n,maxY:a}},i}(),eA=tA,rA="#5B8FF9",nA=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"],iA=["#5B8FF9","#BDD2FD","#5AD8A6","#BDEFDB","#5D7092","#C2C8D5","#F6BD16","#FBE5A2","#E8684A","#F6C3B7","#6DC8EC","#B6E3F5","#9270CA","#D3C6EA","#FF9D4D","#FFD8B8","#269A99","#AAD8D8","#FF99C3","#FFD6E7"],Od=function(i){return i&&i.split("-")[0]==="top"?12:24},Ld=function(i){var e=i.title&&i.title.visible,t=i.description&&i.description.visible;return e||t?12:24},Id=function(i){return(0,u.some)(i.interactions||[],function(e){return(e.type==="slider"||e.type==="scrollbar")&&(e.cfg&&e.cfg.type)!=="vertical"})?8:24},kd={width:400,height:400,bleeding:[Ld,24,Id,24],padding:"auto",defaultColor:rA,colors:nA,colors_20:iA,title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fill:"black",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,Od,24],fontFamily:"PingFang SC",fontSize:12,fill:"grey",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(0,0,0,0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(0, 0, 0, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},circle:{autoHideLabel:!1,grid:{line:{style:{lineDash:null,lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}}},line:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}},tickLine:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},radius:{label:{textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],margin:[0,24,24,24]},label:{offset:12,textStyle:{fill:"#595959"},style:{fill:"#595959",stroke:"#ffffff",lineWidth:2}},tooltip:{"g2-tooltip":{boxShadow:"0px 0px 8px rgba(0,0,0,0.15)"},offset:10},components:{legend:{margin:[0,24,24,24]},tooltipIndicator:{title:{style:{fontSize:14,fill:"#262626"}},line:{style:{opacity:1},inactiveStyle:{opacity:.3}},itemTitle:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemName:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemValue:{style:{fontSize:14,fontWeight:"bold",fill:"#595959",opacity:1},inactiveStyle:{opacity:.3}}}}},aA={backgroundStyle:{fill:"#262626"},defaultColor:"#5B8FF9",width:400,height:400,bleeding:[Ld,24,Id,24],padding:"auto",title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fontWeight:"bold",fill:"rgba(255,255,255,0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,Od,24],fontFamily:"PingFang SC",fontSize:12,fill:"rgba(255, 255, 255, 0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,autoRotate:!1,autoHide:!0,textStyle:{fill:"rgba(255, 255, 255, 0.45)",fontSize:12}},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)"}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12},offset:16,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12}}},circle:{autoRotateTitle:!0,grid:{style:{lineDash:null,lineWidth:1,stroke:"#E3E8EC"}},line:{style:{lineWidth:1,stroke:"#BFBFBF"}},tickLine:{style:{lineWidth:1,stroke:"#bdc8d3",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"#a0a4aa",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"#767b84",fontSize:12}}},radius:{label:{offset:12,textStyle:{fill:"#a0a4aa",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],title:{visible:!1,style:{fill:"#bdc8d3"}},text:{style:{fill:"#bdc8d3"}}},label:{offset:12,textStyle:{fill:"rgba(255, 255, 255, 0.65)"},style:{fill:"rgba(255, 255, 255, 0.65)",lineWidth:1}},components:{tooltip:{domStyles:{"g2-tooltip":{backgroundColor:"rgba(33,33,33, 0.95)",boxShadow:"0px 0px 8px rgba(0,0,0,0.65)",color:"rgba(255, 255, 255, 0.65)"}}}}},Bd={default:kd,dark:aA};function G9(i,e){var t=Wi();Bd[i.toLowerCase()]=deepMix({},t,e)}function Wi(i){i===void 0&&(i="default");var e=Bd[i.toLowerCase()];return e||(console.warn("error in theme: Can't find the theme named %s. Please register theme first.",i),kd)}var Dd={};function Fd(i,e){var t={lineStyle:"line.line",columnStyle:"interval.rect",pointStyle:"point.circle"},r={};i==="area"&&(t={areaStyle:"area.area",lineStyle:"area.line",pointStyle:"point.circle"});var n={};return(0,u.each)(e,function(a,o){var s;if((0,u.has)(t,o)){var l=t[o];(0,u.each)(a,function(f,h){(0,u.set)(n,l+"."+[h==="normal"?"default":h==="disable"?"inactive":h]+".style",f)})}else r=(0,u.deepMix)({},r,(s={},s[o]=a,s))}),(0,u.isEmpty)(n)||(r=(0,u.deepMix)({},r,{geometries:n})),r}function oa(i,e){Dd[i.toLowerCase()]=Fd(i,e)}function Rd(i){return Dd[i.toLowerCase()]||{}}function oA(i){var e=(0,u.clone)(i);return e.legend||(e.legend={}),e}var Yf={axis:{x:{category:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"textWrapper",option:{lineNumber:2}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}},linear:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"nodesResampling",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"robustAbbrevaite",option:{unit:"thousand",decimal:1,abbreviateBy:"end"}},{name:"textHide"}]}},dateTime:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"datetimeStringAbbrevaite"},{name:"nodesResamplingByAbbrevate",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"nodesResampling"},{name:"nodesResampling"},{name:"textHide"}]}}},y:{linear:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"digitsAbbreviate"},{name:"textHide"}]}},category:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}}}}},Nd={default:Yf};function Yd(i,e){Nd[i.toLowerCase()]=(0,u.deepMix)({},Yf,e)}function Gd(i){var e=Nd[i.toLowerCase()];return e||Yf}var sA=Lt(),lA=function(){function i(){}return i.getGlobalTheme=function(e){return(0,u.isString)(e)?Wi(e):(0,u.deepMix)({},Wi(),e)},i.prototype.getPlotTheme=function(e,t){var r=e.theme;return(0,u.isString)(r)?(0,u.deepMix)({},Wi(r),Rd(t)):(0,u.deepMix)({},Wi(),Rd(t),Fd(t,r))},i.prototype.getTheme=function(e,t){var r=oA(this.getPlotTheme(e,t)),n=(0,u.deepMix)({},sA,r);return n},i.prototype.getResponsiveTheme=function(e){return Gd(e)||Gd("default")},i}(),Gf=lA,uA=function(i){(0,Jt.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.interactions=[],r.labels=[],r.options=r.getOptions(t),r.initialOptions=(0,u.deepMix)({},r.options),r.paddingController=new eA({plot:r}),r.stateController=new lE({plot:r}),r.themeController=new Gf,r}return e.getDefaultOptions=function(){return{renderer:"canvas",title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"},padding:"auto",legend:{visible:!0,position:"bottom-center"},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20},xAxis:{visible:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},label:{visible:!1},interactions:[{type:"tooltip"},{type:"legend-active"},{type:"legend-filter"}],animation:!0}},e.prototype.getOptions=function(t){var r=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t),o=(0,u.reduce)((0,u.flatten)((0,u.map)([n,a,(0,u.hasKey)(t,"interactions")?t:r],function(s){return(0,u.get)(s,"interactions",[])})),function(s,l){var f=(0,u.findIndex)(s,function(h){return h.type===l.type});return f>=0&&s.splice(f,1),(0,Jt.__spreadArrays)(s,[l])},[]);return(0,u.deepMix)({},n,a,r,t,{interactions:o})},e.prototype.beforeInit=function(){this.emit(Ra.BEFORE_INIT),i.prototype.beforeInit.call(this)},e.prototype.init=function(){var t=this;i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.config={data:this.processData(this.options.data),scales:{},legends:{},tooltip:{showTitle:!0},axes:{},coordinate:{type:"cartesian"},geometries:[],annotations:[],interactions:[],theme:this.theme,panelRange:{},animate:{},views:[]},this.paddingController.clear(),this.drawTitle(),this.drawDescription(),this.interaction(),this.coord(),this.scale(),this.axis(),this.tooltip(),this.legend(),this.addGeometry(),this.annotation(),this.animation(),this.viewRange=this.getViewRange();var r=this.viewRangeToRegion(this.viewRange);this.view=new ns({parent:null,canvas:this.canvas,backgroundGroup:this.container.addGroup(),middleGroup:this.container.addGroup(),foregroundGroup:this.container.addGroup(),padding:this.paddingController.getPadding(),theme:this.theme,options:this.config,limitInPlot:this.isLimitInPlot(),region:r}),this.applyInteractions(),this.view.on(An.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.afterRender()})},e.prototype.afterInit=function(){i.prototype.afterInit.call(this),!(!this.view||this.view.destroyed)&&(this.options.padding!=="auto"&&this.parseEvents(),this.emit(Ra.AFTER_INIT))},e.prototype.afterRender=function(){var t,r;if(!(!this.view||this.view.destroyed)){var n=this.options,a=n.padding?n.padding:this.config.theme.padding;n.defaultState&&a!=="auto"&&this.stateController.defaultStates(n.defaultState),a==="auto"&&this.paddingController.processAutoPadding(),((r=(t=n.tooltip)===null||t===void 0?void 0:t.custom)===null||r===void 0?void 0:r.onChange)&&n.padding!=="auto"&&this.customTooltip()}},e.prototype.render=function(){this.emit(Ra.BEFORE_RENDER),i.prototype.render.call(this);var t=this.options.data;(0,u.isEmpty)(t)||this.view.render(),this.emit(Ra.AFTER_RENDER)},e.prototype.repaint=function(){this.canvas&&this.canvas.draw()},e.prototype.getScaleByField=function(t){return this.view.getScaleByField(t)},e.prototype.getXScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},e.prototype.getYScale=function(){var t=this.options.yField;if(t)return this.view.getScaleByField(t)},e.prototype.getColorScale=function(){var t=this.options;if((0,u.contains)(t,"colorField"))return this.view.getScaleByField(t)},e.prototype.getShapes=function(){var t=this.view.geometries,r={};return(0,u.each)(t,function(n){var a=n.type;r[a]=n.getShapes()}),r},e.prototype.destroy=function(){this.doDestroy(),i.prototype.destroy.call(this)},e.prototype.updateConfig=function(t){this.doDestroy(),!t.padding&&this.initialOptions.padding&&this.initialOptions.padding==="auto"&&(t.padding="auto"),this.options=this.getOptions(t),this.processOptions(this.options)},e.prototype.changeData=function(t){this.emit(Ra.BEFORE_CHANGE_DATA);var r=(0,u.isEmpty)(this.options.data);this.options.data=this.processData(t),r?(this.options.padding=this.initialOptions.padding||"auto",this.view.data(this.options.data),this.view.render()):this.view.changeData(this.options.data),this.emit(Ra.AFTER_CHANGE_DATA)},e.prototype.getPlot=function(){return this.view},e.prototype.getLabels=function(){return this.labels},e.prototype.getTheme=function(){return this.theme?this.theme:this.themeController.getTheme(this.options,this.type)},e.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme(this.type)},e.prototype.getPlotTheme=function(){return this.themeController.getPlotTheme(this.options,this.type)},e.prototype.getInteractions=function(){return this.interactions},e.prototype.bindStateManager=function(t,r){this.stateController.bindStateManager(t,r)},e.prototype.setActive=function(t,r){this.stateController.setState({type:"active",condition:t,style:r})},e.prototype.setSelected=function(t,r){this.stateController.setState({type:"selected",condition:t,style:r})},e.prototype.setDisable=function(t,r){this.stateController.setState({type:"disable",condition:t,style:r})},e.prototype.setDefault=function(t,r){this.stateController.setState({type:"default",condition:t,style:r})},e.prototype.getData=function(t,r){return this.processData((this.options.data||[]).slice(t,r))},e.prototype.processData=function(t){return t},e.prototype.scale=function(){var t=(0,u.mapValues)(this.config.scales,function(n){var a=n.type;return a?{type:a}:{}}),r=(0,u.deepMix)({},this.config.scales,this.options.meta||{},t);this.setConfig("scales",r)},e.prototype.axis=function(){var t=Ri("axis",{plot:this,dim:"x"}),r=Ri("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[this.options.yField]=r,this.setConfig("axes",n)},e.prototype.tooltip=function(){var t,r;if(this.options.tooltip.visible===!1){this.setConfig("tooltip",!1);return}var n=(0,u.get)(this.options,"tooltip");((t=n.custom)===null||t===void 0?void 0:t.container)&&(n.container=n.custom.container),((r=n.custom)===null||r===void 0?void 0:r.customContent)&&(n.customContent=n.custom.customContent),this.setConfig("tooltip",(0,u.deepMix)({},n)),(0,u.deepMix)(this.config.theme.tooltip,this.options.tooltip.domStyles)},e.prototype.createTooltipContainer=function(){var t=document.createElement("div");return t.className="g2-tooltip",t},e.prototype.customTooltip=function(){var t=this.options.tooltip.custom,r;t.container&&(r=(0,u.isString)(t.container)?document.getElementById(t.container):t.container),r||(r=this.createTooltipContainer()),this.view.on("tooltip:show",function(n){(t==null?void 0:t.onChange)&&t.onChange(r,n)}),this.view.hideTooltip(),this.view.on("tooltip:change",function(n){t.onChange(r,n)})},e.prototype.getLegendPosition=function(t){var r=t.split("-");return r&&r.length>1&&r[1]==="center"?r[0]:t},e.prototype.legend=function(){var t;if(this.options.legend.visible===!1){this.setConfig("legends",!1);return}var r=(0,u.deepMix)({},this.theme.legend,this.options.legend),n={position:this.getLegendPosition((0,u.get)(r,"position")),offsetX:(0,u.get)(r,"offsetX"),offsetY:(0,u.get)(r,"offsetY"),flipPage:(0,u.get)(r,"flipPage"),marker:(0,u.get)(r,"marker"),title:((t=r.title)===null||t===void 0?void 0:t.visible)?(0,u.get)(r,"title"):null,itemName:(0,u.get)(r,"text")};this.setConfig("legends",n)},e.prototype.annotation=function(){var t=this,r=[];this.config.coordinate.type==="cartesian"&&this.options.guideLine&&(0,u.each)(this.options.guideLine,function(n){var a=Ri("guideLine",{plot:t,cfg:n});r.push(a)}),this.setConfig("annotations",r)},e.prototype.interaction=function(){var t=this,r=this.options.interactions,n=r===void 0?[]:r;(0,u.each)(n,function(a){var o=a.type;if(o==="slider"||o==="scrollbar"){var s={label:{autoHide:!0,autoRotate:!1}};t.options.xAxis=(0,u.deepMix)({},t.options.xAxis,s)}t.setConfig("interaction",a)})},e.prototype.animation=function(){this.options.animation===!1&&this.setConfig("animate",!1)},e.prototype.applyInteractions=function(){var t=this,r=tn.fromBBoxObject(this.layerBBox),n=this.title||this.description,a=new tn(r.minX,r.minY,r.width,n?n.getBBox().maxY:0);r=r.cut(a,An.DIRECTION.TOP);var o=this.options.interactions,s=o===void 0?[]:o;this.interactions&&this.interactions.forEach(function(l){l.destroy()}),this.interactions=[],s.forEach(function(l){var f=_d.getInteraction(l.type,t.type);if(f){var h=new f({view:t.view},t,f.getInteractionRange(r,l.cfg),l.cfg);h.render(),t.interactions.push(h)}})},e.prototype.setConfig=function(t,r){if(t==="geometry"){this.config.geometries.push(r);return}if(t==="interaction"){this.config.interactions.push(r);return}if(r===!1){this.config[t]=!1;return}(0,u.assign)(this.config[t],r)},e.prototype.parseEvents=function(t){var r=this,n=this.options;if(n.events){i.prototype.parseEvents.call(this,n.events);var a=t?t.EVENT_MAP:bn;(0,u.each)(n.events,function(o,s){if((0,u.isFunction)(o)){var l=a[s]||s,f=o;di(r,l,f)}})}},e.prototype.drawTitle=function(){var t=this.options,r=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),Xo(t.title)){var n=this.width,a=this.config.theme,o=new dl({leftMargin:r.minX+a.title.padding[3],rightMargin:r.maxX-a.title.padding[1],topMargin:r.minY+a.title.padding[0],text:t.title.text,style:(0,u.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:Xo(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o,this.paddingController.registerPadding(o,"outer")}},e.prototype.drawDescription=function(){var t=this.options,r=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),Xo(t.description)){var n=this.width,a=this.config.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=r.minY+a.title.padding[0];var l=new dl({leftMargin:r.minX+a.description.padding[3],topMargin:o,rightMargin:r.maxX-a.title.padding[1],text:t.description.text,style:(0,u.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l,this.paddingController.registerPadding(l,"outer")}},e.prototype.doRenderLabel=function(t,r){(0,u.each)(this.labels,function(s){s.destroy()}),this.labels=[];var n={layer:this,container:t.labelsContainer,geometry:t,label:r},a=GC(r.type);if(a){var o=new a(n);o.init(),o.render(),this.labels.push(o)}},e.prototype.doDestroy=function(){this.doDestroyInteractions(),this.doDestroyLabels(),this.view.destroyed||this.view.destroy()},e.prototype.doDestroyInteractions=function(){this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[]},e.prototype.doDestroyLabels=function(){(0,u.each)(this.labels,function(t){t.destroy()}),this.labels=[]},e.prototype.getViewRange=function(){var t=this,r=this.options.interactions,n=r===void 0?[]:r,a=this.paddingController.processOuterPadding();n.forEach(function(s){var l=_d.getInteraction(s.type,t.type),f=l&&l.getInteractionRange(a,s.cfg),h="";f&&(f.maxY===a.maxY&&f.minY>a.minY?h="bottom":f.maxX===a.maxX&&f.minX>a.minX?h="right":f.minX===a.minX&&f.maxX>a.maxX?h="left":f.minY===a.minY&&f.maxY<a.maxY&&(h="top"),t.paddingController.registerPadding({interaction:s.type,name:s.type,getBBox:function(){return f},position:h},"outer"))});var o=this.paddingController.processOuterPadding();return o},e.prototype.isLimitInPlot=function(){var t=this.options.yAxis;return!!((0,u.hasKey)(t,"max")||(0,u.hasKey)(t,"min")||(0,u.hasKey)(t,"maxLimit")||(0,u.hasKey)(t,"minLimit"))},e.prototype.viewRangeToRegion=function(t){var r=this,n=r.x,a=r.y,o=r.width,s=r.height,l={x:0,y:0},f={x:1,y:1};return l.x=t.minX/(n+o),l.y=t.minY/(a+s),f.x=t.maxX/(n+o),f.y=t.maxY/(a+s),{start:l,end:f}},e}(vl),ri=uA,fA=d(91033),hA=function(){function i(e){var t=this;this.onResize=(0,u.debounce)(function(){if(!t.plot.destroyed){var a=t.getCanvasSize(),o=a.width,s=a.height;t.width===o&&t.height===s||(t.width=o,t.height=s,t.plot.updateConfig({width:o,height:s}),t.plot.render())}},300);var r=e.containerDOM,n=e.plot;this.containerDOM=r,this.plot=n,this.init()}return i.prototype.getCanvasSize=function(){var e=Wi(),t=this.plot.width?this.plot.width:e.width,r=this.plot.height?this.plot.height:e.height;return this.plot.forceFit&&(t=this.containerDOM.offsetWidth?this.containerDOM.offsetWidth:t,r=this.containerDOM.offsetHeight?this.containerDOM.offsetHeight:r),{width:t,height:r}},i.prototype.getCanvasDOM=function(){return this.canvas.get("container")},i.prototype.updateCanvasSize=function(){var e=this.getCanvasSize(),t=e.width,r=e.height;this.width=t,this.height=r,this.canvas.changeSize(t,r)},i.prototype.updateCanvasTheme=function(){var e=this.plot.theme,t=Gf.getGlobalTheme(e),r=(0,u.get)(t,"backgroundStyle.fill");r&&this.updateCanvasStyle({backgroundColor:r})},i.prototype.updateCanvasStyle=function(e){(0,Rt.Z)(this.getCanvasDOM(),e),(0,Rt.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},i.prototype.destroy=function(){this.resizeObserver&&(this.resizeObserver.unobserve(this.containerDOM),this.resizeObserver.disconnect(),this.containerDOM=null),this.canvas.destroy()},i.prototype.bindForceFit=function(){var e=this.plot.forceFit;e&&(this.resizeObserver=new fA.Z(this.onResize),this.resizeObserver.observe(this.containerDOM))},i.prototype.init=function(){this.initGCanvas(),this.bindForceFit(),this.updateCanvasStyle({position:"relative"})},i.prototype.initGCanvas=function(){var e=this.plot,t=e.renderer,r=t===void 0?"canvas":t,n=e.pixelRatio,a=e.localRefresh,o=a===void 0?!1:a,s=this.getCanvasSize(),l=s.width,f=s.height,h=r==="canvas"?Wc:tv;this.canvas=new h({localRefresh:o,container:this.containerDOM,width:l,height:f,pixelRatio:n}),this.width=l,this.height=f,this.updateCanvasTheme()},i}(),cA=hA;function vA(i,e){return!!(i&&e&&i===e)}function dA(i,e){return i.x>=e.minX&&i.x<=e.maxX&&i.y>=e.minY&&i.y<=e.maxY}var pA=function(){function i(e){this.plot=e.plot,this.canvas=e.canvas,this.eventHandlers=[]}return i.prototype.bindEvents=function(){this.addEvent(this.canvas,"mousedown",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"mousemove",(0,u.wrapBehavior)(this,"onMove")),this.addEvent(this.canvas,"mouseup",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"click",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"dblclick",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"contextmenu",(0,u.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"wheel",(0,u.wrapBehavior)(this,"onEvents"))},i.prototype.clearEvents=function(){var e=this.eventHandlers;(0,u.each)(e,function(t){t.target.off(t.type,t.handler)})},i.prototype.addEvent=function(e,t,r){e.on(t,r),this.eventHandlers.push({target:e,type:t,handler:r})},i.prototype.onEvents=function(e){var t=this.getEventObj(e),r=e.target;!this.isShapeInView(r)&&r.name&&this.plot.emit(r.name+":"+e.type,e),this.plot.emit(""+e.type,t);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,t,e.type)},i.prototype.onMove=function(e){var t=e.target,r=this.getEventObj(e);!this.isShapeInView(t)&&t.name&&(this.plot.emit(t.name+":"+e.type,r),this.lastShape&&!vA(t,this.lastShape)&&(this.lastShape&&this.plot.emit(this.lastShape.name+":mouseleave",r),this.plot.emit(t.name+":mouseenter",r)),this.lastShape=t),this.plot.emit("mousemove",r);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,r,"mousemove")},i.prototype.isShapeInView=function(e){for(var t=["frontgroundGroup","backgroundGroup","panelGroup"],r=e.get("parent");r;){var n=r.get("name");if(n&&(0,u.contains)(t,n))return!0;r=r.get("parent")}return!1},i.prototype.getEventObj=function(e){var t={clientX:e.clientX,clientY:e.clientY,x:e.x,y:e.y,plot:this.plot,data:e.data?e.data.data:null,canvas:this.canvas,target:e.target,gEvent:e};return t},i.prototype.onLayerEvent=function(e,t,r){var n=this;(0,u.each)(e,function(a){var o=a.getGlobalBBox();if(dA({x:t.x,y:t.y},o)){a.emit(""+r,t);var s=a.layers;s.length>0&&n.onLayerEvent(s,t,r)}})},i}(),gA=pA,zd={};function dn(i,e){zd[i.toLowerCase()]=e}function yA(i){return zd[i.toLowerCase()]}var mA=function(i){(0,Jt.__extends)(e,i);function e(t,r){var n=i.call(this)||this;return n.containerDOM=typeof t=="string"?document.getElementById(t):t,n.forceFit=(0,u.isNil)(r.forceFit)?(0,u.isNil)(r.width)&&(0,u.isNil)(r.height):r.forceFit,n.renderer=r.renderer||"canvas",n.pixelRatio=r.pixelRatio||null,n.width=r.width,n.height=r.height,n.theme=r.theme,n.localRefresh=r.localRefresh,n.canvasController=new cA({containerDOM:n.containerDOM,plot:n}),n.width=n.canvasController.width,n.height=n.canvasController.height,n.canvas=n.canvasController.canvas,n.layers=[],n.destroyed=!1,n.createLayers(r),n.eventController=new gA({plot:n,canvas:n.canvasController.canvas}),n.eventController.bindEvents(),n.parseEvents(r),n}return e.prototype.destroy=function(){this.eachLayer(function(t){t.destroy()}),this.canvasController.destroy(),this.eventController.clearEvents(),this.layers=[],this.destroyed=!0},e.prototype.repaint=function(){this.canvasController.canvas.draw()},e.prototype.updateConfig=function(t,r){if(r===void 0&&(r=!1),r)this.eachLayer(function(a){a instanceof ri&&a.updateConfig(t)});else{var n=this.layers[0];n instanceof vl&&n.updateConfig(t)}t.width&&(this.width=t.width),t.height&&(this.height=t.height),t.theme&&(this.theme=t.theme),this.canvasController.updateCanvasSize(),this.canvasController.updateCanvasTheme()},e.prototype.changeData=function(t,r){if(r===void 0&&(r=!1),r)this.eachLayer(function(a){a instanceof ri&&a.changeData(t)});else{var n=this.layers[0];n instanceof ri&&n.changeData(t)}},e.prototype.getScaleByField=function(t){return this.layers[0].getScaleByField(t)},e.prototype.getXScale=function(){return this.layers[0].getXScale()},e.prototype.getYScale=function(){return this.layers[0].getYScale()},e.prototype.getColorScale=function(){return this.layers[0].getColorScale()},e.prototype.getPlotTheme=function(){var t=this.layers[0];return t.getPlotTheme()},e.prototype.getData=function(){var t=this.layers[0];return t.getData()},e.prototype.bindStateManager=function(t,r){this.eachLayer(function(n){n instanceof ri&&n.bindStateManager(t,r)})},e.prototype.setActive=function(t,r){this.eachLayer(function(n){n instanceof ri&&n.setActive(t,r)})},e.prototype.setSelected=function(t,r){this.eachLayer(function(n){n instanceof ri&&n.setSelected(t,r)})},e.prototype.setDisable=function(t,r){this.eachLayer(function(n){n instanceof ri&&n.setDisable(t,r)})},e.prototype.setDefault=function(t,r){this.eachLayer(function(n){n instanceof ri&&n.setDefault(t,r)})},e.prototype.getView=function(){return this.layers[0].view},e.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers[t]},e.prototype.getCanvas=function(){return this.canvasController.canvas},e.prototype.getLayers=function(){return this.layers},e.prototype.render=function(){this.eachLayer(function(t){return t.render()})},e.prototype.eachLayer=function(t){(0,u.each)(this.layers,t)},e.prototype.addLayer=function(t){var r=(0,u.findIndex)(this.layers,function(n){return n===t});r<0&&this.layers.push(t)},e.prototype.createLayers=function(t){if(!t.layers){if(t.type){var r=yA(t.type),n=(0,u.deepMix)({},t,{canvas:this.canvasController.canvas,x:0,y:0,width:this.width,height:this.height}),a=new r(n);this.addLayer(a)}}},e.prototype.parseEvents=function(t){var r=this,n=(0,u.keys)($v);t.events&&(0,u.each)(t.events,function(a,o){if((0,u.contains)(n,o)&&(0,u.isFunction)(a)){var s=$v[o]||o,l=a;r.on(s,l)}})},e}(Be.default),$r=mA,xA=function(){function i(e){(0,u.assign)(this,e),this.init()}return i.prototype.init=function(){this.config={type:this.type,position:{fields:this.positionFields}}},i}(),gs=xA,bA=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){var t=this.plot.options;this.config={type:"area",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls||!1},t.smooth&&(this.config.shape={values:["smooth"]}),(this._getColorMappingField()||t.color)&&this.parseColor(),(t.areaStyle||t.area&&t.area.style)&&this.parseStyle()},e.prototype.parseColor=function(){var t=this.plot.options,r={},n=this._getColorMappingField();if(n&&(r.fields=n),(0,u.has)(t,"color")){var a=t.color;(0,u.isString)(a)?r.values=[a]:(0,u.isFunction)(a)?r.callback=a:(0,u.isArray)(a)&&(n?r.values=a:a.length>0&&(r.values=[a[0]]))}this.config.color=r},e.prototype.parseStyle=function(){var t=this.plot.options,r=t.areaStyle?t.areaStyle:t.area.style,n={};(0,u.isFunction)(r)&&t.seriesField?(n.fields=[t.seriesField],n.callback=r):n.cfg=r,this.config.style=n},e.prototype._getColorMappingField=function(){for(var t=this.plot.options,r=["stackField","seriesField"],n=0,a=r;n<a.length;n++){var o=a[n];if((0,u.get)(t,o))return[t[o]]}},e}(gs),Xd=bA;function wA(i,e){var t=[];if(i.length){for(var r=0,n=i.length;r<n;r+=1){var a=i[r],o=r===0?"M":"L";t.push([o,a.x,a.y])}e&&t.push(["Z"])}return t}function Vd(i,e){var t=i.getCenter(),r=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));return r}function zf(i,e){for(var t=[i[0]],r=1,n=i.length;r<n;r=r+2){var a=e.convertPoint({x:i[r],y:i[r+1]});t.push(a.x,a.y)}return t}function SA(i,e,t){var r=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:e[1],y:e[2]},l=[],f=r?"y":"x",h=Math.abs(s[f]-o[f])*(a-n),c=s[f]>=o[f]?1:0,v=h>Math.PI?1:0,x=t.convertPoint(s),P=Vd(t,x);if(P>=.5)if(h===Math.PI*2){var D={x:(s.x+o.x)/2,y:(s.y+o.y)/2},X=t.convertPoint(D);l.push(["A",P,P,0,v,c,X.x,X.y]),l.push(["A",P,P,0,v,c,x.x,x.y])}else l.push(["A",P,P,0,v,c,x.x,x.y]);return l}function MA(i){each(i,function(e,t){var r=e;if(r[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var CA=function(i,e,t,r){var n=[],a,o,s=!!r,l,f;if(s){l=[Infinity,Infinity],f=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var v=i[h];l=Ae.min([0,0],l,v),f=Ae.max([0,0],f,v)}l=Ae.min([0,0],l,r[0]),f=Ae.max([0,0],f,r[1])}for(var h=0,x=i.length;h<x;h++){var v=i[h];if(t)a=i[h?h-1:x-1],o=i[(h+1)%x];else if(h===0||h===x-1){n.push(v);continue}else a=i[h-1],o=i[h+1];var P=[0,0];P=Ae.sub(P,o,a),P=Ae.scale(P,P,e);var D=Ae.distance(v,a),X=Ae.distance(v,o),K=D+X;K!==0&&(D/=K,X/=K);var Z=Ae.scale([0,0],P,-D),gt=Ae.scale([0,0],P,X),mt=Ae.add([0,0],v,Z),Nt=Ae.add([0,0],v,gt);s&&(mt=Ae.max([0,0],mt,l),mt=Ae.min([0,0],mt,f),Nt=Ae.max([0,0],Nt,l),Nt=Ae.min([0,0],Nt,f)),n.push(mt),n.push(Nt)}return t&&n.push(n.shift()),n};function EA(i,e,t){for(var r=!!e,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=CA(n,.4,r,t),l=n.length,f=[],h,c,v,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],v=n[a+1],f.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]]);return r&&(h=s[l],c=s[l+1],v=n[0],f.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]])),f}function AA(i,e){return wA(i,e)}function Xf(i,e,t){var r=[],n=i[0],a=null;if(i.length<=2)return AA(i,e);(0,u.each)(i,function(l){(!a||!(a.x===l.x&&a.y===l.y))&&(r.push(l.x),r.push(l.y),a=l)});var o=t||[[0,0],[1,1]],s=EA(r,e,o);return s.unshift(["M",n.x,n.y]),s}function z9(i,e){return Vd(i,e)}function X9(i,e){var t=i.getCenter();return Math.atan2(e.y-t.y,e.x-t.x)}function V9(i,e){var t=[];return each(e,function(r){var n=r[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(zf(r,i));break;case"z":default:t.push(r);break}}),t}function H9(i,e){var t=[],r,n,a,o;return each(e,function(s,l){var f=s[0];switch(f.toLowerCase()){case"m":case"c":case"q":t.push(zf(s,i));break;case"l":r=e[l-1],n=s,a=i.isTransposed,o=a?r[r.length-2]===n[1]:r[r.length-1]===n[2],o?t=t.concat(SA(r,n,i)):t.push(zf(s,i));break;case"z":default:t.push(s);break}}),MA(t),t}Cn("area","miniArea",{draw:function(i,e){var t=i.style?i.style.opacity:null,r=Hd(i,this,!1),n=(0,u.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),a=e.addShape("path",{attrs:{path:r,fill:jd(i.color||Wi().defaultColor),opacity:t||.4},style:n});return a}}),Cn("area","miniAreaSmooth",{draw:function(i,e){var t=i.style?i.style.opacity:null,r=Hd(i,this,!0),n=e.addShape("path",{attrs:{path:r,fill:jd(i.color||Wi().defaultColor),opacity:t||.5}});return n}});function Hd(i,e,t){var r=[[0,0],[1,1]],n=[],a=[];(0,u.each)(i.points,function(f){n.push(f[1]),a.push(f[0])}),a=e.parsePoints(a.reverse()),n=If(e.parsePoints(n));var o=t?Xf(n,!1,r):Wd(n),s=Wd(a);s[0][0]="L";var l=o.concat(s);return l}function Wd(i){for(var e=[],t=0;t<i.length;t++){var r=i[t],n=t===0?"M":"L";e.push([n,r.x,r.y])}return e}function jd(i){return"l(90) 0:"+i+" 1:#ffffff"}var TA=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},e.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniAreaSmooth"]}:this.config.shape={values:["miniArea"]}},e}(Xd),PA=TA,_A={main:Xd,mini:PA},Ud=["colorField","stackField","groupField"],OA=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){this.type="interval",i.prototype.init.call(this);var t=this.plot.options;this._needParserColor()&&this.parseColor(),this.config.color||(this.config.color={values:["#5b8ff9"]});var r=this._getSizeProps(t);r&&this.parseSize(r);var n=this._getStyleProps(t);n&&this.parseStyle(n)},e.prototype.parseColor=function(){var t=this.plot.options,r=this._getColorMappingField(t),n={};r&&(n.fields=r),t.color&&((0,u.isString)(t.color)?n.values=[t.color]:(0,u.isFunction)(t.color)?n.callback=t.color:(0,u.isArray)(t.color)?r?n.values=t.color:t.color.length>0&&(n.values=[t.color[0]]):(0,u.isObject)(t.color)&&(n.fields=r,n.callback=function(a){return t.color[a]})),this.config.color=n},e.prototype.parseSize=function(t){var r=this.plot.options,n={};(0,u.isFunction)(r[t])?(n.fields=[this.config.position.fields],n.callback=r[t]):n.values=[r[t]],this.config.size=n},e.prototype.parseStyle=function(t){var r=this.plot.options,n=this.config.color,a=this.plot.options[t],o={};(0,u.isFunction)(a)?(o.fields=(n==null?void 0:n.fields)||[r.xField,r.yField],o.callback=a):o.cfg=a,this.config.style=o},e.prototype._getSizeProps=function(t){for(var r=["columnSize","barSize"],n=0,a=r;n<a.length;n++){var o=a[n];if((0,u.get)(t,o))return o}},e.prototype._getStyleProps=function(t){for(var r=["columnStyle","barStyle","pieStyle","ringStyle"],n=0,a=r;n<a.length;n++){var o=a[n];if((0,u.get)(t,o))return o}},e.prototype._getColorMappingField=function(t){for(var r=0,n=Ud;r<n.length;r++){var a=n[r];if((0,u.get)(t,a))return[t[a]]}},e.prototype._needParserColor=function(){var t=this.plot.options;if(t.color)return!0;for(var r=0,n=Ud;r<n.length;r++){var a=n[r];if(t[a])return!0}return!1},e}(gs),LA=OA,IA={main:LA},kA=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){var t=this.plot.options;this.config={type:"line",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls},t.lineSize&&this.parseSize(),t.smooth&&(this.config.shape={values:["smooth"]}),t.step&&(this.config.shape={values:[t.step]}),(t.seriesField||t.color)&&this.parseColor(),(t.lineStyle||(0,u.get)(t,["line","style"]))&&this.parseStyle()},e.prototype.parseSize=function(){var t=this.plot.options.lineSize,r={};(0,u.isFunction)(t)?r.callback=t:r.values=[t],this.config.size=r},e.prototype.parseColor=function(){var t=this.plot.options,r={};if(t.seriesField&&(r.fields=[t.seriesField]),(0,u.has)(t,"color")){var n=t.color;(0,u.isString)(n)?r.values=[n]:(0,u.isFunction)(n)?r.callback=n:(0,u.isArray)(n)&&(t.seriesField?r.values=n:n.length>0&&(r.values=[n[0]]))}this.config.color=r},e.prototype.parseStyle=function(){var t=this.plot.options,r=t.lineStyle||(0,u.get)(t,["line","style"]),n={fields:null,callback:null,cfg:null};(0,u.isFunction)(r)&&t.seriesField?(n.fields=[t.seriesField],n.callback=r):n.cfg=r,this.config.style=n},e}(gs),Vf=kA,BA=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){var t=this.plot.options;!t.xField||!t.yField||(this.config={type:"line",position:{fields:[t.xField,t.yField]},tooltip:!1},(this._getColorMappingField()||this._needParseAttribute("color"))&&this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.line.style&&this.parseStyle(),t.smooth&&(this.config.shape={values:["smooth"]}))},e.prototype.parseSize=function(){var t=this.plot.options,r={};t.line.size?r.values=[t.line.size]:r.values=[2],this.config.size=r},e.prototype.parseColor=function(){var t=this.plot.options,r={},n=this._getColorMappingField();n&&(r.fields=n),t.line.color?r.values=[t.line.color]:(0,u.isString)(t.color)?r.values=[t.color]:(0,u.isFunction)(t.color)?(r.fields=n,r.callback=t.color):(0,u.isArray)(t.color)&&(n?r.values=t.color:t.color.length>0&&(r.values=[t.color[0]])),this.config.color=r},e.prototype.parseStyle=function(){var t=this.plot.options,r=t.line.style,n={};(0,u.isFunction)(r)?(n.fields=this.config.position.fields,n.callback=r):n.cfg=r,this.config.style=n},e.prototype._needParseAttribute=function(t){var r=this.plot.options;return r[t]?!0:!!r.line[t]},e.prototype._getColorMappingField=function(){for(var t=this.plot.options,r=["stackField","seriesField"],n=0,a=r;n<a.length;n++){var o=a[n];if((0,u.get)(t,o))return[t[o]]}},e}(Vf),DA=BA;Cn("line","miniLine",{draw:function(i,e){for(var t=If(i.points),r=[],n=0;n<t.length;n++){var a=t[n],o=n===0?"M":"L";r.push([o,a.x,a.y])}var s=(0,u.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),l=e.addShape("path",{attrs:(0,u.mix)({path:r,stroke:i.color||Wi().defaultColor,lineWidth:i.size||2},s)});return l}}),Cn("line","miniLineSmooth",{draw:function(i,e){var t=If(i.points),r=[[0,0],[1,1]],n=Xf(t,!1,r),a=e.addShape("path",{attrs:(0,u.mix)({path:n,stroke:i.color||Wi().defaultColor,lineWidth:i.size||2},i.style)});return a}});var FA=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},e.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniLineSmooth"]}:this.config.shape={values:["miniLine"]}},e}(Vf),RA=FA,NA={main:Vf,guide:DA,mini:RA},YA=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){var t=this.plot.options;this.style=t.pointStyle,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]}},this.parseColor(),this.parseSize(),t.shape&&this.parseShape(t.shape),t.pointStyle&&this.parseStyle())},e.prototype.parseColor=function(){var t=this.plot.options,r={},n=t.colorField;n&&(r.fields=(0,u.isArray)(n)?n:[n]),t.color&&this._parseColor(t,r),(0,u.isEmpty)(r)||(this.config.color=r)},e.prototype.parseSize=function(){var t=this.plot.options,r={};t.sizeField&&(r.fields=[t.sizeField]),t.pointSize&&(r.values=(0,u.isArray)(t.pointSize)?t.pointSize:[t.pointSize]),this.config.size=r},e.prototype.parseShape=function(t){this.config.shape=t},e.prototype.parseStyle=function(){var t=this.plot.options,r=t.pointStyle,n={fields:null,callback:null,cfg:null},a=t.xField,o=t.yField,s=t.colorField;(0,u.isFunction)(r)?(s?n.fields=(0,u.isArray)(s)?[a,o,s].concat(s):[a,o,s]:n.fields=[a,o],n.callback=r):(n.cfg=r,(0,u.isNil)(r.opacity)||(n.cfg.fillOpacity=r.opacity)),this.config.style=n},e.prototype._parseColor=function(t,r){(0,u.isString)(t.color)?r.values=[t.color]:(0,u.isFunction)(t.color)?r.callback=t.color:(0,u.isArray)(t.color)&&(r.values=t.color)},e}(gs),GA=YA;function zA(i,e){var t=[];return(0,u.each)(e,function(r){var n=r[i];t.push(n)}),(0,u.uniq)(t)}var XA=["seriesField","stackField"],VA=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){var t=this.plot.options;this.style=t.point.style,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]},tooltip:!1},this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.point.shape&&this.parseShape(t.point.shape),t.point.style&&this.parseStyle())},e.prototype.parseColor=function(){var t=this.plot.options,r={},n=this._getColorMappingField(t);if(n)this._parseColorByField(t,r,n);else if(t.point&&t.point.color)r.values=[t.point.color];else if(t.color)this._parseColor(t,r);else{var a=this.plot.getTheme();r.values=[a.defaultColor]}(0,u.keys)(r).length>0&&(this.config.color=r)},e.prototype.parseSize=function(){var t=this.plot.options,r={};r.values=[t.point.size],this.config.size=r},e.prototype.parseShape=function(t){var r={};(0,u.isString)(t)?r.values=[t]:(0,u.isObject)(t)&&(r.fields=t.fields,r.callback=t.callback),this.config.shape=r},e.prototype.parseStyle=function(){var t=this.plot.options,r=t.point&&t.point.style,n={fields:null,callback:null,cfg:null},a=this._getColorMappingField(t);(0,u.isFunction)(r)?(n.fields=[t.xField,t.yField],n.callback=r,a&&n.fields.unshift(a)):n.cfg=r,this.config.style=n},e.prototype._parseColorByField=function(t,r,n){if(r.fields=[n],t.point.color){for(var a=zA(n,t.data).length,o=[],s=0;s<a;s++)o.push(t.point.color);r.values=o}else t.color&&this._parseColor(t,r)},e.prototype._parseColor=function(t,r){var n=this._getColorMappingField(t);(0,u.isString)(t.color)?r.values=[t.color]:(0,u.isFunction)(t.color)?r.callback=t.color:(0,u.isArray)(t.color)&&(n?r.values=t.color:t.color.length>0&&(r.values=[t.color[0]]))},e.prototype._needParseAttribute=function(t){var r=this.plot.options,n=r.point&&(0,u.has)(r.point,t);return n},e.prototype._getColorMappingField=function(t){for(var r=0,n=XA;r<n.length;r++){var a=n[r];if((0,u.get)(t,a))return[t[a]]}},e}(gs),HA=VA,WA={guide:HA,circle:GA},jA={area:_A,line:NA,point:WA,interval:IA};function fi(i,e,t){var r=jA[i][e];return new r(t).config}function UA(i){var e=AC,t=i.split(" "),r=e[t[1]],n=parseInt(t[0],10);return[r.format,n*r.value]}function Pi(i,e){if(!e)return i;Object.prototype.hasOwnProperty.call(e,"tickCount")&&(i.tickCount=e.tickCount),Object.prototype.hasOwnProperty.call(e,"type")&&e.type!=="dateTime"&&(i.type=e.type),Object.prototype.hasOwnProperty.call(e,"tickInterval")&&(e.type==="time"?i.tickInterval=UA(e.tickInterval):i.tickInterval=e.tickInterval),e.type==="time"&&e.mask&&(i.mask=e.mask),Object.prototype.hasOwnProperty.call(e,"min")&&(i.min=e.min),Object.prototype.hasOwnProperty.call(e,"max")&&(i.max=e.max),Object.prototype.hasOwnProperty.call(e,"minLimit")&&(i.minLimit=e.minLimit),Object.prototype.hasOwnProperty.call(e,"maxLimit")&&(i.maxLimit=e.maxLimit),Object.prototype.hasOwnProperty.call(e,"nice")&&(i.nice=e.nice),Object.prototype.hasOwnProperty.call(e,"formatter")&&(i.formatter=e.formatter),Object.prototype.hasOwnProperty.call(e,"exponent")&&(i.exponent=e.exponent),Object.prototype.hasOwnProperty.call(e,"base")&&(i.base=e.base),e.tickMethod&&(i.tickMethod=e.tickMethod)}function ZA(i,e){var t=(0,u.filter)(e,function(a){return(0,u.isNumber)(a)}),r=Math.min.apply(Math,t),n=Math.max.apply(Math,t);r>0?(0,u.isNil)(i.min)&&(i.min=0):n<0&&(0,u.isNil)(i.max)&&(i.max=0)}var Hf;function KA(i,e){var t={easing:"easeLinear",duration:1e4},r=(0,u.deepMix)({},e,t),n=i.get("element").geometry;n.labelsContainer.set("visible",!1);var a=i.get("index"),o=n.coordinate,s=n.scales,l=s[Hf.options.yField],f=(0,u.clone)(i.get("origin"));$A(i,o);var h=i.get("clipShape"),c=i.get("parent"),v=12,x=null,P=Hf.options.seriesField;P&&(x=c.addShape("text",{attrs:{x:o.start.x+v,y:0,text:f.data[0][P],fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}}));var D=x?16:0,X=c.addShape("text",{attrs:{x:o.start.x+v,y:D,text:"test"+a,fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}});r.callback=function(){i&&!i.get("destroyed")&&(i.setClip(null),h.remove(),X.animate({opacity:0},300,function(){X.remove(),(0,u.isNil)(x)||x.remove();var gt=n.labelsContainer;gt.get("visible")||gt.set("visible",!0)}))};var K=r.delay;(0,u.isFunction)(K)&&(K=r.delay(a));var Z=r.easing;(0,u.isFunction)(Z)&&(Z=r.easing(a)),h.animate({width:o.getWidth()},r.duration,Z,r.callback,K),r.onFrame=function(gt){var mt=Zd(gt,f,o);if(!!mt){X.attr("x",mt[0]+v),X.attr("y",mt[1]+D);var Nt=QA(l,mt[1],o);l.formatter&&(Nt=l.formatter(Nt)),X.attr("text",Nt)}},X.animate(r.onFrame,{duration:r.duration,easing:Z,callback:r.callback,delay:K}),x&&x.animate({onFrame:function(gt){var mt=Zd(gt,f,o);!mt||(x.attr("x",mt[0]+v),x.attr("y",mt[1]))}},r.duration,Z,r.callback,K)}function $A(i,e){var t=e.start,r=e.end,n=e.height;i.setClip({type:"rect",attrs:{x:t.x,y:r.y,width:0,height:n}})}function Zd(i,e,t){for(var r=e.points,n=t.start.x+t.getWidth()*i,a=0;a<r.length-1;a++){var o=r[a],s=r[a+1];if(n>=o.x&&n<=s.x){var l=(s.y-o.y)/(s.x-o.x),f=o.y+l*(n-o.x);return[n,f]}}}function QA(i,e,t){var r=(e-t.start.y)/(t.end.y-t.start.y);return i.invert(r).toFixed(2)}function JA(i){Hf=i}pi("clipingWithData",KA);var qA=function(){function i(e){this.type="shape",this.shapes=e.shapes,this.nodes=[],this._parserNodes(),this.origion_nodes=(0,u.deepMix)([],this.nodes)}return i.prototype.measure=function(e){var t=(0,u.deepMix)({},jC(e),{shape:e});return t},i.prototype.measureNodes=function(){var e=this,t=[],r=[];(0,u.each)(this.shapes,function(n,a){var o=(0,u.deepMix)({},e.nodes[a],e.measure(n));o.width!==0&&o.height!==0&&(t.push(o),r.push(n))}),this.nodes=t,this.shapes=r},i.prototype._parserNodes=function(){var e=this;(0,u.each)(this.shapes,function(t){var r=e.measure(t);e.nodes.push(r)})},i}(),Kd=qA;function tT(i,e,t){return t===void 0&&(t={ratio:.6}),e.width*t.ratio}var eT={type:"padding",usage:"assign",expression:tT};function rT(i,e){var t=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],r=[e.topLeft,e.topRight,e.bottomRight,e.bottomLeft],n=sd(t,r);return Math.round(n)>=2}var nT={type:"group",usage:"compare",expression:rT};function iT(i,e,t){t===void 0&&(t={value:4});var r=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],n=[e.topLeft,e.topRight,e.bottomRight,e.bottomLeft],a=sd(r,n);return Math.round(a)>=t.value}var aT={type:"chain",usage:"compare",expression:iT};function oT(i,e,t){t===void 0&&(t={value:5});var r=Math.abs(i.bottom-e.top);return Math.round(r)>=t.value}var sT={type:"chain",usage:"compare",expression:oT};function lT(i,e,t){return t===void 0&&(t={ratio:.15}),i.width<e.width*t.ratio}var uT={type:"padding",usage:"compare",expression:lT};function fT(i,e){var t=2,r=e.coord.radius/t;return Math.min(r,i.value)}var hT={type:"padding",usage:"assign",expression:fT};function cT(i,e,t){return t===void 0&&(t={ratio:.8}),e.radius*t.ratio}var vT={type:"padding",usage:"assign",expression:cT},$d={elementDist:aT,elementDistVertical:sT,elementCollision:nT,elementWidth:uT,columnWidth:eT,ringThickness:vT,minRingThickness:hT};function W9(i,e){$d[i]=e}function jo(i){i.attr("text","")}function dT(i,e,t,r){var n=r.nodes.nodes,a=n[t],o=[];if(!a.shape.get("blank"))for(var s=0;s<n.length;s++){var l=n[s],f=l.shape;if(s!==t&&!f.get("blank")){var h=Qd(a,l);h&&o.push(l)}}o.length>0&&(o.push(a),o.sort(function(c,v){return v.top-c.top}),(0,u.each)(o,function(c,v){if(v>0){var x=c.shape;jo(x),x.set("blank",!0)}}))}function Qd(i,e){return!(i.bottom<e.top||e.bottom<i.top||i.right<e.left||e.right<i.left)}var pT=d(82097),go=d.n(pT),gT=1e3,Jd=60*gT,Wf=60*Jd,Tl=24*Wf,qd=31*Tl,tp=365*Tl;function ep(i,e,t,r){var n=r.nodes.nodes,a;t===n.length-1?a=n[t-1].shape.get("delegateObject").item.name:a=n[t+1].shape.get("delegateObject").item.name;var o=new Date(a),s=i.get("delegateObject").item.name,l=new Date(s),f=n[0].shape.get("delegateObject").item.name,h=new Date(f),c=n[n.length-1].shape.get("delegateObject").item.name,v=new Date(c),x=rp(h,v),P=rp(l,o);if(x===P){if(t!==0&&t!==n.length-1){var D=xT(x);i.attr("text",go().format(l,D))}return}if(t!==0){var X=n[t-1].shape.get("delegateObject").item.name,K=new Date(X),Z=yT(x,l,K);if(Z){var D=mT(x,P);i.attr("text",go().format(l,D));return}}}function yT(i,e,t){var r=np(e,i),n=np(t,i);return r===n}function rp(i,e){var t,r=Math.abs(i-e),n={minute:[Jd,Wf],hour:[Wf,Tl],day:[Tl,qd],month:[qd,tp],year:[tp,Infinity]};return(0,u.each)(n,function(a,o){r>=a[0]&&r<a[1]&&(t=o)}),t}function mT(i,e){for(var t=["year","month","day","hour","minute"],r=["YYYY","MM","DD","HH","MM"],n=t.indexOf(i)+1,a=t.indexOf(e),o="",s=n;s<=a;s++)o+=r[s],s<a&&(o+="-");return o}function xT(i){var e=["year","month","day","hour","minute"],t=["YYYY","MM","DD","HH","MM"],r=e.indexOf(i),n=t[r];return n}function np(i,e){if(e==="year")return i.getFullYear();if(e==="month")return i.getMonth()+1;if(e==="day")return i.getDay()+1;if(e==="hour")return i.getHours()+1;if(e==="minute")return i.getMinutes()+1}function bT(i){var e=/^(?:(?:[0-2][0-3])|(?:[01]\d)):[0-5]\d$/,t=/^(?:(?:[0-2][0-3])|(?:[01]\d))(?::[0-5]\d){2}$/;return e.test(i)||t.test(i)}var ip={k:{number:1e3,index:0},m:{number:1e6,index:1},b:{number:1e9,index:2},t:{number:1e12,index:3}};function ap(i,e,t,r){if(!(!(0,u.has)(r,"node")||!(0,u.has)(r.node,"node"))){var n=r.nodes.nodes,a=parseFloat(i.get("origin").text);if(a!==0){if(e.formatter){i.attr("text",e.formatter(a));return}if(e.unit){var o=op(e,a),s=o.num,l=o.unitname;i.attr("text",s+l)}else{var f=ST(n),h=ld(f),l=wT(h),c=ip[l].number,v=MT(n),x=CT(v,c),s=op({unit:l,decimal:x},a).num;i.attr("text",s+l)}}}}function op(i,e){var t=["k","m","b","t"],r,n;if(i.unit==="auto"){var a=Math.floor(Math.log(e)/Math.log(1e3));n=t[a-1],r=(e/Math.pow(1e3,a)).toFixed(i.decimal)}else if(i.unit){var o=ip[i.unit];n=i.unit,r=(e/o.number).toFixed(i.decimal)}return{num:r,unitname:n}}function wT(i){var e=["k","m","b","t"],t=Math.floor(Math.log(i)/Math.log(1e3));return e[t-1]}function ST(i){var e=[];return(0,u.each)(i,function(t){var r=t,n=parseFloat(r.shape.get("origin").text);e.push(n)}),e}function MT(i){if(i.length>=2){var e=parseFloat(i[0].shape.get("origin").text),t=parseFloat(i[1].shape.get("origin").text);return Math.abs(e-t)}return 0}function CT(i,e){var t=Math.floor(Math.log10(e));if(i>=e){var r=i%e;if(r>0){var n=Math.floor(Math.log10(r));return Math.abs(n-t)}}else{var a=Math.floor(Math.log10(i));return Math.abs(a-t)}return 0}function ET(i,e,t){var r=t.nodes.nodes;if(e!==r.length-1){var n=r[e],a=r[e+1],o=AT(n,a).dir,s=i.get("startPoint");o==="x"&&i.attr("y",s.y+20)}}function AT(i,e){var t,r={x:e.centerX-i.centerX,y:e.centerY-i.centerY},n=Math.sqrt(r.x*r.x+r.y*r.y),a={x:10,y:0},o=Math.sqrt(a.x*a.x+a.y*a.y),s=Lf(r,a),l=s/(n*o)*180/Math.PI;l<0&&(l=360-l),l=TT(l);var f=Math.abs(i.centerX-e.centerX),h=Math.abs(i.centerY-e.centerY);return l>45?t="x":l<45&&(t="y"),{dir:t,distX:f,distY:h}}function TT(i){return i>90&&i<=180?180-i:i>180&&i<270?i-180:360-i}function PT(i,e,t,r){var n=r.nodes.nodes;if(t!==0){var a=n[t],o=n[t-1];if(Qd(a,o)){var s=r.plot.view.geometries[0].elements[0],l=o.top-a.height/2,f=10;if(l-f>r.region.top){var h=a.shape.get("origin"),c=s.getShapeId(h),v=s.getShapes(),x=_T(c,v).get("box"),P=x.left+x.width/2,D=x.top,X=s.get("labelController").labelsContainer,K=X.addShape("path",{attrs:{path:[["M",P,D],["L",a.shape.attr("x"),l]],stroke:"#ccc",lineWidth:1}}),Z={x:i.attr("x"),y:i.attr("y")};a.shape.attr("y",l-f),n[t]=r.nodes.measure(a.shape),n[t].line=K,n[t].origin_position=Z}}}}function _T(i,e){var t;return(0,u.each)(e,function(r){var n=r,a=n.get("id");a===i&&(t=n)}),t}function OT(i,e,t,r){var n=r.nodes.nodes,a=n.length%2!=0;if(!sp(e.keep,t,n)){var o=t%2==0;(!a&&o||a&&!o)&&jo(i)}}function sp(i,e,t){var r=[];(0,u.each)(i,function(s){s==="start"?r.push(e===0):s==="end"?r.push(e===t.length-1):(0,u.isNumber)(s)&&r.push(e===s)});for(var n=0,a=r;n<a.length;n++){var o=a[n];if(o===!0)return!0}return!1}function LT(i,e,t,r){var n=r.nodes.nodes;if(!sp(e.keep,t,n)){var a=i.attr("text"),o=i.get("delegateObject").item.name;a!==o&&jo(i)}}function IT(i,e,t,r){var n=r.nodes.nodes,a=BT(n);if(!(t<=1)){var o=n[t],s=kT(t,n),l=s.centerX-o.centerX,f=s.centerY-o.centerY,h=Math.sqrt(l*l+f*f);h<a&&(jo(i),i.set("blank",!0))}}function kT(i,e){for(var t=i-1;t>0;t--){var r=e[t];if(!r.shape.get("blank"))return r}}function BT(i){var e=(0,u.deepMix)([],i);return e.sort(function(t,r){return r.width-t.width}),Math.round(e[0].width)}function DT(i,e,t,r){var n=r.nodes.nodes,a=n[t];a.line&&a.line.remove();var o=r.plot.initialOptions.data,s=r.plot[r.plot.type]||r.plot[r.plot.baseType],l=(0,u.get)(s,["label","fields",0],(0,u.get)(s,["position","fields",1])),f=FT(o,l,n),h=!1;if((0,u.each)(f,function(P){P.shape.get("origin")===a.shape.get("origin")&&(h=!0)}),h){if(a.origin_position){var c=a.origin_position,v=c.x,x=c.y;i.attr("x",v),i.attr("y",x)}}else jo(i)}function FT(i,e,t){var r=[];(0,u.each)(i,function(h){r.push(h[e])}),r.sort(function(h,c){return h-c});var n=r[0],a=jf(t,e,n),o=r[r.length-1],s=jf(t,e,o),l=RT(r),f=jf(t,e,l);return{min:a,max:s,median:f}}function RT(i){var e=(0,u.clone)(i);e.sort(function(r,n){return r-n});var t=Math.floor(e.length/2);return e.length%2,e[t]}function jf(i,e,t){for(var r=0,n=i;r<n.length;r++){var a=n[r],o=a.shape.get("origin")._origin;if(o[e]===t)return a}}function lp(i,e){var t=e.abbreviateBy?e.abbreviateBy:"end",r=i.attr("text"),n;t==="end"&&(n=r[0]+"..."),t==="start"&&(n="..."+r[r.length-1]),t==="middle"&&(n=r[0]+"..."+r[r.length-1]),i.resetMatrix(),i.attr({text:n,textAlign:"center",textBaseline:"top"})}function NT(i,e,t,r){var n=r.nodes.nodes,a=i.attr("text"),o=/^\d+$/.test(a);o?ap(i,e,t,n):bT(a)?ep(i,e,t,n):lp(i,e)}function YT(i,e){i.resetMatrix(),i.attr({rotate:360-e.degree,textAlign:"right",textBaseline:"middle"})}function GT(i,e){for(var t=i.attr("text"),r=Math.ceil(t.length/e.lineNumber),n="",a=1;a<e.lineNumber;a++){var o=r*a;n=t.slice(0,o)+`
`+t.slice(o)}var s=i.attr("fontSize");i.attr({text:n,lineHeight:s,textAlign:"center",textBaseline:"top"})}var up={textWrapper:GT,textRotation:YT,textAbbreviate:lp,textHide:jo,digitsAbbreviate:ap,datetimeStringAbbrevaite:ep,robustAbbrevaite:NT,nodesResampling:OT,nodesResamplingByAbbrevate:LT,nodesResamplingByChange:IT,nodesResamplingByState:DT,nodeJitter:ET,nodeJitterUpward:PT,clearOverlapping:dT};function j9(i,e){up[i]=e}var zT=function(){function i(e){this.iterationTime=10,this.iterationIndex=0,this.rulesLocker=[],this.constraintIndex=0,(0,u.assign)(this,e),this.currentConstraint=this.constraints[0],this.rules&&(this.iterationTime=this.rules[this.currentConstraint.name].length),this._start(),this._run(),this._end()}return i.prototype._start=function(){this.onStart&&this.onStart(this.nodes)},i.prototype._iteration=function(){var e;this.nodes.type==="shape"?e=this.nodes:e=this.nodes,e.type==="shape"&&e.measureNodes(),this.rules&&this._applyRules(),e.type==="shape"&&e.measureNodes(),this.onIteration&&this.onIteration(this.nodes)},i.prototype._end=function(){this.onEnd&&this.onEnd(this.nodes)},i.prototype._run=function(){for(var e=this._constraintsTest();!e&&!(this.iterationIndex>this.iterationTime-1);)this._iteration(),e=this._constraintsTest(),this.iterationIndex++;this.constraintIndex<this.constraints.length-1&&(this.constraintIndex++,this.currentConstraint=this.constraints[this.constraintIndex],this.iterationTime=this.rules?this.rules[this.currentConstraint.name].length:1,this.iterationIndex=0,this._run())},i.prototype._constraintsTest=function(){var e=$d[this.currentConstraint.name],t=this.currentConstraint.option;return e.usage==="compare"?this._constraintCompare(e,t):this._constraintAssignment(e,t)},i.prototype._constraintCompare=function(e,t){var r=e.type,n=e.expression,a=this.nodes.nodes;if(r==="chain")return this._chainConstraintCompare(n,a,t);if(r==="padding")return this._paddingConstraintCompare(n,this.region,a,t);if(r==="group")return this._groupConstraintCompare(n,a,t)},i.prototype._chainConstraintCompare=function(e,t,r){for(var n=0;n<t.length-1;n++){var a=t[n],o=t[n+1];if(e(a,o,r)===!1)return!1}return!0},i.prototype._paddingConstraintCompare=function(e,t,r,n){if(t)for(var a=0,o=r;a<o.length;a++){var s=o[a];if(e(s,t,n)===!1)return!1}return!0},i.prototype._groupConstraintCompare=function(e,t,r){for(var n=0;n<t.length;n++)for(var a=t[n],o=0;o<t.length;o++)if(o!==n){var s=t[o];if(e(a,s,r)===!1)return!1}return!0},i.prototype._constraintAssignment=function(e,t){var r=e.type,n=e.expression,a=this.nodes.nodes;if(r==="chain")return this._chainConstraintAssign();if(r==="padding")return this._paddingConstraintAssign(n,this.region,a,t)},i.prototype._chainConstraintAssign=function(){return!0},i.prototype._paddingConstraintAssign=function(e,t,r,n){if(t)for(var a=0,o=r;a<o.length;a++){var s=o[a],l=e(s,t,n);s.value=l}return!0},i.prototype._applyRules=function(){for(var e=this.rules[this.currentConstraint.name][this.iterationIndex],t=up[e.name],r=e.option?e.option:{},n=this.nodes.nodes,a=0;a<n.length;a++){var o=n[a];this._applyRule(o.shape,t,r,a)}},i.prototype._applyRule=function(e,t,r,n){var a={nodes:this.nodes,region:this.region,plot:this.plot};t(e,r,n,a)},i}(),fp=zT,XT=function(){function i(e){(0,u.assign)(this,e),this.init()}return i.prototype.init=function(){this.type=this.getType(),this.shouldApply()&&this.apply()},i}(),hp=XT,VT={cat:"category",timeCat:"category",time:"dateTime",linear:"linear"},HT=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){this.axisInstance=this.getAxisInstance(),i.prototype.init.call(this)},e.prototype.shouldApply=function(){var t=this.plot.options;return this.responsiveTheme.axis?!!(this.responsiveTheme.axis[this.dim]&&t[this.dim+"Axis"].visible&&t[this.dim+"Axis"].label&&t[this.dim+"Axis"].label.visible):!1},e.prototype.apply=function(){for(var t=this,r=this.plot.view.backgroundGroup.findAll(function(h){var c=h.get("name");if(c==="axis-label"){var v=h.get("delegateObject").axis.get("field");if(v===t.plot.options[t.dim+"Field"])return h}}),n=[],a=0;a<r.length;a++)n.push(r[a]);var o=new Kd({shapes:n}),s=this.responsiveTheme.axis.x[this.type],l=s.constraints,f=s.rules;new fp({nodes:o,constraints:l,region:this.plot.getViewRange(),rules:f,plot:this.plot,onEnd:function(h){t.updateTicks(h.origion_nodes)}})},e.prototype.getType=function(){var t=this.plot.options,r=this.dim+"Axis",n=this.dim+"Field";if(t[r]&&t[r].type&&t[r].type==="dateTime")return"dateTime";var a=this.plot.view.getScaleByField([t[n]]).type;return VT[a]},e.prototype.getAxisInstance=function(){var t,r,n=this.dim==="x"?0:1,a=(t=this.plot.view.getController("axis"))===null||t===void 0?void 0:t.getComponents();if(a)return(r=a[n])===null||r===void 0?void 0:r.component},e.prototype.updateTicks=function(t){var r=this,n=this.plot.view.backgroundGroup.findAll(function(o){var s=o.get("name");if(s==="axis-tickline-group"){var l=o.get("delegateObject").axis.get("field");if(l===r.plot.options[r.dim+"Field"])return o}})[0];if(n){var a=n.get("children");(0,u.each)(t,function(o,s){o.shape.attr("text")===""&&a[s].attr("opacity",0)})}this.plot.canvas.draw()},e}(hp),yo=HT;function WT(i){var e=i.getResponsiveTheme(),t=i.canvas;new yo({plot:i,responsiveTheme:e,dim:"x"}),new yo({plot:i,responsiveTheme:e,dim:"y"}),t.draw()}var jT=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.shouldApply=function(){return!(!this.responsiveTheme.label||!this.responsiveTheme.label[this.type])},e.prototype.apply=function(){var t=this.plot.view.geometries[0].labelsContainer.get("children"),r=[];(0,u.each)(t,function(l){r=r.concat(l.findAllByName("label"))});var n=new Kd({shapes:r}),a=this.responsiveTheme.label[this.type],o=a.constraints,s=a.rules;new fp({nodes:n,constraints:o,rules:s,plot:this.plot,region:this.plot.view.coordinateBBox})},e.prototype.getType=function(){return null},e}(hp),cp=jT,UT=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getType=function(){return(0,u.get)(this.plot.options,["label","type"],"point")},e}(cp);function ZT(i){var e=i.getResponsiveTheme();new UT({plot:i,responsiveTheme:e})}var KT=[],$T=[{name:"responsiveAxis",method:WT},{name:"responsivePointLabel",method:ZT}],QT={preRender:KT,afterRender:$T},vp=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultOptions=function(){var t=this.layer.theme,r=t.label,n=r===void 0?{}:r;return(0,Jt.__assign)({offsetX:0,offsetY:0},n)},e.prototype.getLabelOffset=function(){return this.getLabelOffsetByDimAndFactor("y",-1)},e.prototype.getLabelItemAttrs=function(t,r){var n=this,a=this.options,o=a.style,s=a.formatter,l=(0,u.get)(t,"model.mappingData",[]);return(0,u.map)(l,function(f,h){var c,v=n.getValue(f);return(0,Jt.__assign)((0,Jt.__assign)((0,Jt.__assign)({},n.getPosition(f)),{text:s?s(v,(c={},c[ds]=f._origin,c.mappingDatum=f,c.mappingDatumIndex=h,c.element=t,c.elementIndex=r,c),r):v,textAlign:"center",textBaseline:"middle"}),o)})},e.prototype.getValue=function(t){return(0,u.get)(t._origin,this.layer.options.yField)},e.prototype.getPosition=function(t){var r={x:(0,u.isArray)(t.x)?(0,u.last)(t.x):t.x,y:(0,u.isArray)(t.y)?(0,u.last)(t.y):t.y};return r},e.prototype.layoutLabels=function(t,r){var n=this;if(!!this.options.adjustPosition){var a=this.isOverlapped(r);if(a){var o=this.getGlobalTolerance(r);(0,u.each)(r,function(s,l){l>1&&n.labelResamplingByChange(s,r,l,o)})}a=this.isOverlapped(r),a&&(0,u.each)(r,function(s,l){s.get("visible")&&n.clearOverlapping(s,r,l)})}},e.prototype.adjustLabel=function(){},e.prototype.labelResamplingByChange=function(t,r,n,a){var o=this.findPrevious(n,r),s=this.getCenter(t),l=this.getCenter(o),f=l.x-s.x,h=l.y-s.y,c=Math.sqrt(f*f+h*h);c<a&&t.set("visible",!1)},e.prototype.clearOverlapping=function(t,r,n){for(var a=[],o=0;o<r.length;o++){var s=r[o];if(o!==n&&s.get("visible")){var l=qv(t.getBBox(),s.getBBox());l&&a.push(s)}}a.length>0&&(a.push(t),a.sort(function(f,h){return h.minY-f.minY}),(0,u.each)(a,function(f,h){h>0&&f.set("visible",!1)}))},e.prototype.isOverlapped=function(t){for(var r=0;r<t.length;r++)if(t[r].get("visible")){for(var n=t[r].getBBox(),a=0;a<t.length;a++)if(a!==r&&t[a].get("visible")){var o=t[a].getBBox(),s=qv(n,o);if(s)return!0}}return!1},e.prototype.getGlobalTolerance=function(t){var r=t.slice();return r.sort(function(n,a){return a.getBBox().width-n.getBBox().width}),Math.round(r[0].getBBox().width)},e.prototype.findPrevious=function(t,r){for(var n=t-1;n>0;n--)if(r[n].get("visible"))return r[n]},e.prototype.getCenter=function(t){var r=t.getBBox(),n=r.minX,a=r.maxX,o=r.minY,s=r.maxY;return{x:n+(a-n)/2,y:o+(s-o)/2}},e}(Tf),dp=vp;aa("point",vp);var pp=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.layoutLabels=function(t,r){var n=this,a,o=[],s=tn.fromBBoxObject(this.getCoordinateBBox()),l=t.getXYFields(),f=l[0],h=l[1],c=(0,u.groupBy)(r,function(x){return x.get(pa)[An.FIELD_ORIGIN][f]}),v=(a=r[0])===null||a===void 0?void 0:a.get("offset");(0,u.each)((0,u.keys)(c).reverse(),function(x){for(var P=n.sortLabels(t,c[x]);P.length;){var D=P.shift();if($E(D,o,function(Z,gt){return Z._origin[f]===gt._origin[f]&&Z._origin[h]===gt._origin[h]})){D.set("visible",!1);continue}El(D,s);var X=Al(D,o),K=void 0;if(X&&(D.attr("y",D.attr("y")+2*v),El(D,s),K=Al(D,o)),K){D.set("visible",!1);continue}o.push(D)}})},e.prototype.sortLabels=function(t,r){var n=t.getXYFields()[1],a=[];return r.sort(function(o,s){return s.get(pa)[An.FIELD_ORIGIN][n]-o.get(pa)[An.FIELD_ORIGIN][n]}),r.length>0&&a.push(r.shift()),r.length>0&&a.push(r.pop()),a.push.apply(a,r),a},e}(dp),JT=pp;aa("point-auto",pp);var qT=8,tP=function(){function i(e){this.destroyed=!1,this.view=e.view,this.plot=e.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,e,{}),this.init()}return i.prototype.init=function(){var e=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){e.clear(),e.plot.canvas.draw()})},i.prototype.render=function(){var e=this,t=this.getGeometry().elements;(0,u.each)(t,function(r){var n=e.getShapeInfo(r.shape),a=e.options,o=a.style,s=a.offsetX,l=a.offsetY,f=e.options.formatter,h=f?f(n.name):n.name;e.container.addShape("text",{attrs:(0,u.deepMix)({},{x:n.x+s,y:n.y+l,text:h,fill:n.color,textAlign:"left",textBaseline:"middle"},o),name:"label"})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var e=this.plot.theme,t=(0,u.clone)(e.label.style);return delete t.fill,{offsetX:qT,offsetY:0,style:t}},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(e){return e.type==="line"})},i.prototype.getShapeInfo=function(e){var t=e.get("origin").points,r=t[t.length-1],n=e.attr("stroke"),a=this.plot.options.seriesField,o=e.get("origin").data[0][a];return{x:r.x,y:r.y,color:n,name:o}},i}(),gp=tP,eP={line:"line",point:"point"},rP=Bi(eP);(0,u.assign)(bn,rP);var nP={stroke:"transparent",fill:"#FCC509",lineWidth:0},iP={stroke:"#FFF",fill:"#FCC509",lineWidth:1},aP={stroke:"rgba(0,0,0,0.85)",fill:"#FCC509",lineWidth:1},oP=function(){function i(e){this.points=[],this.labels=[],this.name="markerPoints",this.defaultCfg={offsetX:0,offsetY:0,style:{normal:nP,selected:aP,active:iP},label:{visible:!1,offsetY:-8,position:"top",style:{fill:"rgba(0, 0, 0, 0.85)"}},animation:!1},this.view=e.view,this.size=e.size||6,this.config=(0,u.deepMix)({},this.defaultCfg,e),this._init()}return i.prototype.render=function(){var e=this.getDataArray();this._renderPoints(e),this.view.canvas.draw(),this._addInteraction()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.points=[],this.labels=[]},i.prototype.getDataArray=function(){var e=this.view.geometries[0];return e.dataArray},i.prototype._init=function(){var e=this,t=this.view.foregroundGroup;this.container=t.addGroup(),this.render(),this.view.on("beforerender",function(){e.clear()})},i.prototype._renderPoints=function(e){var t=this;(0,u.each)(this.config.data,function(r,n){(0,u.each)(e,function(a){var o=(0,u.find)(a,function(K){return(0,u.isMatch)(K._origin,r)});if(o){var s=t.config.style.normal,l=t.container.addGroup({name:t.name}),f=o.x,h=o.y;(0,u.isArray)(f)&&(f=f[0]),(0,u.isArray)(h)&&(h=h[0]);var c=t.config.symbol,v=t.config,x=v.offsetX,P=v.offsetY,D=void 0;if((0,u.isString)(c)&&c.startsWith("image://")){var X=c.substr(8);D=l.addShape("image",{attrs:{x:f-t.size/2+x,y:h-t.size/2+P,img:X,width:t.size,height:t.size}})}else c=(0,u.isString)(c)?bC.MarkerSymbols[c]:c,D=l.addShape({type:"marker",name:"marker-point",id:"point-"+n,attrs:(0,Jt.__assign)((0,Jt.__assign)({x:f+x,y:h+P,r:t.size/2},s),{symbol:c})});t.points.push(D),t._animatePoint(D),t._renderLabel(l,o,n),l.set("data",r),l.set("origin",o)}})})},i.prototype._renderLabel=function(e,t,r){var n=this.config.label;if(n&&n.visible){var a=n.offsetX,o=a===void 0?0:a,s=n.offsetY,l=s===void 0?0:s,f=n.formatter,h=n.position,c=n.field,v=t._origin[c];f&&(v=f(v,{_origin:t._origin},r));var x=(0,u.isArray)(t.x)?t.x[0]:t.x,P=(0,u.isArray)(t.y)?t.y[0]:t.y,D=e.addShape("text",{name:"marker-label",id:"label-"+r,attrs:(0,Jt.__assign)((0,Jt.__assign)({x:x+o,y:P+l,text:v||""},n.style),{textAlign:"center",textBaseline:h==="top"?"bottom":"top"})});this.labels.push(D)}},i.prototype._addInteraction=function(){var e=this,t=this.config.events;(0,u.each)(t,function(r,n){e.container.on(e.name+":"+n,function(a){r(a);var o=a.target.get("parent"),s=o.get("children")[0];if(s){var l=s.get("data"),f=s.get("id"),h={id:f,data:l};n==="click"?e.selectedPoint&&e.selectedPoint.get("id")===f?(e.selectedPoint=null,e.setState("inactive",h)):(e.selectedPoint=s,e.setState("selected",h)):n==="mouseenter"?e.setState("active",h):n==="mouseleave"&&e.setState("inactive",h)}e.view.canvas.draw()}),e.view.on("click",function(a){var o=a.target.get("parent");(!o||o.get("name")!==e.name&&e.selectedPoint)&&(e.selectedPoint=null,e.setState("inactive"))})})},i.prototype.setState=function(e,t){var r=this;e==="active"?(!this.selectedPoint||t.id!==this.selectedPoint.get("id"))&&this._onActive(t):e==="inactive"?this.points.forEach(function(n){return r._onInactive(n)}):e==="selected"&&this._onSelected(t)},i.prototype._onActive=function(e){var t=this,r=this.config.style.active;(0,u.each)(this.points,function(n){n.get("id")===e.id?(0,u.each)(r,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._onInactive=function(e){var t=this.config.style.normal;(!this.selectedPoint||e.get("id")!==this.selectedPoint.get("id"))&&(0,u.each)(t,function(r,n){e.attr(n,r)})},i.prototype._onSelected=function(e){var t=this,r=this.config.style.selected;(0,u.each)(this.points,function(n){n.get("id")===e.id?(0,u.each)(r,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._animatePoint=function(e){var t=this.config,r=t.animation,n=t.size;if(r!==!1){var a=r,o=a.endState,s=o===void 0?{}:o,l=a.animateCfg,f=l===void 0?co.DEFAULT_ANIMATE_CFG.appear:l;e.animate((0,Jt.__assign)({r:Number.isNaN(s.size/2)?n/2:s.size/2},s),f)}},i}(),sP=oP,lP=function(i){var e=i.shape,t=e.attr("lineWidth")||1;return{lineWidth:t+1}},uP=function(i){var e=i.shape,t=e.attr("opacity")||1;return{opacity:t*.2}},fP=function(i){var e=i.shape,t=e.attr("lineWidth")||1;return{lineWidth:t+2}};oa("line",{lineStyle:{normal:{},active:lP,disable:uP,selected:fP},pointStyle:{normal:{},active:{},disable:{},selected:{}}});var hP={label:{point:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodesResamplingByChange"},{name:"clearOverlapping"}]}}}};Yd("line",hP);var cP=function(i){(0,Jt.__extends)(e,i);function e(t){return i.call(this,(0,Jt.__assign)({processEvent:"mousemove"},t))||this}return e.prototype.start=function(){},e.prototype.process=function(t){var r=(0,u.filter)(this.view.geometries,function(o){return o.type=="line"}),n=t.target;if(n.get("name")==="line"){var a=(0,u.get)(t,"data.data");(0,u.each)(r,function(o){(0,u.each)(o.elements,function(s){s.setState("active",s.data===a)})})}else(0,u.each)(r,function(o){(0,u.each)(o.elements,function(s){s.setState("active",!1)})})},e}(Df),vP=cP,dP=function(i){(0,Jt.__extends)(e,i);function e(t){return i.call(this,(0,Jt.__assign)({endEvent:"click"},t))||this}return e.prototype.start=function(){},e.prototype.end=function(t){var r=t.target,n=(0,u.filter)(this.view.geometries,function(o){return o.type=="line"});if(r.get("name")==="line"){var a=(0,u.get)(t,"data.data");(0,u.each)(n,function(o){(0,u.each)(o.elements,function(s){s.setState("inactive",s.data!==a)})})}else(0,u.each)(n,function(o){(0,u.each)(o.elements,function(s){s.setState("inactive",!1)})})},e}(Df),pP=dP,gP=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"selected-tooltip"},enumerable:!1,configurable:!0}),e.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return(0,Jt.__assign)((0,Jt.__assign)({},t),{showContent:!1,showCrosshairs:!0,showMarkers:!0,shared:!0})},e}(jv.Z);We("selected-tooltip",gP);var yP=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.show=function(){var t=this.getPoint();(0,u.isEqual)(t,this.location)||(this.location=t,this.showTooltip(t))},e.prototype.hide=function(){var t=this.getTooltipController();t.hideTooltip()},e.prototype.showTooltip=function(t){var r=this.getTooltipController();r.showTooltip(t)},e.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:this.getLastXPoint()},e.prototype.getLastXPoint=function(){var t=this.getView(),r=t.getXScale(),n=t.getYScales()[0],a=t.getCoordinate(),o=(0,u.last)(r.getTicks()).value;return a.convert({x:o,y:(n.range[0]+n.range[1])/2})},e.prototype.getView=function(){return this.context.view},e.prototype.getTooltipController=function(){return this.getView().getController("selected-tooltip")},e}(De),mP=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"tooltip-active"},enumerable:!1,configurable:!0}),e.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return(0,Jt.__assign)((0,Jt.__assign)({},t),{showCrosshairs:!0,showMarkers:!1,shared:!0})},e}(jv.Z);We("tooltip-active",mP);var xP=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.init=function(){this.getView().removeInteraction("tooltip")},e.prototype.show=function(){var t=this.getPoint();t&&this.showTooltip(t)},e.prototype.hide=function(){var t=this.getView(),r=this.getTooltipController();r.hideTooltip();var n=(0,u.filter)(t.geometries,function(a){return a.type=="point"});(0,u.each)(n,function(a){(0,u.each)(a.elements,function(o){o.setState("active",!1)})})},e.prototype.showTooltip=function(t){var r=this.getView(),n=this.getTooltipController();n.showTooltip(t);var a=n.getTooltipItems(t),o=(0,u.filter)(r.geometries,function(s){return s.type=="point"});(0,u.each)(o,function(s){(0,u.each)(s.elements,function(l){l.setState("active",(0,u.findIndex)(a,function(f){return f.data===l.data})!==-1)})})},e.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:null},e.prototype.getView=function(){return this.context.view},e.prototype.getTooltipController=function(){return this.getView().getController("tooltip-active")},e}(De),bP=xP;Je("selected-tooltip",yP),zr("selected-tooltip",{start:[{trigger:An.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"selected-tooltip:show"},{trigger:An.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"selected-tooltip:show"},{trigger:"plot:mousemove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}]}),Je("marker-active",bP),zr("marker-active",{start:[{trigger:An.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"marker-active:show"},{trigger:An.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"marker-active:show"},{trigger:"plot:mousemove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:mouseleave",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchend",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}}]});var wP={line:"line",point:"point"},yp=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.markerPoints=[],t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{connectNulls:!1,smooth:!1,lineSize:2,lineStyle:{lineJoin:"round",lineCap:"round"},point:{visible:!1,size:3,shape:"circle"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{showContent:!0,crosshairs:{line:{style:{stroke:"rgba(0,0,0,0.45)"}}}},markerPoints:[]})},e.prototype.afterRender=function(){var t=this,r=this.options;this.renderLabel(),r.markerPoints&&((0,u.each)(this.markerPoints,function(n){return n.destroy()}),this.markerPoints=[],r.markerPoints.forEach(function(n){if(n.visible){var a=new sP((0,Jt.__assign)((0,Jt.__assign)({},n),{view:t.view}));t.markerPoints.push(a)}})),r.responsive&&r.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},e.prototype.getColorScale=function(){var t=this.options.seriesField;if(t)return this.view.getScaleByField(t)},e.prototype.geometryParser=function(t,r){return wP[r]},e.prototype.scale=function(){var t=this.options,r={};r[t.xField]={},(0,u.has)(t,"xAxis")&&Pi(r[t.xField],t.xAxis),r[t.yField]={},(0,u.has)(t,"yAxis")&&Pi(r[t.yField],t.yAxis),this.setConfig("scales",r),ZA(r[t.yField],(0,u.map)(t.data||[],function(n){return n[t.yField]})),i.prototype.scale.call(this)},e.prototype.coord=function(){},e.prototype.tooltip=function(){(0,u.some)(this.options.markerPoints,function(t){return t.visible})&&(this.options.tooltip.showMarkers=!1),i.prototype.tooltip.call(this)},e.prototype.addGeometry=function(){this.addLine(),this.addPoint()},e.prototype.addLine=function(){var t=this.options;this.line=fi("line","main",{plot:this}),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",this.line)},e.prototype.addPoint=function(){var t=this.options,r={visible:!1};t.point&&(t.point=(0,u.deepMix)(r,t.point)),t.point&&t.point.visible&&(this.point=fi("point","guide",{plot:this}),this.setConfig("geometry",this.point))},e.prototype.renderLabel=function(){var t=this.config.scales,r=this.options,n=r.label,a=r.yField,o=t[a];if(n.visible){var s=po(this.view,"line");if(n.type==="line"){var l=new gp((0,Jt.__assign)({view:this.view,plot:this},this.options.label));l.render()}else this.doRenderLabel(s,(0,Jt.__assign)({type:"point",formatter:o.formatter&&function(f){return o.formatter(f)}},this.options.label))}},e.prototype.geometryTooltip=function(){this.line.tooltip={};var t=this.options.tooltip;t.fields&&(this.line.tooltip.fields=t.fields),t.formatter&&(this.line.tooltip.callback=t.formatter,t.fields||(this.line.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.line.tooltip.fields.push(this.options.seriesField)))},e.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation?(JA({options:this.options,view:this.view}),this.line.animate=t.animation):(this.line.animate=!1,this.point&&(this.point.animate=!1))},e.prototype.applyInteractions=function(){i.prototype.applyInteractions.call(this),this.interactions.push(new vP({view:this.view})),this.interactions.push(new pP({view:this.view}))},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,A)},e.prototype.applyResponsive=function(t){var r=this,n=QT[t];(0,u.each)(n,function(a){var o=a;o.method(r)})},e.prototype.singleLineLabelCheck=function(){return!this.options.seriesField&&this.options.label.type&&this.options.label.type==="line"},e}(ri),ys=yp;dn("line",yp);var SP=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="line",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=ys.getDefaultOptions,e}($r),mp=SP;function MP(i,e,t,r,n){var a=r-e,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,f=e;(0,u.each)(o,function(h){h.y0=t,h.y1=n,h.x0=f,f+=h.value*l,h.x1=h.x0+h.value*l})}function CP(i,e,t,r,n){var a=n-t,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,f=t;(0,u.each)(o,function(h){h.x0=e,h.x1=r,h.y0=f,f+=h.value*l,h.y1=h.y0+h.value*l})}var EP=(1+Math.sqrt(5))/2;function xp(i,e,t,r,n){var a=i.children,o=i.value;a.sort(function(ee,ue){return ue.value-ee.value});for(var s=[],l,f,h,c,v,x,P,D,X=0,K=0;X<a.length;){var Z=r-e,gt=n-t;for(l=a[K++].value,f=l,h=l,c=Math.max(gt/Z,Z/gt)/(o*EP),v=l*l*c,P=Math.max(f/v,v/h);K<a.length;K++){if(D=a[K].value,l+=D,D<h&&(h=D),D>f&&(f=D),v=l*l*c,x=Math.max(f/v,v/h),x>P){l-=D;break}P=x}var mt={value:l,dice:Z<gt,children:a.slice(X,K)};if(s.push(mt),mt.dice){var Nt=o?gt*l/o:gt;MP(mt,e,t,r,t+Nt),o&&(t+=Nt)}else{var Zt=o?Z*l/o:Z;CP(mt,e,t,e+Zt,n),o&&(e+=Zt)}o-=l,X=K}return s}var AP=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.listeners=[],t.onItemGroupToggleActive=function(r,n){return function(){var a=r.get("children").find(function(o){return o.get("class")==="item-background"});a&&a.attr(n?t.itemActiveBackgroundStyle:t.itemBackgroundStyle),t.getCanvas().draw()}},t}return e.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},e.prototype.initConfig=function(t){this.x=t.x,this.y=t.y,this.items=t.items||[],this.itemPadding=t.itemPadding||[2,8,2,8],this.backgroundStyle=(0,Jt.__assign)({lineWidth:1,stroke:"#ffffff"},t.backgroundStyle||{}),this.itemBackgroundStyle=(0,Jt.__assign)({fill:"#fff"},t.itemBackgroundStyle||{}),this.itemActiveBackgroundStyle=(0,Jt.__assign)({fill:"#ccc",opacity:.2},t.itemActiveBackgroundStyle||{}),this.separator=t.separator||"/",this.separatorStyle=(0,Jt.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.separatorStyle||{}),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.maxItemWidth=t.maxItemWidth,this.textStyle=(0,Jt.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.textStyle||{})},e.prototype.renderInner=function(t){var r=0,n=0;this.offEvents(),this.renderItems(t,r,n),Cd(this.group,this.x,this.y)},e.prototype.renderItems=function(t,r,n){var a=this,o=this.itemPadding,s=o[0],l=o[1],f=o[2],h=o[3],c,v=t.addShape("rect",{class:"breadcrumb-background",attrs:(0,Jt.__assign)({x:r,y:n,width:1,height:1},this.backgroundStyle)});this.items.forEach(function(x,P){var D=t.addGroup({id:"item-group-"+x.key,data:x,class:"item-group",attrs:{cursor:"pointer"}}),X=D.addShape("rect",{id:"item-background-"+x.key,class:"item-background",attrs:(0,Jt.__assign)((0,Jt.__assign)({x:r,y:n,width:h+l,height:s+f},a.itemBackgroundStyle),{cursor:"pointer"})});X.name="breadcrumb";var K=D.addShape("text",{id:"item-text-"+x.key,class:"item-text",attrs:(0,Jt.__assign)((0,Jt.__assign)({x:r+h,y:n+s,text:x.text},a.textStyle),{cursor:"pointer"})});K.name="breadcrumb";var Z=K.getBBox();c=a.itemHeight||Z.height;var gt=a.itemWidth||Z.width;a.maxItemWidth&&(gt=Math.min(gt,a.maxItemWidth));var mt={x:r,y:n,width:gt+h+l,height:c+s+f};if(X.attr("width",mt.width),X.attr("height",mt.height),D.setClip({type:"rect",attrs:mt}),r+=mt.width,P!==a.items.length-1){var Nt=t.addShape("text",{attrs:(0,Jt.__assign)({x:r,y:n+s,text:a.separator},a.separatorStyle),class:"separator"});r+=Nt.getBBox().width}}),v.attr({width:r,height:c+s+f})},e.prototype.bindEvents=function(t){var r=this,n=this.items,a=t.get("children").filter(function(s){return s.get("class")==="item-group"}),o=function(s,l,f){return function(){var h=l.get("data"),c=n.find(function(v){return v.key===h});r.emit(f,{item:c})}};a.forEach(function(s){var l=o("click",s,"onItemClick"),f=o("dblclick",s,"onItemDblclick"),h=r.onItemGroupToggleActive(s,!0),c=r.onItemGroupToggleActive(s,!1);s.on("click",l),s.on("dblclick",f),s.on("mouseenter",h),s.on("mouseleave",c),r.listeners.push({target:s,event:"click",callback:l}),r.listeners.push({target:s,event:"dblclick",callback:f}),r.listeners.push({target:s,event:"mouseenter",callback:h}),r.listeners.push({target:s,event:"mouseleave",callback:c})})},e.prototype.offEvents=function(){this.listeners&&this.listeners.forEach(function(t){var r=t.target,n=t.event,a=t.callback;r.off(n,a)}),this.listeners=[]},e}(ps),TP=AP,Pl=[1,0,0,0,1,0,0,0,1],ko=400,Uo="easeQuadInOut";function PP(i,e,t){var r=Mp(i),n=Sp(e),a=n.width/r.width,o=n.height/r.height,s=(n.minX-r.minX)*a,l=(n.minY-r.minY)*o,f=Ho([["s",a,o],["t",s,l]]),h=e.geometries[0];_l(h);var c=e.backgroundGroup.addGroup();c.set("zIndex",-100),c.setClip({type:"rect",attrs:{x:n.minX,y:n.minY,width:n.width,height:n.height}});var v=bp(h,c);h.container.set("visible",!1),e.canvas.draw(),t(),window.setTimeout(function(){(0,u.each)(v,function(X,K){K===0?X.animate({matrix:f},ko,Uo,function(){c.remove(),e.canvas.draw()}):X.animate(Ho,ko)}),h=e.geometries[0],_l(h);var x=h.getShapes();(0,u.each)(x,function(X){X.attr("opacity",0),X.animate({opacity:1},ko,Uo)});var P=h.container;P.stopAnimate(),P.set("visible",!0),P.attr("matrix",(0,u.clone)(Pl)),zE(P,[["s",r.width/n.width,r.height/n.height],["t",r.minX,r.minY]]);var D=(0,u.clone)(Pl);h.container.animate({matrix:D},ko,Uo,function(){Cp(h)}),e.canvas.draw()},16)}function bp(i,e){var t=i.getShapes(),r=[];return(0,u.each)(t,function(n){var a=e.addShape("path",{attrs:(0,u.deepMix)({},n.attrs,{capture:!1})});r.push(a)}),r}function wp(i,e,t){var r=e.geometries[0];_l(r);var n=r.container;n.attr("matrix",(0,u.clone)(Pl));var a=e.backgroundGroup.addGroup();a.set("zIndex",-100);var o=bp(r,a);n.set("visible",!1),e.canvas.draw(),t(),r=e.geometries[0],_l(r),n=r.container;var s=_P(r.getShapes(),i),l=Mp(s),f=Sp(e),h=n.get("parent");h.get("clipShape")||n.setClip({type:"rect",attrs:{x:f.minX,y:f.minY,width:f.width,height:f.height}}),OP(a,o,l,f);var c=f.width/l.width,v=f.height/l.height,x=(f.minX-l.minX)*c,P=(f.minY-l.minY)*v,D=Ho([["s",c,v],["t",x,P]]);n.setMatrix(D),n.set("visible",!0),n.animate({matrix:Pl},ko,Uo,function(){Cp(r)})}function _P(i,e){var t;return(0,u.each)(i,function(r){var n=r.get("origin").data.name;n===e&&(t=r)}),t}function Sp(i){var e=i.coordinateBBox,t={minX:e.minX,minY:e.minY,centerX:(e.maxX-e.minX)/2,centerY:(e.maxY-e.minY)/2,width:e.width,height:e.height};return t}function Mp(i){var e=i.attr("path"),t=e[0][1],r=e[0][2],n=e[1][1],a=e[2][2],o={minX:t,minY:a,centerX:(n-t)/2,centerY:(r-a)/2,width:Math.abs(n-t),height:Math.abs(r-a)};return o}function OP(i,e,t,r){var n=t.width/r.width,a=t.height/r.height,o=Ho([["s",n,a],["t",t.minX,t.minY]]);i.animate({matrix:o},ko,Uo,function(){i.remove()}),(0,u.each)(e,function(s){s.animate({opacity:0},ko,Uo)})}function _l(i){var e=i.labelsContainer;e.set("visible",!1)}function Cp(i){var e=i.labelsContainer;e.set("visible",!0)}var LP=100,IP=30,kP=10,BP=function(i){i===void 0&&(i={});var e=(0,Jt.__assign)({x:0,y:0,startNode:{name:"root"},itemWidth:LP,itemHeight:IP,padding:[0,0,0,0]},i);return e},Ep=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.getInteractionRange=function(t,r){var n=BP(r),a=n.padding,o=a[0],s=a[1];if(t)return new tn(t.minX,t.maxY-n.itemHeight-o-s,t.width,n.itemHeight+o+s)},e.prototype.start=function(t){var r=this,n=t.data.data;n.children&&(this.parentNode={color:t.target.attr("fill"),shape:t.target,data:{name:(0,u.clone)(this.currentNode.name),value:(0,u.clone)(this.currentNode.value)},depth:(0,u.clone)(this.currentDepth)},this.currentDepth++,PP(t.target,this.view,function(){r.update(n)}))},e.prototype.update=function(t){(0,u.hasKey)(this.cache,t.name)||(this.cache[t.name]=t);var r=this.plot.getTreemapData(t,t.depth);this.view.changeData(r),this.adjustScale(this.currentDepth),this.currentNode=t,this.render()},e.prototype.render=function(){if(this.breadcrumb){var t=this.getItems();this.breadcrumb.update({items:t}),this.breadcrumb.render(),this.layout()}else this.initGeometry(),this.cache={},this.saveOriginMapping(),this.container=this.plot.canvas.addGroup(),this.startNode||(this.startNode={name:"root"}),this.startNode.name==="root"?(this.startNodeName=(0,u.hasKey)(this.plot.options.data,"name")?this.plot.options.data.name:"root",this.currentNode=this.plot.options.data,this.currentDepth=1):(this.startNodeName=this.startNode.name,this.currentNode=this.startNode),this.y=this.view.coordinateBBox.maxY+kP,this.breadcrumb=new TP({container:this.container,x:0,y:this.y,items:this.getItems()}),this.breadcrumb.init(),this.breadcrumb.render(),this.plot.canvas.draw(),this.layout();this.onInteraction()},e.prototype.clear=function(){},e.prototype.layout=function(){var t=this.container.getBBox().width,r=(this.plot.width-t)/2;this.breadcrumb.update({x:r,y:this.y}),this.breadcrumb.render()},e.prototype.getItems=function(){var t=[];if(this.currentNode.name&&this.currentNode.name===this.startNodeName){var r=this.getRootItem();t.push(r)}else{t=[];var n=[];this.findParent(this.currentNode,n),t.push(this.getRootItem()),(0,u.each)(n,function(a,o){t.push({key:String(o+2),text:a.name,data:a})}),t.push({key:String(n.length+2),text:this.currentNode.name,data:this.currentNode})}return t},e.prototype.findParent=function(t,r){if(t.parent)(0,u.hasKey)(this.cache,t.parent.name)?r.push(this.cache[t.parent.name]):r.push(t.parent),this.findParent(t.parent,r);else return},e.prototype.onInteraction=function(){var t=this;this.container.on("click",function(r){var n=r.target.get("parent");if(n&&n.get("class")==="item-group"){var a=n.get("data");if(a.data)if(a.text===t.startNodeName){var o=1;t.currentDepth-1===o?wp(t.currentNode.name,t.view,function(){t.updateRoot(a)}):t.updateRoot(a),t.currentDepth=1}else{if(t.currentNode===a.data)return;var s=(0,u.clone)(t.currentDepth);t.currentDepth=parseInt(a.key),s-1===t.currentDepth?wp(t.currentNode.name,t.view,function(){t.update(a.data)}):t.update(a.data)}}})},e.prototype.getRootItem=function(){var t=this.plot.options.data,r=(0,u.hasKey)(t,"name")?t.name:"root";return{key:"1",text:r,data:this.plot.rootData}},e.prototype.saveOriginMapping=function(){var t=this.plot.options,r=t.colorField,n=t.colors,a={field:r,values:n};this.originMapping=a},e.prototype.adjustScale=function(t){var r=this.view;if(this.mapping&&(0,u.hasKey)(this.mapping,String(t))){var n=(0,u.clone)(this.mapping[t]);if(n.values&&(0,u.isFunction)(n.values)){var a=n.values(this.parentNode,this.currentNode);n.values=a}this.view.geometries[0].color(n.field,n.values)}else{var n=(0,u.clone)(this.originMapping);this.view.geometries[0].color(n.field,n.values)}r.render()},e.prototype.initGeometry=function(){this.geometry=this.view.geometries[0];var t=this.view.viewBBox,r=this.geometry.container;r.setClip({type:"rect",attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}})},e.prototype.updateRoot=function(t){this.view.changeData(t.data),this.adjustScale(1),this.currentNode=this.plot.options.data,this.render()},e}(Ia),DP=Ep;Ia.registerInteraction("drilldown",Ep);var FP={drilldown:DP},RP={rect:"polygon",breadcrumb:"breadcrumb"},NP=Bi(RP);(0,u.assign)(bn,NP);var Ap=4,YP=8;function GP(i,e){return!i.children||i.depth>=e}function zP(i,e,t){var r=i.attr("fontSize"),n=i.attr("text"),a=t.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:r}}),o=n.split(`
`),s=o.map(function(l){for(var f="",h=l.split(""),c=[],v=0;v<h.length;v++){var x=h[v];a.attr("text",f+=x);var P=a.getBBox().width-1;if(P>e){if(v===0)break;c.push(v),f=""}}return Jv(h,c)});return a.remove(),s.join(`
`)}function Tp(i,e,t,r){for(var n=r.addShape("text",{attrs:{text:"...",x:0,y:0,fontSize:e}}),a=n.getBBox().width,o=r.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:e}}),s="",l=t-a,f=0;f<i.length;f++){var h=i[f];o.attr("text",s+=h);var c=o.getBBox().width;if(c>=l){var v=s.substr(0,s.length-1);if(v.length>0)return v+"..."}}return o.remove(),n.remove(),s}var XP=function(){function i(e){this.destroyed=!1,this.view=e.view,this.plot=e.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,e,{}),this.init()}return i.prototype.init=function(){var e=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){e.clear(),e.plot.canvas.draw()})},i.prototype.render=function(){var e=this,t=this.getGeometry().elements;(0,u.each)(t,function(r){var n=r.shape,a=n.get("origin").data,o=GP(a,e.plot.options.maxLevel);if(a.showLabel){var s=(0,u.clone)(e.options.style),l=e.getPosition(n,o),f=e.options.formatter,h=f?f(a.name):a.name,c=e.getTextBaseLine(o),v=e.container.addShape("text",{attrs:(0,u.deepMix)({},s,{x:l.x,y:l.y,text:h,fill:"black",textAlign:"center",textBaseline:c,fontWeight:o?300:600}),name:"label"});e.adjustLabel(v,n,o)}})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getPosition=function(e,t){var r=e.getBBox(),n=0,a=0;return t?(n=r.minX+r.width/2,a=r.minY+r.height/2):(n=r.x+r.width/2,a=r.y+4),{x:n,y:a}},i.prototype.getTextBaseLine=function(e){return e?"middle":"top"},i.prototype.adjustLabel=function(e,t,r){r?this.adjustLeafLabel(e,t):this.adjustParentLabel(e,t)},i.prototype.adjustLeafLabel=function(e,t){var r=t.getBBox(),n=e.getBBox(),a=(0,u.clone)(e.attr("text")),o=2,s=Math.max(e.attr("fontSize")-o,YP),l=r.x+r.width/2,f=r.y+r.height/2;e.attr({x:l,y:f,textAlign:"center",textBaseline:"middle",lineHeight:s,fontSize:s});var h=r.width-Ap*2;if(n.width>r.width&&n.height>r.height){e.attr("text","");return}else if(h<s){e.attr("text","");return}if(n.width>r.width){var c=zP(e,h,this.container);e.attr({lineHeight:e.attr("fontSize"),text:c});var v=e.getBBox();if(v.height>r.height){var x=Tp(a,s,h,this.container);e.attr("text",x)}}},i.prototype.adjustParentLabel=function(e,t){var r=t.getBBox(),n=r.width-Ap*2;if(e.getBBox().width>n){var a=Tp(e.attr("text"),e.attr("fontSize"),n,this.container);e.attr("text",a)}},i.prototype.getDefaultOptions=function(){var e=this.plot.theme,t=e.label.style;return{offsetX:0,offsetY:0,style:(0,u.clone)(t)}},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(e){return e.type==="polygon"})},i}(),VP=XP,HP=4,ms=4,Pp=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="treemap",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{maxLevel:2,padding:[0,0,0,0],tooltip:{visible:!1,showTitle:!1,showCrosshairs:!1,showMarkers:!1,shared:!1},legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},xField:"x",yField:"y",label:{visible:!0,adjustPosition:!0,style:{stroke:"rgba(0,0,0,0)",lineWidth:0,fontSize:12}},meta:{x:{nice:!1},y:{nice:!1}},interactions:[{type:"tooltip"}]})},e.prototype.beforeInit=function(){var t=this;i.prototype.beforeInit.call(this);var r=this.options.interactions;r&&(0,u.each)(r,function(o){o.type==="drilldown"&&(t.isDrilldown=!0,t.options.maxLevel=1)});var n=this.options.data,a=this.getTreemapData(n);this.rootData=a},e.prototype.afterRender=function(){if(i.prototype.afterRender.call(this),this.options.label&&this.options.label.visible){var t=new VP((0,Jt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},e.prototype.geometryParser=function(){return"polygon"},e.prototype.getTreemapData=function(t,r){var n=this.getViewRange(),a=xp(t,n.x,n.y,n.width,n.height);this.recursive(a,1);var o=[];return this.getAllNodes(a,o,r),o.sort(function(s,l){return s.depth-l.depth}),this.options.xField="x",this.options.yField="y",o},e.prototype.processData=function(){return this.rootData},e.prototype.coord=function(){},e.prototype.addGeometry=function(){var t=this,r=this.options,n=r.data,a=r.colorField,o=r.color,s=this.getTreemapData(n);this.rootData=s;var l=this.isNested(s);this.rect={type:"polygon",position:{fields:["x","y"]},color:{fields:[a],values:o},style:{fields:["depth"],callback:function(f){var h=t.adjustStyleByDepth(f,l);return(0,u.deepMix)({},h,t.options.rectStyle)}},tooltip:{fields:["name","value"]}},this.options.tooltip&&this.options.tooltip.formatter&&(this.rect.tooltip.callback=this.options.tooltip.formatter),this.setConfig("geometry",this.rect)},e.prototype.applyInteractions=function(){var t=this,r=this.options.interactions,n=this.view.interactions;(0,u.each)(r,function(a){var o=FP[a.type];if(o){var s=new o((0,u.deepMix)({},{view:t.view,plot:t,startEvent:"polygon:click"},a.cfg,o.getInteractionRange(t.layerBBox,a.cfg)));n[a.type]=s}})},e.prototype.animation=function(){i.prototype.animation.call(this),this.isDrilldown&&(this.rect.animate=!1)},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,C)},e.prototype.recursive=function(t,r){var n=this,a=this.options.colorField;(0,u.each)(t,function(o){(0,u.each)(o.children,function(s){s.depth=r,r>1&&(s.parent=o),(0,u.hasKey)(s,a)||(s[a]=o[a]),s.showLabel=!0;var l=n.isLeaf(s);if(!l){var f=Math.abs(s.y1-s.y0),h=n.getLabelHeight(),c=f/2>h?h:ms;s.showLabel=c!==ms;var v=xp(s,s.x0+ms,s.y0+c,s.x1-ms,s.y1-ms);n.fillColorField(v,a,s[a]),n.recursive(v,s.depth+1)}})})},e.prototype.getAllNodes=function(t,r,n){var a=this,o=n||this.options.maxLevel,s=this.getViewRange();(0,u.each)(t,function(l){(0,u.hasKey)(l,"x0")&&l.depth<=o&&r.push((0,Jt.__assign)((0,Jt.__assign)({},l),{x:[l.x0,l.x1,l.x1,l.x0],y:[s.height-l.y1,s.height-l.y1,s.height-l.y0,s.height-l.y0]})),(0,u.hasKey)(l,"children")&&a.getAllNodes(l.children,r)})},e.prototype.fillColorField=function(t,r,n){(0,u.each)(t,function(a){(0,u.hasKey)(a,r)||(a[r]=n)})},e.prototype.getLabelHeight=function(){var t=this.options.label,r=this.getPlotTheme().label.style.fontSize,n=0;if(t&&t.visible){var a=t.style;n=a&&a.fontSize?a.fontSize:r}return n+HP*2},e.prototype.isLeaf=function(t){return!t.children||t.children.length===0},e.prototype.isNested=function(t){var r=this.options.maxLevel;if(r===1)return!1;for(var n=!1,a=0;a<t.length;a++)if(t[a].children){n=!0;break}return n},e.prototype.adjustStyleByDepth=function(t,r){var n=this.options.maxLevel;return r?t===1?{lineWidth:1,stroke:"black",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.3)",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.9)",opacity:.9}},e}(ri),WP=Pp;dn("treemap",Pp);var jP=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="treemap",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=WP.getDefaultOptions,e}($r),_p=jP,Op=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="step-line",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{step:"hv"})},e}(ys);dn("step-line",Op);var UP=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="step-line",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=Op.getDefaultOptions,e}($r),Lp=UP;function Ip(i,e){var t=[],r=i.get("origin").points;return(0,u.each)(r,function(n){t.push(e.convertPoint(n))}),t}var ZP=function(){function i(e){(0,u.deepMix)(this,this.constructor.getDefaultOptions(e),e),this._init()}return i.getDefaultOptions=function(e){var t=e.transpose;return{visible:!0,size:t?32:80,spacing:t?8:12,offset:t?32:0,arrow:{visible:!0,headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},value:{visible:!0,style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)"},formatter:function(r,n){return(100*n/r).toFixed(2)+"%"}},animation:(0,u.deepMix)({},co.DEFAULT_ANIMATE_CFG)}},i.prototype._init=function(){var e=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){e.clear()})},i.prototype.draw=function(){var e=this,t=this.transpose,r=this.view.getScaleByField(this.field).values,n=this.view.geometries[0],a=n.getShapes(),o,s,l,f;t?a.forEach(function(h,c){s=r[c],c++>0&&e._drawTag(l,f,h,s),f=s,l=h}):a.forEach(function(h,c){f=r[c],c++>0&&e._drawTag(h,f,o,s),s=f,o=h})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._drawTag=function(e,t,r,n){var a=this.transpose,o=this.view.geometries[0].coordinate,s=Ip(e,o)[a?3:0],l=Ip(r,o)[a?0:3];this._drawTagArrow(s,l),this._drawTagValue(s,t,l,n)},i.prototype._drawTagArrow=function(e,t){var r=this.spacing,n=this,a=n.size,o=n.offset,s=n.animation,l=n.transpose,f=this.arrow.headSize,h=t.y-e.y,c=t.x-e.x,v;l?(c-f)/2<r?(r=Math.max(1,(c-f)/2),v=[[e.x+r,e.y-o],[e.x+r,e.y-o-a],[t.x-r,t.y-o-a/2]]):v=[[e.x+r,e.y-o],[e.x+r,e.y-o-a],[t.x-r-f,t.y-o-a],[t.x-r,t.y-o-a/2],[t.x-r-f,t.y-o]]:(h-f)/2<r?(r=Math.max(1,(h-f)/2),v=[[e.x+o,e.y+r],[e.x+o+a,e.y+r],[t.x+o+a/2,t.y-r]]):v=[[e.x+o,e.y+r],[e.x+o+a,e.y+r],[t.x+o+a,t.y-r-f],[t.x+o+a/2,t.y-r],[t.x+o,t.y-r-f]];var x=this.container.addShape("polygon",{name:"arrow",attrs:(0,Jt.__assign)((0,Jt.__assign)({},this.arrow.style),{points:v})});s!==!1&&this._fadeInTagShape(x)},i.prototype._drawTagValue=function(e,t,r,n){var a=this,o=a.size,s=a.offset,l=a.animation,f=a.transpose,h=this.value.formatter(t,n),c=this.container.addShape("text",{name:"value",attrs:(0,Jt.__assign)((0,Jt.__assign)({},this.value.style),{text:h,x:f?(e.x+r.x)/2:e.x+s+o/2,y:f?e.y-s-o/2:(e.y+r.y)/2,textAlign:"center",textBaseline:"middle"})});if(f){var v=r.x-e.x,x=c.getBBox().width;if(x>v){var P=x/h.length,D=Math.max(1,Math.ceil(v/P)-1),X=h.slice(0,D)+"...";c.attr("text",X)}}l!==!1&&this._fadeInTagShape(c)},i.prototype._fadeInTagShape=function(e){var t=this.animation,r=e.attr("opacity");e.attr("opacity",0);var n=(0,u.get)(t,"appear",co.DEFAULT_ANIMATE_CFG.appear).duration;e.animate({opacity:r},n)},i}(),kp=ZP;function KP(i){var e=i.getResponsiveTheme(),t=i.canvas;new yo({plot:i,responsiveTheme:e,dim:"x"}),new yo({plot:i,responsiveTheme:e,dim:"y"}),t.draw()}var $P=[],QP=[{name:"responsiveAxis",method:KP}],JP={preRender:$P,afterRender:QP},qP=function(i){var e=i.opacity||1;return{opacity:e*.5}},t_=function(i){var e=i.opacity||1;return{opacity:e*.5}},Uf={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:qP,disable:t_,selected:{lineWidth:1,stroke:"black"}}};oa("bar",Uf);function qa(i){var e=i.indexOf("#")===0?i.substr(1):i,t=[];return t.push(parseInt(e.substr(0,2),16)),t.push(parseInt(e.substr(2,2),16)),t.push(parseInt(e.substr(4,2),16)),t}function Zf(i){var e;return e=Math.round(i),e=e.toString(16),e.length===1&&(e="0"+i),e}function U9(i){return"#"+(Zf(i[0])+Zf(i[1])+Zf(i[2]))}function Ol(i,e){var t;return(0,u.each)(i,function(r){var n=r;e>=n.from&&e<n.to&&(t=n.color)}),t}var Kf=function(i){var e=qa(i),t=e[0],r=e[1],n=e[2],a=(t*299+r*587+n*114)/1e3<128;return a},Bp=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getLabelItemAttrs=function(t,r){var n,a=this.options,o=a.style,s=a.formatter,l=[].concat(t.getModel().mappingData),f=this.getValue(t);return(0,u.deepMix)({},o,(0,Jt.__assign)((0,Jt.__assign)({},this.getPosition(t)),{text:s?s(f,(n={},n[ds]=l[0]._origin,n.mappingDatum=l[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=r,n),r):f,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(t),textBaseline:this.getTextBaseline()}))},e.prototype.adjustLabel=function(t,r){var n=this.options,a=n.adjustPosition,o=n.style;if(a){var s=this.getDefaultOffset(),l=t.getBBox(),f=this.getElementShapeBBox(r);if(f.width<=l.width){var h=f.maxX+this.options.offsetX+s;t.attr("x",h),t.attr("fill",o.fill)}}},e.prototype.getDefaultOptions=function(){var t=this.layer.theme,r=t.label,n=r===void 0?{}:r;return(0,Jt.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},n)},e.prototype.getValue=function(t){return(0,u.get)(t.getData(),this.layer.options.xField)},e.prototype.getPosition=function(t){var r=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,f=a.height,h=a.width,c=this.options,v=c.offsetX,x=c.offsetY,P=c.position,D=l+f/2+x,X=n<0?-1:1,K;if(P==="left"){var Z=n>0?o:s;K=Z+r*X+v}else if(P==="right"){var Z=n>0?s:o;K=Z+r*X+v}else K=o+h/2+v;return{x:K,y:D}},e.prototype.getTextFill=function(t){var r=t.shape;if(this.options.adjustColor&&this.options.position!=="right"){var n=r.attr("fill"),a=r.attr("opacity")?r.attr("opacity"):1,o=qa(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],f=Ol(l,s);return f}var h=this.options.style.fill;return h},e.prototype.getTextStroke=function(t){var r=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="right"&&o&&r!=="black"?null:void 0},e.prototype.getTextAlign=function(t){var r=this.getValue(t),n=this.options.position,a={right:"left",left:"left",middle:"center"},o={right:"right",left:"right",middle:"center"};return r<0?o[n]:a[n]},e.prototype.getTextBaseline=function(){return"middle"},e.prototype.getElementShapeBBox=function(t){var r=this,n=t.shape,a=[];(0,u.each)(n.get("origin").points,function(x){a.push(r.coord.convertPoint(x))});var o=a.map(function(x){return x.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),f=a.map(function(x){return x.y}),h=Math.min.apply(Math,f),c=Math.max.apply(Math,f),v=new tn(s,h,l-s,c-h);return v},e.prototype.getLabelOffset=function(){return{x:0,y:0}},e}(Tf),Dp=Bp;aa("bar",Bp);var Fp=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getPosition=function(t){var r=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,f=a.height,h=this.options,c=h.offsetX,v=h.offsetY,x=l+f/2+v,P=n<0?-1:1,D=n>0?s:o,X=D+r*P+c;return{x:X,y:x}},e.prototype.getTextAlign=function(t){var r=this.getValue(t);return r>0?"left":"right"},e.prototype.getTextFill=function(t){var r=this.options.style;return r.fill},e.prototype.getTextStroke=function(t){},e.prototype.adjustLabel=function(t,r){},e.prototype.layoutLabels=function(t,r){this.shouldInShapeLabels(r)&&this.inShapeLabels(t,r),this.autoHideLabels(t,r)},e.prototype.shouldInShapeLabels=function(t){var r=this;return(0,u.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=r.getElementShapeBBox(o);return s.height>=a.height})},e.prototype.inShapeLabels=function(t,r){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,f=s.lightStyle,h=(0,u.groupBy)(r,function(c){return c.get(pa)[An.FIELD_ORIGIN][o]});(0,u.each)(r,function(c){var v=h[c.get(pa)[An.FIELD_ORIGIN][o]]||[],x=c.get("element"),P=x.shape,D=Kf(P.attr("fill")),X=n.getElementShapeBBox(x),K=tn.fromBBoxObject(c.getBBox());if(Nf(a,X)<=0&&c.set("visible",!1),K.width>X.width){var Z=(0,u.findIndex)(v,function(mt){return mt===c});Z!==v.length-1&&c.set("visible",!1)}else{c.attr({x:X.x+X.width/2,textAlign:"center"});var gt=K.width>X.width||K.height>X.height;gt?c.attr({stroke:f==null?void 0:f.stroke}):c.attr({fill:D?f==null?void 0:f.fill:l==null?void 0:l.fill,fillOpacity:D?f==null?void 0:f.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},e.prototype.autoHideLabels=function(t,r){var n=this.getCoordinateBBox(),a=this.filterLabels(r),o=t.getXYFields()[0],s=[],l=[],f=(0,u.groupBy)(a,function(x){return x.get(pa)[An.FIELD_ORIGIN][o]}),h=(0,u.uniq)((0,u.map)(a,function(x){return x.get(pa)[An.FIELD_ORIGIN][o]})),c;for((0,u.size)(h)>0&&(c=h.shift(),(0,u.each)(f[c],function(x){return l.push(x)})),(0,u.size)(h)>0&&(c=h.pop(),(0,u.each)(f[c],function(x){return l.push(x)})),(0,u.each)(h.reverse(),function(x){(0,u.each)(f[x],function(P){return l.push(P)})});l.length>0;){var v=l.shift();v.get("visible")&&(El(v,n),Al(v,s)?v.set("visible",!1):s.push(v))}},e.prototype.filterLabels=function(t){var r=500,n=[],a=Math.max(Math.floor(t.length/r),1);return(0,u.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},e}(Dp),e_=Fp;aa("bar-auto",Fp);var r_={bar:"interval"},n_=Bi(r_);(0,u.assign)(bn,n_);var i_={bar:"interval"},a_={interval:"bar"},Rp=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bar",t}return e.getDefaultOptions=function(){var t={xAxis:{visible:!0,line:{visible:!1},title:{visible:!0},label:{visible:!1},tickLine:{visible:!1},grid:{visible:!1},nice:!0},yAxis:{visible:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!0,position:"left",adjustColor:!0},legend:{visible:!1,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}};return(0,u.deepMix)({},i.getDefaultOptions.call(this),t)},e.prototype.beforeInit=function(){i.prototype.beforeInit.call(this);var t=this.options;t.responsive&&t.padding!=="auto"&&this.applyResponsive("preRender")},e.prototype.afterRender=function(){var t=this.options;this.renderLabel(),t.responsive&&t.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new kp((0,Jt.__assign)({view:this.view,field:t.xField,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},e.prototype.geometryParser=function(t,r){return t==="g2"?i_[r]:a_[r]},e.prototype.processData=function(t){var r=t&&t.slice().reverse(),n=this.options.yField,a=[];return(0,u.each)(r,function(o){var s=(0,u.clone)(o);s[n]=s[n].toString(),a.push(s)}),a},e.prototype.scale=function(){var t=this.options,r={};r[t.yField]={type:"cat"},(0,u.has)(t,"yAxis")&&Pi(r[t.yField],t.yAxis),r[t.xField]={},(0,u.has)(t,"xAxis")&&Pi(r[t.xField],t.xAxis),this.setConfig("scales",r),i.prototype.scale.call(this)},e.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},e.prototype.axis=function(){var t=Ri("axis",{plot:this,dim:"x"}),r=Ri("axis",{plot:this,dim:"y"});t&&(t.position="left"),r&&(r.position="bottom");var n={};n[this.options.xField]=t,n[this.options.yField]=r,this.setConfig("axes",n)},e.prototype.adjustBar=function(t){return null},e.prototype.addGeometry=function(){var t=this.options,r=fi("interval","main",{positionFields:[t.yField,t.xField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,u.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustBar(r),this.bar=r,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",r)},e.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.bar.animate=!1)},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,E)},e.prototype.renderLabel=function(){var t=this.config.scales,r=this.options,n=r.label,a=r.xField,o=t[a];if(n==null?void 0:n.visible){var s=po(this.view,"interval");this.doRenderLabel(s,(0,Jt.__assign)({type:"bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},e.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.bar.tooltip.fields.push(this.options.colorField)))},e.prototype.applyResponsive=function(t){var r=this,n=JP[t];(0,u.each)(n,function(a){var o=a;o.method(r)})},e.prototype.getLabelOptionsByPosition=function(t){if(t==="middle")return{offset:0};if(t==="left")return{offset:7,style:{stroke:null,lineWidth:0}};if(t==="right")return{offset:4}},e}(ri),Ll=Rp;dn("bar",Rp);var o_=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="bar",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=Ll.getDefaultOptions,e}($r),Np=o_;oa("stackedBar",Uf);var s_=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.adjustLabel=function(t,r){if(this.options.adjustPosition){var n=t.getBBox(),a=this.getElementShapeBBox(r);a.maxX<=n.maxX&&t.set("visible",!1)}},e}(Dp),Z9=null;aa("stacked-bar",s_);var l_=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.shouldInShapeLabels=function(t){return!0},e}(e_),K9=null;aa("stacked-bar-auto",l_);var Yp=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedBar",t.baseType="bar",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},legend:{visible:!0,position:"top-left",offsetY:0}})},e.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},e.prototype.adjustBar=function(t){t.adjust=[{type:"stack"}]},e.prototype.renderLabel=function(){var t=this.config.scales,r=this.options,n=r.label,a=r.xField,o=t[a];if(n==null?void 0:n.visible){var s=po(this.view,"interval");this.doRenderLabel(s,(0,Jt.__assign)({type:"stacked-bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},e.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},e}(Ll),$f=Yp;dn("stackedBar",Yp);var u_=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="stackedBar",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=$f.getDefaultOptions,e}($r),Gp=u_;oa("groupedBar",Uf);var zp=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedBar",t.baseType="bar",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,grid:{visible:!0}},yAxis:{visible:!0,title:{visible:!1}},label:{visible:!0,position:"right",adjustColor:!0},legend:{visible:!0,position:"right-top",offsetY:0}})},e.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=(0,u.valuesOfKey)(this.options.data,this.options.groupField)||[];this.view.on("tooltip:change",function(r){var n=r.items,a=n===void 0?[]:n,o=(0,u.sortBy)(a.slice(),function(s){return t.indexOf(s.name)}).reverse();o.forEach(function(s,l){r.items[l]=s})})},e.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},e.prototype.scale=function(){var t={};t[this.options.groupField]={values:(0,u.valuesOfKey)(this.options.data,this.options.groupField)},this.options.meta?this.options.meta=(0,u.deepMix)({},this.options.meta,t):this.options.meta=t,i.prototype.scale.call(this)},e.prototype.adjustBar=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},e.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},e}(Ll),Xp=zp;dn("groupedBar",zp);var f_=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="groupedBar",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=Xp.getDefaultOptions,e}($r),Vp=f_,Qf=function(i,e,t){var r=(0,u.groupBy)(i,e);r=(0,u.mapValues)(r,function(o){return(0,u.map)(o,function(s){return(0,u.map)(t,function(l){return s[l]})})}),r=(0,u.mapValues)(r,u.flatten),r=(0,u.mapValues)(r,function(o){return(0,u.map)(o,function(s){var l=Number.parseFloat(s);return!(0,u.isNumber)(l)||isNaN(l)?0:l})});var n=(0,u.mapValues)(r,function(o){return(0,u.reduce)(o,function(s,l){return s+l},0)}),a=(0,u.map)(i,function(o){var s=(0,Jt.__assign)((0,Jt.__assign)({},o),{_origin:o,total:n[o[e]]});return(0,u.each)(t,function(l){s[l]=o[l]/(n[o[e]]||1)}),s});return(0,u.each)((0,u.groupBy)(a,e),function(o){var s=0;(0,u.each)(o,function(l,f){(0,u.each)(t,function(h,c){(s+l[h]>=1||f===o.length-1&&c===t.length-1&&s>0)&&(l[h]=1-s),s+=l[h]})})}),a},Hp=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedBar",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},grid:{visible:!1},title:{visible:!0,formatter:function(t){return t+" (%)"}},label:{visible:!1,formatter:function(t){var r=/%/gi;return t.replace(r,"")}}}})},e.prototype.processData=function(t){var r=this.options,n=r.xField,a=r.yField,o=i.prototype.processData.call(this,t);return Qf(o,a,[n])},e.prototype.scale=function(){var t={},r=this.options.xField;t[r]={tickCount:6,alias:r+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,u.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},e}($f),Wp=Hp;dn("percentStackedBar",Hp);var h_=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="percentStackedBar",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=Wp.getDefaultOptions,e}($r),jp=h_,Up=8;function c_(i,e){var t;return(0,u.each)(i,function(r){var n=r;e>=n.from&&e<n.to&&(t=n.color)}),t}var v_=function(){function i(e){this.destroyed=!1,this.view=e.view,this.plot=e.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,e,{}),this.options.leftStyle||(this.options.leftStyle=this.options.style),this.options.rightStyle||(this.options.rightStyle=this.options.style),this.init()}return i.prototype.init=function(){var e=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){e.clear(),e.plot.canvas.draw()})},i.prototype.render=function(){var e=this,t=this.getGeometry(),r=t.elements,n=t.coordinate;this.coord=n,(0,u.each)(r,function(a){var o=a.shape,s=e.getPosition(o),l=e.getValue(o),f=e.getTextAlign(),h=[];(0,u.each)(s,function(c,v){var x=v===0?e.options.leftStyle:e.options.rightStyle,P=e.getTextColor(o,v);e.options.position==="inner"&&e.options.adjustColor&&P!=="black"&&(x.stroke=null);var D=e.options.formatter,X=D?D(l[v]):l[v],K=e.container.addShape("text",{attrs:(0,u.deepMix)({},x,{x:c.x,y:c.y,text:X,fill:P,textAlign:f[v],textBaseline:"middle"}),name:"label"});h.push(K),e.doAnimation(K)}),o.set("labelShapes",h),e.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(e){var t=this,r=[];(0,u.each)(e.get("origin").points,function(a){r.push(t.coord.convertPoint(a))});var n=new tn(r[0].x,r[1].y,Math.abs(r[2].x-r[0].x),Math.abs(r[0].y-r[1].y));return n},i.prototype.getDefaultOptions=function(){var e=this.plot.theme,t=e.label.style;return{position:"outer",offsetX:Up,offsetY:0,style:(0,u.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(e){var t=this.getShapeBbox(e),r=t.minX,n=t.maxX,a=t.minY,o=t.height,s=this.options,l=s.offsetX,f=s.offsetY,h=a+o/2+f,c,v;return this.options.position==="outer"?(c=r-l,v=n+l):(c=r+l,v=n-l),[{x:c,y:h},{x:v,y:h}]},i.prototype.getValue=function(e){var t=this.plot.options.xField;return e.get("origin").data[t]},i.prototype.getTextAlign=function(){return this.options.position==="outer"?["right","left"]:["left","right"]},i.prototype.getTextColor=function(e,t){if(this.options.adjustColor&&this.options.position==="inner"){var r=e.attr("fill"),n=e.attr("opacity")?e.attr("opacity"):1,a=qa(r),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=c_(s,o);return l}var f=t===0?this.options.leftStyle.fill:this.options.rightStyle.fill;return f},i.prototype.doAnimation=function(e){this.plot.animation&&this.plot.animation===!1||(e.attr("fillOpacity",0),e.attr("strokeOpacity",0),e.stopAnimate(),e.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(e,t,r){var n=r.get("origin"),a=n.x[0],o=n.x[1],s=Math.abs(o-a),l=this.view.coordinateBBox,f=[e.getBBox(),t.getBBox()],h=e.attr("x"),c=t.attr("x");if(this.options.adjustPosition&&this.options.position==="inner"){var v=f[0].width+f[1].width,x=f[0].maxX-f[1].minX>2,P=v>s;(x||P)&&(h=a-this.options.offsetX,e.attr("fill",this.options.leftStyle.fill),e.attr("textAlign","right"),f[0]=e.getBBox(),c=o+this.options.offsetX,t.attr("fill",this.options.rightStyle.fill),t.attr("textAlign","left"),f[1]=t.getBBox())}f[0].minX<l.minX&&(h=l.minX+Up,e.attr("textAlign","left")),e.attr("x",h),t.attr("x",c),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(e){return e.type==="interval"})},i}(),d_=v_,Zp;function Kp(i,e){var t=i.getBBox(),r=t.minX+t.width/2;i.setClip({type:"rect",attrs:{x:r,y:t.minY,width:0,height:t.height}});var n=i.get("clipShape");n.animate({width:t.width,x:t.minX},e.duration,e.easing,function(){i.setClip(null)},e.delay)}Kp.animationName="clipInFromCenter";function p_(i){Zp=i}function $p(i,e){var t=g_(i).attr("path"),r=(0,u.clone)(i.attr("path"));i.attr("path",t),i.animate({path:r},e.duration,e.easing,e.callback,100)}function g_(i){var e=i.id,t;return(0,u.each)(Zp,function(r){r.id===e&&(t=r)}),t}$p.animationName="updateFromCenter",pi("clipInFromCenter",Kp),pi("updateFromCenter",$p);var Qp=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeBar",t}return e.getDefaultOptions=function(){return(0,u.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"},xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}}},{})},e.prototype.afterRender=function(){this.renderLabel();var t=[],r=this.view.geometries;(0,u.each)(r,function(n){var a=n.elements;(0,u.each)(a,function(o){t.push(o.shape)})}),p_(t),i.prototype.afterRender.call(this)},e.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new d_((0,Jt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},e.prototype.animation=function(){i.prototype.animation.call(this)},e}(Ll),y_=Qp;dn("rangeBar",Qp);var m_=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="rangeBar",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=y_.getDefaultOptions,e}($r),Jp=m_,qp=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e}(dp),x_=qp;aa("area-point",qp);var tg=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.layoutLabels=function(t,r){i.prototype.layoutLabels.call(this,t,r),this.adjustAreaLabelsStyle(r)},e.prototype.adjustAreaLabelsStyle=function(t){var r=this.view,n=this.options,a=n.darkStyle,o=n.lightStyle,s=po(r,"area"),l=KE(s).sort(function(f,h){return h.getBBox().height-f.getBBox().height});(0,u.each)(t,function(f){var h=f.getBBox(),c=KC(h.x,h.y,h.width,h.height),v=(0,u.map)(l,function(D){return{area:D,matches:(0,u.filter)(c,function(X){return!!D.isHit(X[0],X[1])}).length}}).sort(function(D,X){return D.matches-X.matches});if((0,u.last)(v).matches>0){var x=(0,u.last)(v).area.attr("fill"),P=Kf(x);f.attr({fill:P?o==null?void 0:o.fill:a==null?void 0:a.fill,fillOpacity:P?o.fillOpacity:a.fillOpacity,stroke:P?o==null?void 0:o.stroke:a==null?void 0:a.stroke})}})},e}(JT),b_=tg;aa("area-point-auto",tg);function w_(i){var e=i.getResponsiveTheme(),t=i.canvas;new yo({plot:i,responsiveTheme:e,dim:"x"}),new yo({plot:i,responsiveTheme:e,dim:"y"}),t.draw()}var S_=[],M_=[{name:"responsiveAxis",method:w_}],C_={preRender:S_,afterRender:M_},E_={area:"area",line:"line",point:"point"},A_=Bi(E_);(0,u.assign)(bn,A_);var T_=function(i){var e=i.opacity||1;return{opacity:e}},P_=function(i){var e=i.opacity||1;return{opacity:e*.5}},__=function(i){var e=i.opacity||1;return{opacity:e}},O_=function(i){var e=i.opacity||1;return{opacity:e*.5}},L_=function(i){var e=i.lineWidth||1;return{lineWidth:e+2}},I_=function(i){var e=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:1}},k_=function(i){var e=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:2}},B_=function(i){var e=i.opacity||i.fillOpacity||1;return{opacity:e*.5}},eg={areaStyle:{normal:{},active:T_,disable:P_,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:__,disable:O_,selected:L_},pointStyle:{normal:{},active:I_,disable:B_,selected:k_},label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",fillOpacity:1,stroke:"#2c3542"}}};oa("area",eg);var D_={area:"area",line:"line",point:"point"},rg=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="area",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{smooth:!1,areaStyle:{opacity:.25},line:{visible:!0,size:2,style:{opacity:1,lineJoin:"round",lineCap:"round"}},point:{visible:!1,size:4,shape:"point"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20}})},e.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},e.prototype.afterRender=function(){this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},e.prototype.geometryParser=function(t,r){return D_[r]},e.prototype.scale=function(){var t=this.options,r={};r[t.xField]={type:"cat"},(0,u.has)(t,"xAxis")&&Pi(r[t.xField],t.xAxis),r[t.yField]={},(0,u.has)(t,"yAxis")&&Pi(r[t.yField],t.yAxis),this.setConfig("scales",r),i.prototype.scale.call(this)},e.prototype.coord=function(){return null},e.prototype.addGeometry=function(){var t=this.options,r=fi("area","main",{plot:this});this.area=r,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.adjustArea(r),this.setConfig("geometry",r),this.addLine(),this.addPoint()},e.prototype.adjustArea=function(t){},e.prototype.adjustLine=function(t){},e.prototype.adjustPoint=function(t){},e.prototype.addLine=function(){var t=this.options,r=(0,u.deepMix)({},t.line);if(r.visible){var n=fi("line","guide",{type:"line",plot:this,line:r});this.adjustLine(n),this.setConfig("geometry",n),this.line=n}},e.prototype.addPoint=function(){var t=this.options,r=(0,u.deepMix)({},t.point);if(r.visible){var n=fi("point","guide",{plot:this});this.adjustPoint(n),this.setConfig("geometry",n),this.point=n}},e.prototype.renderLabel=function(){var t=this.config.scales,r=this.options,n=r.label,a=r.yField,o=t[a];if(n.visible){var s=po(this.view,"area");this.doRenderLabel(s,(0,Jt.__assign)({type:"area-point",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},e.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area.animate=!1,this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},e.prototype.label=function(){},e.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.area.tooltip.fields.push(this.options.seriesField)))},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,p)},e.prototype.applyResponsive=function(t){var r=this,n=C_[t];(0,u.each)(n,function(a){var o=a;o.method(r)})},e}(ri),Jf=rg;dn("area",rg);var F_=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="area",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=Jf.getDefaultOptions,e}($r),ng=F_,R_=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getShapeInfo=function(t){var r=t.get("origin").points,n=r[r.length-1],a=t.attr("stroke"),o=this.plot.options.stackField,s=t.get("origin").data[0][o],l=(0,u.reduce)(n.y,function(f,h){return f+h},0)/(0,u.size)(n.y);return{x:n.x,y:l,color:a,name:s}},e}(gp),N_=R_,qf=12,Y_=.01,G_=100,z_=12;function X_(i){var e=-Infinity,t=Infinity,r=-Infinity;return(0,u.each)(i,function(n){t=Math.min(n.x,t),r=Math.max(n.x,r);var a=Math.abs(n.y[0]-n.y[1]);e=Math.max(e,a)}),{xRange:[t,r],maxHeight:e}}function ig(i,e,t){var r=e[0],n=e[e.length-1];(0,u.each)(e,function(o){if(o.x===i)return o.y[t];o.x<i&&o.x>r.x&&(r=o),o.x>i&&o.x<n.x&&(n=o)});var a=(i-r.x)/(n.x-r.x);return r.y[t]*(1-a)+n.y[t]*a}function V_(i,e){var t;for(t=0;t<i.length;t++){var r=i[t];if(r.x===e||r.x>e)break}return t}var H_=function(){function i(e){this.destroyed=!1,this.scaleFactor=[],this.view=e.view,this.plot=e.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,e,{}),this.init()}return i.prototype.init=function(){var e=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){e.clear(),e.plot.canvas.draw()})},i.prototype.render=function(){var e=this,t=this.plot.options.stackField,r=this.getGeometry().dataArray,n=[];(0,u.each)(r,function(o,s){var l=e.drawLabel(o,s);l&&(n.push((0,u.deepMix)({},o[0],l)),e.scaleFactor.push(l.scaleFactor))});var a=[];(0,u.each)(n,function(o,s){var l=e.options,f=l.style,h=l.offsetX,c=l.offsetY,v=e.getFontSize(s),x=e.options.formatter,P=x?x(o._origin[t]):o._origin[t],D=e.container.addShape("text",{attrs:(0,u.deepMix)({},{x:o.x+h,y:o.y+c,text:P,fill:o.color,fontSize:v,textAlign:"center",textBaseline:"top"},f),name:"label"});a.push(D)}),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var e=this.plot.theme,t=(0,u.clone)(e.label.style);return t.stroke=null,delete t.fill,{offsetX:0,offsetY:0,style:t,autoScale:!0}},i.prototype.drawLabel=function(e,t){var r=X_(e),n=r.xRange,a=r.maxHeight,o=n[1]-n[0],s=this.getInterpolatedPoints(n[0],o,e),l=this.getLabelBbox(t),f={xRange:n,aspect:l.width/l.height,data:s,justTest:!0},h=this.bisection(z_,a,this.testFit,f,Y_,G_);if(h!==null){f.justTest=!1;var c=this.testFit(f);return c.x=c.x,c.y=c.y0+(c.y1-c.y0)/2,c.scaleFactor=h/l.height*.2,c}},i.prototype.getInterpolatedPoints=function(e,t,r){for(var n=[],a=2,o=e;o<t;o+=a){var s=ig(o,r,0),l=ig(o,r,1);n.push({x:o,y:[s,l]})}return n},i.prototype.bisection=function(e,t,r,n,a,o){for(var s=0;s<o;s++){var l=(e+t)/2,f=n;f.height=l,f.width=l*f.aspect;var h=r(f),c=(t-e)/2<a;if(h&&c)return l;h?e=l:t=l}return null},i.prototype.testFit=function(e){for(var t=e.xRange,r=e.width,n=e.height,a=e.data,o=e.justTest,s=0;s<a.length;s++){var l=a[s],f=l.x,h=f+r;if(h>t[1])break;for(var c=V_(a,h),v=-Infinity,x=null,P=Infinity,D=s;D<c;D++){var X=a[D].y[1],K=a[D].y[0];if(K<P&&(P=K),X>v&&(v=X,x=K),P-v<n)break}if(P-v>=n)return o?!0:{x:f,y0:v,y1:x,width:r,height:n}}return!1},i.prototype.getLabelBbox=function(e){var t=(0,u.clone)(this.plot.theme.label.textStyle);t.fontSize=qf;var r=this.container.addShape("text",{attrs:(0,Jt.__assign)({text:e,x:0,y:0},t)}),n=r.getBBox();return r.remove(),n},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(e){return e.type==="area"})},i.prototype.getFontSize=function(e){if(this.options.autoScale){var t=this.scaleFactor[e];return qf*t}return qf},i}(),W_=H_,j_={lineLabel:{Ctr:N_},areaLabel:{Ctr:W_}};function U_(i,e,t){if(i.options[e]&&i.options[e].visible){var r=j_[e],n=new r.Ctr(t);return r.padding&&i.paddingController.registerPadding(n,r.padding),n}}var Z_=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e}(x_),$9=null;aa("stackedArea-point",Z_);var K_=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.sortLabels=function(t,r){var n=[];return r.length>0&&n.push(r.shift()),r.length>0&&n.push(r.pop()),n.push.apply(n,r),n},e}(b_),Q9=null;aa("stackedArea-point-auto",K_),oa("stackedArea",eg);var ag=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.plotComponents=[],t.type="stackedArea",t.baseType="area",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!1,type:"area"}})},e.prototype.beforeInit=function(){var t=(0,u.get)(this.options,["label","visible"]),r=(0,u.get)(this.options,["label","type"]),n=this.options;t&&(r==="line"&&(n.lineLabel=this.options.label),r==="area"&&(n.areaLabel=this.options.label)),i.prototype.beforeInit.call(this)},e.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},e.prototype.label=function(){var t=this.options,r=t.label;if(r&&r.visible===!1){this.line&&(this.line.label=!1),this.point&&(this.point.label=!1),this.area.label=!1;return}},e.prototype.adjustArea=function(t){t.adjust=[{type:"stack"}]},e.prototype.adjustLine=function(t){t.adjust=[{type:"stack"}]},e.prototype.adjustPoint=function(t){t.adjust=[{type:"stack"}]},e.prototype.afterRender=function(){this.renderPlotComponents(),this.options.responsive=!1,i.prototype.afterRender.call(this)},e.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},e.prototype.renderPlotComponents=function(){var t=this,r=["areaLabel","lineLabel"];(0,u.each)(r,function(n){var a=(0,Jt.__assign)({view:t.view,plot:t},t.options[n]),o=U_(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},e}(Jf),th=ag;dn("stackedArea",ag);var $_=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="stackedArea",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=th.getDefaultOptions,e}($r),og=$_,sg=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedArea",t.baseType="stackedArea",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{visible:!0,label:{visible:!0,formatter:function(t){var r=/%/gi;return t.replace(r,"")}}}})},e.prototype.processData=function(t){var r=this.options,n=r.xField,a=r.yField;return Qf(t,n,[a])},e.prototype.scale=function(){var t={},r=this.options.yField;t[this.options.yField]={tickCount:6,alias:r+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,u.deepMix)({},t,this.options.meta),i.prototype.scale.call(this)},e}(th),lg=sg;dn("percentStackedArea",sg);var Q_=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="percentStackedArea",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=lg.getDefaultOptions,e}($r),ug=Q_;function J_(i){var e=i.getResponsiveTheme(),t=i.canvas;new yo({plot:i,responsiveTheme:e,dim:"x"}),new yo({plot:i,responsiveTheme:e,dim:"y"}),t.draw()}var q_=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getType=function(){return(0,u.get)(this.plot.options,["label","position"],"inner")},e}(cp);function tO(i){var e=i.getResponsiveTheme();new q_({plot:i,responsiveTheme:e})}var eO=[],rO=[{name:"responsiveAxis",method:J_},{name:"responsiveLabel",method:tO}],nO={preRender:eO,afterRender:rO},iO={label:{top:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodeJitterUpward"},{name:"nodesResamplingByState",option:{keep:["min","max","median"]}},{name:"textHide"}]}}}};Yd("column",iO);var fg=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getLabelItemAttrs=function(t,r){var n,a,o=this.options,s=o.style,l=o.formatter,f=[].concat(t.getModel().mappingData),h=this.getValue(t);return(0,u.deepMix)({},s,(0,Jt.__assign)((0,Jt.__assign)({},this.getPosition(t)),{text:l?l(h,(n={},n[ds]=(a=f[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=f[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=r,n),r):h,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseLine()}))},e.prototype.getDefaultOptions=function(){var t=this.layer.theme,r=t.label,n=r===void 0?{}:r;return(0,Jt.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},n)},e.prototype.adjustLabel=function(t,r){var n=this.options.adjustPosition;if(n){var a=this.getDefaultOffset(),o=t.getBBox(),s=this.getElementShapeBBox(r);if(s.height<=o.height){var l=s.minY+this.options.offsetY-a;t.attr("y",l),t.attr("textBaseline","bottom"),t.attr("fill",this.options.style.fill)}}},e.prototype.getValue=function(t){return(0,u.get)(t.getData(),this.layer.options.yField)},e.prototype.getPosition=function(t){var r=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,f=a.height,h=a.width,c=this.options,v=c.offsetX,x=c.offsetY,P=c.position,D=o+h/2+v,X=n>0?-1:1,K;if(P==="top"){var Z=n>0?s:l;K=Z+r*X+x}else if(P==="bottom"){var Z=n>0?l:s;K=Z+r*X+x}else K=s+f/2+x;return{x:D,y:K}},e.prototype.getTextFill=function(t){var r=t.shape;if(this.options.adjustColor&&this.options.position!=="top"){var n=r.attr("fill"),a=r.attr("opacity")?r.attr("opacity"):1,o=qa(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],f=Ol(l,s);return f}var h=this.options.style.fill;return h},e.prototype.getTextStroke=function(t){var r=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="top"&&o&&r!=="black"?null:void 0},e.prototype.getElementShapeBBox=function(t){var r=this,n=t.shape,a=[];(0,u.each)(n.get("origin").points,function(x){a.push(r.coord.convertPoint(x))});var o=a.map(function(x){return x.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),f=a.map(function(x){return x.y}),h=Math.min.apply(Math,f),c=Math.max.apply(Math,f),v=new tn(s,h,l-s,c-h);return v},e.prototype.getTextAlign=function(){return"center"},e.prototype.getTextBaseLine=function(){return"middle"},e.prototype.getLabelOffset=function(){return{x:0,y:0}},e}(Tf),eh=fg;aa("column",fg);var hg=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getPosition=function(t){var r=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,f=a.width,h=this.options,c=h.offsetX,v=h.offsetY,x=o+f/2+c,P=n>0?-1:1,D=n>0?s:l,X=D+r*P+v;return{x,y:X}},e.prototype.getTextFill=function(t){var r=this.options.style;return r.fill},e.prototype.getTextStroke=function(t){},e.prototype.adjustLabel=function(t,r){},e.prototype.layoutLabels=function(t,r){this.shouldInShapeLabels(r)&&this.inShapeLabels(t,r),this.autoHideLabels(t,r)},e.prototype.shouldInShapeLabels=function(t){var r=this;return(0,u.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=r.getElementShapeBBox(o);return s.width>=a.width})},e.prototype.inShapeLabels=function(t,r){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,f=s.lightStyle,h=(0,u.groupBy)(r,function(c){return c.get(pa)[An.FIELD_ORIGIN][o]});(0,u.each)(r,function(c){var v=h[c.get(pa)[An.FIELD_ORIGIN][o]]||[],x=c.get("element"),P=x.shape,D=Kf(P.attr("fill")),X=n.getElementShapeBBox(x),K=tn.fromBBoxObject(c.getBBox());if(Nf(a,X)<=0&&c.set("visible",!1),K.height>X.height){var Z=(0,u.findIndex)(v,function(mt){return mt===c});Z!==0&&c.set("visible",!1)}else{c.attr({y:X.y+X.height/2,textBaseline:"middle"});var gt=K.width>X.width||K.height>X.height;gt?c.attr({stroke:f==null?void 0:f.stroke}):c.attr({fill:D?f==null?void 0:f.fill:l==null?void 0:l.fill,fillOpacity:D?f==null?void 0:f.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},e.prototype.autoHideLabels=function(t,r){var n=this.getCoordinateBBox(),a=this.filterLabels(r),o=t.getXYFields()[0],s=[],l=[],f=(0,u.groupBy)(a,function(x){return x.get(pa)[An.FIELD_ORIGIN][o]}),h=(0,u.uniq)((0,u.map)(a,function(x){return x.get(pa)[An.FIELD_ORIGIN][o]})),c;for((0,u.size)(h)>0&&(c=h.shift(),(0,u.each)(f[c],function(x){return l.push(x)})),(0,u.size)(h)>0&&(c=h.pop(),(0,u.each)(f[c],function(x){return l.push(x)})),(0,u.each)(h.reverse(),function(x){(0,u.each)(f[x],function(P){return l.push(P)})});l.length>0;){var v=l.shift();v.get("visible")&&(El(v,n),Al(v,s)?v.set("visible",!1):s.push(v))}},e.prototype.filterLabels=function(t){var r=500,n=[],a=Math.max(Math.floor(t.length/r),1);return(0,u.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},e}(eh),aO=hg;aa("column-auto",hg);var oO={column:"interval"},sO=Bi(oO);(0,u.assign)(bn,sO);var lO=function(i){var e=i.opacity||1;return{opacity:e*.5}},uO=function(i){var e=i.opacity||1;return{opacity:e*.5,fillOpacity:e*.5}},rh={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:lO,disable:uO,selected:{lineWidth:1,stroke:"black"}}};oa("column",rh);var fO={column:"interval"},hO={interval:"column"},cg=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="column",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},title:{visible:!0}},yAxis:{nice:!0,title:{visible:!0},label:{visible:!0},grid:{visible:!0}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!1,position:"top",adjustColor:!0},legend:{visible:!0,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},e.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},e.prototype.afterRender=function(){var t=this.options;this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new kp((0,Jt.__assign)({view:this.view,field:t.yField,transpose:!0,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},e.prototype.geometryParser=function(t,r){return t==="g2"?fO[r]:hO[r]},e.prototype.processData=function(t){var r=this.options.xField,n=[];return(0,u.each)(t,function(a){var o=(0,u.clone)(a);o[r]=o[r].toString(),n.push(o)}),n},e.prototype.scale=function(){var t=this.options,r={};r[t.xField]={type:"cat"},(0,u.has)(t,"xAxis")&&Pi(r[t.xField],t.xAxis),r[t.yField]={},(0,u.has)(t,"yAxis")&&Pi(r[t.yField],t.yAxis),this.setConfig("scales",r),i.prototype.scale.call(this)},e.prototype.coord=function(){},e.prototype.adjustColumn=function(t){},e.prototype.addGeometry=function(){var t=this.options,r=fi("interval","main",{positionFields:[t.xField,t.yField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,u.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustColumn(r),this.column=r,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",r)},e.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.column.tooltip.fields.push(this.options.colorField)))},e.prototype.animation=function(){i.prototype.animation.call(this),this.options.animation===!1&&(this.column.animate=!1)},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,w)},e.prototype.renderLabel=function(){var t=this.config.scales,r=this.options,n=r.label,a=r.yField,o=t[a];if(n==null?void 0:n.visible){var s=po(this.view,"interval");this.doRenderLabel(s,(0,Jt.__assign)({type:"column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},e.prototype.applyResponsive=function(t){var r=this,n=nO[t];(0,u.each)(n,function(a){var o=a;o.method(r)})},e}(ri),Zo=cg;dn("column",cg);var cO=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="column",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=Zo.getDefaultOptions,e}($r),vg=cO;oa("groupedColumn",rh);var dg=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.baseType="column",t.type="groupedColumn",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{title:{visible:!0}}})},e.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme("column")},e.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},e.prototype.addGeometry=function(){i.prototype.addGeometry.call(this)},e.prototype.adjustColumn=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},e.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},e}(Zo),nh=dg;dn("groupedColumn",dg);var vO=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="groupedColumn",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=nh.getDefaultOptions,e}($r),pg=vO;function gg(i,e){var t=[],r=i.get("origin").points;return(0,u.each)(r,function(n){t.push(e.convertPoint(n))}),t}function dO(){return{areaStyle:{opacity:.2},lineStyle:{lineWidth:2,opacity:.1}}}var pO=function(){function i(e){this.areas=[],this.lines=[],this._areaStyle={},this._lineStyle={},(0,u.assign)(this,e),this._init()}return i.prototype.draw=function(){var e=this,t=this._getGroupedShapes();(0,u.each)(t,function(r,n){r.length>0&&e._drawConnection(r,n)}),this.triggerOn?this._addInteraction():this.animation&&this._initialAnimation()},i.prototype.clear=function(){this.container&&this.container.clear(),this.areas=[],this.lines=[]},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.setState=function(e,t){e==="active"&&this._onActive(t),e==="disabled"&&this._onDisabled(t),e==="selected"&&this._onSelected(t)},i.prototype._init=function(){var e=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){e.clear()})},i.prototype._getGroupedShapes=function(){var e=this,t=this.view.getScaleByField(this.field).values,r=this.view.geometries[0],n=r.getShapes(),a={};return(0,u.each)(t,function(o){a[o]=[]}),(0,u.each)(n,function(o){var s=o.get("origin").data,l=s[e.field];a[l].push(o)}),a},i.prototype._drawConnection=function(e,t){var r=e[0].attr("fill");this._areaStyle[t]=this._getShapeStyle(r,"area"),this._lineStyle[t]=this._getShapeStyle(r,"line");for(var n=this.view.geometries[0].coordinate,a=0;a<e.length-1;a++){var o=gg(e[a],n),s=gg(e[a+1],n),l=(0,u.mix)({},this._areaStyle[t]),f=(0,u.mix)({},this._lineStyle[t]);this.triggerOn&&(l.opacity=0,f.opacity=0);var h=this.container.addShape("path",{attrs:(0,u.mix)({},l,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y],["L",s[0].x,s[0].y],["L",o[3].x,o[3].y]]}),name:"connectedArea"}),c=this.container.addShape("path",{attrs:(0,u.mix)({},f,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y]]}),name:"connectedArea"}),v=e[a].get("origin").data;h.set("data",v),c.set("data",v),this.areas.push(h),this.lines.push(c)}},i.prototype._getShapeStyle=function(e,t){var r=t+"Style";if(this[r])return this[r];var n=dO()[r],a={fill:e};return t==="line"&&(a={stroke:e}),(0,u.mix)(n,a)},i.prototype._addInteraction=function(){var e=this,t=this.triggerOn;this.view.on("interval:"+t,function(r){var n=r.target.get("origin").data[e.field];e.setState("active",{name:e.field,exp:n}),e.setState("disabled",{name:e.field,exp:function(a){return a!==n}}),e.view.canvas.draw()}),this.view.on("mousemove",function(r){r.gEvent.target.get("name")!=="interval"&&e.setState("disabled",{name:e.field,exp:function(){return!0}})})},i.prototype._initialAnimation=function(){var e=this.view.coordinateBBox,t=e.x,r=e.y,n=e.width,a=e.height;this.container.setClip({type:"rect",attrs:{x:t,y:r,width:0,height:a}}),this.container.set("animating",!0),this.container.getClip().animate({width:n},600,"easeQuadOut",function(){},400)},i.prototype._onActive=function(e){var t=this;(0,u.each)(this.areas,function(r){var n=r.get("data"),a=n[t.field];if(Ja(n,e)){var o=t._areaStyle[a].opacity||1;r.stopAnimate(),r.animate({opacity:o},400,"easeQuadOut")}}),(0,u.each)(this.lines,function(r){var n=r.get("data"),a=n[t.field];if(Ja(n,e)){var o=t._lineStyle[a].opacity||1;r.stopAnimate(),r.animate({opacity:o},400,"easeQuadOut")}})},i.prototype._onDisabled=function(e){(0,u.each)(this.areas,function(t){var r=t.get("data");Ja(r,e)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))}),(0,u.each)(this.lines,function(t){var r=t.get("data");Ja(r,e)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))})},i.prototype._onSelected=function(e){this._onActive(e)},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(e){return e.type==="interval"})},i}(),gO=pO;oa("stackedColumn",rh);var yO=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.adjustLabel=function(t,r){var n=this.options.adjustPosition;if(n){var a=t.getBBox(),o=this.getElementShapeBBox(r);(o.height<a.height||o.width<a.width)&&t.hide()}},e}(eh),J9=null;aa("stacked-column",yO);var mO=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.shouldInShapeLabels=function(t){return!0},e}(aO),q9=null;aa("stacked-column-auto",mO);var yg=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedColumn",t.baseType="column",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0,position:"right-top"},label:{visible:!1,position:"middle",offset:0,adjustColor:!0},connectedArea:{visible:!1,triggerOn:"mouseenter"}})},e.prototype.init=function(){this.options.connectedArea.visible&&(this.options.tooltip.crosshairs=null),i.prototype.init.call(this)},e.prototype.afterRender=function(){var t=this.options;t.connectedArea.visible&&(this.connectedArea=new gO((0,Jt.__assign)({view:this.view,field:t.stackField,animation:t.animation!==!1},t.connectedArea))),i.prototype.afterRender.call(this)},e.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},e.prototype.adjustColumn=function(t){t.adjust=[{type:"stack"}]},e.prototype.renderLabel=function(){var t=this.config.scales,r=this.options,n=r.label,a=r.yField,o=t[a];if(n&&n.visible){var s=po(this.view,"interval");this.doRenderLabel(s,(0,Jt.__assign)({type:"stacked-column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},e.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},e}(Zo),Il=yg;dn("stackedColumn",yg);var xO=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="stackedColumn",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=Il.getDefaultOptions,e}($r),mg=xO,ih=8;function bO(i,e){var t;return(0,u.each)(i,function(r){var n=r;e>=n.from&&e<n.to&&(t=n.color)}),t}var wO=function(){function i(e){this.destroyed=!1,this.view=e.view,this.plot=e.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,e,{}),this.options.topStyle||(this.options.topStyle=this.options.style),this.options.bottomStyle||(this.options.bottomStyle=this.options.style),this.init()}return i.prototype.init=function(){var e=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){e.clear(),e.plot.canvas.draw()})},i.prototype.render=function(){var e=this,t=this.getGeometry(),r=t.coordinate,n=t.elements;this.coord=r,(0,u.each)(n,function(a){var o=a.shape,s=e.getPosition(o),l=e.getValue(o),f=e.getTextBaseline(),h=[];(0,u.each)(s,function(c,v){var x=v===1?e.options.topStyle:e.options.bottomStyle,P=e.getTextColor(o,v);e.options.position==="inner"&&e.options.adjustColor&&P!=="black"&&(x.stroke=null);var D=e.options.formatter,X=D?D(l[v]):l[v],K=e.container.addShape("text",{attrs:(0,u.deepMix)({},x,{x:c.x,y:c.y,text:X,fill:P,textAlign:"center",textBaseline:f[v]}),name:"label"});h.push(K),e.doAnimation(K)}),o.set("labelShapes",h),e.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(e){var t=this,r=[];(0,u.each)(e.get("origin").points,function(a){r.push(t.coord.convertPoint(a))});var n=new tn(r[0].x,r[1].y,Math.abs(r[2].x-r[0].x),Math.abs(r[0].y-r[1].y));return n},i.prototype.getDefaultOptions=function(){var e=this.plot.theme,t=e.label.style;return{position:"outer",offsetX:0,offsetY:ih,style:(0,u.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(e){var t=this.getShapeBbox(e),r=t.minX,n=t.minY,a=t.maxY,o=t.width,s=this.options.offsetY,l=r+o/2,f,h;return this.options.position==="outer"?(f=n-s,h=a+s):(f=n+s,h=a-s),[{x:l,y:h},{x:l,y:f}]},i.prototype.getValue=function(e){var t=this.plot.options.yField;return e.get("origin").data[t]},i.prototype.getTextBaseline=function(){return this.options.position==="outer"?["top","bottom"]:["bottom","top"]},i.prototype.getTextColor=function(e,t){if(this.options.adjustColor&&this.options.position==="inner"){var r=e.attr("fill"),n=e.attr("opacity")?e.attr("opacity"):1,a=qa(r),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=bO(s,o);return l}var f=t===1?this.options.topStyle.fill:this.options.bottomStyle.fill;return f},i.prototype.doAnimation=function(e){this.plot.animation&&this.plot.animation===!1||(e.attr("fillOpacity",0),e.attr("strokeOpacity",0),e.stopAnimate(),e.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(e,t,r){var n=r.get("origin"),a=n.y[1],o=n.y[0],s=r.getBBox(),l=s.height,f=l,h=this.view.coordinateBBox,c=[e.getBBox(),t.getBBox()],v=e.attr("y"),x=t.attr("y");if(this.options.adjustPosition&&this.options.position==="inner"){var P=c[0].height+c[1].height,D=c[1].maxY-c[0].minY>2,X=P>f;(D||X)&&(x=a-this.options.offsetY,t.attr("fill",this.options.topStyle.fill),t.attr("textBaseline","bottom"),v=o+this.options.offsetY,e.attr("fill",this.options.bottomStyle.fill),e.attr("textBaseline","top"),c[0]=e.getBBox(),c[1]=t.getBBox())}c[0].maxY>h.maxY-ih&&(v=h.maxY-ih/2,e.attr("textBaseline","bottom")),e.attr("y",v),t.attr("y",x),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(e){return e.type==="interval"})},i}(),SO=wO,xg;function bg(i,e){var t=i.getBBox(),r=t.minY+t.height/2;i.setClip({type:"rect",attrs:{x:t.minX,y:r,width:t.width,height:0}});var n=i.get("clipShape");n.animate({height:t.height,y:t.minY},e.duration,e.easing,function(){i.setClip(null)},e.delay)}bg.animationName="clipInFromCenterVertical";function MO(i){xg=i}function wg(i,e){var t=CO(i).attr("path"),r=(0,u.clone)(i.attr("path"));i.attr("path",t),i.animate({path:r},e.duration,e.easing,e.callback,100)}function CO(i){var e=i.id,t;return(0,u.each)(xg,function(r){r.id===e&&(t=r)}),t}wg.animationName="updateFromCenterVertical",pi("clipInFromCenterVertical",bg),pi("updateFromCenterVertical",wg);var Sg=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeColumn",t}return e.getDefaultOptions=function(){return(0,u.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"}},{})},e.prototype.afterRender=function(){this.renderLabel();var t=[],r=this.view.geometries;(0,u.each)(r,function(n){var a=n.elements;(0,u.each)(a,function(o){t.push(o.shape)})}),MO(t),i.prototype.afterRender.call(this)},e.prototype.animation=function(){i.prototype.animation.call(this),this.column.animate={appear:{animation:"clipInFromCenterVertical",duration:600},update:{animation:"updateFromCenterVertical",duration:600}}},e.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new SO((0,Jt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},e}(Zo),EO=Sg;dn("rangeColumn",Sg);var AO=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="rangeColumn",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=EO.getDefaultOptions,e}($r),Mg=AO,Cg=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedColumn",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!0,position:"middle",offset:0},yAxis:{visible:!0,tick:{visible:!1},grid:{visible:!1},title:{visible:!0},label:{visible:!1}}})},e.prototype.processData=function(t){var r=this.options,n=r.xField,a=r.yField;return Qf(t||[],n,[a])},e.prototype.scale=function(){var t={},r=this.options.yField;t[r]={tickCount:6,alias:r+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,u.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},e}(Il),Eg=Cg;dn("percentStackedColumn",Cg);var TO=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="percentStackedColumn",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=Eg.getDefaultOptions,e}($r),Ag=TO,PO={pie:"interval"},_O=Bi(PO);(0,u.assign)(bn,_O);function kl(i,e,t){return{x:i.x+t*Math.cos(e),y:i.y+t*Math.sin(e)}}function tY(i){return{x:i.x+i.width/2,y:i.y+i.height/2}}function OO(i,e,t){t===void 0&&(t=0);var r=Math.max(0,Math.min(i.x+i.width+t,e.x+e.width+t)-Math.max(i.x-t,e.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,e.y+e.height+t)-Math.max(i.y-t,e.y-t));return r*n}function LO(i,e,t){t===void 0&&(t=0);var r=Math.max(0,Math.min(i.x+i.width+t,e.x+e.width+t)-Math.max(i.x-t,e.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,e.y+e.height+t)-Math.max(i.y-t,e.y-t));return r&&i.x<e.x&&(r=-r),n&&i.y<e.y&&(n=-n),i.x===e.x&&i.width===e.width&&(r=e.width),i.y===e.y&&i.height===e.height&&(n=e.height),{xOverlap:r,yOverlap:n}}function eY(i,e){return i.x<e.x&&i.x+i.width>e.x+e.width&&i.y<e.y&&i.y+i.height>e.y+e.height}var IO=function(i,e,t){return t===void 0&&(t=Math.pow(Number.EPSILON,.5)),[i,e].includes(Infinity)?Math.abs(i)===Math.abs(e):Math.abs(i-e)<t};function kO(i,e){var t=i.getCenter();return Math.atan2(e.y-t.y,e.x-t.x)}function BO(i){var e=Math.PI/2,t=i;return(t>e||t<-e)&&(t=t+Math.PI),t}var rY=4;function DO(i){var e=Number(i.endsWith("%")?i.slice(0,-1):i);return e/100}function FO(i,e){var t=i.getBBox();e.y<=t.y&&e.y+e.height>=t.y+t.height||i.get("parent").set("visible",!1)}var RO=function(){function i(e,t){this.destroyed=!1,this.plot=e,this.coordinateBBox=this.plot.view.coordinateBBox;var r=(0,u.deepMix)(this.getDefaultOptions(),t,{});this.adjustOption(r),this.options=r,this.init()}return i.prototype.adjustOverlap=function(e,t){for(var r=1;r<e.length;r++)for(var n=e[r],a=0,o=r-1;o>=0;o--){var s=e[o],l=s.getBBox(),f=n.getBBox();if(s.get("parent").get("visible")&&(a=OO(l,f),!IO(a,0))){n.get("parent").set("visible",!1);break}}e.forEach(function(h){return FO(h,t)})},i.prototype.adjustItem=function(e){},i.prototype.init=function(){var e=this;this.container=this.getGeometry().labelsContainer,this.plot.view.on("beforerender",function(){e.clear(),e.plot.canvas.draw()})},i.prototype.render=function(){this.clear(),this.initArcPoints(),this.drawTexts(),this.drawLines()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getFilteredSum=function(){var e=this.plot.options.angleField,t=this.plot.view.filteredData||[];return t.reduce(function(r,n){return r+n[e]},0)},i.prototype.drawTexts=function(){var e=this,t=this.options,r=t.style,n=t.formatter,a=t.autoRotate,o=t.offsetX,s=t.offsetY,l=t.adjustPosition,f=t.allowOverlap,h=this.getItems(),c=[];h.map(function(v,x){var P=(0,u.deepMix)({},v,r),D=e.getFilteredSum(),X=e.plot.options.angleField,K=v.origin[X]/D,Z=n?n(v.name,{_origin:v.origin,percent:K},x):v.name,gt=e.container.addGroup({name:"itemGroup",index:x,capture:!1}),mt=gt.addShape("text",{attrs:(0,u.deepMix)({},P,{x:v.x+o,y:v.y+s,text:Z})});mt.set("id","text-"+v.name+"-"+x),c.push(mt)}),c.forEach(function(v){var x=e.coordinateBBox;e.adjustText(v,x)}),l&&this.layout(c,h,this.coordinateBBox),f||this.adjustOverlap(c,this.coordinateBBox),c.forEach(function(v,x){a&&e.rotateLabel(v,BO(h[x].angle))})},i.prototype.adjustText=function(e,t){var r=e.getBBox(),n=r.width,a=0;if(r.maxX>t.maxX?n=t.maxX-r.minX:r.minX<t.minX&&(n=r.maxX-t.minX),e.attr("textAlign")==="left"?e.attr("x",Math.max(r.x-a,0)):e.attr("textAlign")==="right"&&e.attr("x",Math.max(r.maxX-a,0)),n!==r.width){var o={};["fontSize","fontFamily","fontWeight"].forEach(function(l){o[l]=e.attr(l)});var s=e.attr("text").split(`
`).map(function(l){return Ad(l,n,o)});e.attr("text",s.join(`
`))}},i.prototype.drawLines=function(){var e=this;if(this.options.line.visible){var t=this.container.get("children"),r=this.getCoordinate().center;t.forEach(function(n,a){var o=n.get("children")[0],s=e.arcPoints[a],l=s.x<r.x,f=e.options.offset>4?4:0,h=e.getLinePath(o,s,f),c=e.options.line;n.addShape("path",{attrs:(0,Jt.__assign)({path:h,stroke:s.color},c)}),o.attr("x",o.attr("x")+(l?-f:f))})}},i.prototype.getLinePath=function(e,t,r){var n=this.options.line?this.options.line.smooth:!1,a=t.angle,o=this.getCoordinate(),s=o.center,l=o.radius,f=kl(s,a,l+r);r<4&&(f=t);var h=t.x<s.x,c=e.getBBox(),v={x:h?c.maxX:c.minX,y:c.y+c.height/2},x=["C",v.x+(h?1:-1)*(r<4?r/2:4),v.y,2*f.x-t.x,2*f.y-t.y,f.x,f.y],P=["L",f.x,f.y],D=n?x:P,X=["M",v.x,v.y].concat(D).concat("L",t.x,t.y);return X.join(",")},i.prototype.getGeometry=function(){return this.plot.view.geometries[0]},i.prototype.getCoordinate=function(){var e=this.getGeometry().coordinate,t=e.getCenter(),r=e.getRadius(),n=e.startAngle;return{center:t,radius:r,startAngle:n}},i.prototype.adjustOption=function(e){var t=e.offset,r=this.getCoordinate().radius;(0,u.isString)(t)&&(t=r*DO(t)),e.offset=t},i.prototype.rotateLabel=function(e,t){var r=e.attr("x"),n=e.attr("y"),a=cn.transform(e.getMatrix(),[["t",-r,-n],["r",t],["t",r,n]]);e.setMatrix(a)},i.prototype.getItems=function(){var e=this,t=this.options.offset,r=this.getCoordinate(),n=r.center,a=r.radius,o=this.arcPoints.map(function(s){var l=kl(n,s.angle,a+t),f=(0,Jt.__assign)((0,Jt.__assign)({},s),l);return e.adjustItem(f),f});return o},i.prototype.initArcPoints=function(){var e=this,t=this.plot.options.angleField,r=this.getGeometry().elements,n=this.getCoordinate(),a=n.center,o=n.radius,s=this.getCoordinate().startAngle,l=this.getGeometry().attributes.position.scales,f=l[1],h=f.field,c=r.map(function(v){var x=v.shape.get("origin"),P=x.color,D=x.data[0]||x.data,X=s+Math.PI*2*f.scale(D[h]),K=(s+X)/2,Z=kl(a,K,o);s=X;var gt=f.getText(D[t]),mt=Z.x>a.x?"left":"right";return{x:Z.x,y:Z.y,color:P,name:gt,origin:D,angle:kO(e.getGeometry().coordinate,Z),textAlign:mt}});this.arcPoints=c},i}(),ah=RO;function nY(i){var e=Number(i.endsWith("%")?i.slice(0,-1):i);return e/100}var NO=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset>0&&(t.offset=0)},e.prototype.adjustItem=function(t){t.textAlign="middle"},e.prototype.drawLines=function(){},e.prototype.layout=function(t,r){var n=this;t.forEach(function(a,o){o>0&&(0,u.each)(t.slice(0,o),function(s){n.resolveCollision(a,s,r[o])})})},e.prototype.getDefaultOptions=function(){var t=this.plot.theme,r=t.label.style;return{offsetX:0,offsetY:0,offset:"-30%",style:(0,Jt.__assign)((0,Jt.__assign)({},r),{textAlign:"center",textBaseline:"middle"})}},e.prototype.resolveCollision=function(t,r,n){var a=this.getCoordinate().center,o=n.angle,s=t.getBBox(),l=r.getBBox(),f={x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},h=(0,u.clone)(f),c=(0,u.clone)(f);if(r.get("id")!==t.get("id")){var v=LO(s,l),x=v.xOverlap,P=v.yOverlap;if(x&&(h.x=f.x+x,h.y=f.y+Math.tan(o)*x),P){var D=P;f.y<a.y?D=D<0?D:l.minY-s.maxY:D=D>0?D:l.maxY-s.minY,c.y=f.y+D,c.x=f.x+D/Math.tan(o)}var X=id(f,h),K=id(f,c),Z=X<K?h:c;t.attr("x",Z.x),t.attr("y",Z.y)}},e}(ah),YO=NO,iY=16,GO=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},e.prototype.getDefaultOptions=function(){var t=this.plot.theme,r=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:(0,Jt.__assign)((0,Jt.__assign)({},r),{textBaseline:"middle"})}},e.prototype.layout=function(t,r,n){var a=this,o=this.getCoordinate().center,s=(0,u.filter)(t,function(f){return f.attr("x")<=o.x}),l=(0,u.filter)(t,function(f){return f.attr("x")>o.x});[l,s].forEach(function(f,h){a._antiCollision(f,!h,n)})},e.prototype._antiCollision=function(t,r,n){var a=this,o=this.getLabelHeight(t),s=this.getCoordinate(),l=s.center,f=s.radius,h=this.options.offset,c=f+h,v=Math.min(n.height,Math.max(c*2+o*2,t.length*o)),x=Math.floor(v/o);this.options.allowOverlap||t.slice(x).forEach(function(ne){ne.get("parent").set("visible",!1)}),t.splice(x,t.length-x),t.sort(function(ne,xe){return ne.getBBox().y-xe.getBBox().y});for(var P=!0,D,X=l.y+v/2,K=l.y-v/2,Z=t.map(function(ne){var xe=ne.getBBox();return xe.maxY>X&&(X=Math.min(n.maxY,xe.maxY)),xe.minY<K&&(K=Math.max(n.minY,xe.minY)),{text:ne.attr("text"),size:o,pos:xe.y,targets:[]}}),gt=0;gt<Z.length;)gt===Z.length-1?Z[gt].targets[0]=X:Z[gt].targets[0]=Z[gt+1].pos-Z[gt+1].size/2,gt++;for(;P;)for(Z.forEach(function(ne){var xe=(0,u.last)(ne.targets);ne.pos=Math.max(K,Math.min(ne.pos,xe-ne.size))}),P=!1,D=Z.length;D--;)if(D>0){var mt=Z[D-1],Nt=Z[D];if(mt.pos+mt.size>Nt.pos){mt.size+=Nt.size,mt.targets=mt.targets.concat(Nt.targets);var Zt=(0,u.last)(mt.targets);mt.pos+mt.size>Zt&&(mt.pos=Zt-mt.size),Z.splice(D,1),P=!0}else mt.targets.splice(-1,1,Nt.pos)}D=0,Z.forEach(function(ne){var xe=o/2;ne.targets.forEach(function(){t[D].attr("y",ne.pos+xe),xe+=o,D++})});var ee=[],ue=[];t.forEach(function(ne,xe){var Pe=a.arcPoints[xe];Pe.angle>=0&&Pe.angle<=Math.PI?ue.push(ne):ee.push(ne)}),[ee,ue].forEach(function(ne,xe){if(!!ne.length){var Pe=xe?(0,u.last)(ne).getBBox().maxY-l.y:l.y-(0,u.head)(ne).getBBox().minY;Pe=Math.max(c,Pe);var Ye=h>4?4:0,He=Math.max.apply(0,(0,u.map)(t,function(wr){return wr.getBBox().width}))+h+Ye,Ze=Math.max(c,Math.min((Pe+c)/2,l.x-(n.minX+He))),Ue=Ze*Ze,ur=Pe*Pe;ne.forEach(function(wr,mr){var pr=a.arcPoints[mr],fr=wr.getBBox(),Yr={x:fr.minX+fr.width/2,y:fr.minY+fr.height/2},_r=Math.pow(Yr.y-l.y,2),Fr=kl(l,pr.angle,f),yr=(r?1:-1)*Ye*2;if(_r>ur)console.warn("\u5F02\u5E38(\u4E00\u822C\u4E0D\u4F1A\u51FA\u73B0)",wr.attr("text")),wr.attr("x",Fr.x+yr);else{var Ir=l.x+(r?1:-1)*Math.sqrt((1-_r/ur)*Ue);(l.x===Fr.x&&Yr.y===Fr.y||l.y===Fr.y&&Ir===Fr.x)&&(Ir=Fr.x),wr.attr("x",Ir+yr)}})}})},e.prototype.getLabelHeight=function(t){return this.options.labelHeight?this.options.labelHeight:(0,u.head)(t)?(0,u.head)(t).getBBox().height:14},e}(ah),zO=GO,aY=16,XO=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},e.prototype.getDefaultOptions=function(){var t=this.plot.theme,r=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:(0,Jt.__assign)((0,Jt.__assign)({},r),{textBaseline:"middle"})}},e.prototype.adjustItem=function(t){var r=this.options.offset;t.textAlign==="left"?t.x+=r>4?4:r/2:t.textAlign==="right"&&(t.x-=r>4?4:r/2)},e.prototype.layout=function(t,r,n){},e}(ah),VO=XO,Tg={inner:YO,outer:zO,"outer-center":VO};function HO(i){if(!Tg[i]){console.warn("this label "+i+" is not registered");return}return Tg[i]}var WO=0,oh=15,jO="#CCC",UO=2,ZO=-2,Pg=15;function _g(i,e,t){return{x:i.x+t*Math.cos(e),y:i.y+t*Math.sin(e)}}var KO=function(){function i(e){this.destroyed=!1,this.view=e.view,this.options=(0,u.deepMix)({},this.getDefaultOptions(),e),this._adjustOptions(this.options),this.init()}return i.prototype.init=function(){var e=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){e.clear()})},i.prototype.render=function(){var e=this;if(!(!this.view||this.view.destroyed)){var t=(0,u.clone)(this.view.getData());this.halves=[[],[]];var r=[],n=this.view.geometries[0].elements;(0,u.each)(n,function(Nt){r.push(Nt.shape)}),this.coord=this.view.geometries[0].coordinate;var a=this.options,o=a.allZero,s=a.angleField,l=this.options.fields[0],f=this.view.getScalesByDim("y")[l],h=this.coord.getCenter(),c=this.coord.startAngle,v=this.coord.polarRadius,x=this.view.coordinateBBox,P=x.width,D=x.height;this.width=P,this.height=D;for(var X=c,K=function(Nt){var Zt=t[Nt],ee=f.scale(Zt[l]),ue=X+Math.PI*2*ee,ne=X+(ue-X)/2;X=ue;var xe=_g(h,ne,v+WO),Pe=_g(h,ne,v+oh),Ye=jO;if(Z.options.fields.length===2){var He=Z.options.fields[1],Ze=Z.view.geometries[0].scales[He],Ue=Ze.scale(Zt[He]);if(Ue){var ur=Math.floor(Ue*(r.length-1));Ye=r[ur].attr("fill")}}var wr={_anchor:xe,_inflection:Pe,_data:Zt,x:Pe.x,y:Pe.y,r:v+oh,fill:Ye,textGroup:null,_side:null},mr=[];if((0,u.each)(Z.options.fields,function(Vr){o&&Vr===Bl?mr.push(Zt[s]):mr.push(Zt[Vr])}),Z.options.formatter){var pr=Z.options.formatter(Zt[s],{_origin:Zt,color:Ye},Nt);(0,u.isString)(pr)&&(pr=[pr]),mr=pr}var fr=Z.container.addGroup({capture:!1,visible:!1}),Yr={x:0,y:0,fontSize:Z.options.text.fontSize,lineHeight:Z.options.text.fontSize,fontWeight:Z.options.text.fontWeight,fill:Z.options.text.fill},_r=Zt[s];Z.options.formatter&&(_r=mr[0]);var Fr=(0,u.clone)(Yr);mr.length===2&&(Fr.fontWeight=700);var yr=fr.addShape("text",{attrs:(0,u.mix)({textBaseline:mr.length===2?"top":"middle",text:_r},Fr),data:Zt,offsetY:mr.length===2?UO:0,name:"label"});if(yr.name="label",mr.length===2){var Ir=fr.addShape("text",{attrs:(0,u.mix)({textBaseline:"bottom",text:mr[1]},Yr),data:Zt,offsetY:ZO,name:"label"});Ir.name="label"}wr.textGroup=fr,xe.x<h.x?(wr._side="left",Z.halves[0].push(wr)):(wr._side="right",Z.halves[1].push(wr))},Z=this,gt=0;gt<t.length;gt++)K(gt);var mt=Math.floor(D/this.options.lineHeight);(0,u.each)(this.halves,function(Nt){Nt.length>mt&&Nt.splice(mt,Nt.length-mt),Nt.sort(function(Zt,ee){return Zt.y-ee.y}),e._antiCollision(Nt)}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.view.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.view.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getDefaultOptions=function(){return{text:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12},line:{lineWidth:.5,stroke:"rgba(0, 0, 0, 0.45)"},lineHeight:32,sidePadding:20}},i.prototype._antiCollision=function(e){var t=this,r=this.coord,n=r.getHeight(),a=r.center,o=r.getRadius(),s=a.y-o-oh-this.options.lineHeight,l=!0,f=n,h,c=0,v=Number.MIN_VALUE,x=0,P=e.map(function(gt){var mt=gt.y;mt>c&&(c=mt),mt<v&&(v=mt);var Nt=gt.textGroup,Zt=Nt.getBBox().width;return Zt>=x&&(x=Zt),{size:t.options.lineHeight,targets:[mt-s]}});c-s>f&&(f=c-s);for(var D=function(gt){gt.forEach(function(mt){var Nt=(Math.min.apply(v,mt.targets)+Math.max.apply(v,mt.targets))/2;mt.pos=Math.min(Math.max(v,Nt-mt.size/2),f-mt.size)})};l;)for(D(P),l=!1,h=P.length;h--;)if(h>0){var X=P[h-1],K=P[h];X.pos+X.size>K.pos&&(X.size+=K.size,X.targets=X.targets.concat(K.targets),X.pos+X.size>f&&(X.pos=f-X.size),P.splice(h,1),l=!0)}h=0,P.forEach(function(gt){var mt=s;gt.targets.forEach(function(){e[h].y=gt.pos+mt+t.options.lineHeight/2,mt+=t.options.lineHeight,h++})});var Z=[];e.forEach(function(gt){var mt=t._drawLabel(gt);t._drawLabelLine(gt,x,mt),Z.push(mt)})},i.prototype._drawLabel=function(e){var t=this.coord,r=t.getCenter(),n=t.getRadius(),a=e.y,o=e.textGroup,s=o.get("children"),l=e._side==="left"?1:-1,f=(0,Jt.__assign)({textAlign:e._side==="left"?"right":"left",x:e._side==="left"?r.x-n-this.options.sidePadding:r.x+n+this.options.sidePadding},this.options.style);return this.options.offsetX&&(f.x+=this.options.offsetX*l),s.forEach(function(h){var c=h.get("offsetY"),v=a+c;h.attr(f),h.attr("y",v)}),o.show(),o},i.prototype._drawLabelLine=function(e,t,r){var n=[e._anchor.x,e._anchor.y],a=[e._inflection.x,e._inflection.y],o=e.y,s=e.textGroup;if(!!s){var l=[e._side==="left"?s.getBBox().maxX+4:s.getBBox().minX-4,o],f=[n,a,l];if(a[1]!==o)if(a[1]<this.height/2&&a[1]<o||a[1]>=this.height/2&&a[1]>o){var h=a,c=l[0]+Pg,v=l[0]-Pg,x=[e._side==="left"?c:v,a[1]];f=[n,h,x,l],(e._side==="right"&&x[0]<h[0]||e._side==="left"&&x[0]>h[0])&&(f=[n,h,l])}else f=[n,[a[0],o],l];for(var P=[],D=0;D<f.length;D++){var X=f[D],K="L";D===0&&(K="M"),P.push([K,X[0],X[1]])}r.addShape("path",{attrs:{path:P,lineWidth:this.options.line.lineWidth,stroke:this.options.line.stroke}})}},i.prototype._adjustOptions=function(e){e.text.fontSize&&(e.lineHeight=e.text.fontSize*3)},i}(),$O=KO,QO=function(i){var e=i.opacity||1;return{fillOpacity:e*.8}},JO=function(i){var e=i.opacity||1;return{fillOpacity:e*.5}};oa("pie",{columnStyle:{normal:{},active:QO,disable:JO,selected:{lineWidth:1,stroke:"black"}}});var Bl="$$percentage$$",qO={pie:"interval"},tL={pie:"column"},Og=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="pie",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,label:{visible:!0,type:"inner",autoRotate:!1,adjustPosition:!0,allowOverlap:!1,line:{visible:!0,smooth:!0}},legend:{visible:!0,position:"right-center"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},pieStyle:{stroke:"white",lineWidth:1}})},e.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,r=t.angleField,n=t.colorField,a=t.data,o=(0,u.every)(a,function(l){return l[r]===0});if(o){var s=this.view.geometries[0];s.tooltip(n+"*"+r)}},e.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;if(t.label&&t.label.visible){this.labelComponent&&this.labelComponent.clear();var r=t.label;if(r.type==="spider"){var n=t.data,a=t.colorField,o=t.angleField,s=(0,u.every)(n,function(h){return h[o]===0}),l=s?Bl:o;this.labelComponent=new $O((0,Jt.__assign)({view:this.view,fields:a?[l,a]:[l],angleField:o,allZero:s},this.options.label)),this.labelComponent.render()}else{var f=HO(r.type);this.labelComponent=new f(this,t.label),this.labelComponent.render()}}},e.prototype.getAngleScale=function(){var t=this.options.angleField;if(t)return this.view.getScaleByField(t)},e.prototype.geometryParser=function(t,r){return t==="g2"?qO[r]:tL[r]},e.prototype.scale=function(){var t=this.options;i.prototype.scale.call(this);var r={};r[t.angleField]={},r[t.colorField]={type:"cat"},r=(0,u.deepMix)({},this.config.scales,r),this.setConfig("scales",r)},e.prototype.processData=function(t){var r=this.options.angleField,n=(0,u.every)(t,function(a){return a[r]===0});return n?t.map(function(a){var o;return(0,Jt.__assign)((0,Jt.__assign)({},a),(o={},o[r]=typeof a[r]=="string"?Number.parseFloat(a[r]):a[r],o[Bl]=1/t.length,o))}):t.map(function(a){var o,s=a[r];return(0,Jt.__assign)((0,Jt.__assign)({},a),(o={},o[r]=s&&!isNaN(s)?+s:s,o))})},e.prototype.axis=function(){},e.prototype.coord=function(){var t=this.options,r={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",r)},e.prototype.addGeometry=function(){var t=this.options,r=t.data,n=t.angleField,a,o=(0,u.every)(r,function(s){return s[n]===0});o?a=fi("interval","main",{plot:this,positionFields:[1,Bl]}):a=fi("interval","main",{plot:this,positionFields:[1,t.angleField]}),a.adjust=[{type:"stack"}],this.pie=a,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",a)},e.prototype.geometryTooltip=function(){this.pie.tooltip={};var t=this.options.tooltip;t.fields?this.pie.tooltip.fields=t.fields:this.pie.tooltip.fields=[this.options.angleField,this.options.colorField],t.formatter&&(this.pie.tooltip.callback=t.formatter,t.fields||(this.pie.tooltip.fields=[this.options.angleField,this.options.colorField]))},e.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.pie.animate=!1)},e.prototype.annotation=function(){},e.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,y)},e.prototype.label=function(){this.pie.label=!1},e}(ri),Lg=Og;dn("pie",Og);var eL=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="pie",i.prototype.createLayers.call(this,r)},e.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},e.getDefaultOptions=Lg.getDefaultOptions,e}($r),Ig=eL,rL=.3989422804014327,nL=1/255/16,xs="_origin",iL=function(i){(0,Jt.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.type="heatmap",r.paletteCache={},r.intensity=t.intensity,r.radius=t.radius,r}return e.prototype.createElements=function(t){var r=this.prepareRange(t);return this.prepareSize(),this.prepareBlur(),this.prepareGreyScaleBlurredCircle(this.radius),this.drawWithRange(t,r),null},e.prototype.clear=function(){this.clearShadowCanvasCtx(),i.prototype.clear.call(this)},e.prototype.prepareRange=function(t){var r=this.getAttribute("color"),n=r.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[xs][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},e.prototype.prepareSize=function(){var t=this.radius;this.radius||(t=this.getDefaultValue("size"),(0,u.isNumber)(t)||(t=this.getDefaultSize()),this.radius=t)},e.prototype.prepareBlur=function(){var t=(0,u.get)(this.styleOption,["style","shadowBlur"]);(0,u.isNumber)(t)||(t=this.radius/2),this.blur=t},e.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),r=this.coordinate,n=Math.min(r.getWidth()/(t.scales[0].ticks.length*4),r.getHeight()/(t.scales[1].ticks.length*4));return n},e.prototype.colorize=function(t){for(var r=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if(s){var l=void 0;a[s]?l=a[s]:(l=qa(r.gradient(s/256)),a[s]=l),n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},e.prototype.prepareGreyScaleBlurredCircle=function(t){var r=this.grayScaleCanvas;r||(r=document.createElement("canvas"),this.grayScaleCanvas=r);var n=this.intensity?this.intensity:2,a=Math.sqrt(-2*Math.log(nL/t/n/rL))/3*t,o=a-t,s=a+o,l=r.getContext("2d");r.width=r.height=s*2,l.clearRect(0,0,r.width,r.height),l.shadowOffsetX=l.shadowOffsetY=s*2,l.shadowBlur=o,l.shadowColor="black",l.beginPath(),l.arc(-s,-s,t,0,Math.PI*2,!0),l.closePath(),l.fill()},e.prototype.drawGrayScaleBlurredCircle=function(t,r,n,a,o){var s=this.grayScaleCanvas;o.globalAlpha=a,o.drawImage(s,t-n,r-n)},e.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight();var r=t.getContext("2d");return r.globalCompositeOperation="lighter",r},e.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},e.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var r=this.container;t=r.addShape({type:"image",attrs:{}}),this.imageShape=t},e.prototype.drawWithRange=function(t,r){var n=this.coordinate,a=n.start,o=n.end,s=this.coordinate.getWidth(),l=this.coordinate.getHeight(),f=this.getAttribute("color"),h=f.getFields()[0];this.clearShadowCanvasCtx();var c=this.getShadowCanvasCtx();r&&(t=t.filter(function(gt){return gt[xs][h]<=r[1]&&gt[xs][h]>=r[0]}));for(var v=this.scales[h],x=0;x<t.length;x++){var P=t[x],D=this.getDrawCfg(P),X=v.scale(P[xs][h]);this.drawGrayScaleBlurredCircle(D.x-a.x,D.y-o.y,this.radius+this.blur,X,c)}var K=c.getImageData(0,0,s,l);this.clearShadowCanvasCtx(),this.colorize(K),c.putImageData(K,0,0);var Z=new Image;Z.src=c.canvas.toDataURL("image/png"),this.getImageShape(),this.imageShape.attr("x",a.x),this.imageShape.attr("y",o.y),this.imageShape.attr("width",s),this.imageShape.attr("height",l),this.imageShape.attr("img",c.canvas),this.imageShape.set("origin",this.getShapeInfo(t))},e.prototype.getShapeInfo=function(t){var r=this.getDrawCfg(t[0]);return(0,Jt.__assign)((0,Jt.__assign)({},r),{mappingData:t,data:this.getData(t)})},e.prototype.getData=function(t){return t.map(function(r){return r[xs]})},e}(Za);ia("linearHeatmap",iL);var aL=function(i){(0,Jt.__extends)(e,i);function e(t){var r=i.call(this)||this;return r.options=t,r.view=r.options.view,r.init(),r}return e.prototype.init=function(){var t=this.getCoordinate();this.width=t.getWidth(),this.height=t.getHeight(),this.x=t.start.x,this.y=t.end.y,this.container=this.view.backgroundGroup.addGroup({})},e.prototype.render=function(){if(this.options.type==="color")this.renderColorBackground();else if(this.options.type==="image")this.renderImageBackground();else if(this.options.callback){var t={x:this.x,y:this.y,width:this.width,height:this.height,container:this.container};this.options.callback(t)}},e.prototype.renderColorBackground=function(){this.container.addShape("rect",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,fill:this.options.value},name:"heatmap-background"})},e.prototype.renderImageBackground=function(){this.container.addShape("image",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,img:this.options.src},name:"heatmap-background"})},e.prototype.clear=function(){this.container&&(this.container.clear(),this.emit("background:clear"))},e.prototype.destroy=function(){this.container&&(this.container.remove(),this.emit("background:destroy"))},e.prototype.getCoordinate=function(){var t;return(0,u.each)(this.view.geometries,function(r){r.type==="heatmap"&&(t=r.coordinate)}),t},e}(Be.default),oL=aL,Dl=4,kg=1,sL=.1,lL=function(){function i(e){this.destroyed=!1,this.dataSlides={};var t=this.getDefaultOptions();e.plot.options.theme&&e.plot.options.theme==="dark"&&(t=this.getDarkOptions()),this.options=(0,u.deepMix)({},t,e),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var e=this.options.plot.container;this.container=e.addGroup()},i.prototype.render=function(){var e=this.getScales(),t=this.options.plot.options.colorField;this.colorScale=e[t];var r=this.colorScale,n=r.min,a=r.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction(),this.options.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){var e=this.container.getBBox();return new tn(this.x,this.y,e.width,e.height)},i.prototype.renderVertical=function(e,t,r){var n=this,a=this.width,o=this.height/r.length,s=this.container.addGroup(),l=(0,u.clone)(r).reverse(),f=(t-e)/r.length;(0,u.each)(l,function(h,c){var v=o*c,x={to:t-f*c,from:t-f*(c+1)},P=n.container.addShape("rect",{attrs:{x:0,y:v,width:a,height:o,fill:h,opacity:kg,cursor:"pointer"},name:"legend"});P.set("info",x);var D=n.getDataSlide(x);n.dataSlides[x.from+"-"+x.to]={mode:"active",data:D},s.addShape("path",{attrs:(0,Jt.__assign)({path:[["M",0,v+o],["L",a,v+o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:(0,Jt.__assign)({text:t,x:a/2,y:-Dl,textAlign:"center",textBaseline:"bottom"},this.options.text.style),name:"legend-label"}),this.container.addShape("text",{attrs:(0,Jt.__assign)((0,Jt.__assign)({text:e,x:a/2,y:this.height+Dl,textAlign:"center",textBaseline:"top"},this.options.text.style),{name:"legend-label"})}),s.addShape("path",{attrs:(0,Jt.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.renderHorizontal=function(e,t,r){var n=this,a=this.width/r.length,o=this.height,s=this.container.addGroup(),l=(t-e)/r.length;(0,u.each)(r,function(f,h){var c=a*h,v={from:l*h,to:l*(h+1)},x=n.container.addShape("rect",{attrs:{x:c,y:0,width:a,height:o,fill:f,opacity:.8,cursor:"pointer"},name:"legend"});x.set("info",v),s.addShape("path",{attrs:(0,Jt.__assign)({path:[["M",c+a,0],["L",c+a,o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:(0,Jt.__assign)((0,Jt.__assign)({text:e,x:-Dl,y:o/2},this.options.text.style),{textAlign:"right",textBaseline:"middle"}),name:"legend-label"}),this.container.addShape("text",{attrs:(0,Jt.__assign)({text:t,x:this.width+Dl,y:o/2,textAlign:"left",textBaseline:"middle"},this.options.text.style),name:"legend-label"}),s.addShape("path",{attrs:(0,Jt.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.getLayout=function(){var e=this.options.position.split("-");return this.position=e[0],e[0]==="left"||e[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var e=this.options.plot.options.width;return e*.5}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var e=this.options.plot.options.height;return e*.5}return 10},i.prototype.legendLayout=function(){var e=this,t=this.options.plot.getPlotTheme().bleeding;(0,u.isArray)(t)&&(0,u.each)(t,function(f,h){typeof t[h]=="function"&&(t[h]=t[h](e.options.plot.options))});var r=this.container.getBBox(),n=0,a=0,o=this.options.position.split("-"),s=this.options.plot.width,l=this.options.plot.height;o[0]==="left"?n=t[3]:o[0]==="right"?n=s-t[1]-r.width:o[1]==="center"?n=(s-r.width)/2:o[1]==="left"?n=t[3]:o[1]==="right"&&(n=this.options.plot.width-t[1]-r.width),o[0]==="bottom"?a=l-t[2]-r.height:o[0]==="top"?a=this.getTopPosition(t):o[1]==="center"?a=(l-r.height)/2:o[1]==="top"?a=t[0]:o[1]==="bottom"&&(a=l-t[2]-r.height),this.x=n,this.y=a,this.container.translate(n,a)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}}},i.prototype.getDarkOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(255, 255, 255, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(255, 255, 255, 0.25)"}}},i.prototype.addInteraction=function(){var e=this,t=this.options.plot.options.colorField;this.container.on("click",function(r){var n=r.target;if(n.get("name")==="legend"){var a=n.get("info"),o=a.from+"-"+a.to,s=e.dataSlides[o];s.mode==="active"?(s.mode="deactive",n.stopAnimate(),n.animate({opacity:sL},200)):(s.mode="active",n.stopAnimate(),n.animate({opacity:kg},200));var l=e.getFilteredData();l.length>0&&(e.view.changeData(l),e.view.scale(t,{min:e.colorScale.min,max:e.colorScale.max,nice:e.colorScale.nice}),e.view.render())}})},i.prototype.getFilteredData=function(){var e=[];return(0,u.each)(this.dataSlides,function(t){t.mode=="active"&&e.push.apply(e,t.data)}),e},i.prototype.getDataSlide=function(e){var t=[],r=this.options.plot.options,n=r.colorField,a=r.data;return(0,u.each)(a,function(o){var s=o[n];s>=e.from&&s<e.to&&t.push(o)}),t},i.prototype.getTopPosition=function(e){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return e[0]},i.prototype.getScales=function(){var e;return(0,u.each)(this.view.geometries,function(t){t.type==="heatmap"&&(e=t.scales)}),e},i}(),uL=lL,fL={background:{Ctr:oL},legend:{Ctr:uL,padding:"outer"}};function hL(i,e,t){if(i.options[e]&&i.options[e].visible){var r=fL[e],n=new r.Ctr(t);return r.padding&&i.paddingController.registerPadding(n,r.padding),n}}var cL={heatmap:"heatmap",legendLabel:"legend-label",heatmapBackground:"heatmap-background"},vL=Bi(cL);(0,u.assign)(bn,vL);var Bg=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="densityHeatmap",t.plotComponents=[],t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}},tooltip:{visible:!0,showCrosshairs:!0,crosshairs:{type:"xy",line:{style:{stroke:"#000000",lineWidth:1,opacity:.5}}},showMarkers:!1},legend:{visible:!0,position:"bottom-center"},color:["rgba(33,102,172,0)","rgb(103,169,207)","rgb(209,229,240)","rgb(253,219,199)","rgb(239,138,98)","rgb(178,24,43)"],interactions:[{type:"tooltip"}]})},e.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},e.prototype.destroy=function(){(0,u.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},e.prototype.scale=function(){var t=this.options,r={};r[t.xField]={},(0,u.has)(t,"xAxis")&&Pi(r[t.xField],t.xAxis),r[t.yField]={},(0,u.has)(t,"yAxis")&&Pi(r[t.yField],t.yAxis),this.setConfig("scales",r),i.prototype.scale.call(this)},e.prototype.coord=function(){},e.prototype.geometryParser=function(){return"heatmap"},e.prototype.addGeometry=function(){if(this.options.data.length>1){var t={type:"linearheatmap",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},cfg:{intensity:this.options.intensity,radius:this.options.radius}};this.options.radius&&(t.radius=this.options.radius),this.options.intensity&&(t.intensity=this.options.intensity),this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t),this.addPoint()}},e.prototype.addPoint=function(){var t=this.options,r={visible:!1,size:0};t.point&&t.point.visible?t.point=(0,u.deepMix)(r,t.point):t.point=r;var n=fi("point","guide",{plot:this});n.active=!1,this.setConfig("geometry",n)},e.prototype.extractLabel=function(){var t=this.options,r=t.label;if(r&&r.visible===!1)return!1;var n=Ri("label",(0,Jt.__assign)({plot:this,labelType:"scatterLabel",fields:[t.xField,t.yField],position:"middle",offset:0},r));return n},e.prototype.legend=function(){this.setConfig("legends",!1)},e.prototype.geometryTooltip=function(t){t.tooltip={};var r=this.options.tooltip;r.fields&&(t.tooltip.fields=r.fields),r.formatter&&(t.tooltip.callback=r.formatter,r.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,m)},e.prototype.renderPlotComponents=function(){var t=this;(0,u.each)(this.plotComponents,function(n){n.destroy()});var r=["legend","background"];(0,u.each)(r,function(n){var a=(0,Jt.__assign)({view:t.view,plot:t},t.options[n]),o=hL(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},e}(ri),dL=Bg;dn("densityHeatmap",Bg);var pL=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="densityHeatmap",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=dL.getDefaultOptions,e}($r),Dg=pL;function Fl(i,e,t,r,n){var a=t*n,o=r*n,s=[["M",i-a/2,e+o/2],["Q",i-a/2,e,i-a/2,e-o/2],["Q",i,e-o/2,i+a/2,e-o/2],["Q",i+a/2,e,i+a/2,e+o/2],["Q",i,e+o/2,i-a/2,e+o/2],["Z"]];return s}function Rl(i,e,t){var r=[["M",i,e],["l",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-(t*2),0],["Z"]];return r}function Fg(i,e,t){var r=[["M",i-t,e],["Q",i-t,e-t,i,e-t],["Q",i+t,e-t,i+t,e],["Q",i+t,e+t,i,e+t],["Q",i-t,e+t,i-t,e],["Z"]];return r}Cn("polygon","rect",{draw:function(i,e){var t=this.parsePoints(i.points),r=t[2].x-t[0].x,n=t[0].y-t[1].y,a=t[0].x+r/2,o=t[1].y+n/2,s=Fl(a,o,r,n,i.size);return e.addShape("path",{attrs:(0,u.deepMix)({},{path:s,fill:i.color,opacity:1},i.style)})}}),Cn("point","curvePoint",{draw:function(i,e){var t=Rl(i.x,i.y,i.size);return e.addShape("path",{attrs:(0,u.deepMix)({},{path:t,fill:i.color,opacity:1},i.style)})}});var gL=function(){function i(e){this.destroyed=!1,this.view=e.view,this.plot=e.plot;var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,e,{}),this.init()}return i.prototype.init=function(){var e=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){e.clear(),e.plot.canvas.draw()})},i.prototype.render=function(){var e=this,t=this.view.geometries[0].elements;(0,u.each)(t,function(r){var n=r.shape,a=e.options,o=a.style,s=a.offsetX,l=a.offsetY,f=e.options.formatter,h=f?f(e.getContent(n)):e.getContent(n),c=e.getPosition(n),v=e.getTextColor(n),x=e.container.addShape("text",{attrs:(0,u.deepMix)({},o,{x:c.x+s,y:c.y+l,text:h,fill:v,textAlign:"center",textBaseline:"middle"}),name:"label"});e.options.adjustPosition&&e.adjustLabel(x,n)})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var e=this.plot.theme,t=e.label.style;return{offsetX:0,offsetY:0,style:(0,u.clone)(t)}},i.prototype.getContent=function(e){var t=e.get("origin").data,r=this.plot.options.colorField;return t[r]},i.prototype.getPosition=function(e){var t=e.getBBox();return{x:t.minX+t.width/2,y:t.minY+t.height/2}},i.prototype.getTextColor=function(e){if(this.options.adjustColor){var t=e.attr("fill"),r=e.attr("opacity")?e.attr("opacity"):1,n=qa(t),a=Math.round(n[0]*.299+n[1]*.587+n[2]*.114)/r,o=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],s=Ol(o,a);return s}var l=this.options.style.fill;return l},i.prototype.adjustLabel=function(e,t){var r=e.getBBox(),n=t.getBBox();(r.width>n.width||r.height>n.height)&&e.attr("text","")},i}(),yL=gL,Rg=4,mL=function(){function i(e){this.destroyed=!1,this.dataSlides={},this.interactiveEvents={};var t=this.getDefaultOptions();this.options=(0,u.deepMix)({},t,e),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){var e=this;this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var t=this.options.plot.container;this.container&&this.container.remove(),this.container=t.addGroup(),this.view.on("beforerender",function(){e.clear(),e.options.plot.canvas.draw()})},i.prototype.render=function(){var e=this.view.geometries[0].scales,t=this.options.plot.options.colorField;this.colorScale=e[t];var r=this.colorScale,n=r.min,a=r.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.offEvent(),this.destroyed=!0},i.prototype.getBBox=function(){var e=this.container.getBBox();return new tn(this.x,this.y,e.width,e.height)},i.prototype.renderVertical=function(e,t,r){var n=this,a=(t-e)/(r.length-1),o=1/(r.length-1),s=this.height/(r.length-1),l="l(90)";(0,u.each)(r,function(v,x){var P=o*x;l+=P+":"+v+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,u.each)(r,function(v,x){var P=s*x;n.container.addShape("path",{attrs:(0,Jt.__assign)({path:[["M",0,P],["L",n.width,P]]},n.options.ticklineStyle)});var D=Math.round(a*x);n.container.addShape("text",{attrs:(0,Jt.__assign)({text:D,textAlign:"left",textBaseline:"middle",x:n.width+Rg,y:P},n.options.text.style),name:"legend-label"})});var f=10,h=14,c=[["M",-f,-h/2],["L",0,0],["L",-f,h/2],["Z"]];this.anchor=this.container.addShape("path",{attrs:(0,Jt.__assign)({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.renderHorizontal=function(e,t,r){var n=this,a=(t-e)/(r.length-1),o=1/(r.length-1),s=this.width/(r.length-1),l="l(0)";(0,u.each)(r,function(v,x){var P=o*x;l+=P+":"+v+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,u.each)(r,function(v,x){var P=s*x;n.container.addShape("path",{attrs:(0,Jt.__assign)({path:[["M",P,0],["L",P,n.height]]},n.options.ticklineStyle),name:"legend-label"});var D=Math.round(a*x);n.container.addShape("text",{attrs:(0,Jt.__assign)({text:D,textAlign:"center",textBaseline:"top",x:P,y:n.height+Rg},n.options.text.style)})});var f=14,h=10,c=[["M",0,0],["L",-f/2,-h],["L",f/2,-h],["Z"]];this.anchor=this.container.addShape("path",{attrs:(0,Jt.__assign)({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.getLayout=function(){var e=this.options.position.split("-");return this.position=e[0],e[0]==="left"||e[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var e=this.view.coordinateBBox.width;return e}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var e=this.view.coordinateBBox.height;return e}return 10},i.prototype.legendLayout=function(){var e=this,t=this.view.coordinateBBox,r=this.options.plot.getPlotTheme().bleeding;(0,u.isArray)(r)&&(0,u.each)(r,function(h,c){typeof r[c]=="function"&&(r[c]=r[c](e.options.plot.options))});var n=this.container.getBBox(),a=0,o=0,s=this.options.position.split("-"),l=this.options.plot.width,f=this.options.plot.height;s[0]==="left"?a=r[3]:s[0]==="right"?a=l-r[1]-n.width:s[1]==="center"?this.width===t.width?a=t.x:a=(l-n.width)/2:s[1]==="left"?a=r[3]:s[1]==="right"&&(a=this.options.plot.width-r[1]-n.width),s[0]==="bottom"?o=f-r[2]-n.height:s[0]==="top"?o=this.getTopPosition(r):s[1]==="center"?this.height===t.height?o=t.y:o=(f-n.height)/2:s[1]==="top"?o=r[0]:s[1]==="bottom"&&(o=f-r[2]-n.height),this.x=a,this.y=o,this.container.translate(a,o)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},ticklineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.8)"},anchorStyle:{fill:"rgba(0,0,0,0.5)"},triggerOn:"mousemove"}},i.prototype.addInteraction=function(){var e=this,t;this.options.plot.options.shapeType==="rect"?t="polygon":t="point";var r=t+":"+this.options.triggerOn,n=this.options.plot.options.colorField,a=this.colorScale,o=a.min,s=a.max,l=function(h){var c=h.data.data[n],v=(c-o)/(s-o);e.moveAnchor(v)};this.view.on(r,l),this.interactiveEvents[r]={target:this.view,handler:l};var f=function(){e.anchor.set("visible",!1)};this.options.plot.canvas.on("mouseleave",f),this.interactiveEvents.mouseleave={target:this.options.plot.canvas,handler:f}},i.prototype.moveAnchor=function(e){if(this.anchor.set("visible",!0),this.layout==="vertical"){var t=this.height*e,r=[1,0,0,0,1,0,0,0,1];r[7]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:r},400,"easeLinear")}else{var t=this.width*e,r=[1,0,0,0,1,0,0,0,1];r[6]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:r},400,"easeLinear")}},i.prototype.getTopPosition=function(e){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return e[0]},i.prototype.offEvent=function(){(0,u.each)(this.interactiveEvents,function(e,t){var r=e.target,n=e.handler;r.off(t,n)})},i}(),xL=mL,bL={label:{Ctr:yL},legend:{Ctr:xL,padding:"outer"}};function wL(i,e,t){if(i.options[e]&&i.options[e].visible){var r=bL[e],n=new r.Ctr(t);return r.padding&&i.paddingController.registerPadding(n,r.padding),n}}var Ng=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.gridSize=[],t.plotComponents=[],t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{shapeType:"rect",legend:{visible:!0,position:"right-center"},tooltip:{shared:!1,showCrosshairs:!1,showMarkers:!1},xAxis:{visible:!0,gridAlign:"center",grid:{visible:!0},tickLine:{visible:!0},line:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!0}},yAxis:{visible:!0,gridAlign:"center",grid:{visible:!0,align:"center"},tickLine:{visible:!0},label:{autoHide:!0,autoRotate:!1}},color:["#9ae3d5","#66cdbb","#e7a744","#f1e066","#f27664","#e7c1a2"],label:{visible:!0,adjustColor:!0,adjustPosition:!0,offset:0,style:{stroke:"rgba(255,255,255,0)",lineWidth:0}},interactions:[{type:"tooltip"}]})},e.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},e.prototype.changeShape=function(t){if(this.options.shapeType!==t){if(this.options.shapeType=t,t==="rect"){var r=this.getShape();this.circleToRect(r)}else if(t==="circle"){var r=this.getShape();this.rectToCircle(r)}}},e.prototype.mappingSize=function(t){if(!(this.options.sizeField&&this.options.sizeField===t)){this.options.sizeField=t;var r=(0,u.valuesOfKey)(this.options.data,t),n=Math.min.apply(Math,r),a=Math.max.apply(Math,r),o=(0,jr.getScale)("linear"),s=new o({min:n,max:a}),l=this.getShape();this.options.shapeType==="rect"?this.rectSizeMapping(l,s,t):this.options.shapeType==="circle"&&this.circleSizeMapping(l,s,t)}},e.prototype.disableMappingSize=function(){var t=this.getShape();this.options.shapeType==="rect"?this.rectDisableSizeMapping(t):this.options.shapeType==="circle"&&this.circleDisableSizeMapping(t)},e.prototype.destroy=function(){(0,u.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},e.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},e.prototype.geometryParser=function(){return""},e.prototype.coord=function(){},e.prototype.legend=function(){this.setConfig("legends",!1)},e.prototype.addGeometry=function(){this.gridSize=this.getGridSize();var t;if(this.options.shapeType==="rect")t=this.addRect();else{var r=this.addCircle();t=r}if(this.options.shapeStyle){var n={};(0,u.isFunction)(this.options.shapeStyle)?(n.fields=[this.options.colorField,this.options.xField,this.options.yField,this.options.sizeField],n.callback=this.options.shapeStyle):(0,u.isObject)(this.options.shapeStyle)&&(n.cfg=this.options.shapeStyle),t.style=n}this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t)},e.prototype.addRect=function(){var t=[.3,.9];this.options.shapeSize&&(t[0]=this.options.shapeSize[0]/this.gridSize[0],t[1]=this.options.shapeSize[1]/this.gridSize[1]);var r={type:"polygon",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["rect"]},label:!1};return this.options.sizeField?r.size={fields:[this.options.sizeField],values:t}:r.size={values:[1]},r},e.prototype.addCircle=function(){var t=[.3,.9];this.options.shapeSize?t=this.options.shapeSize:(t[0]=this.gridSize[0]*t[0]*.5,t[1]=this.gridSize[1]*t[1]*.5);var r={type:"point",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["curvePoint"]},label:!1};return this.options.sizeField?r.size={fields:[this.options.sizeField],values:t}:r.size={values:[Math.min(this.gridSize[0],this.gridSize[1])*.5*.9]},r},e.prototype.geometryTooltip=function(t){t.tooltip={};var r=this.options.tooltip;r.fields&&(t.tooltip.fields=r.fields),r.formatter&&(t.tooltip.callback=r.formatter,r.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},e.prototype.getGridSize=function(){if(this.options.padding==="auto")return[0,0];var t=this.getViewRange(),r=this.options,n=r.padding,a=r.xField,o=r.yField,s=r.data,l=t.width-n[1]-n[3],f=t.height-n[0]-n[2],h=(0,u.valuesOfKey)(s,a).length,c=(0,u.valuesOfKey)(s,o).length;return[l/h,f/c]},e.prototype.circleToRect=function(t){var r=this,n=this.gridSize;(0,u.each)(t,function(a){var o=a.get("origin"),s=o.x,l=o.y,f=o.size,h=f*2/Math.min(n[0],n[1]);r.options.sizeField||(h=1);var c=Fg(s,l,f),v=Fl(s,l,n[0],n[1],h);a.stopAnimate(),a.attr("path",c),a.animate({path:v},500,"easeLinear")})},e.prototype.rectToCircle=function(t){var r=this;(0,u.each)(t,function(n){var a=n.get("coord"),o=n.get("origin").points,s=[];(0,u.each)(o,function(X){s.push(a.convertPoint(X))});var l=n.getBBox(),f=l.width,h=l.height,c=l.minX+f/2,v=l.minY+h/2,x=r.options.sizeField?1:.9,P=Fg(c,v,Math.min(f,h)/2*x),D=Rl(c,v,Math.min(f,h)/2*x);n.stopAnimate(),n.animate({path:P},500,"easeLinear",function(){n.attr("path",D)})})},e.prototype.rectSizeMapping=function(t,r,n){(0,u.each)(t,function(a){var o=a.get("origin").data,s=.3+r.scale(o[n])*.6;a.get("origin").size=s;var l=a.getBBox(),f=l.width,h=l.height,c=l.minX+f/2,v=l.minY+h/2,x=Fl(c,v,f,h,s);a.stopAnimate(),a.animate({path:x},500,"easeLinear")})},e.prototype.circleSizeMapping=function(t,r,n){(0,u.each)(t,function(a){var o=a.get("origin").data,s=.3+r.scale(o[n])*.6,l=a.get("origin"),f=l.x,h=l.y,c=l.size,v=Rl(f,h,c*s);a.get("origin").size=c*s,a.stopAnimate(),a.animate({path:v},500,"easeLinear")})},e.prototype.circleDisableSizeMapping=function(t){var r=this;this.options.sizeField=null,(0,u.each)(t,function(n){var a=n.get("origin"),o=a.x,s=a.y,l=Math.min(r.gridSize[0],r.gridSize[1])*.9;n.get("origin").size=l/2;var f=Rl(o,s,l/2);n.stopAnimate(),n.animate({path:f},500,"easeLinear")})},e.prototype.rectDisableSizeMapping=function(t){var r=this;this.options.sizeField=null,(0,u.each)(t,function(n){var a=n.getBBox(),o=a.width,s=a.height,l=a.minX+o/2,f=a.minY+s/2,h=Fl(l,f,r.gridSize[0],r.gridSize[1],1);n.get("origin").size=1,n.stopAnimate(),n.animate({path:h},500,"easeLinear")})},e.prototype.getShape=function(){var t=this.view.geometries[0].elements,r=[];return(0,u.each)(t,function(n){r.push(n.shape)}),r},e.prototype.renderPlotComponents=function(){var t=this;(0,u.each)(this.plotComponents,function(n){n.destroy()}),this.plotComponents=[];var r=["label","legend"];(0,u.each)(r,function(n){var a=(0,Jt.__assign)({view:t.view,plot:t},t.options[n]),o=wL(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},e}(ri),SL=Ng;dn("heatmap",Ng);var ML=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="heatmap",i.prototype.createLayers.call(this,r)},e.prototype.changeShape=function(t){var r=this.layers[0];r.changeShape(t)},e.prototype.mappingSize=function(t){var r=this.layers[0];r.mappingSize(t)},e.prototype.disableMappingSize=function(){var t=this.layers[0];t.disableMappingSize()},e.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},e.getDefaultOptions=SL.getDefaultOptions,e}($r),Yg=ML,CL=function(i){(0,Jt.__extends)(e,i);function e(t){var r=this,n=(0,u.deepMix)({},t,{itemTpl:`<div data-index={index}>
        <span style="background-color:{color};" class="g2-tooltip-marker"></span>
        {name}<span class="g2-tooltip-value">{value}</span></div>`},t);return r=i.call(this,n)||this,r}return e}(SC.Z),EL=CL;/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2013 Tim Chien
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],r="zero-timeout-message",n=function(o){var s=t.length;return t.push(o),window.postMessage(r+s.toString(36),"*"),s};return window.addEventListener("message",function(o){if(!(typeof o.data!="string"||o.data.substr(0,r.length)!==r)){o.stopImmediatePropagation();var s=parseInt(o.data.substr(r.length),36);!t[s]||(t[s](),t[s]=void 0)}},!0),window.clearImmediate=function(o){!t[o]||(t[o]=void 0)},n}()||function(t){window.setTimeout(t,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)}}());var sh=function(){var e=document.createElement("canvas");if(!e||!e.getContext)return!1;var t=e.getContext("2d");return!(!t.getImageData||!t.fillText||!Array.prototype.some||!Array.prototype.push)}(),Ko=function(){if(!!sh){for(var e=document.createElement("canvas").getContext("2d"),t=20,r,n;t;){if(e.font=t.toString(10)+"px sans-serif",e.measureText("\uFF37").width===r&&e.measureText("m").width===n)return t+1;r=e.measureText("\uFF37").width,n=e.measureText("m").width,t--}return 0}}(),AL=function(e){for(var t,r,n=e.length;n;t=Math.floor(Math.random()*n),r=e[--n],e[n]=e[t],e[t]=r);return e},lh=function(e,t){if(!sh)return;Array.isArray(e)||(e=[e]),e.forEach(function(Nr,lr){if(typeof Nr=="string"){if(e[lr]=document.getElementById(Nr),!e[lr])throw"The element id specified is not found."}else if(!Nr.tagName&&!Nr.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var r={data:[],fontFamily:'"Trebuchet MS", "Heiti TC", "\u5FAE\u8EDF\u6B63\u9ED1\u9AD4", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minFontSize:Ko,maxFontSize:60,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotateRatio:.5,rotationSteps:1,shuffle:!0,shape:"circle",ellipticity:1,active:!0,animatable:!0,selected:-1,shadowColor:"#333",shadowBlur:10,fontScale:1.2,classes:null,onWordCloudHover:null,onWordCloudClick:null},n=[];if(t)for(var a in t)if(a==="wordStyle")for(var o in t[a])o in r&&(r[o]=t[a][o]);else a in r&&(r[a]=t[a]);if(r.minFontSize<Ko&&(r.minFontSize=Ko),r.minFontSize>r.maxFontSize){console.error("minSize cant bigger than maxSize");return}for(var s=0,l=0;l<r.data.length;l++)s<r.data[l].weight&&(s=r.data[l].weight);var f=function(lr){var xr=Math.min(Math.max(r.minFontSize,r.maxFontSize*lr/s),r.maxFontSize);return _n?xr*r.fontScale:xr},h=!1;if(typeof r.shape!="function")switch(r.shape){case"circle":default:r.shape="circle";break;case"cardioid":r.shape=function(lr){return 1-Math.sin(lr)},h=!0;break;case"diamond":r.shape=function(lr){var xr=lr%(2*Math.PI/4);return 1/(Math.cos(xr)+Math.sin(xr))};break;case"square":r.shape=function(lr){var xr=(lr+Math.PI/4)%(2*Math.PI/4);return 1/(Math.cos(xr)+Math.sin(xr))};break;case"triangle-forward":r.shape=function(lr){var xr=lr%(2*Math.PI/3);return 1/(Math.cos(xr)+Math.sqrt(3)*Math.sin(xr))};break;case"triangle-backward":r.shape=function(lr){var xr=(lr+Math.PI)%(2*Math.PI/3);return 1/(Math.cos(xr)+Math.sqrt(3)*Math.sin(xr))};break;case"triangle":case"triangle-up":r.shape=function(lr){var xr=(lr+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(xr)+Math.sqrt(3)*Math.sin(xr))};break;case"triangle-down":r.shape=function(lr){var xr=(lr+Math.PI*5/2)%(2*Math.PI/3);return 1/(Math.cos(xr)+Math.sqrt(3)*Math.sin(xr))};break;case"pentagon":r.shape=function(lr){var xr=(lr+.955)%(2*Math.PI/5);return 1/(Math.cos(xr)+.726543*Math.sin(xr))};break;case"star":r.shape=function(lr){var xr=(lr+.955)%(2*Math.PI/10);return(lr+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-xr)+3.07768*Math.sin(2*Math.PI/10-xr)):1/(Math.cos(xr)+3.07768*Math.sin(xr))};break}r.gridSize=Math.max(Math.floor(r.gridSize),4);var c=r.gridSize,v=c-r.maskGapWidth,x=Math.abs(r.maxRotation-r.minRotation),P=Math.min(r.maxRotation,r.minRotation),D=r.rotationSteps,X,K,Z,gt,mt,Nt,Zt;function ee(Nr,lr){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(lr-Nr)+Nr).toFixed()+"%)"}switch(r.color){case"random-dark":Zt=function(){return ee(10,50)};break;case"random-light":Zt=function(){return ee(50,90)};break;default:typeof r.color=="function"&&(Zt=r.color);break}var ue=null;typeof r.classes=="function"&&(ue=r.classes);var ne=!1,xe=[],Pe,Ye=function(lr){var xr=lr.currentTarget,Kr=xr.getBoundingClientRect(),qr,Wr;lr.touches?(qr=lr.touches[0].clientX,Wr=lr.touches[0].clientY):(qr=lr.clientX,Wr=lr.clientY);var xn=qr-Kr.left,an=Wr-Kr.top,Zr=Math.floor(xn*(xr.width/Kr.width||1)/c),Ln=Math.floor(an*(xr.height/Kr.height||1)/c);return xe&&xe[Zr]&&xe[Zr][Ln]},He=function(lr,xr,Kr,qr){qr(lr?lr.id:-1)},Ze=function(lr){var xr=Ye(lr);if(Pe!==xr&&!(_n&&xr&&xr.item&&!(0,u.get)(xr,["item","twiceRender"]))){if(!xr){r.onWordCloudHover(void 0,void 0,lr,mn),r.active&&He(void 0,void 0,lr,mn);return}r.onWordCloudHover(xr.item,xr.dimension,lr,mn),r.active&&He(xr.item,xr.dimension,lr,mn),Pe=xr}},Ue=function(lr){var xr=Ye(lr);!xr||(r.onWordCloudClick(xr.item,xr.dimension,lr),lr.preventDefault())},ur=[],wr=function(lr){if(ur[lr])return ur[lr];var xr=lr*8,Kr=xr,qr=[];for(lr===0&&qr.push([gt[0],gt[1],0]);Kr--;){var Wr=1;r.shape!=="circle"&&(Wr=r.shape(Kr/xr*2*Math.PI)),qr.push([gt[0]+lr*Wr*Math.cos(-Kr/xr*2*Math.PI),gt[1]+lr*Wr*Math.sin(-Kr/xr*2*Math.PI)*r.ellipticity,Kr/xr*2*Math.PI])}return ur[lr]=qr,qr},mr=function(){return r.abortThreshold>0&&new Date().getTime()-Nt>r.abortThreshold},pr=function(){return r.rotateRatio===0||Math.random()>r.rotateRatio?0:x===0?P:D>0?P+Math.floor(Math.random()*D)*x/D:P+Math.random()*x},fr=function(lr,xr,Kr){var qr=!1,Wr=f(xr);if(Wr<=0)return!1;var xn=1;Wr<Ko&&(xn=function(){for(var lc=2;lc*Wr<Ko;)lc+=2;return lc}());var an=document.createElement("canvas"),Zr=an.getContext("2d",{willReadFrequently:!0});Zr.font=r.fontWeight+" "+(Wr*xn).toString(10)+"px "+r.fontFamily;var Ln=Zr.measureText(lr).width/xn,On=Math.max(Wr*xn,Zr.measureText("m").width,Zr.measureText("\uFF37").width)/xn,ci=Ln+On*2,jn=On*3,Si=Math.ceil(ci/c),Mi=Math.ceil(jn/c);ci=Si*c,jn=Mi*c;var fa=-Ln/2,xa=-On*.4,Gi=Math.ceil((ci*Math.abs(Math.sin(Kr))+jn*Math.abs(Math.cos(Kr)))/c),ba=Math.ceil((ci*Math.abs(Math.cos(Kr))+jn*Math.abs(Math.sin(Kr)))/c),Ci=ba*c,Zi=Gi*c;an.setAttribute("width",Ci),an.setAttribute("height",Zi),qr&&(document.body.appendChild(an),Zr.save()),Zr.scale(1/xn,1/xn),Zr.translate(Ci*xn/2,Zi*xn/2),Zr.rotate(-Kr),Zr.font=r.fontWeight+" "+(Wr*xn).toString(10)+"px "+r.fontFamily,Zr.fillStyle="#000",Zr.textBaseline="middle",Zr.fillText(lr,fa*xn,(xa+Wr*.5)*xn);var rs;try{rs=Zr.getImageData(0,0,Ci,Zi).data}catch(wo){return!1}if(mr())return!1;qr&&(Zr.strokeRect(fa*xn,xa,Ln*xn,On*xn),Zr.restore());for(var bo=[],ha=ba,Ei,zn,li,vi=[Gi/2,ba/2,Gi/2,ba/2];ha--;)for(Ei=Gi;Ei--;){li=c;t:{for(;li--;)for(zn=c;zn--;)if(rs[((Ei*c+li)*Ci+(ha*c+zn))*4+3]){bo.push([ha,Ei]),ha<vi[3]&&(vi[3]=ha),ha>vi[1]&&(vi[1]=ha),Ei<vi[0]&&(vi[0]=Ei),Ei>vi[2]&&(vi[2]=Ei),qr&&(Zr.fillStyle="rgba(255, 0, 0, 0.5)",Zr.fillRect(ha*c,Ei*c,c-.5,c-.5));break t}qr&&(Zr.fillStyle="rgba(0, 0, 255, 0.5)",Zr.fillRect(ha*c,Ei*c,c-.5,c-.5))}}return qr&&(Zr.fillStyle="rgba(0, 255, 0, 0.5)",Zr.fillRect(vi[3]*c,vi[0]*c,(vi[1]-vi[3]+1)*c,(vi[2]-vi[0]+1)*c)),{mu:xn,occupied:bo,bounds:vi,gw:ba,gh:Gi,fillTextOffsetX:fa,fillTextOffsetY:xa,fillTextWidth:Ln,fillTextHeight:On,fontSize:Wr}},Yr=function(lr,xr,Kr,qr,Wr){for(var xn=Wr.length;xn--;){var an=lr+Wr[xn][0],Zr=xr+Wr[xn][1];if(an>=K||Zr>=Z||an<0||Zr<0){if(!r.drawOutOfBound)return!1;continue}if(!X[an][Zr])return!1}return!0},_r=function(lr,xr,Kr,qr,Wr,xn,an,Zr,Ln,On,ci){var jn=Kr.fontSize,Si=r.color,Mi=r.classes;if(!ci)Zt?Si=Zt(qr,Wr,jn,xn,an):Si=r.color,ue?Mi=ue(qr,Wr,jn,xn,an):Mi=r.classes;else{var fa=kr(On);Si=fa?fa.color:r.color}var xa,Gi=Kr.bounds;xa={x:(lr+Gi[3])*c,y:(xr+Gi[0])*c,w:(Gi[1]-Gi[3]+1)*c,h:(Gi[2]-Gi[0]+1)*c},e.forEach(function(ba){if(ba.getContext){var Ci=ba.getContext("2d"),Zi=Kr.mu;Ci.save();var rs=r.fontWeight+" "+(jn*Zi).toString(10)+"px "+r.fontFamily;Ci.scale(1/Zi,1/Zi),Ci.font=rs,Ci.fillStyle=Si;var bo=(lr+Kr.gw/2)*c*Zi,ha=(xr+Kr.gh/2)*c*Zi;Ci.translate(bo,ha),Zr!==0&&Ci.rotate(-Zr),Ci.textBaseline="middle",r.selected===On&&(Ci.shadowColor=r.shadowColor,Ci.shadowBlur=r.shadowBlur),Ci.fillText(qr,Kr.fillTextOffsetX*Zi,(Kr.fillTextOffsetY+jn*.5)*Zi),ci||n.push({gx:lr,gy:xr,info:Kr,word:qr,weight:Wr,distance:xn,theta:an,rotateDeg:Zr,attributes:Ln,id:On,color:Si}),Ci.restore()}else{var Ei=document.createElement("span"),zn="";zn="rotate("+-Zr/Math.PI*180+"deg) ",Kr.mu!==1&&(zn+="translateX(-"+Kr.fillTextWidth/4+"px) scale("+1/Kr.mu+")");var li={position:"absolute",display:"block",font:r.fontWeight+" "+jn*Kr.mu+"px "+r.fontFamily,left:(lr+Kr.gw/2)*c+Kr.fillTextOffsetX+"px",top:(xr+Kr.gh/2)*c+Kr.fillTextOffsetY+"px",width:Kr.fillTextWidth+"px",height:Kr.fillTextHeight+"px",lineHeight:jn+"px",whiteSpace:"nowrap",transform:zn,webkitTransform:zn,msTransform:zn,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};Si&&(li.color=Si),Ei.textContent=qr;for(var vi in li)Ei.style[vi]=li[vi];if(Ln)for(var wo in Ln)Ei.setAttribute(wo,Ln[wo]);Mi&&(Ei.className+=Mi),ba.appendChild(Ei)}})},Fr=function(lr,xr,Kr,qr,Wr){if(!(lr>=K||xr>=Z||lr<0||xr<0)){if(X[lr][xr]=!1,Kr){var xn=e[0].getContext("2d");xn.fillRect(lr*c,xr*c,v,v)}ne&&(xe[lr][xr]={item:Wr,dimension:qr})}},yr=function(lr,xr,Kr,qr,Wr){var xn=Wr.occupied,an=r.drawMask,Zr;an&&(Zr=e[0].getContext("2d"),Zr.save(),Zr.fillStyle=r.maskColor);var Ln;if(ne){var On=Wr.bounds;Ln={x:(lr+On[3])*c,y:(xr+On[0])*c,w:(On[1]-On[3]+1)*c,h:(On[2]-On[0]+1)*c}}for(var ci=xn.length;ci--;){var jn=lr+xn[ci][0],Si=xr+xn[ci][1];if(!(jn>=K||Si>=Z||jn<0||Si<0)){var Mi=kr(Wr.item.id);Mi&&(Wr.item.color=Mi.color),Fr(jn,Si,an,Ln,Wr.item)}}an&&Zr.restore()},Ir=function(lr,xr,Kr,qr,Wr,xn,an,Zr){var Ln=Math.floor(lr[0]-xr.gw/2),On=Math.floor(lr[1]-xr.gh/2),ci=xr.gw,jn=xr.gh;return Yr(Ln,On,ci,jn,xr.occupied)?(_r(Ln,On,xr,Kr,qr,Wr,lr[2],xn,an,Zr,!1),yr(Ln,On,ci,jn,xr),{gx:Ln,gy:On,rot:xn,info:xr}):!1},Vr=function(lr){var xr,Kr,qr,Wr;Array.isArray(lr)?(xr=lr[0],Kr=lr[1]):(xr=lr.word,Kr=lr.weight,qr=lr.attributes,Wr=lr.id);var xn=(0,u.isNil)(lr.rotateDeg)?pr():lr.rotateDeg,an=fr(xr,Kr,xn);if(an&&(an.item=lr),!an||mr())return!1;if(!r.drawOutOfBound){var Zr=an.bounds;if(Zr[1]-Zr[3]+1>K||Zr[2]-Zr[0]+1>Z)return!1}for(var Ln=mt+1;Ln--;){var On=wr(mt-Ln);r.shuffle&&(On=[].concat(On),AL(On));for(var ci=0;ci<On.length;ci++){var jn=Ir(On[ci],an,xr,Kr,mt-Ln,xn,qr,Wr);if(jn)return jn}}return null},Br=function(lr,xr,Kr){if(xr)return!e.some(function(qr){var Wr=document.createEvent("CustomEvent");return Wr.initCustomEvent(lr,!0,xr,Kr||{}),!qr.dispatchEvent(Wr)},this);e.forEach(function(qr){var Wr=document.createEvent("CustomEvent");Wr.initCustomEvent(lr,!0,xr,Kr||{}),qr.dispatchEvent(Wr)},this)},kr=function(lr){for(var xr=0;xr<n.length;xr++){var Kr=n[xr];if(n[xr].id===lr)return Kr}},_n,mn=function(lr){if(lr!==void 0){if(r.selected!==lr&&e[0].getContext){r.selected=lr;var xr=e[0].getContext("2d");xr.fillStyle=r.backgroundColor,xr.clearRect(0,0,e[0].width,e[0].height),xr.fillRect(0,0,e[0].width,e[0].height);for(var Kr=0;Kr<n.length;Kr++){var qr=n[Kr];(!_n||_n&&(0,u.get)(qr,["info","item","twiceRender"]))&&_r(qr.gx,qr.gy,qr.info,qr.word,qr.weight,qr.distance,qr.theta,qr.rotateDeg,qr.attributes,qr.id,!0)}}return}var Wr=e[0];if(Wr.getContext)K=Math.ceil(Wr.width/c),Z=Math.ceil(Wr.height/c);else{var xn=Wr.getBoundingClientRect();K=Math.ceil(xn.width/c),Z=Math.ceil(xn.height/c)}if(!!Br("wordcloudstart",!0)){gt=r.origin?[r.origin[0]/c,r.origin[1]/c]:[K/2,Z/(h?4:2)],mt=Math.floor(Math.sqrt(K*K+Z*Z)),X=[];var an,Zr,Ln;if(!Wr.getContext||r.clearCanvas)for(e.forEach(function(zn){if(zn.getContext){var li=zn.getContext("2d");li.fillStyle=r.backgroundColor,li.clearRect(0,0,K*(c+1),Z*(c+1)),li.fillRect(0,0,K*(c+1),Z*(c+1))}else zn.textContent="",zn.style.backgroundColor=r.backgroundColor,zn.style.position="relative"}),an=K;an--;)for(X[an]=[],Zr=Z;Zr--;)X[an][Zr]=!0;else{var On=document.createElement("canvas").getContext("2d");On.fillStyle=r.backgroundColor,On.fillRect(0,0,1,1);var ci=On.getImageData(0,0,1,1).data,jn=Wr.getContext("2d").getImageData(0,0,K*c,Z*c).data;an=K;for(var Si,Mi;an--;)for(X[an]=[],Zr=Z;Zr--;){Mi=c;t:for(;Mi--;)for(Si=c;Si--;)for(Ln=4;Ln--;)if(jn[((Zr*c+Mi)*K*c+(an*c+Si))*4+Ln]!==ci[Ln]){X[an][Zr]=!1;break t}X[an][Zr]!==!1&&(X[an][Zr]=!0)}jn=On=ci=void 0}if(r.onWordCloudHover||r.onWordCloudClick){for(ne=!0,an=K+1;an--;)xe[an]=[];r.onWordCloudHover&&Wr.addEventListener("mousemove",Ze),r.onWordCloudClick&&(Wr.addEventListener("click",Ue),Wr.addEventListener("touchstart",Ue),Wr.addEventListener("touchend",function(zn){zn.preventDefault()}),Wr.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),Wr.addEventListener("wordcloudstart",function zn(){Wr.removeEventListener("wordcloudstart",zn),Wr.removeEventListener("mousemove",Ze),Wr.removeEventListener("click",Ue),Pe=void 0})}if(r.animatable){Ln=0;var Ci,Zi;r.wait!==0?(Ci=window.setTimeout,Zi=window.clearTimeout):(Ci=window.setImmediate,Zi=window.clearImmediate);var rs=function(li,vi){e.forEach(function(wo){wo.addEventListener(li,vi)},this)},bo=function(li,vi){e.forEach(function(wo){wo.removeEventListener(li,vi)},this)},ha=function zn(){bo("wordcloudstart",zn),Zi(Ei)};rs("wordcloudstart",ha);var Ei=Ci(function zn(){if(Ln>=r.data.length){Zi(Ei),Br("wordcloudstop",!1),bo("wordcloudstart",ha);return}Nt=new Date().getTime();var li=Vr(r.data[Ln]),vi=!Br("wordclouddrawn",!0,{item:r.data[Ln],drawn:li});if(mr()||vi){Zi(Ei),r.abort(),Br("wordcloudabort",!1),Br("wordcloudstop",!1),bo("wordcloudstart",ha);return}Ln++,Ei=Ci(zn,r.wait)},r.wait)}else{t.maskImage&&e.forEach(function(zn){if(zn.getContext){var li=zn.getContext("2d");li.fillStyle=r.backgroundColor,li.clearRect(0,0,K*(c+1),Z*(c+1)),li.fillRect(0,0,K*(c+1),Z*(c+1))}});for(var fa=[],xa=0;xa<r.data.length;xa++){var Gi=Vr(r.data[xa]);Gi&&fa.push(Gi)}if(fa.length===r.data.length&&!_n){for(e.forEach(function(zn){if(zn.getContext){var li=zn.getContext("2d");li.fillStyle=r.backgroundColor,li.clearRect(0,0,K*(c+1),Z*(c+1)),li.fillRect(0,0,K*(c+1),Z*(c+1))}}),an=K;an--;)for(X[an]=[],Zr=Z;Zr--;)X[an][Zr]=!0;_n=!0;for(var ba=0;ba<r.data.length;ba++)Vr((0,Jt.__assign)((0,Jt.__assign)({},r.data[ba]),{twiceRender:_n}))}}}};mn()};lh.isSupported=sh,lh.minFontSize=Ko;var TL=lh,PL=function(i){(0,Jt.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r._toolTipsAction=function(n,a,o,s){a?(r._toolTips.update({items:[{color:n.color||"red",name:n.word,value:n.weight}],x:o.offsetX,y:o.offsetY}),r._toolTips.show()):r._toolTips.hide(),r._toolTips.render(),r._configHoverAction&&r._configHoverAction(n,a,o,s)},r._configHoverAction=t.onWordCloudHover,r._enableToolTips=(0,u.get)(t,"tooltip.visible",!0),r.options=(0,u.deepMix)({},{width:400,height:400,enableToolTips:!0},t,{onWordCloudHover:r._enableToolTips?r._toolTipsAction:r._configHoverAction}),r}return e.prototype.init=function(){i.prototype.init.call(this),this._initToolTips()},e.prototype.render=function(){i.prototype.render.call(this),this._render()},e.prototype._initToolTips=function(){this._toolTips=new EL({showTitle:!1,visible:!1,parent:this.options.container,follow:!0,inPanel:!1,items:[]}),this._toolTips.init()},e.prototype._render=function(){this._targetCanvas=this.canvas.get("el"),this.options.maskImage?this._handleMaskImage():this._start()},e.prototype._handleMaskImage=function(){var t=this,r=new Image;r.src=this.options.maskImage+"?"+new Date().getTime(),r.crossOrigin="Anonymous",r.onload=function(){r.naturalHeight+r.naturalWidth===0||r.width+r.height===0?t._start():t._startWithMaskImage(r)},r.onerror=function(){console.error("image %s load failed !!!",t.options.maskImage),t._start()}},e.prototype._start=function(){this._handleG2PlotConfig();var t=this._targetCanvas.getContext("2d"),r=this.canvas.get("width")/this.canvas.get("el").width;t.scale(r,r),TL(this._targetCanvas,this.options)},e.prototype._handleG2PlotConfig=function(){var t=this.options.wordStyle.fontSize||[10,60],r=this.options.wordStyle.rotation||[-Math.PI/2,Math.PI/2],n,a,o;this.options.wordStyle.active?(n=!0,a=this.options.wordStyle.active.shadowColor||"#333",o=this.options.wordStyle.active.shadowBlur||10):n=!1,this.options=(0,u.deepMix)({},this.options,{minFontSize:t[0],maxFontSize:t[1],minRotation:r[0],maxRotation:r[1],active:n,shadowColor:a,shadowBlur:o})},e.prototype._startWithMaskImage=function(t){var r=this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(t)),n=r.maskImageCanvas,a=r.maskImageContext,o=document.createElement("canvas").getContext("2d");o.fillStyle=this.options.backgroundColor||"#fff",o.fillRect(0,0,1,1);for(var s=o.getImageData(0,0,1,1).data,l=a.getImageData(0,0,n.width,n.height),f=a.createImageData(l),h=0;h<l.data.length;h+=4)l.data[h+3]>128?(f.data[h]=s[0],f.data[h+1]=s[1],f.data[h+2]=s[2],f.data[h+3]=s[3]):(f.data[h]=s[0],f.data[h+1]=s[1],f.data[h+2]=s[2],f.data[h+3]=254);a.putImageData(f,0,0);var c=this._targetCanvas.getContext("2d");c.drawImage(n,0,0),this.options=(0,u.deepMix)({},this.options,{clearCanvas:!1}),this._start()},e.prototype._scaleMaskImageCanvas=function(t){var r=document.createElement("canvas");r.width=this.canvas.get("width"),r.height=this.canvas.get("height");var n=r.getContext("2d");return n.imageSmoothingEnabled=!0,n.drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),{maskImageCanvas:r,maskImageContext:n}},e.prototype._transformWhite2BlackPixels=function(t){var r=document.createElement("canvas");r.width=t.width,r.height=t.height;var n=r.getContext("2d");n.drawImage(t,0,0,t.width,t.height);for(var a=n.getImageData(0,0,r.width,r.height),o=4,s=0,l=255,f=0;f<a.data.length;f+=o){var h=a.data[f]+a.data[f+1]+a.data[f+2],c=a.data[f+3];c<128||h>250*3?(a.data[f]=l,a.data[f+1]=l,a.data[f+2]=l,a.data[f+3]=s):(a.data[f]=s,a.data[f+1]=s,a.data[f+2]=s,a.data[f+3]=l)}return n.putImageData(a,0,0),r},e}(vl),_L=PL,OL=function(i){(0,Jt.__extends)(e,i);function e(t,r){var n=this;return r.renderer="canvas",n=i.call(this,t,r)||this,n}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="wordCloud",r.container=this.containerDOM,i.prototype.createLayers.call(this,r)},e}($r),LL=OL;dn("wordCloud",_L);var IL={rose:"interval"},kL=Bi(IL);(0,u.assign)(bn,kL);var BL={rose:"interval"},DL={rose:"column"},Gg=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rose",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,innerRadius:0,label:{visible:!0,type:"inner",autoRotate:!0,adjustColor:!1},legend:{visible:!0,position:"right"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},columnStyle:{stroke:"white",lineWidth:1},xAxis:{visible:!1,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},e.prototype.getOptions=function(t){var r=i.prototype.getOptions.call(this,t),n=t.sectorStyle,a=t.categoryField,o=t.radiusField;return(0,u.deepMix)({},r,{columnStyle:n,xField:a,yField:o})},e.prototype.getRadiusScale=function(){var t=this.options.radiusField;t&&this.view.getScaleByField(t)},e.prototype.getAngleScale=function(){var t=this.options.categoryField;t&&this.view.getScaleByField(t)},e.prototype.geometryParser=function(t,r){return t==="g2"?BL[r]:DL[r]},e.prototype.scale=function(){var t=this.options,r={};r[t.radiusField]={},r[t.categoryField]={type:"cat"},this.setConfig("scales",r)},e.prototype.coord=function(){var t=this.options,r={type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",r)},e.prototype.addGeometry=function(){var t=this.options,r=fi("interval","main",{plot:this,positionFields:[t.categoryField,t.radiusField],widthRatio:{rose:1}});r.label=this.extractLabel(),r.adjust=this.adjustRoseAdjust(),this.rose=r,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",r)},e.prototype.adjustRoseAdjust=function(){},e.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.colorField]))},e.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.rose.animate=!1)},e.prototype.annotation=function(){},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,g)},e.prototype.extractLabel=function(){var t=this.options;if(!t.label||!t.label.visible)return!1;var r=(0,u.deepMix)({},t.label);this.adjustLabelOptions(r);var n=[t.categoryField,t.radiusField],a=Ri("label",(0,Jt.__assign)({plot:this,labelType:"polar",fields:n},r));return a},e.prototype.adjustLabelOptions=function(t){var r=this.options.radiusField;if(t){var n=t.offset,a=t.type,o=t.content;a==="inner"?t.offset=n<0?n:-10:a==="outer"&&(t.offset=n>=0?n:10),o||(t.content=function(s,l){return""+l._origin[r]})}},e}(ri),uh=Gg;dn("rose",Gg);var FL=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="rose",i.prototype.createLayers.call(this,r)},e.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},e.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},e.getDefaultOptions=uh.getDefaultOptions,e}($r),zg=FL,RL=function(i){var e=i.opacity||1;return{opacity:e*.5}},NL=function(i){var e=i.opacity||1;return{opacity:e*.5}};oa("funnel",{columnStyle:{normal:{},active:RL,disable:NL,selected:{lineWidth:1,stroke:"black"}}});var Xg=d(95280);function YL(i,e){e===void 0&&(e=!1);var t=i.x,r=i.y,n=i.y0,a=i.size,o,s;(0,u.isArray)(r)?(o=r[0],s=r[1]):(o=n,s=r);var l,f;(0,u.isArray)(t)?(l=t[0],f=t[1]):(l=t-a/2,f=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return e?h.push({x:f,y:(s+o)/2}):h.push({x:f,y:s},{x:f,y:o}),h}function GL(i,e){var t=[],r=i.points,n=i.nextPoints;if(e){var a=e.yValues,o=e.yValuesMax,s=e.yValuesNext,l=(r[0].y+r[1].y)/2,f=a[0]+a[1],h=a.map(function(D){return D/f/.5}),c=(o[0]/(o[0]+o[1])-.5)*.9,v=.001;if((0,u.isNil)(n))t.push(["M",r[0].x,c+(r[0].y-l)*h[0]+l],["L",r[1].x,c+l],["L",r[2].x,c+l],["L",r[3].x,c+(r[3].y-l)*h[0]+l],["Z"]),t.push(["M",r[0].x,c+.002+l],["L",r[1].x,c+.002+(r[1].y-l)*h[1]+l],["L",r[2].x,c+.002+(r[2].y-l)*h[1]+l],["L",r[3].x,c+.002+l],["Z"]);else{var x=s[0]+s[1],P=s.map(function(D){return D/x/.5});t.push(["M",r[0].x,c+(r[0].y-l)*h[0]+l-v],["L",r[1].x,c+l-v],["L",n[1].x,c+l-v],["L",n[0].x,c+(n[3].y-l)*P[0]+l-v],["Z"]),t.push(["M",r[0].x,c+l+v],["L",r[1].x,c+(r[1].y-l)*h[1]+l+v],["L",n[1].x,c+(n[2].y-l)*P[1]+l+v],["L",n[0].x,c+l+v],["Z"])}}else(0,u.isNil)(n)?t.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",r[2].x,r[2].y],["L",r[3].x,r[3].y],["Z"]):t.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",n[1].x,n[1].y],["L",n[0].x,n[0].y],["Z"]);return t}Cn("interval","funnel-basic-rect",{getPoints:function(i){return i.size=i.size*1.8,YL(i)},draw:function(i,e){var t,r=(0,Xg.getStyle)(i,!1,!0),n=(0,u.get)(i,"data.__compare__"),a=this.parsePath(GL(i,n));return e.addShape("path",(t={name:"interval",attrs:(0,Jt.__assign)((0,Jt.__assign)({},r),{path:a})},t.__compare__=n,t))},getMarker:function(i){var e=i.color;return{symbol:"square",style:{r:4,fill:e}}}});function fh(i,e,t){return(1-t)*i+t*e}function zL(i,e){var t=e.reverse,r=e.ratioUpper,n=e.ratioLower,a=[],o=i[0],s=(i[1].x+i[2].x)/2,l=1.2,f=.6;if(t){var h=n;n=r,r=h}var c=(o.x-s)*fh(f,l,n)+s;a.push(["M",c,o.y]);for(var v=1,x=i.length;v<x;v++){var P=i[v].x;switch(v){case 1:case 2:P=(P-s)*fh(f,l,r)+s;break;case 3:P=(P-s)*fh(f,l,n)+s;break}a.push(["L",P,i[v].y])}return a.push(["L",c,o.y]),a.push(["z"]),a}Cn("interval","funnel-dynamic-rect",{draw:function(i,e){var t=(0,Xg.getStyle)(i,!1,!0),r=(0,u.get)(i,"data.__custom__"),n=this.parsePath(zL(i.points,r));return e.addShape("path",{attrs:(0,Jt.__assign)((0,Jt.__assign)({},t),{path:n})})},getMarker:function(i){var e=i.color,t=i.isInPolar;return{symbol:t?"circle":"square",style:{r:t?4.5:4,fill:e}}}});function Vg(i,e){var t=e||{},r=t.duration,n=r===void 0?200:r,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,f=i.getBBox(),h=l?f.maxX:f.minX,c=(f.minY+f.maxY)/2,v=i.setClip({type:"rect",attrs:{x:f.x,y:f.y,width:f.width,height:f.height}}),x={matrix:[1,0,0,0,1,0,0,0,1]};v.setMatrix(cn.transform(v.getMatrix(),[["t",-h,-c],["s",0,1],["t",h,c]]));var P={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),v.animate(x,{duration:200,easing:o,callback:function(){i.setClip(null),v.remove()},delay:a}),i.animate(P,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}Vg.animationName="funnelScaleInX",pi("funnelScaleInX",Vg);function Hg(i,e){var t=e||{},r=t.duration,n=r===void 0?200:r,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,f=i.getBBox(),h=(f.minX+f.maxX)/2,c=l?f.maxY:f.minY,v=i.setClip({type:"rect",attrs:{x:f.x,y:f.y,width:f.width,height:f.height}}),x={matrix:[1,0,0,0,1,0,0,0,1]};v.setMatrix(cn.transform(v.getMatrix(),[["t",-h,-c],["s",1,0],["t",h,c]]));var P={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),v.animate(x,{duration:200,easing:o,callback:function(){i.setClip(null),v.remove()},delay:a}),i.animate(P,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}Hg.animationName="funnelScaleInY",pi("funnelScaleInY",Hg);function Nl(i,e,t){return(1-t)*i+t*e}var XL={column:"interval"},VL={interval:"funnel"},Wg=function(i){(0,Jt.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.type="funnel",r._shouldResetPercentages=!0,r._shouldResetLabels=!0,r._shouldResetCompareTexts=!0,r._legendsListenerAttached=!1,r._onLegendContainerMouseDown=function(n){var a=r.options,o=n.target.get("name");if(o.startsWith("legend-item")){var s=n.target.get("parent");if(s.set("unchecked",!s.get("unchecked")),r.refreshPercentages(),r.refreshLabels(),a.dynamicHeight){var l=r._findCheckedDataByMouseDownLegendItem(s);r._genCustomFieldForDynamicHeight(l)}if(a.compareField){var l=r._findCheckedDataByMouseDownLegendItem(s);r._updateDataForCompare(l),r.refreshCompareTexts()}}},r.adjustProps(r.options),t.dynamicHeight&&r._genCustomFieldForDynamicHeight(r.getData()),t.compareField&&(r.options.data=r._reduceDataForCompare(r.getData())),r}return e.getDefaultOptions=function(t){var r={label:{visible:!0,adjustColor:!0},percentage:{visible:!0,offsetX:t.transpose?0:40,offsetY:t.transpose?40:0,spacing:4,line:{visible:!0,style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}},text:{content:"\u8F6C\u5316\u7387",style:{fill:"rgba(0, 0, 0, 0.65)"}},value:{visible:!0,style:{fill:"black"},formatter:function(n,a){return(100*a/n).toFixed(2)+"%"}}},tooltip:{visible:!0,shared:!0,showTitle:!1,showCrosshairs:!1,showMarkers:!1},animation:(0,u.deepMix)({},co.DEFAULT_ANIMATE_CFG,{appear:{duration:800}}),dynamicHeight:!1,compareText:{visible:!0,offsetX:-16,offsetY:-16,style:{fill:"black"}},legend:{position:"bottom-center"},interactions:[{type:"tooltip"},{type:"legend-filter"}]};return(0,u.deepMix)({},i.getDefaultOptions.call(this),r)},e.prototype.getColorScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},e.prototype.coord=function(){var t=this.options,r={type:"rect",actions:t.transpose?t.dynamicHeight?[["transpose"],["scale",1,-1]]:[["scale",1,-1]]:t.dynamicHeight?[]:[["transpose"],["scale",1,-1]]};this.setConfig("coordinate",r)},e.prototype.axis=function(){this.setConfig("axes",!1)},e.prototype.adjustFunnel=function(t){var r=this.options;t.shape=r.dynamicHeight?"funnel-dynamic-rect":"funnel-basic-rect",t.color={fields:[r.xField],values:r.color&&(Array.isArray(r.color)?r.color:[r.color])},(0,u.isFunction)(r.funnelStyle)?t.style={callback:r.funnelStyle}:t.style={cfg:r.funnelStyle},t.adjust=[{type:r.dynamicHeight?"stack":"symmetric"}]},e.prototype.tooltip=function(){var t=this.options;t.compareField&&(0,u.deepMix)(t.tooltip,{htmlContent:function(r,n){var a,o,s,l;a=Nn.CONTAINER_CLASS,o=(0,Ct.Z)('<div class="'+a+'"></div>'),(0,Rt.Z)(o,Lo.default[a]);var f=o;if(r){a=Nn.TITLE_CLASS,o=(0,Ct.Z)('<div class="'+a+'"></div>'),(0,Rt.Z)(o,Lo.default[a]),f.appendChild(o);var h=o;a=Nn.MARKER_CLASS,o=(0,Ct.Z)('<span class="'+a+'"></span>'),(0,Rt.Z)(o,Lo.default[a]),(0,Rt.Z)(o,{width:"10px",height:"10px"}),h.appendChild(o),l=o,o=(0,Ct.Z)("<span>"+r+"</span>"),h.appendChild(o)}if(n){a=Nn.LIST_CLASS,o=(0,Ct.Z)('<ul class="'+a+'"></ul>'),(0,Rt.Z)(o,Lo.default[a]),f.appendChild(o);var c=o;n.reduce(function(v,x){s||(s=x.color);var P=(0,u.get)(x,"point._origin.__compare__.compareValues"),D=(0,u.get)(x,"point._origin.__compare__.yValues");return D.forEach(function(X,K){return v.push([P[K],X])}),v},[]).forEach(function(v,x){var P=v[0],D=v[1];a=Nn.LIST_ITEM_CLASS,o=(0,Ct.Z)('<li class="'+a+'" data-index='+x+"></li>"),(0,Rt.Z)(o,Lo.default[a]),c.appendChild(o);var X=o;a=Nn.NAME_CLASS,o=(0,Ct.Z)('<span class="'+a+'">'+P+"</span>"),(0,Rt.Z)(o,Lo.default[a]),X.appendChild(o),a=Nn.VALUE_CLASS,o=(0,Ct.Z)('<span class="'+a+'">'+D+"</span>"),(0,Rt.Z)(o,Lo.default[a]),X.appendChild(o)})}return s&&l&&(0,Rt.Z)(l,{backgroundColor:s}),f}}),i.prototype.tooltip.call(this)},e.prototype.addGeometry=function(){var t=this.options,r=fi("interval","main",{positionFields:[t.dynamicHeight?"_":t.xField,t.yField],plot:this});this.adjustFunnel(r),this.funnel=r,this.setConfig("geometry",r),t.compareField||this.geometryTooltip()},e.prototype.geometryTooltip=function(){var t=this.options.tooltip;t.fields&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.fields=t.fields),t.formatter&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.callback=t.formatter,t.fields||(this.funnel.tooltip.fields=[this.options.xField,this.options.yField]))},e.prototype.animation=function(){var t=this;i.prototype.animation.call(this);var r=this.options;if(r.animation===!1)this.funnel.animate=!1;else{var n=this.getData(),a=(0,u.get)(r,"animation.appear.duration"),o=a/(n.length||1);this._animationAppearTimeoutHandler&&(clearTimeout(this._animationAppearTimeoutHandler),delete this._animationAppearTimeoutHandler),this._animationAppearTimeoutHandler=setTimeout(function(){t.fadeInPercentages(o),r.compareField&&t.fadeInCompareTexts(o),delete t._animationAppearTimeoutHandler},a),this.funnel.animate=(0,u.deepMix)({},r.animation,{appear:{animation:r.transpose?"funnelScaleInX":"funnelScaleInY",duration:o,delay:function(s){return(0,u.findIndex)(n,function(l){return(0,u.isEqual)(l,s)})*o},callback:function(s){t.fadeInLabels(s,.5*o)}},enter:{animation:"fade-in"}})}},e.prototype.afterRender=function(){var t=this.options;if(this.resetLabels(),this.resetPercentages(),t.compareField&&this.resetCompareTexts(),t.padding=="auto"){var r=this._findPercentageContainer();r&&this.paddingController.registerPadding(r,"inner",!0);var n=this._findCompareTextContainer();n&&this.paddingController.registerPadding(n,"inner",!0)}if(i.prototype.afterRender.call(this),t.animation===!1&&(this.fadeInLabels(),this.fadeInPercentages(),t.compareField&&this.fadeInCompareTexts()),!this._legendsListenerAttached){this._legendsListenerAttached=!0;var a=this.view.getController("legend").container;a.on("mousedown",this._onLegendContainerMouseDown)}},e.prototype.updateConfig=function(t){t=this.adjustProps(t),i.prototype.updateConfig.call(this,t),this._legendsListenerAttached=!1},e.prototype.changeData=function(t){var r=this.options;if(r.animation!==!1&&(this._shouldResetPercentages=!1,this._shouldResetLabels=!1),r.dynamicHeight){var n=this._findCheckedDataInNewData(t);this._genCustomFieldForDynamicHeight(n)}if(r.compareField){t=this._reduceDataForCompare(t);var n=this._findCheckedDataInNewData(t);this._updateDataForCompare(n)}i.prototype.changeData.call(this,t),this.refreshPercentages(),this.refreshLabels(),r.compareField&&this.fadeInCompareTexts()},e.prototype.geometryParser=function(t,r){return t==="g2"?XL[r]:VL[r]},e.prototype.adjustProps=function(t){return t.compareField&&(t.dynamicHeight=!1),t.dynamicHeight&&((0,u.set)(t,"meta."+t.yField+".nice",!1),(0,u.set)(t,"tooltip.shared",!1)),t},e.prototype.resetPercentages=function(){var t=this;if(!!this._shouldResetPercentages){var r=this.options,n=r.percentage||{},a=n.offsetX,o=n.offsetY,s=n.spacing,l=n.line,f=l===void 0?{}:l,h=n.text,c=h===void 0?{}:h,v=n.value,x=v===void 0?{}:v,P=Date.now(),D=this._findPercentageContainer(!0);this._eachShape(function(X,K,Z,gt){if(K>0){var mt=X.getBBox(),Nt=mt.minX,Zt=mt.maxX,ee=mt.maxY,ue=mt.minY,ne=r.transpose?Nt:Zt,xe=r.transpose&&r.compareField?ee:ue,Pe=t._findPercentageMembersInContainerByIndex(D,K,!0),Ye=Pe.line,He=Pe.text,Ze=Pe.value,Ue=[function(pr,fr,Yr,_r,Fr){Yr&&(Yr.attr((0,u.deepMix)({},f.style,{x1:pr,y1:fr,x2:r.transpose?pr+a:pr-a,y2:r.transpose?fr-o:fr+o,opacity:0})),Yr.set("adjustTimestamp",P));var yr=0,Ir=0,Vr=function(){_r&&(_r.attr((0,u.deepMix)({},c.style,{x:r.transpose?pr+a:pr-a-s-Ir-s,y:r.transpose?fr-o-s:fr+o,opacity:0,text:c.content,textAlign:r.transpose?"left":"right",textBaseline:r.transpose?"bottom":"middle"})),_r.set("adjustTimestamp",P),yr=_r.getBBox().width)},Br=function(){Fr&&(Fr.attr((0,u.deepMix)({},x.style,{x:r.transpose?pr+a+yr+s:pr-a-s,y:r.transpose?fr-o-s:fr+o,opacity:0,text:(0,u.isFunction)(x.formatter)?r.compareField?x.formatter((0,u.get)(gt,"__compare__.yValues.0"),(0,u.get)(Z,"__compare__.yValues.0")):x.formatter(gt[r.yField],Z[r.yField]):"",textAlign:r.transpose?"left":"right",textBaseline:r.transpose?"bottom":"middle"})),Fr.set("adjustTimestamp",P),Ir=Fr.getBBox().width)};r.transpose?(Vr(),Br()):(Br(),Vr())},function(pr,fr,Yr,_r,Fr){Yr&&(Yr.attr((0,u.deepMix)({},f.style,{x1:pr,y1:fr,x2:pr+a,y2:r.transpose?r.compareField?fr+o:fr-o:fr+o,opacity:0})),Yr.set("adjustTimestamp",P));var yr=0;_r&&(_r.attr((0,u.deepMix)({},c.style,{x:r.transpose?pr+a:pr+a+s,y:r.transpose?r.compareField?fr+o+s:fr-o-s:fr+o,opacity:0,text:c.content,textAlign:"left",textBaseline:r.transpose?r.compareField?"top":"bottom":"middle"})),_r.set("adjustTimestamp",P),yr=_r.getBBox().width),Fr&&(Fr.attr((0,u.deepMix)({},x.style,{x:r.transpose?pr+a+yr+s:pr+a+s+yr+s,y:r.transpose?r.compareField?fr+o+s:fr-o-s:fr+o,opacity:0,text:(0,u.isFunction)(x.formatter)?r.compareField?x.formatter((0,u.get)(gt,"__compare__.yValues.1"),(0,u.get)(Z,"__compare__.yValues.1")):x.formatter(gt[r.yField],Z[r.yField]):"",textAlign:"left",textBaseline:r.transpose?r.compareField?"top":"bottom":"middle"})),Fr.set("adjustTimestamp",P))}];if(r.compareField){var ur=[Nt,ue],wr=ur[0],mr=ur[1];[[wr,mr],[ne,xe]].forEach(function(pr,fr){var Yr=pr[0],_r=pr[1];return Ue[fr](Yr,_r,Ye&&Ye[fr],He&&He[fr],Ze&&Ze[fr])})}else Ue[1](ne,xe,Ye,He,Ze)}gt=Z,K++}),D.get("children").forEach(function(X){X.get("adjustTimestamp")!=P&&(X.attr({opacity:0}),D.set(X.get("id"),null),setTimeout(function(){return X.remove()},0))})}},e.prototype.fadeInPercentages=function(t,r){var n=this,a=this.options,o=this._findPercentageContainer(),s=function(l){var f={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity};n._eachShape(function(h,c){var v=n._findPercentageMembersInContainerByIndex(o,c),x={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity},P=function(X){if(X&&X.get("type")=="text"){var K=X.getBBox(),Z=K.minX,gt=K.maxX,mt=K.minY,Nt=K.maxY;Z<x.minX&&(x.minX=Z),gt>x.maxX&&(x.maxX=gt),mt<x.minY&&(x.minY=mt),Nt>x.maxY&&(x.maxY=Nt)}};if((0,u.each)(v,function(X){return(0,u.isArray)(X)?P(X[l]):P(X)}),x.minX>f.maxX||x.maxX<f.minX||x.minY>f.maxY||x.maxY<f.minY){var D=function(X){if(X){var K={opacity:1};t?X.animate(K,t):X.attr(K)}};(0,u.each)(v,function(X){return(0,u.isArray)(X)?D(X[l]):D(X)}),(0,u.assign)(f,x)}})};a.compareField?[0,1].forEach(s):s(),t&&r&&setTimeout(r,t)},e.prototype.fadeOutPercentages=function(t,r){var n=this,a=this._findPercentageContainer();this._eachShape(function(o,s){var l=n._findPercentageMembersInContainerByIndex(a,s),f=function(h){if(h){var c={opacity:0};t?h.animate(c,t):h.attr(c)}};(0,u.each)(l,function(h){return(0,u.isArray)(h)?h.forEach(f):f(h)})}),t&&r&&setTimeout(r,t)},e.prototype.refreshPercentages=function(t){var r=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetPercentages=!1,this.fadeOutPercentages(o,function(){r._shouldResetPercentages=!0,r.resetPercentages(),r.fadeInPercentages(s,t)})}},e.prototype._findPercentageContainer=function(t){t===void 0&&(t=!1);var r=this.view.middleGroup,n=r.get("percentageContainer");return!n&&t&&(n=r.addGroup(),r.set("percentageContainer",n)),n},e.prototype._findPercentageMembersInContainerByIndex=function(t,r,n){n===void 0&&(n=!1);var a=this.options,o=a.percentage||{},s=o.visible,l=o.line,f=l===void 0?{}:l,h=o.text,c=h===void 0?{}:h,v=o.value,x=v===void 0?{}:v,P={line:void 0,text:void 0,value:void 0};if(s===!1||!t)return P;if(f.visible!==!1){var D=function(gt){var mt="_percentage-line-"+r+"-"+gt,Nt=t.get(mt);return!Nt&&n&&(Nt=t.addShape({id:mt,type:"line",attrs:{}}),t.set(mt,Nt)),Nt},X=a.compareField?[0,1].map(D):D(0);P.line=X}if(c.visible!==!1){var D=function(mt){var Nt="_percentage-text-"+r+"-"+mt,Zt=t.get(Nt);return!Zt&&n&&(Zt=t.addShape({id:Nt,type:"text",attrs:{}}),t.set(Nt,Zt)),Zt},K=a.compareField?[0,1].map(D):D(0);P.text=K}if(x.visible!==!1){var D=function(mt){var Nt="_percentage-value-"+r+"-"+mt,Zt=t.get(Nt);return!Zt&&n&&(Zt=t.addShape({id:Nt,type:"text",attrs:{}}),t.set(Nt,Zt)),Zt},Z=a.compareField?[0,1].map(D):D(0);P.value=Z}return P},e.prototype._calcRefreshFadeDurations=function(){var t=this.options,r=(0,u.get)(t,"animation.update.duration"),n=(0,u.get)(t,"animation.enter.duration"),a=Math.min(n,r)*.6,o=Math.max(n,r)*1.2;return{fadeInDuration:a,fadeOutDuration:o}},e.prototype.resetLabels=function(){var t=this;if(!!this._shouldResetLabels){var r=this.options,n=r.xField,a=r.yField,o=Date.now(),s=this._getGeometry().labelsContainer,l=r.label||{},f=(0,u.deepMix)((0,Jt.__assign)({},this.theme.label),r.label.style,{opacity:0,textAlign:"center",textBaseline:"middle"}),h;this._eachShape(function(c,v,x,P){var D,X=c.get("element");v==0&&(h=x);var K=c.getBBox(),Z=K.minX,gt=K.maxX,mt=K.minY,Nt=K.maxY,Zt=x[n],ee=x[a];l.adjustColor&&(f.fill=t._getAdjustedTextFillByShape(c));var ue=x.__compare__,ne,xe=(D={},D[ds]=x,D.element=X,D.elementIndex=P,D.mappingDatum=[].concat(X.getModel().mappingData)[0],D.mappingDatumIndex=0,D);l.formatter?ne=l.formatter(Zt,xe,v,ee,h[a]):ue?ne=[0,1].map(function(){return""+ee}).join(r.transpose?`

`:"    "):ne=Zt+" "+ee;var Pe=t._findLabelInContainerByIndex(s,v,!0),Ye=ue?ue.yValues[0]/(ue.yValues[0]+ue.yValues[1]):.5;Pe&&(Pe.attr((0,Jt.__assign)((0,Jt.__assign)({},f),{x:Nl(Z,gt,r.transpose?.5:Ye),y:Nl(mt,Nt,r.transpose?Ye:.5),text:ne})),Pe.set("adjustTimestamp",o))}),s.get("children").forEach(function(c){c.get("adjustTimestamp")!=o&&(c.attr({opacity:0}),s.set(c.get("id"),null),setTimeout(function(){return c.remove()}))})}},e.prototype.fadeInLabels=function(t,r,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var f=a._findLabelInContainerByIndex(o,l);if(f){var h=s.getBBox(),c=f.getBBox();if(c.minX>=h.minX&&c.maxX<=h.maxX&&c.minY>=h.minY&&c.maxY<=h.maxY){var v={opacity:1};r?f.animate(v,r):f.attr(v)}}}}),r&&n&&setTimeout(n,r)},e.prototype.fadeOutLabels=function(t,r,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var f=a._findLabelInContainerByIndex(o,l);if(f){var h={opacity:0};r?f.animate(h,r):f.attr(h)}}}),r&&n&&setTimeout(n,r)},e.prototype.refreshLabels=function(t){var r=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetLabels=!1,this.fadeOutLabels(null,o,function(){r._shouldResetLabels=!0,r.resetLabels(),r.fadeInLabels(null,s,t)})}},e.prototype._findLabelInContainerByIndex=function(t,r,n){var a;n===void 0&&(n=!1);var o=this.options,s;if(((a=o.label)===null||a===void 0?void 0:a.visible)===!1)return s;var l="_label-"+r;return s=t.get(l),!s&&n&&(s=t.addShape({id:l,type:"text",attrs:{}}),t.set(l,s)),s},e.prototype.resetCompareTexts=function(){if(!!this._shouldResetCompareTexts){var t=this.options,r,n;if(this._eachShape(function(x,P,D){P==0&&(r=x.get("parent").getBBox(),n=(0,u.get)(D,"__compare__"))}),r&&n&&(0,u.get)(t,"compareText.visible")!==!1){var a=this._findCompareTextContainer(!0),o=n.yValuesMax,s=n.compareValues,l=r.minX,f=r.maxX,h=r.minY,c=r.maxY,v=a.get("children");[0,1].forEach(function(x){var P=v[x];P||(P=a.addShape({type:"text"})),P.attr((0,u.deepMix)({},(0,u.get)(t,"compareText.style"),{text:t.transpose?s[x]:x?"  "+s[x]:s[x]+"  ",x:t.transpose?l+(0,u.get)(t,"compareText.offsetX"):Nl(l,f,o[0]/(o[0]+o[1])),y:t.transpose?Nl(h,c,o[0]/(o[0]+o[1]))+(x?8:-8):h+(0,u.get)(t,"compareText.offsetY"),opacity:0,textAlign:t.transpose?"right":x?"left":"right",textBaseline:t.transpose&&x?"top":"bottom"}))})}}},e.prototype.fadeInCompareTexts=function(t,r){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:1};t?s.animate(l,t):s.attr(l)}})}t&&r&&setTimeout(r,t)},e.prototype.fadeOutCompareTexts=function(t,r){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:0};t?s.animate(l,t):s.attr(l)}})}t&&r&&setTimeout(r,t)},e.prototype.refreshCompareTexts=function(t){var r=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeInDuration,s=a.fadeOutDuration;this._shouldResetCompareTexts=!1,this.fadeOutCompareTexts(s,function(){r._shouldResetCompareTexts=!0,r.resetCompareTexts(),r.fadeInCompareTexts(o,t)})}},e.prototype._findCompareTextContainer=function(t){t===void 0&&(t=!1);var r=this.view.middleGroup,n=r.get("compareTextContainer");return!n&&t&&(n=r.addGroup(),r.set("compareTextContainer",n)),n},e.prototype._eachShape=function(t){var r,n=this._findCheckedData(this.getData()),a=n.length,o=0,s;(r=this._getGeometry())===null||r===void 0||r.elements.forEach(function(l,f){var h=l.shape,c=n[o];o<a&&t(h,o,c,s,f),s=c,o++})},e.prototype._getGeometry=function(){return this.view.geometries[0]},e.prototype._getAdjustedTextFillByShape=function(t){var r=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,a=qa(r),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=Ol(s,o);return l},e.prototype._genCustomFieldForDynamicHeight=function(t){var r=this.options,n=t.reduce(function(o,s){return o+s[r.yField]},0),a=1;t.forEach(function(o,s){var l=o[r.yField],f=l/n,h=a-f;o.__custom__={datumIndex:s,dataLength:t.length,ratioUpper:a,ratioLower:h,reverse:r.transpose},a=h})},e.prototype._findCheckedDataByMouseDownLegendItem=function(t){var r=t.get("parent").get("children").map(function(a){return!a.get("unchecked")}),n=this.getData().filter(function(a,o){return r[o]});return n},e.prototype._findCheckedDataInNewData=function(t){var r=this.options,n=this.view.getController("legend").container,a=n.findAll(function(s){return s.get("name")=="legend-item"}).filter(function(s){return s.get("unchecked")}).map(function(s){return s.get("id").replace("-legend-item-","")}),o=t.filter(function(s){return!(0,u.contains)(a,s[r.xField])});return o},e.prototype._findCheckedData=function(t){var r,n=this.options;if((r=n.legend)===null||r===void 0?void 0:r.visible){var a=this.view.getController("legend").container,o=a.findAll(function(l){return l.get("name")=="legend-item"}).filter(function(l){return!l.get("unchecked")}).map(function(l){return l.get("id").replace("-legend-item-","")}),s=t.filter(function(l){return(0,u.contains)(o,l[n.xField])});return s}else return this.processData(n.data)},e.prototype._reduceDataForCompare=function(t){var r=this.options,n,a=[-Infinity,-Infinity];return t=t.reduce(function(o,s){var l,f=s[r.xField],h=s[r.yField],c=s[r.compareField];n||(n=c);var v=o.find(function(P){return P[r.xField]==f});v||(v=(l={},l[r.xField]=f,l[r.yField]=0,l.__compare__={compareValues:[],yValues:[],yValuesMax:[],yValuesNext:void 0,transpose:r.transpose},l),o.push(v));var x=c==n?0:1;return v.__compare__.yValues[x]=h,a[x]<h&&(a[x]=h),v.__compare__.compareValues[x]=c,o},[]),t.forEach(function(o,s){o[r.yField]=(0,u.get)(o,"__compare__.yValues",[]).reduce(function(l,f){return l+=f},0),(0,u.set)(o,"__compare__.yValuesMax",a),(0,u.set)(o,"__compare__.yValuesNext",(0,u.get)(t,s+1+".__compare__.yValues"))}),t},e.prototype._updateDataForCompare=function(t){var r=[-Infinity,-Infinity];t.forEach(function(n){var a=(0,u.get)(n,"__compare__.yValues");[0,1].forEach(function(o){a[o]>r[o]&&(r[o]=a[o])})}),t.forEach(function(n,a){(0,u.set)(n,"__compare__.yValuesMax",r),(0,u.set)(n,"__compare__.yValuesNext",(0,u.get)(t,a+1+".__compare__.yValues"))})},e}(ri),HL=Wg;dn("funnel",Wg);var WL=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="funnel",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=HL.getDefaultOptions,e}($r),jL=WL,jg=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedRose",t.baseType="rose",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},e.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},e.prototype.adjustRoseAdjust=function(){return[{type:"stack"}]},e.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.stackField]))},e}(uh),UL=jg;dn("stackedRose",jg);var ZL=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="stackedRose",i.prototype.createLayers.call(this,r)},e.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},e.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},e.getDefaultOptions=UL.getDefaultOptions,e}($r),Ug=ZL,Zg=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedRose",t.baseType="rose",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},e.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},e.prototype.adjustRoseAdjust=function(){return[{type:"dodge",marginRatio:1}]},e.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.groupField]))},e}(uh),KL=Zg;dn("groupedRose",Zg);var $L=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="groupedRose",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=KL.getDefaultOptions,e}($r),Kg=$L,QL={area:"area",line:"line",point:"point"},JL=Bi(QL);(0,u.assign)(bn,JL);var qL=function(i){var e=i.opacity||1;return{opacity:e}},tI=function(i){var e=i.opacity||1;return{opacity:e*.5}},eI=function(i){var e=i.opacity||1;return{opacity:e}},rI=function(i){var e=i.opacity||1;return{opacity:e*.5}},nI=function(i){var e=i.lineWidth||1;return{lineWidth:e+2}},iI=function(i){var e=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:1}},aI=function(i){var e=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:2}},oI=function(i){var e=i.opacity||i.fillOpacity||1;return{opacity:e*.5}};oa("radar",{areaStyle:{normal:{},active:qL,disable:tI,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:eI,disable:rI,selected:nI},pointStyle:{normal:{},active:iI,disable:oI,selected:aI}});var sI={area:"area",line:"line",point:"point"},$g=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="radar",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,smooth:!1,line:{visible:!0,size:2,style:{opacity:1}},area:{visible:!0,style:{opacity:.25}},point:{visible:!1,size:4,shape:"point",style:{opacity:1}},angleAxis:{visible:!0,autoRotateTitle:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1}},radiusAxis:{min:0,visible:!0,nice:!0,autoRotateTitle:!0,line:{visible:!0},tickLine:{visible:!0},gridType:"line",grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"left-top"},tooltip:{visible:!0,shared:!0,showCrosshairs:!1}})},e.prototype.init=function(){var t=this.options;t.xField=t.angleField,t.yField=t.radiusField,i.prototype.init.call(this)},e.prototype.getAngleScale=function(){var t=this.options.angleField;return this.view.getScaleByField(t)},e.prototype.getRadiusScale=function(){var t=this.options.radiusField;return this.view.getScaleByField(t)},e.prototype.getColorScale=function(){var t=this.options.seriesField;return this.view.getScaleByField(t)},e.prototype.geometryParser=function(t,r){return sI[r]},e.prototype.scale=function(){var t=this.options,r={};r[t.angleField]={},(0,u.has)(t,"angleAxis")&&Pi(r[t.angleField],t.angleAxis),r[t.radiusField]={},(0,u.has)(t,"radiusAxis")&&Pi(r[t.radiusField],t.radiusAxis),this.setConfig("scales",r),i.prototype.scale.call(this)},e.prototype.coord=function(){var t=this.options,r={type:"polar",cfg:{radius:t.radius}};this.setConfig("coordinate",r)},e.prototype.axis=function(){var t=this.options,r=Ri("axis",{plot:this,dim:"angle"}),n=Ri("axis",{plot:this,dim:"radius"}),a={};a[t.angleField]=r,a[t.radiusField]=n,this.setConfig("axes",a)},e.prototype.addGeometry=function(){var t=this.options;if(t.area.visible){var r=fi("area","main",{plot:this});this.setConfig("geometry",r),this.area=r}if(t.line&&t.line.visible){var n=fi("line","main",{plot:this});this.setConfig("geometry",n),this.line=n}if(t.point&&t.point.visible){var a=fi("point","guide",{plot:this});this.setConfig("geometry",a),this.point=a}t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip()},e.prototype.geometryTooltip=function(){var t=this.line?this.line:this.area;t.tooltip={};var r=this.options.tooltip;r.fields&&(t.tooltip.fields=r.fields),r.formatter&&(t.tooltip.callback=r.formatter,r.fields||(t.tooltip.fields=[this.options.angleField,this.options.radiusField]),this.options.seriesField&&t.tooltip.fields.push(this.options.seriesField))},e.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.point&&(this.point.label=!1),this.line&&(this.line.label=!1),this.area&&(this.area.label=!1);return}var r=Ri("label",(0,Jt.__assign)({fields:[t.radiusField],cfg:{type:"polar",autoRotate:!1},plot:this},t.label));this.point?this.point.label=r:this.line?this.line.label=r:this.area&&(this.area.label=r)},e.prototype.annotation=function(){},e.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area&&(this.area.animate=!1),this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,M)},e}(ri),lI=$g;dn("radar",$g);var uI=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="radar",i.prototype.createLayers.call(this,r)},e.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},e.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},e.prototype.getColorScale=function(){var t=this.layers[0];return t.getColorScale()},e.getDefaultOptions=lI.getDefaultOptions,e}($r),Qg=uI,fI=d(89810),hI=d(79189),cI=function(){function i(e){var t=this.getDefaultOptions();this.options=(0,u.deepMix)(t,e,{}),this.x=this.options.x,this.y=this.options.y,this.html=this.options.html,this.container=this.options.container}return i.prototype.render=function(){if((0,u.isElement)(this.container)){this.wrapperNode=(0,Ct.Z)('<div class="g2plot-htmlStatistic"></div>'),this.container.appendChild(this.wrapperNode),(0,Rt.Z)(this.wrapperNode,{position:"absolute",pointerEvents:"none"});var e=this.html;this.wrapperNode.appendChild(e),this.setDomPosition(this.x,this.y)}},i.prototype.updateHtml=function(e){(0,u.isType)(e,"HTMLDivElement")?(this.wrapperNode.innerHTML="",this.wrapperNode.appendChild(e)):this.wrapperNode.innerHTML=e,this.setDomPosition(this.x,this.y)},i.prototype.updatePosition=function(e,t){this.x=e,this.y=t,this.setDomPosition(e,t)},i.prototype.destroy=function(){this.container.removeChild(this.wrapperNode)},i.prototype.getDefaultOptions=function(){return{x:0,y:0,width:0,height:0,html:"",container:null,alignX:"middle",alignY:"middle"}},i.prototype.setDomPosition=function(e,t){var r=e,n=t,a=(0,fI.Z)(this.wrapperNode),o=(0,hI.Z)(this.wrapperNode);this.options.alignX==="middle"&&(r=e-a/2),this.options.alignY==="middle"&&(n=t-o/2),(0,Rt.Z)(this.wrapperNode,{top:Math.round(n)+"px",left:Math.round(r)+"px",transform:a>0?"none":"translate(-50%, -50%)"})},i}(),Jg=cI,vI="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",dI="font-size:32px;font-weight:bold;color:#4D4D4D";function pI(i,e){var t='<span class="liquid-guide-value" style='+dI+">"+i+"</span>";return'<div class="liquid-guide-html '+e+'" style='+vI+">"+t+"</div>"}var gI=function(i){(0,Jt.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.view=t.view,r.plot=t.plot,r.statisticClass=t.statisticClass,r.adjustOptions(),r}return e.prototype.getTotalHtmlString=function(){var t=document.createElement("div"),r=this.plot.options,n=r.value,a=n===void 0?0:n,o=r.statistic;if(o&&!o.visible)return t;var s=this.options.htmlContent(a);return(0,u.isType)(s,"HTMLDivElement")?t.appendChild(s):t.innerHTML=pI(s,this.statisticClass),t},e.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,r=t.minX,n=t.minY,a=t.width,o=t.height;this.x=r+a/2,this.y=n+o/2},e}(Jg),yI=gI,mI={liquid:"intervl",statistic:"annotation-text"},xI=Bi(mI);(0,u.assign)(bn,xI);var qg=Wi(),ty={splitPoints:function(i){var e=[],t=i.x,r=i.y;return r=(0,u.isArray)(r)?r:[r],(0,u.each)(r,function(n,a){var o={x:(0,u.isArray)(t)?t[a]:t,y:n};e.push(o)}),e},addFillAttrs:function(i,e){e.color&&!i.fill&&(i.fill=e.color),(0,u.isNumber)(e.opacity)&&(i.opacity=i.fillOpacity=e.opacity)},addStrokeAttrs:function(i,e){e.color&&!i.stroke&&(i.stroke=e.color),(0,u.isNumber)(e.opacity)&&(i.opacity=i.strokeOpacity=e.opacity)}},hh={lerp:function(i,e,t){return(1-t)*i+t*e}},bI=function(i){var e={lineWidth:0,fill:qg.color,fillOpacity:.85},t=(0,u.mix)({},e,i.style);return ty.addFillAttrs(t,i),i.color&&!t.stroke&&(t.stroke=t.stroke||i.color),t},wI=function(i){var e={fill:"#fff",stroke:qg.color,fillOpacity:0,lineWidth:2},t=(0,u.mix)({},e,i.style);return ty.addStrokeAttrs(t,i),t};function SI(i,e,t,r){return e===0?[[i+1/2*t/Math.PI/2,r/2],[i+1/2*t/Math.PI,r],[i+t/4,r]]:e===1?[[i+1/2*t/Math.PI/2*(Math.PI-2),r],[i+1/2*t/Math.PI/2*(Math.PI-1),r/2],[i+t/4,0]]:e===2?[[i+1/2*t/Math.PI/2,-r/2],[i+1/2*t/Math.PI,-r],[i+t/4,-r]]:[[i+1/2*t/Math.PI/2*(Math.PI-2),-r],[i+1/2*t/Math.PI/2*(Math.PI-1),-r/2],[i+t/4,0]]}function MI(i,e,t,r,n,a,o){for(var s=Math.ceil(2*i/t*4)*2,l=[],f=r;f<-Math.PI*2;)f+=Math.PI*2;for(;f>0;)f-=Math.PI*2;f=f/Math.PI/2*t;var h=a-i+f-i*2;l.push(["M",h,e]);for(var c=0,v=0;v<s;++v){var x=v%4,P=SI(v*t/4,x,t,n);l.push(["C",P[0][0]+h,-P[0][1]+e,P[1][0]+h,-P[1][1]+e,P[2][0]+h,-P[2][1]+e]),v===s-1&&(c=P[2][0])}return l.push(["L",c+h,o+i]),l.push(["L",h,o+i]),l.push(["L",h,e]),l}function CI(i,e,t,r,n,a,o,s){for(var l=o.getBBox(),f=l.maxX-l.minX,h=l.maxY-l.minY,c=5e3,v=0;v<r;v++){var x=r<=1?0:v/(r-1),P=a.addShape("path",{attrs:{path:MI(s,l.minY+h*t,f/4,0,f/hh.lerp(56,64,x),i,e),fill:n,opacity:hh.lerp(.6,.3,x)}}),D=Ho([["t",f/2,0]]);P.animate({matrix:D},{duration:hh.lerp(c,.7*c,x),repeat:!0})}}Cn("interval","liquid-fill-gauge",{draw:function(i,e){var t=.5,r=Infinity;(0,u.each)(i.points,function(v){v.x<r&&(r=v.x)});var n=.5,a=this.parsePoint({x:n,y:t}),o=this.parsePoint({x:r,y:.5}),s=a.x-o.x,l=Math.min(s,o.y),f=bI(i).fill,h=e.addGroup({name:"waves",attrs:{x:a.x,y:a.y}});h.setClip({type:"circle",attrs:{x:a.x,y:a.y,r:l}});var c=h.get("clipShape");return CI(a.x,a.y,1-i.points[1].y,3,f,h,c,l*4),e.addShape("circle",{name:"wrap",attrs:(0,u.mix)(wI(i),{x:a.x,y:a.y,r:l,fill:"transparent"})}),h[0]}});function ey(i,e){var t=i.get("parent"),r=t.getBBox(),n=Math.min(Math.max(0,(0,u.get)(e,"factor",.5)),1),a=(0,u.get)(e,"delay",0),o=(0,u.get)(e,"duration",800),s=e.callback,l=(r.minX+r.maxX)/2,f=r.maxY,h=t.find(function(D){return D.get("name")=="wrap"}),c=h.attr("opacity");h.attr("opacity",0),h.animate({opacity:c},o*n,"easeLinear",null,a);var v=t.find(function(D){return D.get("name")=="waves"}),x=(0,u.clone)(v.attr("matrix"))||[1,0,0,0,1,0,0,0,1],P=Ho(x,[["t",-l,-f],["s",1,0],["t",l,f]]);v.setMatrix(P),v.animate({matrix:x},o,e.easing,function(){return s&&s(t,h,v)},a)}ey.animationName="liquidMoveIn",pi("liquidMoveIn",ey);var EI={column:"interval"},AI={interval:"liquid"},ry=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="liquid",t.shouldFadeInAnnotation=!0,t}return e.getDefaultOptions=function(){var t={padding:[0,0,0,0],animation:{factor:.4,easing:"easeExpOut",duration:800},liquidStyle:{lineWidth:2},color:"#6a99f9",interactions:[],statistic:{visible:!0}};return(0,u.deepMix)({},i.getDefaultOptions.call(this),t)},e.prototype.beforeInit=function(){var t=this.options,r=t.min,n=t.max,a=t.value;if(!(0,u.isNumber)(r))throw new Error("The min value of Liquid is required, and the type of min must be Number.");if(!(0,u.isNumber)(n))throw new Error("The max value of Liquid is required, and the type of max must be Number.");if(!(0,u.isNumber)(a))throw new Error("The value of Liquid is required, and the type of value must be Number.")},e.prototype.init=function(){this.options.data=[{}],i.prototype.init.call(this)},e.prototype.coord=function(){},e.prototype.scale=function(){var t=this.options,r=t.min,n=t.max,a={value:{}};Pi(a.value,{min:Math.min(r,n),max:Math.max(r,n)}),this.setConfig("scales",a),i.prototype.scale.call(this)},e.prototype.axis=function(){this.setConfig("axes",!1)},e.prototype.adjustLiquid=function(t){var r=this.options;t.shape={values:["liquid-fill-gauge"]},t.tooltip=!1;var n=r.liquidStyle;(0,u.isFunction)(n)&&(n=n()),n&&(t.style=n)},e.prototype.addGeometry=function(){var t=fi("interval","main",{positionFields:[1,"value"],plot:this});this.adjustLiquid(t);var r=this.getViewRange(),n=Math.min(r.width,r.height)*.8,a=this.options.liquidSize?this.options.liquidSize:n;t.size={values:[a]},this.liquid=t,this.setConfig("geometry",t)},e.prototype.animation=function(){var t=this.options;if(t.animation===!1)this.liquid.animate=!1;else{var r=(0,u.get)(t,"animation.factor"),n=(0,u.get)(t,"animation.easing"),a=(0,u.get)(t,"animation.duration");this.liquid.animate={appear:{animation:"liquidMoveIn",factor:r,easing:n,duration:a}}}},e.prototype.geometryParser=function(t,r){return t==="g2"?EI[r]:AI[r]},e.prototype.annotation=function(){var t=[],r=this.extractStatistic();t.push(r),this.setConfig("annotations",t)},e.prototype.useHtmlContent=function(){var t=this.options,r=t.statistic||{};return(0,u.isFunction)(r.htmlContent)},e.prototype.extractStatistic=function(){if(!this.useHtmlContent()){var t=this.options,r=t.statistic||{},n;(0,u.isFunction)(r.formatter)?n=r.formatter(t.value):n=""+t.value;var a,o;if(n){var s=Math.min(this.width,this.height);a=s/n.length*.5,o=Math.max(1,Math.ceil(.025*a))}var l;if(r.visible!==!1){var f=(0,u.deepMix)({style:{fontSize:a,shadowBlur:o}},{top:!0,content:n,type:"text",position:["50%","50%"],style:{opacity:l,fill:"transparent",shadowColor:"transparent",textAlign:"center"}},r);return delete f.visible,delete f.formatter,delete f.adjustColor,f}}},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,L)},e.prototype.afterRender=function(){var t;((t=this.options.statistic)===null||t===void 0?void 0:t.visible)&&!this.useHtmlContent()&&this.fadeInAnnotation();var r=this.options,n=r.padding?r.padding:this.config.theme.padding;if(r.defaultState&&n!=="auto"&&this.stateController.defaultStates(r.defaultState),n==="auto"&&this.paddingController.processAutoPadding(),this.useHtmlContent()){var a=this.canvas.get("container");if(this.statistic&&a.removeChild(this.statistic.wrapperNode),this.options.statistic&&this.options.statistic.visible){var o=this.canvas.get("container");(0,Rt.Z)(o,{position:"relative"}),this.statistic=new yI((0,Jt.__assign)({container:o,view:this.view,plot:this},this.options.statistic)),this.statistic.render()}i.prototype.afterRender.call(this)}},e.prototype.processData=function(){var t=this.options;return[{_:"_",value:t.value}]},e.prototype.changeValue=function(t){var r=this.options;r.value=t,this.changeData([])},e.prototype.fadeInAnnotation=function(){var t=this,r=this.options,n=this.view.foregroundGroup.findAll(function(s){return s.get("name")==="annotation-text"})[0],a=r.animation||{},o=this.calcAnnotationColorStyle();this.shouldFadeInAnnotation?n.animate(o,a.duration*Math.min(1,1.5*a.factor),null,function(){t.shouldFadeInAnnotation=!1}):(0,u.forIn)(o,function(s,l){return n.attr(l,s)})},e.prototype.calcAnnotationColorStyle=function(){var t=this.options,r={fill:"#f6f6f6",shadowColor:"black"},n={fill:"#303030",shadowColor:"white"};if((0,u.get)(t,"statistic.adjustColor")===!1)return{fill:(0,u.get)(t,"statistic.style.fill",n.fill),shadowColor:(0,u.get)(t,"statistic.style.shadowColor",n.shadowColor)};var a=t.min,o=t.max,s=t.value;a=Math.min(a,o),o=Math.max(a,o);var l;if(a==o?l=1:l=(s-a)/(o-a),l>.55){var f=this.options.color,h=.8,c=qa(f),v=Math.round(c[0]*.299+c[1]*.587+c[2]*.114)/h;return v<156?r:n}return n},e.prototype.updateConfig=function(t){i.prototype.updateConfig.call(this,t),this.shouldFadeInAnnotation=!0},e.prototype.getViewRange=function(){var t=i.prototype.getViewRange.call(this),r=this.options.liquidStyle,n=r.lineWidth?r.lineWidth:2,a=t.minX,o=t.minY,s=t.width,l=t.height,f=Math.min(s,l)-n*2,h=a+s/2,c=o+l/2,v=h-f/2,x=c-f/2;return new tn(v,x,f,f)},e}(ri),ch=ry;dn("liquid",ry);var TI=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="liquid",i.prototype.createLayers.call(this,r)},e.prototype.changeValue=function(t,r){if(r===void 0&&(r=!1),r)this.eachLayer(function(a){a instanceof ch&&a.changeValue(t)});else{var n=this.layers[0];n instanceof ch&&n.changeValue(t)}},e.getDefaultOptions=ch.getDefaultOptions,e}($r),ny=TI,iy=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="histogram",t}return e.prototype.init=function(){this.options.xField="range",this.options.yField="count",i.prototype.init.call(this)},e.prototype.processData=function(t){var r=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=(0,u.clone)(t);(0,u.sortBy)(l,a);var f=(0,u.valuesOfKey)(l,a),h=(0,u.getRange)(f),c=h.max-h.min,v=o;if(!o&&s&&(v=c/s),!o&&!s){var x=ud(f);v=c/x}var P={};(0,u.each)(l,function(X){var K=X[a],Z=r.getBin(K,v),gt=Z[0]+"-"+Z[1];(0,u.hasKey)(P,gt)||(P[gt]={name:gt,range:Z,count:0,data:[]}),P[gt].data.push(X),P[gt].count+=1});var D=[];return(0,u.each)(P,function(X){D.push(X)}),D},e.prototype.scale=function(){i.prototype.scale.call(this);var t=this.config.scales.range;t.nice=!1,t.type="linear"},e.prototype.getBin=function(t,r){var n=Math.floor(t/r);return[r*n,r*(n+1)]},e}(Zo),PI=iy;dn("histogram",iy);var _I=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="histogram",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=PI.getDefaultOptions,e}($r),ay=_I,OI={epanechnikov:function(i){return Math.abs(i)<=1?.75*(1-i*i):0},gaussian:function(i){return 1/Math.sqrt(Math.PI*2)*Math.exp(-.5*Math.pow(i,2))},uniform:function(i){return Math.abs(i)<=1?.5:0},triangle:function(i){return Math.abs(i)<=1?1-Math.abs(i):0},quartic:function(i){var e=1-i*i;return Math.abs(i)<=1?15/16*e*e:0},triweight:function(i){var e=1-i*i;return Math.abs(i)<=1?15/16*Math.pow(e,3):0},cosinus:function(i){var e=Math.PI/4*Math.cos(.5*Math.PI*i);return Math.abs(i)<=1?e:0}},oy=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="density",t}return e.prototype.init=function(){var t=this.options.xAxis?(0,u.clone)(this.options.xAxis):{};this.options.xField="value",this.options.yField="density",this.options.xAxis=(0,u.deepMix)({},t,{type:"linear"}),this.options.smooth=!0,i.prototype.init.call(this)},e.prototype.processData=function(t){var r=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=n.kernel,f=l||"epanechnikov",h=OI[f],c=(0,u.clone)(t);(0,u.sortBy)(c,a);var v=(0,u.valuesOfKey)(c,a),x=(0,u.getRange)(v),P=x.max-x.min,D=s,X=o;!s&&o&&(D=Math.floor(P/o)),!o&&s&&(X=P/s),!s&&!o&&(D=ud(v),X=P/s);var K=(0,jr.getScale)("linear"),Z=new K({min:x.min,max:x.max,tickCount:D,nice:!1}),gt=Z.getTicks(),mt=[];return(0,u.each)(gt,function(Nt){var Zt=r.kernelDensityEstimator(X,h,Nt,v);mt.push({value:Nt.text,density:Zt})}),mt},e.prototype.kernelDensityEstimator=function(t,r,n,a){var o=0;return(0,u.each)(a,function(s){var l=(n.tickValue-s)/t;o+=r(l)}),a.length===0?0:o/a.length},e}(Jf),LI=oy;dn("density",oy);var oY=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="density",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=LI.getDefaultOptions,e}($r),sY=null,II={ring:"interval"},kI=Bi(II);(0,u.assign)(bn,kI);var BI="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",DI="font-weight:300;white-space: nowrap;text-overflow: ellipsis;",FI="font-size:32px;font-weight:bold;color:#4D4D4D";function RI(i,e,t,r){var n=BI+"width:"+r+"px;",a=i?'<span class="ring-guide-name" style='+DI+">"+i+"</span><br/>":"",o='<span class="ring-guide-value" style='+FI+">"+e+"</span>";return'<div class="ring-guide-html '+t+'" style='+n+">"+a+o+"</div>"}var NI=function(i){(0,Jt.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.view=t.view,r.plot=t.plot,r.statisticClass=t.statisticClass,r.adjustOptions(),r}return e.prototype.triggerOn=function(){var t=this,r=this.options.triggerOn;this.view.on("interval:"+r,(0,u.debounce)(function(a){var o=t.parseStatisticData("item",a.data.data,a.data.color),s=t.getStatisticHtmlString(o);t.updateHtml(s)},150));var n=this.options.triggerOff?this.options.triggerOff:"mouseleave";this.view.on("interval:"+n,(0,u.debounce)(function(){var a=t.getTotalHtmlString();t.updateHtml(a)},150))},e.prototype.getTotalHtmlString=function(){var t;if(this.options.content)t=this.options.content;else{var r=this.getTotalValue();t=this.parseStatisticData("total",r)}var n;this.options.htmlContent?n=this.options.htmlContent(t,this.getStatisticSize()):n=this.getStatisticTemplate(t);var a=document.createElement("div");return(0,u.isType)(n,"HTMLDivElement")?a.appendChild(n):a.innerHTML=n,a},e.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,r=t.minX,n=t.minY,a=t.width,o=t.height;this.x=r+a/2,this.y=n+o/2},e.prototype.getTotalValue=function(){var t,r=0,n=this.plot.options,a=n.angleField,o=n.colorField,s=this.options.totalLabel;(0,u.each)(this.plot.options.data,function(f){typeof f[a]=="number"&&(r+=f[a])});var l=(t={},t[a]=r,t[o]=s,t);return l},e.prototype.parseStatisticData=function(t,r,n){var a=this.plot,o=a.options,s=o.angleField,l=o.colorField,f=a.getScaleByField(s),h=a.getScaleByField(l),c={name:h?h.getText(r[l]):null,value:f.getText(r[s])};return t==="item"&&(c.itemData=r,c.color=n),c},e.prototype.getStatisticTemplate=function(t){var r=this.getStatisticSize(),n=RI(t.name,t.value,this.statisticClass,r);return n},e.prototype.getStatisticSize=function(){var t=this.plot.view.coordinateBBox,r=this.plot.options,n=r.radius,a=r.innerRadius,o=Math.min(t.width,t.height),s=o*n*a;return s},e.prototype.getStatisticHtmlString=function(t){var r=this.options.htmlContent,n;return r?n=r(t,this.getStatisticSize()):n=this.getStatisticTemplate(t),n},e}(Jg),YI=NI,GI={ring:"interval"},zI={interval:"ring"},sy=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="donut",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{radius:.8,innerRadius:.64,tooltip:{visible:!1},statistic:{visible:!0,totalLabel:"\u603B\u8BA1",triggerOn:"mouseenter",triggerOff:"mouseleave"}})},e.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),e.centralId++,this.statisticClass="statisticClassId"+e.centralId,this.adjustLabelDefaultOptions()},e.prototype.afterRender=function(){var t=this.canvas.get("container");if(this.statistic&&(t.removeChild(this.statistic.wrapperNode),this.statistic=null),this.options.statistic&&this.options.statistic.visible){var r=this.canvas.get("container");(0,Rt.Z)(r,{position:"relative"}),this.statistic=new YI((0,Jt.__assign)({container:r,view:this.view,plot:this,statisticClass:this.statisticClass},this.options.statistic)),this.statistic.render(),this.options.statistic.triggerOn&&this.statistic.triggerOn()}i.prototype.afterRender.call(this)},e.prototype.destroy=function(){this.statistic&&this.statistic.destroy(),i.prototype.destroy.call(this)},e.prototype.geometryParser=function(t,r){return t==="g2"?GI[r]:zI[r]},e.prototype.coord=function(){var t=this.options,r={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius}};this.setConfig("coordinate",r)},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,B)},e.prototype.adjustLabelDefaultOptions=function(){var t=this.options.label;if(t&&t.type==="inner"){var r=t.style||{};r.textAlign||(r.textAlign="center"),t.style=r,t.offset||(t.offset=(this.options.innerRadius-1)/2*100+"%")}},e.centralId=0,e}(Lg),ly=sy;dn("donut",sy);var XI=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="donut",i.prototype.createLayers.call(this,r)},e.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},e.getDefaultOptions=ly.getDefaultOptions,e}($r),uy=XI;function VI(i,e,t){var r=i.style,n=i.defaultStyle,a=i.color,o=(0,Jt.__assign)((0,Jt.__assign)({},n),r);return a&&(e&&(o.stroke=a),t&&(o.fill=a)),o}function HI(i){var e=[],t=i[0];e.push(["M",t.x,t.y]);for(var r=1,n=i.length;r<n;r++)e.push(["L",i[r].x,i[r].y]);return e.push(["L",t.x,t.y]),e.push(["z"]),e}Cn("interval","waterfall",{draw:function(i,e){var t=VI(i,!1,!0),r=this.parsePath(HI(i.points)),n=e.addShape("path",{attrs:(0,Jt.__assign)((0,Jt.__assign)({},t),{path:r}),name:"interval"}),a=(0,u.get)(i.style,"leaderLine");if(a&&a.visible){var o=a.style||{};if(i.nextPoints){var s=[["M",i.points[2].x,i.points[2].y],["L",i.nextPoints[0].x,i.nextPoints[0].y]];s=this.parsePath(s),e.addShape("path",{attrs:(0,Jt.__assign)({path:s,stroke:"#d3d3d3",lineDash:[4,2],lineWidth:1},o),name:"leader-line"})}}return n}});var fy=2,WI=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.adjustLabel=function(t,r){var n,a,o=r.shape,s=o.getBBox(),l=r.getData(),f=l[ga],h=l[this.layer.options.yField],c=(0,u.isArray)(f)?f[1]:f,v=this.options.formatter,x=[].concat(r.getModel().mappingData),P=v?x[0]&&x[0]._origin[Yl]:0,D=v?v(c,(n={},n[ds]=(a=x[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=x[0],n.mappingDatumIndex=0,n.element=r,n.elementIndex=P,n),P):c,X=(s.minY+s.maxY)/2,K="bottom";h<0?(X=s.maxY+fy,K="top"):X=s.minY-fy,t.attr("y",X),t.attr("text",D),t.attr("textBaseline",K)},e}(eh),lY=null;aa("waterfall",WI);function jI(){return{fill:"#fff",fontSize:12,lineHeight:12,stroke:"rgba(0, 0, 0, 0.45)"}}var UI=function(){function i(e){this.textAttrs={},this.view=e.view,this.fields=e.fields,this.formatter=e.formatter,this.textAttrs=(0,u.mix)(jI(),e.style),this._init()}return i.prototype.draw=function(){var e=this;if(!(!this.view||this.view.destroyed)){var t=(0,u.clone)(this.view.getData());this.container=this.view.foregroundGroup.addGroup();var r=this.view.geometries[0].elements.map(function(n){return n.shape});(0,u.each)(r,function(n,a){if(!!n.cfg.origin){var o=n.cfg.origin.data,s=n.getBBox(),l=o[ga],f=l;(0,u.isArray)(l)&&(f=l[1]-l[0]),f=f>0?"+"+f:f,o[vh]&&(f=l[0]-l[1]);var h=f;if(e.formatter){var c=r[a].attr("fill");h=e.formatter(""+f,{_origin:t[a],color:c},a)}var v=e.container.addShape("text",{attrs:(0,Jt.__assign)({text:h,textBaseline:"middle",textAlign:"center",x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},e.textAttrs),name:"dill-label"});v.getBBox().height>s.height&&v.set("visible",!1)}}),this.view.getCanvas().draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype._init=function(){var e=this;this.view.on(An.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){e.clear()}),this.view.on(An.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){e.draw()})},i}(),ZI=UI,KI={waterfall:"interval"},$I={interval:"waterfall"},ga="$$value$$",vh="$$total$$",Yl="$$index$$",hy=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="watarfall",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!1,position:"bottom"},label:{visible:!0,adjustPosition:!0},diffLabel:{visible:!0},leaderLine:{visible:!0},showTotal:{visible:!0,label:"\u603B\u8BA1\u503C"},waterfallStyle:{lineWidth:0},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1}})},e.prototype.getOptions=function(t){var r=i.prototype.getOptions.call(this,t);return this.adjustLegendOptions(r),this.adjustMeta(r),r},e.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options;t.diffLabel&&t.diffLabel.visible?this.diffLabel=new ZI({view:this.view,fields:[t.xField,t.yField,ga],formatter:t.diffLabel.formatter,style:t.diffLabel.style}):this.diffLabel&&(this.diffLabel.clear(),this.diffLabel=null)},e.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;this.view.on("tooltip:change",function(r){for(var n=r.items,a=0;a<n.length;a++){var o=n[a],s=(0,u.get)(o,"data",{});if(o.name=s[t.xField],o.value=s[t.yField],!o.value&&s[vh]){var l=s[ga];o.value=l[0]-l[1]}r.items[a]=o}}),this.renderLabel()},e.prototype.renderLabel=function(){var t=po(this.view,"interval");this.options.label&&this.options.label.visible&&this.doRenderLabel(t,(0,Jt.__assign)({type:"waterfall"},this.options.label))},e.prototype.geometryParser=function(t,r){return t==="g2"?KI[r]:$I[r]},e.prototype.interaction=function(){this.setConfig("interactions",[{type:"tooltip"},{type:"active-region"}])},e.prototype.addGeometry=function(){var t=this.options,r={type:"interval",position:{fields:[t.xField,ga]},shape:{values:["waterfall"]}};r.style=this._parseStyle(),r.color=this._parseColor(),this.waterfall=r,this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",r)},e.prototype.processData=function(t){var r,n=[],a=this.options.xField,o=this.options.yField;if((0,u.map)(t,function(f,h){var c,v=f[o];if(h>0){var x=n[h-1][ga];(0,u.isArray)(x)?v=[x[1],f[o]+x[1]]:v=[x,f[o]+x]}n.push((0,Jt.__assign)((0,Jt.__assign)({},f),(c={},c[ga]=v,c[Yl]=h,c)))}),this.options.showTotal&&this.options.showTotal.visible){var s=(0,u.map)(t,function(f){return f[o]}),l=(0,u.reduce)(s,function(f,h){return f+h},0);n.push((r={},r[a]=this.options.showTotal.label,r[o]=null,r[ga]=[l,0],r[Yl]=n.length,r[vh]=!0,r))}return n},e.prototype.scale=function(){var t=this.options,r={};r[t.xField]={type:"cat"},(0,u.has)(t,"xAxis")&&Pi(r[t.xField],t.xAxis),r[ga]={},(0,u.has)(t,"yAxis")&&Pi(r[ga],t.yAxis),this.setConfig("scales",r)},e.prototype.axis=function(){var t=Ri("axis",{plot:this,dim:"x"}),r=Ri("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[ga]=r,this.setConfig("axes",n)},e.prototype.coord=function(){},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,N)},e.prototype.geometryTooltip=function(){this.waterfall.tooltip={};var t=this.options.tooltip;t.fields&&(this.waterfall.tooltip.fields=t.fields),t.formatter&&(this.waterfall.tooltip.callback=t.formatter,t.fields||(this.waterfall.tooltip.fields=[this.options.xField,ga]))},e.prototype._parseStyle=function(){var t=this.options.waterfallStyle,r=this.options.leaderLine,n={};return(0,u.isFunction)(t)?n.callback=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return Object.assign({},t.apply(void 0,a),{leaderLine:r})}:n.cfg=(0,Jt.__assign)((0,Jt.__assign)({},t),{leaderLine:r}),n},e.prototype._parseColor=function(){var t=this,r=this.options,n=this.options,a=n.xField,o=n.yField,s={fields:[a,o,ga,Yl]};if((0,u.isFunction)(r.color))s.callback=r.color;else{var l="#f4664a",f="#30bf78",h="rgba(0, 0, 0, 0.25)";if((0,u.isString)(r.color))l=f=h=r.color;else if((0,u.isObject)(r.color)){var c=r.color,v=c.rising,x=c.falling,P=c.total;l=v,f=x,h=P}s.callback=function(D,X,K,Z){return Z===t.options.data.length?h||(K[0]>=0?l:f):((0,u.isArray)(K)?K[1]-K[0]:K)>=0?l:f}}return s},e.prototype.adjustLegendOptions=function(t){var r=t.legend;r&&(r.visible=!1)},e.prototype.adjustMeta=function(t){var r=t.meta;if(r){var n=r?r[t.yField]:{};n.alias=n.alias||t.yField,t.meta[ga]=n}},e}(ri),QI=hy;dn("waterfall",hy);var JI=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="waterfall",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=QI.getDefaultOptions,e}($r),cy=JI,qI=function(){function i(e){this.quadrantGroups=[],this.regionData=[],this.lineData=[],this.options=e,this.view=this.options.view,this.init()}return i.prototype.init=function(){var e=this.options,t=e.xBaseline,r=e.yBaseline,n=this.view.getCoordinate(),a=this.view.getScaleByField(this.options.plotOptions.xField),o=this.view.getScaleByField(this.options.plotOptions.yField),s;if(t>a.min&&t<a.max){var l=(t-a.min)/(a.max-a.min);s=[new tn(n.start.x,n.end.y,n.getWidth()*l,n.getHeight()),new tn(n.start.x+n.getWidth()*l,n.end.y,n.getWidth()*(1-l),n.getHeight())];var f={start:{x:n.start.x+n.getWidth()*l,y:n.end.y},end:{x:n.start.x+n.getWidth()*l,y:n.start.y}};this.lineData.push(f)}else s=[new tn(n.start.x,n.end.y,n.getWidth(),n.getHeight())];if(r>o.min&&r<o.max){var l=(r-o.min)/(o.max-o.min),h={start:{x:n.start.x,y:n.start.y-n.getHeight()*l},end:{x:n.end.x,y:n.start.y-n.getHeight()*l}};this.lineData.push(h);var c={name:t<=a.min?"top-right":"top-left",bbox:new tn(s[0].minX,s[0].minY,s[0].width,s[0].height*(1-l)),index:t<=a.min?2:0};this.regionData.push(c);var v={name:t<=a.min?"bottom-right":"bottom-left",bbox:new tn(s[0].minX,s[0].minY+s[0].height*(1-l),s[0].width,s[0].height*l),index:t<=a.min?3:1};if(this.regionData.push(v),s.length>1){var x={name:"top-right",bbox:new tn(s[1].minX,s[1].minY,s[1].width,s[1].height*(1-l)),index:2};this.regionData.push(x);var P={name:"bottom-right",bbox:new tn(s[1].minX,s[1].minY+s[1].height*(1-l),s[1].width,s[1].height*l),index:3};this.regionData.push(P)}}else if(s.length===2)if(r<=o.min){var D={name:"top-left",bbox:s[0],index:0};this.regionData.push(D);var x={name:"top-right",bbox:s[1],index:2};this.regionData.push(x)}else{var X={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(X);var P={name:"bottom-right",bbox:s[1],index:3};this.regionData.push(P)}else if(t<=a.min)if(r<=o.min){var x={name:"top-right",bbox:s[0],index:2};this.regionData.push(x)}else{var P={name:"bottom-right",bbox:s[0],index:3};this.regionData.push(P)}else if(r<=o.min){var D={name:"top-left",bbox:s[0],index:0};this.regionData.push(D)}else{var X={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(X)}this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var e=this;if(this.regionData.length>0){var t=this.getDefaultStyle(),r=this.getRegionStyle(this.regionData);(0,u.each)(this.regionData,function(a){var o=a.index,s=e.container.addGroup(),l=s.addShape("rect",{attrs:(0,Jt.__assign)({x:a.bbox.minX,y:a.bbox.minY,width:a.bbox.width,height:a.bbox.height},r[o]),name:"quadrant"});if(e.options.label&&e.options.label.text){var f=(0,u.deepMix)({},t.label,e.options.label),h=e.getLabelConfig(a,f);s.addShape("text",{attrs:(0,Jt.__assign)({},h),name:"quadrant-label"})}l.set("data",a),e.quadrantGroups.push(s)});var n=(0,u.deepMix)({},t.line,this.options.lineStyle);(0,u.each)(this.lineData,function(a){e.container.addShape("path",{attrs:(0,Jt.__assign)({path:[["M",a.start.x,a.start.y],["L",a.end.x,a.end.y]]},n),name:"quadrant-line"})}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.getDefaultStyle=function(){return{line:{stroke:"#9ba29a",lineWidth:1},regionStyle:[{fill:"#000000",opacity:.05},{fill:"#ffffff",opacity:0},{fill:"#ffffff",opacity:0},{fill:"#000000",opacity:.05}],label:{position:"outter-inner",offset:10,style:{fontSize:14,fill:"#ccc"}}}},i.prototype.getRegionStyle=function(e){var t=this.getDefaultStyle(),r=t.regionStyle;if(this.options.regionStyle){var n=this.options.regionStyle;(0,u.isArray)(n)?r=r.map(function(a,o){return n.length>o&&n[o]?n[o]:a}):(0,u.isFunction)(n)&&(0,u.each)(e,function(a,o){r[o]=n(a)})}return r},i.prototype.getLabelConfig=function(e,t){var r=e.index,n=0,a=0,o={},s=t.text;(0,u.isFunction)(s)?s=s(e):(0,u.isArray)(s)&&(s=s[r]);var l=t.position,f=l.split("-"),h=e.name.split("-");return h[1]==="left"?(f[0]==="inner"&&(n=e.bbox.maxX-t.offset,o.textAlign="right"),f[0]==="outter"&&(n=e.bbox.minX+t.offset,o.textAlign="left")):h[1]==="right"&&(f[0]==="inner"&&(n=e.bbox.minX+t.offset,o.textAlign="left"),f[0]==="outter"&&(n=e.bbox.maxX-t.offset,o.textAlign="right")),h[0]==="top"?(f[1]==="inner"&&(a=e.bbox.maxY-t.offset,o.textBaseline="bottom"),f[1]==="outter"&&(a=e.bbox.minY+t.offset,o.textBaseline="top")):h[0]==="bottom"&&(f[1]==="inner"&&(a=e.bbox.minY+t.offset,o.textBaseline="top"),f[1]==="outter"&&(a=e.bbox.maxY-t.offset,o.textBaseline="bottom")),o=(0,u.deepMix)({},t.style,o),o.lineHeight=o.fontSize,(0,Jt.__assign)({x:n,y:a,text:s},o)},i}(),tk=qI,Bo=d(56645),ek={exp:Bo.regressionExp,linear:Bo.regressionLinear,loess:Bo.regressionLoess,log:Bo.regressionLog,poly:Bo.regressionPoly,pow:Bo.regressionPow,quad:Bo.regressionQuad};function rk(i,e){return Math.sqrt(i*(1-i)/e)*1.96}var nk=function(){function i(e){var t={type:"linear",style:{stroke:"#9ba29a",lineWidth:2,opacity:.5,lineJoin:"round",lineCap:"round"},showConfidence:!1,confidenceStyle:{fill:"#ccc",opacity:.1}};this.options=(0,u.deepMix)({},t,e),this.view=this.options.view,this.init()}return i.prototype.init=function(){var e=this.options.plotOptions,t=e.xField,r=e.yField,n=e.data,a=ek[this.options.type]().x(function(o){return o[t]}).y(function(o){return o[r]});this.data=this.processData(a(n)),this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var e=this.view.getScaleByField(this.options.plotOptions.xField),t=this.view.getScaleByField(this.options.plotOptions.yField),r=this.view.getCoordinate(),n=this.data.trendlineData,a=(0,jr.getScale)("linear"),o=this.adjustScale(e,n,"x"),s=new a({min:o.min,max:o.max}),l=this.adjustScale(t,n,"y"),f=new a({min:l.min,max:l.max});if(this.options.showConfidence){var h=this.getConfidencePath(s,f,r);this.container.addShape("path",{attrs:(0,Jt.__assign)({path:h},this.options.confidenceStyle),name:"confidence"})}var c=this.getTrendlinePoints(s,f,r),v=[[0,0],[1,1]],x=Xf(c,!1,v);this.shape=this.container.addShape("path",{attrs:(0,Jt.__assign)({path:x},this.options.style),name:"trendline"})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.destroy()},i.prototype.processData=function(e){var t=[],r=[];return(0,u.each)(e,function(n){t.push({x:n[0],y:n[1]});var a=rk(e.rSquared,n[1]);r.push({x:n[0],y0:n[1]-a,y1:n[1]+a})}),{trendlineData:t,confidenceData:r}},i.prototype.getTrendlinePoints=function(e,t,r){var n=[];return(0,u.each)(this.data.trendlineData,function(a){var o=e.scale(a.x),s=t.scale(a.y),l=r.start.x+r.width*o,f=r.start.y-r.height*s;n.push({x:l,y:f})}),n},i.prototype.getConfidencePath=function(e,t,r){var n=[],a=[],o=[];(0,u.each)(this.data.confidenceData,function(c){var v=e.scale(c.x),x=t.scale(c.y0),P=t.scale(c.y1),D=r.start.x+r.width*v,X=r.start.y-r.height*x,K=r.start.y-r.height*P;n.push({x:D,y:X}),a.push({x:D,y:K})});for(var s=0;s<n.length;s++){var l=s===0?"M":"L",f=n[s];!isNaN(f.x)&&!isNaN(f.y)&&o.push([l,f.x,f.y])}for(var h=a.length-1;h>0;h--){var f=a[h];!isNaN(f.x)&&!isNaN(f.y)&&o.push(["L",f.x,f.y])}return o},i.prototype.adjustScale=function(e,t,r){var n=e.min,a=e.max,o=this.options.plotOptions,s=o.data,l=o.xField,f=o.yField,h=r==="x"?l:f,c=(0,u.minBy)(s,h)[h],v=(0,u.maxBy)(s,h)[h],x=(n-c)/(v-c),P=(a-v)/(v-c),D=(0,u.minBy)(t,r)[r],X=(0,u.maxBy)(t,r)[r];return{min:D+x*(X-D),max:X+P*(X-D)}},i}(),ik=nk,ak={point:"point",trendline:"trendline",confidence:"confidence",quadrant:"quadrant",quadrantLabel:"quadrant-label",quadrantLine:"quadrant-line"},ok=Bi(ak);(0,u.assign)(bn,ok);var sk=function(i){var e=i.stroke||"#000";return{stroke:e}},lk=function(i){var e=i.stroke||"#000",t=i.lineWidth||2;return{stroke:e,lineWidth:t}},uk=function(i){var e=i.fillOpacity||i.opacity||.3;return{fillOpacity:e}};oa("scatter",{pointStyle:{normal:{},active:sk,selected:lk,inactive:uk}});var fk={scatter:"point"},hk={point:"point"},vy=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="scatter",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{pointSize:4,pointStyle:{lineWidth:1,strokeOpacity:1,fillOpacity:.95,stroke:"#fff"},xAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},yAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},tooltip:{visible:!0,shared:null,showTitle:!1,showMarkers:!1,showCrosshairs:!1},label:{visible:!1},shape:"circle"})},e.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.quadrant&&this.quadrant.destroy(),this.trendline&&this.trendline.destroy(),this.options.quadrant&&this.options.quadrant.visible&&(this.quadrant=new tk((0,Jt.__assign)({view:this.view,plotOptions:this.options},this.options.quadrant)),this.quadrant.render()),this.options.trendline&&this.options.trendline.visible&&(this.trendline=new ik((0,Jt.__assign)({view:this.view,plotOptions:this.options},this.options.trendline)),this.trendline.render())},e.prototype.destroy=function(){this.quadrant&&(this.quadrant.destroy(),this.quadrant=null),this.trendline&&(this.trendline.destroy(),this.trendline=null),i.prototype.destroy.call(this)},e.prototype.isValidLinearValue=function(t){return(0,u.isNil)(t)?!1:!Number.isNaN(Number(t))},e.prototype.processData=function(t){var r=this,n=this.options,a=n.xField,o=n.yField,s=(0,u.get)(this.options,["xAxis","type"],"linear"),l=(0,u.get)(this.options,["yAxis","type"],"linear");if(s&&l){var f=t.filter(function(h){return!(s==="linear"&&!r.isValidLinearValue(h[a])||l==="linear"&&!r.isValidLinearValue(h[o]))}).map(function(h){var c;return(0,Jt.__assign)((0,Jt.__assign)({},h),(c={},c[a]=s==="linear"?Number(h[a]):String(h[a]),c[o]=l==="linear"?Number(h[o]):String(h[o]),c))});return f}return t},e.prototype.geometryParser=function(t,r){return t==="g2"?fk[r]:hk[r]},e.prototype.scale=function(){var t=this.options,r={};r[t.xField]={},(0,u.has)(t,"xAxis")&&Pi(r[t.xField],t.xAxis),r[t.yField]={},(0,u.has)(t,"yAxis")&&Pi(r[t.yField],t.yAxis);var n=(0,u.find)(t.interactions,function(o){return o.type==="timeline"});if(n&&(0,u.get)(n,"cfg.key")){var a=n.cfg.key;r[a]?r[a].key=!0:r[a]={key:!0}}this.setConfig("scales",r),i.prototype.scale.call(this)},e.prototype.coord=function(){},e.prototype.annotation=function(){},e.prototype.addGeometry=function(){var t=fi("point","circle",{plot:this});if(this.points=t,this.options.tooltip&&this.options.tooltip.visible){var r=this.options.tooltip,n=r.showTitle,a=r.titleField;this.extractTooltip(),this.setConfig("tooltip",(0,Jt.__assign)({showTitle:n,title:n?a:void 0},this.options.tooltip))}this.options.label&&this.label(),this.setConfig("geometry",t)},e.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.points&&(this.points.label=!1);return}var r=Ri("label",(0,Jt.__assign)((0,Jt.__assign)({fields:t.label.field?[t.label.field]:[t.yField]},t.label),{plot:this}));this.points&&(this.points.label=r)},e.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.points.animate=!1)},e.prototype.parseEvents=function(t){i.prototype.parseEvents.call(this,t||j)},e.prototype.extractTooltip=function(){this.points.tooltip={};var t=this.options.tooltip;t.fields?this.points.tooltip.fields=t.fields:this.points.tooltip.fields=[this.options.xField,this.options.yField],t.formatter&&(this.points.tooltip.callback=t.formatter,this.options.colorField&&this.points.tooltip.fields.push(this.options.colorField))},e}(ri),dy=vy;dn("scatter",vy);var ck=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="scatter",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=dy.getDefaultOptions,e}($r),py=ck,vk=d(78685);Cn("point","bubble-point",{draw:function(i,e){var t=(0,vk.iV)(this,i,e,"circle",!1);if(!i.style.stroke){var r=t.attr("fill");t.attr("stroke",r)}return t},getMarker:function(i){var e=i.color;return{symbol:"circle",style:{r:4.5,fill:e}}}});var dk=function(i){var e=i.stroke||"#000",t=i.fillOpacity||i.opacity||.95;return{stroke:e,fillOpacity:t}},pk=function(i){var e=i.stroke||"#000",t=i.lineWidth||2;return{stroke:e,lineWidth:t}},gk=function(i){var e=i.fillOpacity||i.opacity||.3;return{fillOpacity:e}};oa("bubble",{pointStyle:{normal:{},active:dk,selected:pk,inactive:gk}});var gy=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bubble",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{pointSize:[2,32],pointStyle:{stroke:null,strokeOpacity:1,fillOpacity:.5},label:{position:"middle",style:{stroke:"#fff",lineWidth:2}},shape:"bubble-point"})},e.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},e.prototype.legend=function(){var t;i.prototype.legend.call(this),!(this.options.legend&&this.options.legend.visible===!1)&&this.setConfig("legends",(t={},t[this.options.sizeField]=!1,t))},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,j)},e}(dy),yk=gy;dn("bubble",gy);var mk=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="bubble",i.prototype.createLayers.call(this,r)},e.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},e.getDefaultOptions=yk.getDefaultOptions,e}($r),yy=mk,xk={bullet:"interval",bulletTarget:"bullet-target"},bk=Bi(xk);(0,u.assign)(bn,bk);var wk=function(){function i(e,t){this.view=e,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.middleGroup.addGroup(),this.container.set("name","rectGroups"),this.container.setZIndex(-100);for(var e=this.getGeometry(),t=(0,u.map)(e==null?void 0:e.elements,function(o){return o.shape}),r=0;r<this.cfg.ranges.length;r+=1){var n=t[r].getBBox(),a=n.width/t[r].get("origin").data[this.cfg.yField];this.drawRect(n,this.cfg.ranges[r]||[0,1],a)}this.view.canvas.draw()}},i.prototype.drawRect=function(e,t,r){for(var n=this.cfg,a=n.rangeColors,o=e.minX,s=e.minY-e.height*(n.rangeSize-1)/2,l=1;l<t.length;l+=1){var f=(t[l]-t[l-1])*n.rangeMax*r;this.container.addShape("rect",{name:"bullet-rect",attrs:{width:f,height:e.height*n.rangeSize,x:o,y:s,fill:a[(l-1)%a.length],fillOpacity:.25}}).set("zIndex",-1),o+=f}if(n.axis&&n.axis.visible){var h=n.rangeMax/(n.axis.tickCount-1),c=new tn(e.x,s,o,e.height*n.rangeSize);this.drawBulletTicks(c,h,r)}},i.prototype.drawBulletTicks=function(e,t,r){for(var n=this.cfg,a=n.axis.style,o=n.axis.tickCount,s=n.axis.position,l=(0,u.get)(a,"lineHeight",0)-a.fontSize/2,f=0;f<o;f+=1){var h=e.minX+t*f*r,c=""+t*f;if(n.axis.formatter&&(c=n.axis.formatter(c,f)),this.container.addShape("text",{name:"tick",attrs:(0,Jt.__assign)({x:h,y:s==="before"?e.minY-l:e.maxY+l,text:""+c},a)}),n.axis.tickLine&&n.axis.tickLine.visible){var v=n.axis.tickLine;f>0&&f!==o-1&&this.container.addShape("path",{attrs:(0,Jt.__assign)({path:[["M",h,e.minY],["L",h,e.maxY]]},v)}).set("zIndex",-1)}}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var e=this;this.view.on("beforerender",function(){e.clear()}),this.view.on("afterrender",function(){e.draw()})},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(e){return e.type==="interval"})},i}(),Sk=wk,Mk=function(){function i(e,t){this.view=e,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.foregroundGroup.addGroup(),this.container.set("name","targetGroups");for(var e=(0,u.map)(this.getGeometry().elements,function(a){return a.shape}),t=0;t<this.cfg.targets.length;t+=1){var r=e[t].getBBox(),n=r.width/e[t].get("origin").data[this.cfg.yField];this.drawTarget(r,this.cfg.targets[t],n)}this.view.canvas.draw()}},i.prototype.drawTarget=function(e,t,r){var n=this,a=this.cfg,o=a.markerColors;t.forEach(function(s,l){var f=a.markerStyle;n.container.addShape("rect",{name:"bullet-target",attrs:(0,Jt.__assign)((0,Jt.__assign)({width:f.width,height:e.height*a.markerSize-f.width/2,x:e.minX+s*r,y:e.minY-e.height*(a.markerSize-1)/2},f),{fill:o[l%o.length]||f.fill})})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var e=this;this.view.on("beforerender",function(){e.clear()}),this.view.on("afterrender",function(){e.draw()})},i.prototype.getGeometry=function(){return(0,u.find)(this.view.geometries,function(e){return e.type==="interval"})},i}(),Ck=Mk,Ek=function(i){var e=i.opacity||1;return{opacity:e*.5,lineWidth:0}},Ak=function(i){var e=i.opacity||1;return{opacity:e*.5}};oa("bullet",{columnStyle:{normal:{},active:Ek,disable:Ak,selected:{}}});var Tk={bullet:"interval"},Pk={interval:"bullet"},_k="$$stackField$$",Ok="$$xField$$",Lk="$$yField$$",my=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bullet",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{data:[],stackField:_k,xField:Ok,yField:Lk,rangeColors:["rgba(91, 143, 249, 0.45)"],measureSize:12,rangeSize:2,markerSize:2,markerColors:[],markerStyle:{width:2,fill:"#5B8FF9",lineWidth:0},axis:{visible:!1,position:"before",tickCount:6,formatter:function(t,r){return""+r},style:{fill:"rgba(0, 0, 0, 0.25)",textBaseline:"middle",textAlign:"center",fontSize:12,lineHeight:16},tickLine:{visible:!0,lineWidth:1,stroke:"#FFF",lineDash:[4,2]}},xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},label:{visible:!0}},yAxis:{visible:!1,nice:!1},tooltip:{visible:!1,trigger:"item",crosshairs:!1},label:{visible:!0,offset:4,style:{fill:"rgba(0, 0, 0, 0.45)",stroke:"#fff",lineWidth:1}}})},e.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.view.removeInteraction("legend-filter")},e.prototype.scale=function(){var t=this.options,r={};r[t.yField]={},(0,u.has)(t,"yAxis")&&Pi(r[t.yField],t.yAxis),r[t.xField]={type:"cat"},(0,u.has)(t,"xAxis")&&Pi(r[t.xField],t.xAxis),this.setConfig("scales",r),i.prototype.scale.call(this)},e.prototype.getOptions=function(t){var r=i.prototype.getOptions.call(this,t);return this.adjustOptions(r),r},e.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,r=t.data.map(function(a){return a.ranges}),n=t.data.map(function(a){return a.targets});this.bulletRect=new Sk(this.view,{ranges:r,rangeMax:t.rangeMax,yField:t.yField,rangeSize:t.rangeSize,rangeColors:t.rangeColors||[],axis:t.axis}),this.bulletTarget=new Ck(this.view,{targets:n,yField:t.yField,markerSize:t.markerSize,markerColors:t.markerColors||[],markerStyle:t.markerStyle})},e.prototype.geometryParser=function(t,r){return t==="g2"?Tk[r]:Pk[r]},e.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},e.prototype.legend=function(){var t=this.options,r=t.markerStyle.fill,n=t.measureColors||this.theme.colors,a=[{name:"\u5B9E\u9645\u8FDB\u5EA6",value:"\u5B9E\u9645\u8FDB\u5EA6",marker:{symbol:"square",style:{fill:n[0]}}},{name:"\u76EE\u6807\u503C",value:"\u76EE\u6807\u503C",marker:{symbol:"line",style:{stroke:r,lineWidth:2}}}],o=(0,Jt.__assign)({custom:!0,position:"bottom",items:a},t.legend);this.setConfig("legends",o)},e.prototype.addGeometry=function(){var t=this.options,r=fi("interval","main",{positionFields:[t.xField,t.yField],plot:this});r.adjust=[{type:"stack"}],t.label&&(r.label=this.extractLabel()),this.bullet=r,this.setConfig("geometry",r)},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,tt)},e.prototype.extractLabel=function(){var t=this.options,r=(0,u.deepMix)({},t.label);if(r.visible===!1)return!1;var n=Ri("label",(0,Jt.__assign)({plot:this,labelType:"barLabel",fields:[t.yField]},r));return n},e.prototype.adjustOptions=function(t){t.barSize=t.measureSize||12,this.adjustYAxisOptions(t)},e.prototype.adjustYAxisOptions=function(t){var r=[];t.data.forEach(function(n){return r.push(n.measures.reduce(function(a,o){return a+o},0))}),r.push(t.rangeMax),t.yAxis.max=Math.max.apply([],r)},e.prototype.processData=function(t){var r=this.options,n=[];return t.forEach(function(a,o){for(var s,l=0;l<a.measures.length;l+=1){var f=a.measures[l],h=a.title||""+o;n.push((s={},s[r.xField]=h,s[r.yField]=f,s[r.stackField]=""+l,s))}}),n},e}(ri),Ik=my;dn("bullet",my);var kk=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="bullet",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=Ik.getDefaultOptions,e}($r),xy=kk,$o="$$day$$",Qo="$$week$$",by="$$date$$",uY="$$is_month_center$$",Jo="YYYY-MM-DD",Bk=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Dk=["S","M","T","W","T","F","S"],bs=864e5;function Fk(i){var e=(0,Jt.__spreadArrays)(i).sort(function(t,r){return t.getTime()-r.getTime()});return[go().format((0,u.head)(e),Jo),go().format((0,u.last)(e),Jo)]}function fY(i){var e=i||new Date;return[fecha.format(new Date(e.getFullYear(),0,1),FORMATTER),fecha.format(new Date(e.getFullYear(),11,30),FORMATTER)]}function Rk(i){return i.getMonth()!==Gl(new Date(i),7*bs).getMonth()}function Nk(i){return i.getMonth()!==Gl(new Date(i),bs).getMonth()}function wy(i){var e=new Date(i.getFullYear(),0,1);return Math.ceil(((i.getTime()-e.getTime())/bs+e.getDay()+1)/7)}function Yk(i){return i.getDay()}function Gl(i,e){return i.setMilliseconds(i.getMilliseconds()+e),i}function Sy(i){var e,t=i[0],r=i[1],n=go().parse(t,Jo),a=go().parse(r,Jo);return n>a&&(e=[n,a],a=e[0],n=e[1]),[n,a]}function Gk(i,e,t){for(var r=[],n=Sy(e),a=n[0],o=n[1],s=new Date(a),l=function(){var f,h=go().format(s,Jo),c=(0,u.find)(i,function(v){return v[t]===h});r.push((0,Jt.__assign)((f={},f[$o]=Yk(s),f[Qo]=""+wy(s),f[t]=h,f[by]=new Date(s),f),c)),Gl(s,bs)};s<=o;)l();return r}function zk(i){var e=Sy(i),t=e[0],r=e[1],n=new Map;function a(l){var f=l.getMonth(),h=wy(l);n.has(f)||n.set(f,[]),n.get(f).push(h)}for(var o=new Date(t);o<=r;)a(o),Gl(o,bs*7);r<o&&a(r);var s={};return n.forEach(function(l,f){var h=Math.ceil(((0,u.head)(l)+(0,u.last)(l))/2);s[h]=f}),s}var Xk={rect:"polygon"},Vk=Bi(Xk);(0,u.assign)(bn,Vk);var My=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="calendar",t}return e.getDefaultOptions=function(){var t;return(0,u.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},yAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},legend:{visible:!1},meta:(t={},t[$o]={type:"cat",alias:"Day",values:[0,1,2,3,4,5,6]},t[Qo]={type:"cat",alias:"Month"},t),tooltip:{visible:!0,showTitle:!0,showCrosshairs:!1,showMarkers:!1,title:"date"}})},e.prototype.processData=function(t){var r=this.options.dateField,n=this.options.dateRange;if((0,u.isNil)(n)){var a=(0,u.map)(t,function(o){return go().parse(""+o[r],Jo)});n=Fk(a)}return Gk(t,n,r)},e.prototype.addGeometry=function(){var t=this.options,r=t.valueField,n=t.colors,a=t.tooltip,o={type:"polygon",position:{fields:[Qo,$o]},shape:{values:["calendar-polygon"]},color:{fields:[r],values:n},label:this.extractLabel()};a&&(a.fields||a.formatter)&&this.geometryTooltip(o),this.setConfig("geometry",o)},e.prototype.geometryTooltip=function(t){t.tooltip={};var r=this.options.tooltip;r.fields&&(t.tooltip.fields=r.fields),r.formatter&&(t.tooltip.callback=r.formatter,r.fields||(t.tooltip.fields=[Qo,$o]))},e.prototype.extractLabel=function(){var t=this.options,r=t.label;if(r&&r.visible===!1)return!1;var n=this.options.valueField;return Ri("label",(0,Jt.__assign)({plot:this,fields:[n],position:"top",offset:0},r))},e.prototype.coord=function(){var t={type:"rect",cfg:{},actions:[["reflect","y"]]};this.setConfig("coordinate",t)},e.prototype.geometryParser=function(){return""},e.prototype.axis=function(){var t=Ri("axis",{plot:this,dim:"x"}),r=Ri("axis",{plot:this,dim:"y"}),n={};n[Qo]=t,n[$o]=r,this.setConfig("axes",n)},e.prototype.scale=function(){i.prototype.scale.call(this);var t=zk(this.options.dateRange),r=this.config.scales,n=this.options,a=n.weeks,o=a===void 0?Dk:a,s=n.months,l=s===void 0?Bk:s,f=r[Qo],h=r[$o];f.formatter=function(P){var D=t[P];return D!==void 0?l[D]:""},h.formatter=function(P){return o[P]||""};var c=this.options,v=c.xAxis,x=c.yAxis;f.alias=(0,u.get)(v,["title","text"],f.alias),h.alias=(0,u.get)(x,["title","text"],h.alias),this.setConfig("scales",r)},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,H)},e}(ri),Hk=My;dn("calendar",My),Cn("polygon","calendar-polygon",{draw:function(i,e){if(!(0,u.isEmpty)(i.points)){var t=i.points,r=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]];r=this.parsePath(r);var n=(0,Jt.__assign)((0,Jt.__assign)({stroke:"#fff",lineWidth:1,fill:i.color},i.style),{path:r}),a=e.addShape("path",{attrs:n}),o=i.data[by];if(Rk(o)){var s=[["M",t[2].x,t[2].y],["L",t[3].x,t[3].y]];e.addShape("path",{zIndex:1,attrs:{path:this.parsePath(s),lineWidth:1,stroke:"#404040"}}),Nk(o)&&e.addShape("path",{zIndex:1,attrs:{path:this.parsePath([["M",t[1].x,t[1].y],["L",t[2].x,t[2].y]]),lineWidth:1,stroke:"#404040"}})}return e.sort(),a}}});var Wk=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="calendar",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=Hk.getDefaultOptions,e}($r),jk=Wk,Cy=function(){function i(e){this.uid=e}return i.prototype.setOption=function(e,t){this.type=e,this.options=t,this.axis=t.axis,this.pivot=t.pivot},i.prototype.render=function(){var e=this;Cn("point","gauge",{draw:function(t,r){var n,a,o;this.gauge={},this.gauge.options=e.options,this.gauge.axis=e.axis,this.gauge.pivot=e.pivot,this.gauge.type=e.type;var s=this.gauge,l=this.gauge.type,f=t.points[0],h=this.parsePoint({x:0,y:0}),c=this.parsePoint({x:f.x||0,y:1});s.center=h,s.group=r;var v={x:h.x-c.x,y:h.y-c.y};this.gauge.ringRadius=Math.sqrt(v.x*v.x+v.y*v.y);var x=this.getAngleRange(),P=x.starAngle,D=x.endAngle,X=f.x*(D-P)+P;switch(l){case"meterGauge":this.drawBarGauge(X),this.gauge.axis.visible&&((n=this.gauge.axis.tickLine)===null||n===void 0?void 0:n.visible)&&this.drawInSideAxis();break;case"fanGauge":this.drawGauge(X),this.gauge.axis.visible&&((a=this.gauge.axis.tickLine)===null||a===void 0?void 0:a.visible)&&this.drawOutSideAxis();break;case"standardGauge":default:this.drawGauge(X),this.gauge.axis.visible&&((o=this.gauge.axis.tickLine)===null||o===void 0?void 0:o.visible)&&this.drawAxis();break}this.gauge.pivot.visible&&this.drawPivot(t,r)},drawGauge:function(t){var r=this.gauge.options.range;this.drawBottomRing(),r&&r.length?this.drawRangeColor():this.drawCurrentRing(t)},drawRangeColor:function(){for(var t=this.gauge.options,r=t.min,n=t.max,a=t.range,o=t.color,s=t.rangeStyle,l=o||Wi().colors,f=this.getAngleRange(),h=f.starAngle,c=f.endAngle,v={min:r,max:n,starAngle:h,endAngle:c},x=0;x<a.length;x++){var P=this.valueToAngle(a[x],v),D=this.valueToAngle(a[x+1],v);if(D>=P){var X=this.getPath(P,D),K=(0,u.deepMix)({fill:l[x]},s);this.drawRing(X,K)}}},drawBottomRing:function(){var t=this.getAngleRange(),r=t.starAngle,n=t.endAngle,a=this.gauge.options.rangeBackgroundStyle,o=this.getPath(r,n);this.drawRing(o,a)},drawCurrentRing:function(t){var r=this.getAngleRange().starAngle,n=this.gauge.rangeStyle,a=this.getPath(r,t);this.drawRing(a,n)},drawInSideAxis:function(){for(var t=this.gauge.options,r=t.min,n=t.max,a=t.axis,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,f={min:r,max:n,starAngle:s,endAngle:l},h=(n-r)/a.tickCount,c=0;c<a.tickCount;c++){var v=r+c*h,x=this.valueToAngle(v+h/2,f);this.drawRect(x,{length:a.tickLine.length,style:a.tickLine.style})}},drawAxis:function(){for(var t=this.gauge.axis,r=this.gauge.options,n=r.min,a=r.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,f={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var v=n+c*h,x=this.valueToAngle(v,f),P=(0,u.clone)(t.tickLine.style);c%5!=0&&(P.lineWidth=P.lineWidth/2),this.drawRect(x,{length:c%5==0?t.tickLine.length:t.tickLine.length/2,style:P})}},drawOutSideAxis:function(){for(var t=this.gauge.axis,r=this.gauge.options,n=r.min,a=r.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,f={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var v=n+c*h,x=this.valueToAngle(v,f);this.drawRect(x,{length:t.tickLine.length,style:t.tickLine.style})}},drawBarGauge:function(t){for(var r=this,n=this.gauge.options,a=n.min,o=n.max,s=n.range,l=n.color,f=n.rangeStyle,h=n.rangeBackgroundStyle,c=l||Wi().colors,v=this.getAngleRange(),x=v.starAngle,P=v.endAngle,D={min:a,max:o,starAngle:x,endAngle:P},X=(P-x)/(50-1),K=X/3,Z=0;Z<50;Z++){var gt=x+Z*X,mt=this.getPath(gt-K/2,gt+K-K/2),Nt=h;if(s&&s.length){var Zt=s.map(function(ne){return r.valueToAngle(ne,D)}),ee=FC(Zt,gt),ue=Math.min(ee,s.length-1);Nt=(0,u.deepMix)({},{fill:c[ue-1]},f)||h}else Nt=t>=gt?(0,u.deepMix)({},{fill:l},f):h;this.drawRing(mt,Nt)}},getAngleRange:function(){var t=this.gauge.options.angle,r=90-(360-t)*.5,n=(270-90-r)*Math.PI/180,a=(270+90+r)*Math.PI/180;return{starAngle:n,endAngle:a}},valueToAngle:function(t,r){var n=r.min,a=r.max,o=r.starAngle,s=r.endAngle;if(t===a)return s;if(t===n)return o;var l=(t-n)/(a-n);a===n&&(l=1);var f=l*(s-o)+o;return f=Math.max(f,o),f=Math.min(f,s),f},drawRing:function(t,r){this.gauge.group.addShape("path",{attrs:(0,u.deepMix)({},{path:t},r)})},drawRect:function(t,r){var n=this.gauge.axis,a=(0,Jt.__assign)((0,Jt.__assign)({},n),r),o=a.offset,s=a.length,l=this.gauge.center,f;o<0?f=this.gauge.ringRadius-this.gauge.options.rangeSize+o:f=this.gauge.ringRadius+o;var h=f*Math.cos(t)+l.x,c=f*Math.sin(t)+l.y,v=(f+s)*Math.cos(t)+l.x,x=(f+s)*Math.sin(t)+l.y,P=this.gauge.group.addShape("line",{attrs:(0,u.deepMix)({},{x1:h,y1:c,x2:v,y2:x},r.style)});P.set("name","axis-tickLine")},getPath:function(t,r){var n=this.gauge.center,a=this.gauge.ringRadius,o=this.gauge.options.rangeSize,s=a*Math.cos(t)+n.x,l=a*Math.sin(t)+n.y,f=(a-o)*Math.cos(t)+n.x,h=(a-o)*Math.sin(t)+n.y,c=a*Math.cos(r)+n.x,v=a*Math.sin(r)+n.y,x=(a-o)*Math.cos(r)+n.x,P=(a-o)*Math.sin(r)+n.y,D=Math.abs(t-r)>Math.PI?1:0;return[["M",s,l],["A",a,a,0,D,1,c,v],["L",x,P],["A",a-o,a-o,0,D,0,f,h],["Z"]]},drawPivot:function(t){var r=this.getAngleRange(),n=r.starAngle,a=r.endAngle,o=this.gauge.options,s=o.radius,l=o.rangeSize,f=this.gauge.pivot,h=f.thickness,c=f.thickness/2.5,v=this.gauge.group,x=t.points[0],P=this.parsePoint({x:0,y:0}),D=x.x*(a-n)+n,X=(this.gauge.ringRadius-l)*s*Math.cos(D)+this.gauge.center.x,K=(this.gauge.ringRadius-l)*s*Math.sin(D)+this.gauge.center.y,Z={x:X,y:K};if(f.base.visible&&v.addShape("circle",{attrs:(0,u.deepMix)({},{x:P.x,y:P.y,r:f.base.size?f.base.size/2:h*2.2},f.base.style)}),f.pointer.visible){var gt={x:P.x-Z.x,y:P.y-Z.y},mt=Math.sqrt(gt.x*gt.x+gt.y*gt.y);gt.x*=1/mt,gt.y*=1/mt;var Nt=-Math.PI/2,Zt=Math.cos(Nt)*gt.x-Math.sin(Nt)*gt.y,ee=Math.sin(Nt)*gt.x+Math.cos(Nt)*gt.y,ue=Math.PI/2,ne=Math.cos(ue)*gt.x-Math.sin(ue)*gt.y,xe=Math.sin(ue)*gt.x+Math.cos(ue)*gt.y,Pe=[["M",Z.x+Zt*c,Z.y+ee*c],["L",P.x+Zt*h,P.y+ee*h],["L",P.x+ne*h,P.y+xe*h],["L",Z.x+ne*c,Z.y+xe*c],["Z"]];v.addShape("path",{attrs:(0,u.deepMix)({},{path:Pe},f.pointer.style)}),v.addShape("circle",{attrs:{x:Z.x,y:Z.y,r:c,fill:f.pointer.style.fill}}),v.addShape("circle",{attrs:{x:P.x,y:P.y,r:h,fill:f.pointer.style.fill}})}f.pin.visible&&v.addShape("circle",{attrs:(0,u.deepMix)({},{x:P.x,y:P.y,r:c/1.2},f.pin.style)})}})},i}(),Uk={range:"point",statistic:"annotation-text"},Zk=Bi(Uk);(0,u.assign)(bn,Zk);var Ey=function(i){(0,Jt.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.type="gauge",r}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{startAngle:-7/6,endAngle:1/6,rangeBackgroundStyle:{fill:"#f0f0f0"},rangeSize:24,statistic:{position:["50%","80%"]},axis:{visible:!0,offset:-10,tickCount:21,subTickCount:4,tickLine:{visible:!0,length:5,style:{stroke:"#aaa",lineWidth:2}},label:{visible:!0,offset:8,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}},pivot:{visible:!0,thickness:6,pin:{visible:!0,size:2,style:{fill:"#2E364B"}},base:{visible:!0,style:{fill:"#EEEEEE"}},pointer:{visible:!0,style:{fill:"#CFCFCF"}}}})},e.prototype.init=function(){var t=this.options,r=t.value,n=t.range,a=(n||[]).map(function(P){return+P}).sort(function(P,D){return P-D}),o=this.options,s=o.min,l=s===void 0?a[0]:s,f=o.max,h=f===void 0?a[a.length-1]:f,c=o.format,v=c===void 0?function(P){return""+P}:c,x=v(r);this.options.data=[{value:r||0}],this.options.valueText=x,this.options.min=l,this.options.max=h,this.options.format=v,this.initG2Shape(),i.prototype.init.call(this)},e.prototype.initG2Shape=function(){this.gaugeShape=new Cy((0,u.uniqueId)()),this.gaugeShape.setOption(this.type,(0,u.deepMix)({},this.options,{radius:.6,angle:240,textPosition:"100%"})),this.gaugeShape.render()},e.prototype.geometryParser=function(){return"gauge"},e.prototype.scale=function(){var t=this.options,r=t.min,n=t.max,a=t.format,o={value:{}};Pi(o.value,{min:r,max:n,minLimit:r,maxLimit:n,nice:!0,formatter:a,tickInterval:20}),this.setConfig("scales",o),i.prototype.scale.call(this)},e.prototype.coord=function(){var t={type:"polar",cfg:{radius:1,startAngle:this.options.startAngle*Math.PI,endAngle:this.options.endAngle*Math.PI}};this.setConfig("coordinate",t)},e.prototype.axis=function(){var t=this.options.axis,r={value:{line:null,grid:null,tickLine:null}},n;t.offset<0?n=t.offset-this.options.rangeSize-t.tickLine.length-t.label.offset:n=t.offset+t.tickLine.length+t.label.offset,t.label.visible?r.value.label={offset:n,textStyle:t.label.style,autoRotate:!0}:r.value.label={style:{opacity:0}},r["1"]=!1,r.value=t.visible?r.value:!1,this.setConfig("axes",r)},e.prototype.addGeometry=function(){var t=this.options.pivot.pointer.style.fill||this.theme.defaultColor,r={type:"point",position:{fields:["value","1"]},shape:{values:["gauge"]},color:{values:[t]}};this.setConfig("geometry",r)},e.prototype.annotation=function(){var t=this.options.statistic,r=[];if(t&&t.visible){var n=this.renderStatistic();r.push(n)}this.setConfig("annotations",r)},e.prototype.renderStatistic=function(){var t=Math.max(this.options.width,this.options.height)/20,r=this.options.statistic,n={type:"text",content:r.text,top:!0,position:r.position,style:{fill:r.color,fontSize:r.size?r.size:t*1.2,textAlign:"center",textBaseline:"middle"}};return n},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,J)},e}(ri),dh=Ey;dn("gauge",Ey);var Kk=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="gauge",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=dh.getDefaultOptions,e}($r),Ay=Kk,Ty=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="fanGauge",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{rangeColor:"#F6445A",rangeSize:70,axis:{visible:!0,offset:5,tickCount:10,subTickCount:4,tickLine:{visible:!0,length:3,style:{stroke:"#aaa",lineWidth:3}},label:{visible:!0,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}}})},e.prototype.initG2Shape=function(){this.gaugeShape=new Cy((0,u.uniqueId)()),this.gaugeShape.setOption(this.type,(0,u.deepMix)({},this.options,{radius:1,angle:120,textPosition:"125%",bottomRatio:3.5})),this.gaugeShape.render()},e.prototype.axis=function(){var t={value:!1,1:!1};this.setConfig("axes",t)},e.prototype.annotation=function(){var t=this.options.statistic,r=[];if(t&&t.visible){var n=this.renderStatistic();r.push(n)}var a=this.renderSideText(),o=r.concat(a);this.setConfig("annotations",o)},e.prototype.renderSideText=function(){var t=this.options,r=t.max,n=t.min,a=t.format,o=t.rangeSize,s=t.axis,l=12;return[n,r].map(function(f,h){return{type:"text",top:!0,position:["50%","50%"],content:a(f),style:(0,u.deepMix)({},s.label.style,{textAlign:"center"}),offsetX:h?o:-o,offsetY:l}})},e}(dh),$k=Ty;dn("fanGauge",Ty);var Qk=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="fanGauge",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=$k.getDefaultOptions,e}($r),Py=Qk,_y=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="meterGauge",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{axis:{visible:!0,offset:-10,tickCount:25,subTickCount:4,tickLine:{visible:!0,length:2,style:{stroke:"#aaa",lineWidth:1}}}})},e}(dh),Jk=_y;dn("meterGauge",_y);var qk=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="meterGauge",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=Jk.getDefaultOptions,e}($r),Oy=qk,tB=d(25155),to=d.n(tB),hY=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="donut",i.prototype.createLayers.call(this,r),to()(!1,'Please use "Donut" instead of "Ring" which was not recommended.')},e.getDefaultOptions=ly.getDefaultOptions,e}($r),cY=null,vY=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="groupedColumn",i.prototype.createLayers.call(this,r),to()(!1,'Please use "GroupedColumn" instead of "GroupColumn" which was not recommended.')},e.getDefaultOptions=nh.getDefaultOptions,e}($r),dY=null,pY=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="groupedBar",i.prototype.createLayers.call(this,r),to()(!1,'Please use "GroupedBar" instead of "GroupBar" which was not recommended.')},e.getDefaultOptions=Xp.getDefaultOptions,e}($r),gY=null,yY=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="percentStackedArea",i.prototype.createLayers.call(this,r),to()(!1,'Please use "PercentStackedArea" instead of "PercentageStackArea" which was not recommended.')},e.getDefaultOptions=lg.getDefaultOptions,e}($r),mY=null,xY=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="percentStackedBar",i.prototype.createLayers.call(this,r),to()(!1,'Please use "PercentStackedBar" instead of "PercentageStackBar" which was not recommended.')},e.getDefaultOptions=Wp.getDefaultOptions,e}($r),bY=null,wY=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="percentStackedColumn",i.prototype.createLayers.call(this,r),to()(!1,'Please use "PercentStackedColumn" instead of "PercentageStackColumn" which was not recommended.')},e.getDefaultOptions=Eg.getDefaultOptions,e}($r),SY=null,MY=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="stackedArea",i.prototype.createLayers.call(this,r),to()(!1,'Please use "StackedArea" instead of "StackArea" which was not recommended.')},e.getDefaultOptions=th.getDefaultOptions,e}($r),CY=null,EY=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="stackedBar",i.prototype.createLayers.call(this,r),to()(!1,'Please use "StackedBar" instead of "StackBar" which was not recommended.')},e.getDefaultOptions=$f.getDefaultOptions,e}($r),AY=null,TY=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="stackedColumn",i.prototype.createLayers.call(this,r),to()(!1,'Please use "StackedColumn" instead of "StackColumn" which was not recommended.')},e.getDefaultOptions=Il.getDefaultOptions,e}($r),PY=null,eB=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{title:{visible:!1},description:{visible:!1},padding:[0,0,0,0],legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},tooltip:{visible:!1}})},e.prototype.coord=function(){},e.prototype.addGeometry=function(){},e.prototype.annotation=function(){var t=this,r=this.options,n=[],a={line:{style:{lineWidth:1,stroke:"#66d6a8"}}};(0,u.each)(r.guideLine,function(o){var s=Ri("guideLine",{plot:t,cfg:(0,u.deepMix)({},a,o)});n.push(s)}),this.setConfig("annotations",n)},e}(ri),zl=eB,rB=function(){function i(e){(0,u.assign)(this,e),this.init()}return i.prototype.destroy=function(){this.shape&&this.shape.destroy()},i.prototype.update=function(e,t,r){var n={};if((0,u.assign)(this,e),this.coord=this.view.geometries[0].coordinate,e.value){var a=this.coord.convert({x:0,y:this.value}).x,o=[1,0,0,0,1,0,a,0,1];n.matrix=o}if(e.style){var s=this.shape,l=s.attrs,f=(0,u.deepMix)({},l,e.style);n=(0,u.deepMix)({},f,n)}this.shape.stopAnimate(),this.shape.animate(n,t,r)},i.prototype.init=function(){this.coord=this.view.geometries[0].coordinate,this.container=this.view.foregroundGroup.addGroup();var e=this.coord.convert({x:0,y:this.value}).x,t=this.coord.center.y-this.progressSize/2-2,r=this.coord.center.y+this.progressSize/2+2,n=(0,u.deepMix)({},{stroke:"grey",lineWidth:1},this.style);this.shape=this.container.addShape("path",{attrs:(0,Jt.__assign)({path:[["M",0,t],["L",0,r]]},n),name:"progress-marker"}),this.shape.move(e,0),this.canvas.draw()},i}(),Ly=rB,nB={progress:"interval"},iB=Bi(nB);(0,u.assign)(bn,iB);var aB={progress:"interval"},oB={interval:"progress"},Iy=["#55A6F3","#E8EDF3"],ky=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="progress",t.isEntered=!1,t}return e.prototype.processProps=function(){var t=this.options;t.data=this.processData();var r={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barSize:t.size?t.size:this.getSize(),barStyle:t.progressStyle,color:this.parseColorProps(t)||Iy};t=(0,u.mix)(t,r)},e.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},e.prototype.beforeInit=function(){var t=this.options.percent;if(!(0,u.isNumber)(t))throw new Error("Percent value is required, and the type of percent must be Number.")},e.prototype.update=function(t){var r=this.options;if((0,u.hasKey)(t,"percent")&&(r.percent=t.percent,this.changeData(this.processData())),t.style&&(this.styleUpdateAnimation(t.style),this.updateColorConfigByStyle(t.style)),t.color){var n=void 0;(0,u.isArray)(t.color)?(this.options.color=t.color,n=[{fill:t.color[0]},{fill:t.color[1]}]):(this.options.color[0]=t.color,n={fill:t.color}),this.styleUpdateAnimation(n)}t.marker&&(this.updateMarkers(t.marker),this.options.marker=t.marker)},e.prototype.destroy=function(){this.markers&&this.markers.length>0&&((0,u.each)(this.markers,function(t){t.destroy()}),this.markers=[]),i.prototype.destroy.call(this)},e.prototype.afterRender=function(){var t=this;this.options.marker&&!this.markers&&(this.markers=[],(0,u.each)(this.options.marker,function(s){var l=(0,u.mix)({canvas:t.canvas,view:t.view,progressSize:t.options.barSize},s),f=new Ly(l);t.markers.push(f)}));var r=this.view.geometries[0].container,n=r.getBBox(),a=r.addShape("rect",{attrs:{width:n.width,height:n.height,x:n.minX,y:n.minY,fill:"rgba(0,0,0,0)"}});this.canvas.draw(),a.on("mouseenter",function(s){t.isEntered=!0,t.view.emit("progress:mouseenter",s)}),a.on("mouseleave",function(s){t.isEntered=!1,t.view.emit("progress:mouseleave",s)});var o=this.canvas.get("container");o.addEventListener("mouseleave",function(s){t.isEntered&&(t.view.emit("progress:mouseleave",s),t.isEntered=!1)})},e.prototype.geometryParser=function(t,r){return t==="g2"?aB[r]:oB[r]},e.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},e.prototype.addGeometry=function(){var t=this.options,r=fi("interval","main",{positionFields:[t.yField,t.xField],plot:this});r.adjust=[{type:"stack"}],(0,u.has)(t,"animation")&&(r.animate=t.animation),this.setConfig("geometry",r)},e.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,ct)},e.prototype.parseColorProps=function(t){var r;if(t.color)if((0,u.isFunction)(t.color)?r=t.color(t.percent):r=t.color,(0,u.isString)(r)){var n=(0,u.clone)(Iy);return n[0]=r,n}else return r;return t.color},e.prototype.processData=function(){var t=this.options,r=[{type:"current",value:t.percent},{type:"rest",value:1-t.percent}];return r},e.prototype.updateMarkers=function(t){var r=t.length,n=this.getUpdateAnimationOptions();if((0,u.each)(this.markers,function(f,h){h>r-1?f.destroy():f.update(t[h],n.duration,n.easing)}),this.markers.length<r)for(var a=this.markers.length,o=a;o<r;o++){var s=(0,u.deepMix)({},{canvas:this.canvas,view:this.view,progressSize:this.options.barSize},t[o]),l=new Ly(s);this.markers.push(l)}},e.prototype.getSize=function(){var t=this.height;return t>=50?10:4},e.prototype.styleUpdateAnimation=function(t){var r=this.getUpdateAnimationOptions(),n=r.duration,a=r.easing,o=[],s=this.view,l=s.geometries;(0,u.each)(l,function(f){if(f.type==="interval"){var h=f.elements;(0,u.each)(h,function(c){o.push.apply(o,c.shape)})}}),(0,u.isArray)(t)?(0,u.each)(t,function(f,h){o[h].animate(f,n,a)}):o[0].animate(t,n,a)},e.prototype.getUpdateAnimationOptions=function(){var t=450,r="easeQuadInOut",n=this.options.animation;return n&&n.update&&(n.update.duration&&(t=n.update.duration),n.update.easing&&(r=n.update.easing)),{duration:t,easing:r}},e.prototype.updateColorConfigByStyle=function(t){var r=this;(0,u.isArray)(t)?(0,u.each)(t,function(n,a){n.fill&&(r.options.color[a]=n.fill)}):t.fill&&(this.options.color[0]=t.fill)},e}(zl),By=ky;dn("progress",ky);var sB=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="progress",i.prototype.createLayers.call(this,r)},e.prototype.update=function(t,r){var n=this.layers[0];n.update(t,r)},e.getDefaultOptions=By.getDefaultOptions,e}($r),Dy=sB,lB={ringProgress:"interval"},uB=Bi(lB);(0,u.assign)(bn,uB);var fB=["#55A6F3","#E8EDF3"],Fy=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ringProgrsss",t}return e.prototype.processProps=function(){var t=this.options;t.data=this.processData();var r={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barStyle:t.progressStyle,color:this.parseColorProps(t)||fB};t=(0,u.mix)(t,r)},e.prototype.coord=function(){var t={type:"theta",cfg:{radius:1,innerRadius:this.getThickness(this.options.size)}};this.setConfig("coordinate",t)},e.prototype.annotation=function(){},e.prototype.addGeometry=function(){var t=this.options;this.ring=fi("interval","main",{positionFields:[t.yField,t.xField],plot:this}),this.ring.adjust=[{type:"stack"}],this.setConfig("geometry",this.ring)},e.prototype.animation=function(){this.ring.animate={appear:{duration:1e3}}},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,ut)},e.prototype.getThickness=function(t){var r=this.width,n=this.height,a=Math.min(r,n);return t?1-t/a:a>=60?1-20/a:1-10/a},e}(By),hB=Fy;dn("ringProgress",Fy);var cB=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="ringProgress",i.prototype.createLayers.call(this,r)},e.prototype.update=function(t){var r=this.layers[0];r.update(t)},e.getDefaultOptions=hB.getDefaultOptions,e}($r),Ry=cB,vB={onColumnClick:"interval:click",onColumnDblclick:"interval:dblclick",onColumnMousemove:"interval:mousemove",onColumnMousedown:"interval:mousedown",onColumnMouseup:"interval:mouseup",onColumnMouseenter:"interval:mouseenter",onColumnMouseleave:"interval:mouseleave",onColumnContextmenu:"interval:contextmenu"};(0,u.assign)(bn,vB);var dB=.6,pB={column:"interval"},gB={interval:"column"},Ny=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyColumn",t}return e.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},e.prototype.geometryParser=function(t,r){return t==="g2"?pB[r]:gB[r]},e.prototype.scale=function(){var t=this.options,r={};r[t.xField]={type:"cat"},this.setConfig("scales",r)},e.prototype.addGeometry=function(){var t=this.options,r=fi("interval","main",{positionFields:[t.xField,t.yField],plot:this});this.setConfig("geometry",r)},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,At)},e.prototype.processProps=function(){var t={padding:[0,0,0,0],columnSize:this.getSize()};this.options=(0,u.mix)(this.options,t)},e.prototype.getSize=function(){var t=this.options,r=this.getColumnNum(t.data,t.xField),n=this.width;return n/r*dB},e.prototype.getColumnNum=function(t,r){var n=[];return(0,u.each)(t,function(a){var o=a[r];n.indexOf(o)<0&&n.push(o)}),n.length},e}(zl),yB=Ny;dn("tinyColumn",Ny);var mB=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="tinyColumn",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=yB.getDefaultOptions,e}($r),Yy=mB,xB={onAreaClick:"area:click",onAreaDblclick:"area:dblclick",onAreaMousemove:"area:mousemove",onAreaMousedown:"area:mousedown",onAreaMouseup:"area:mouseup",onAreaMouseenter:"area:mouseenter",onAreaMouseleave:"area:mouseleave",onAreaContextmenu:"area:contextmenu",onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,u.assign)(bn,xB);var bB={area:"area",line:"line"},Gy=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyArea",t}return e.prototype.geometryParser=function(t,r){return bB[r]},e.prototype.addGeometry=function(){this.area=fi("area","mini",{plot:this}),this.setConfig("geometry",this.area),this.line=fi("line","mini",{plot:this}),this.setConfig("geometry",this.line)},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,St)},e}(zl),wB=Gy;dn("tinyArea",Gy);var SB=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="tinyArea",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=wB.getDefaultOptions,e}($r),zy=SB,MB={onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,u.assign)(bn,MB);var CB={line:"line"},Xy=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyLine",t}return e.prototype.geometryParser=function(t,r){return CB[r]},e.prototype.addGeometry=function(){this.line=fi("line","mini",{plot:this}),this.setConfig("geometry",this.line)},e.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,Yt)},e}(zl),EB=Xy;dn("tinyLine",Xy);var AB=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="tinyLine",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=EB.getDefaultOptions,e}($r),Vy=AB,ph=5,TB=function(i){(0,Jt.__extends)(e,i);function e(t){var r=i.call(this,t)||this;return r.geomLayers=[],r.legends=[],r.requiredField=["xField","yField"],r.options=r.getOptions(t),r.initialOptions=(0,u.deepMix)({},t),r.themeController=new Gf,r}return e.getDefaultOptions=function(){return{title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"}}},e.prototype.getOptions=function(t){var r=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t);return(0,u.deepMix)({},n,a,r,t)},e.prototype.checkData=function(){for(var t=this,r,n,a=this.options,o=a.data,s=a.xField,l=a.yField,f=0;f<this.requiredField.length;f++){var h=this.requiredField[f];if(!(0,u.hasKey)(this.options,h))return!1}return!(!(0,u.isArray)(l)||l.length<2||!(0,u.isArray)(o)||o.length===0||((r=o[0])===null||r===void 0?void 0:r.length)===0&&((n=o[1])===null||n===void 0?void 0:n.length)===0||((0,u.each)(o,function(c,v){if(!(0,u.isArray)(c)||c.length===0){var x=t.getMockData(v);o[v]=x}}),!o[0][0][s]||!o[1][0][s]))},e.prototype.init=function(){i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.drawTitle(),this.drawDescription()},e.prototype.updateConfig=function(t){this.doDestroy(),this.options=this.getOptions(t),this.processOptions(this.options)},e.prototype.changeData=function(t){t&&t.length<2||!(0,u.isArray)(t[0])||(0,u.each)(this.geomLayers,function(r,n){r.changeData(t[n])})},e.prototype.changeDataByIndex=function(t,r){if(!(0,u.isArray)(t[0])){var n=this.geomLayers[r];n.changeData(t)}},e.prototype.doDestroy=function(){(0,u.each)(this.geomLayers,function(t){t.doDestroy()}),this.geomLayers=[],(0,u.each)(this.legends,function(t){t.destroy()}),this.legends=[]},e.prototype.createLayer=function(t,r,n){var a=this.getViewRange(),o=new t((0,Jt.__assign)({canvas:this.canvas,container:this.container,x:a.minX,y:a.minY,width:a.width,height:a.height,data:r},n));return this.geomLayers.push(o),o},e.prototype.getLeftYAxisMax=function(){var t=this.getScaleData(0),r=this.getScaleData(1);return t.min==0&&t.max===0?Math.max(r.max,0):t.max},e.prototype.yAxis=function(t){var r=this.getScaleData(0),n=this.options.yAxis,a=t===0?n.leftConfig:n.rightConfig,o=this.colors[t],s=(0,u.clone)(a),l={title:"stroke",line:"stroke",label:"fill",tickLine:"stroke"};a.visible&&a.colorMapping&&(0,u.each)(s,function(h,c){if(!(0,u.isString)(h)&&(0,u.hasKey)(l,c)){var v=l[c];h.style||(h.style={}),h.style[v]=o}}),a.visible||(s.title.visible=!1,s.tickLine.visible=!1,s.label.visible=!1,s.line.visible=!1,s.visible=!0);var f=this.getYAxisGlobalConfig();return t===0&&r.max===0&&r.min===0&&(s.max=this.getLeftYAxisMax()),(0,u.deepMix)({},f,s)},e.prototype.getTicks=function(){for(var t=this.options.yAxis,r=this.getScaleData(0),n=(0,jr.getScale)("linear"),a=new n((0,u.deepMix)({},{min:0,max:this.getLeftYAxisMax(),nice:!0,values:r.values},{tickCount:t.tickCount})),o=a.ticks.length,s=t.max?a.max:this.getScaleData(1).max,l=s/(o-1),f=[],h=0;h<o;h++){var c=h*l;Number.isInteger(c)||(c=parseFloat(c.toFixed(1))),f.push(c)}return f},e.prototype.getScaleData=function(t){var r=this.options,n=r.data,a=r.yField,o=r.yAxis,s=[];(0,u.each)(n[t],function(h){s.push(h[a[t]])}),s.sort(function(h,c){return h-c});var l=s[0],f=o.max?o.max:s[s.length-1];return{min:l,max:f,values:s}},e.prototype.getDataByXField=function(t,r){var n=this.options,a=n.data,o=n.xField,s=a[r];return s.filter(function(l){return l[o]===t})},e.prototype.getYAxisGlobalConfig=function(){var t=this.options.yAxis,r=t.min,n=t.max,a=t.tickCount;return{min:r,max:n,tickCount:a}},e.prototype.adjustLayout=function(){var t=this,r,n,a=Wi().bleeding;(0,u.isArray)(a)&&(0,u.each)(a,function(x,P){typeof a[P]=="function"&&(a[P]=a[P](t.options))});var o=this.getViewRange(),s=this.transfromPadding(this.geomLayers[0].options.padding),l=this.transfromPadding(this.geomLayers[1].options.padding),f=0,h,c;((r=this.options.legend)===null||r===void 0?void 0:r.visible)&&(h=this.legends[0].getLayoutBBox(),c=this.legends[1].getLayoutBBox(),f=h.height+ph*2);var v=s.map(function(x,P){return P===0?Math.max.apply(null,[x+f,l[P]]):Math.max.apply(null,[x,l[P]])});this.geomLayers[0].updateConfig({padding:v}),this.geomLayers[0].render(),this.geomLayers[1].updateConfig({padding:v}),this.geomLayers[1].render(),((n=this.options.legend)===null||n===void 0?void 0:n.visible)&&(this.legends[0].setLocation({x:a[3],y:o.minY+ph}),this.legends[1].setLocation({x:o.maxX-a[1]-c.width,y:o.minY+ph}))},e.prototype.transfromPadding=function(t){return typeof t=="string"||typeof t=="number"?[Number(t)]:t},e.prototype.legendFilter=function(t){var r=this,n=this.legends[t],a=n.get("group");a.on("click",function(){var o=n.get("items")[0];o.unchecked?(n.setItemState(o,"unchecked",!1),r.showLayer(t)):(n.setItemState(o,"unchecked",!0),r.hideLayer(t))})},e.prototype.hideLayer=function(t){var r=this.geomLayers[t],n=this.options.yField[t],a=r.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!1),this.setGeometryVisibility(a,!1),this.canvas.draw()},e.prototype.showLayer=function(t){var r=this.geomLayers[t],n=this.options.yField[t],a=r.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!0),this.setGeometryVisibility(a,!0),this.canvas.draw()},e.prototype.setGeometryVisibility=function(t,r){(0,u.each)(t.geometries,function(n){var a=n.container,o=n.labelsContainer;a&&a.set("visible",r),o&&o.set("visible",r)})},e.prototype.getYAxisContainer=function(t,r){var n,a=t.controllers.filter(function(l){return(0,u.hasKey)(l,"axisContainer")})[0];if(a){var o=a,s=o.axisContainer.get("children");(0,u.each)(s,function(l){var f=l.get("component").get("field");f===r&&(n=l)})}return n},e.prototype.getUnCheckedValue=function(){var t=[];return(0,u.each)(this.legends,function(r){var n=r.getItemsByState("unchecked");(0,u.each)(n,function(a){t.push(a.name)})}),t},e.prototype.drawTitle=function(){var t=this.options,r=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),Xo(t.title)){var n=this.width,a=this.theme,o=new dl({leftMargin:r.minX+a.title.padding[3],rightMargin:r.maxX-a.title.padding[1],topMargin:r.minY+a.title.padding[0],text:t.title.text,style:(0,u.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:Xo(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o}},e.prototype.drawDescription=function(){var t=this.options,r=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),Xo(t.description)){var n=this.width,a=this.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=r.minY+a.title.padding[0];var l=new dl({leftMargin:r.minX+a.description.padding[3],topMargin:o,rightMargin:r.maxX-a.title.padding[1],text:t.description.text,style:(0,u.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l}},e.prototype.getViewRange=function(){this.layerBBox||(this.layerBBox=new tn(this.x,this.y,this.width,this.height));var t=this.layerBBox.minX,r=this.layerBBox.maxX,n=this.layerBBox.minY,a=this.layerBBox.maxY,o=[this.title,this.description];return(0,u.each)(o,function(s){if(s){var l=s.position,f=s.getBBox(),h=f.minX,c=f.maxX,v=f.minY,x=f.maxY;x>=n&&x<=a&&l==="top"&&(n=x),v>=n&&v<=a&&l==="bottom"&&(a=v),c>t&&c<=r&&l==="left"&&(t=c),h>=t&&c<=r&&l==="right"&&(r=h)}}),new tn(t,n,r-t,a-n)},e.prototype.getMockData=function(t){var r=this.options,n=r.xField,a=r.yField,o={};return o[n]="null",o[a[t]]=0,[o]},e}(vl),Hy=TB,Wy={lineSize:2,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},jy={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},Uy=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dualLine",t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0},yAxis:{leftConfig:jy,rightConfig:jy},lineConfigs:[(0,u.deepMix)({},Wy,{color:"#5B8FF9"}),(0,u.deepMix)({},Wy,{color:"#e76c5e"})]})},e.prototype.init=function(){var t=this;if(i.prototype.init.call(this),!!this.checkData()){var r=this.options,n=r.data,a=r.meta,o=r.xField,s=r.yField,l=r.xAxis,f=r.tooltip,h=r.lineConfigs,c=r.legend,v=r.events,x=r.customMeta;this.colors=[h[0].color,h[1].color];var P=this.getYAxisGlobalConfig(),D=this.createLayer(ys,n[0],(0,Jt.__assign)({meta:a,xField:o,yField:s[0],xAxis:{visible:!1},yAxis:(0,u.deepMix)({},P,{grid:{visible:!1},nice:!0},this.yAxis(0)),tooltip:{visible:!1},events:v},h[0]));D.render();var X={};X[s[1]]={ticks:this.getTicks()};var K=this.createLayer(ys,n[1],(0,Jt.__assign)({xField:o,yField:s[1],meta:x?a:(0,u.deepMix)({},a,X),serieField:s[1],xAxis:l,yAxis:(0,u.deepMix)({},P,{position:"right",nice:!1},this.yAxis(1)),tooltip:(0,u.deepMix)({},{showMarkers:!1,custom:{onChange:function(Z,gt){t.tooltip(Z,gt)}}},f),events:v},h[1]));K.render(),c.visible&&this.customLegend(),this.adjustLayout()}},e.prototype.tooltip=function(t,r){var n=this.getUnCheckedValue();if(n.length===this.colors.length){t.style.display="none";return}else t.style.display="block";var a=this.options,o=a.yField,s=a.legend,l=(0,u.clone)(r.items[0]),f=this.getDataByXField(r.title,0)[0];f&&(0,u.findIndex)(r.items,function(h){return h.name===o[0]})<0&&r.items.push((0,Jt.__assign)((0,Jt.__assign)({},l),{mappingData:(0,u.deepMix)({},l.mappingData,{_origin:f}),data:f,name:o[0],value:f[o[0]],color:this.colors[0]})),s.visible&&(0,u.each)(this.legends,function(h,c){var v=h.get("items")[0];if(v.unchecked){var x=c===0?1:0;r.items.splice(x,1)}})},e.prototype.customLegend=function(){var t=this,r=this.options,n=r.yField,a=r.legend,o=this.colors,s=this.container.addGroup(),l=a;(0,u.each)(this.geomLayers,function(f,h){var c=(0,u.deepMix)({},{symbol:"circle",style:{r:4,fill:o[h]}},l.marker),v=[{name:n[h],unchecked:!1,marker:c}],x=new en.Legend.Category({id:t.type,container:s,x:0,y:0,items:v,updateAutoRender:!0,itemBackground:null,itemName:l.text});x.init(),x.render(),t.legends.push(x)}),(0,u.each)(this.geomLayers,function(f,h){t.legendFilter(h)})},e}(Hy),PB=Uy;dn("dualLine",Uy);var _B=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="dualLine",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=PB.getDefaultOptions,e}($r),Zy=_B,OB={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},LB={color:"#5B8FF9"},Ky={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},$y=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="columnLine",t.legends=[],t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:Ky,rightConfig:Ky},lineConfig:OB,columnConfig:LB,legend:{visible:!0}})},e.prototype.beforeInit=function(){var t,r,n=this,a=n.options,o=n.initialOptions;if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((r=o.lineConfig)===null||r===void 0?void 0:r.color))){var s=Wi(),l=s.colors,f=s.colors_20,h=this.getValueBySeriesField(),c=h.length>l.length?f:l,v=[];(0,u.each)(h,function(x,P){v.push(c[P+1])}),a.lineConfig.color=v}},e.prototype.init=function(){if(i.prototype.init.call(this),!!this.checkData()){var t=this.options,r=t.data,n=t.meta,a=t.xField,o=t.yField,s=t.lineSeriesField,l=t.legend,f=t.lineConfig,h=t.columnConfig,c=t.events,v=t.customMeta;this.colors=[h.color,f.color],this.drawColumn();var x={};x[o[1]]={ticks:this.getTicks()};var P=this.createLayer(ys,r[1],(0,Jt.__assign)({xField:a,yField:o[1],seriesField:s,meta:v?n:(0,u.deepMix)({},n,x),xAxis:{visible:!1},yAxis:(0,u.deepMix)({},{position:"right",grid:{visible:!1},nice:!0},this.yAxis(1)),tooltip:{visible:!1},legend:{visible:!1},events:c},f));P.render(),l.visible&&this.customLegend(),this.adjustLayout()}},e.prototype.drawColumn=function(){var t=this,r=this.options,n=r.data,a=r.xField,o=r.yField,s=r.xAxis,l=r.tooltip,f=r.columnConfig,h=r.meta,c=r.events,v=this.createLayer(Zo,n[0],(0,Jt.__assign)({xField:a,yField:o[0],meta:h,xAxis:s,yAxis:(0,u.deepMix)({},{grid:{visible:!0},nice:!0},this.yAxis(0)),tooltip:(0,u.deepMix)({},{showMarkers:!1,custom:{onChange:function(x,P){t.tooltip(x,P)}}},l),events:c},f));v.render()},e.prototype.tooltip=function(t,r){var n=this,a=this.options,o=a.xField,s=a.yField,l=a.tooltip,f=(0,u.clone)(r.items[0]),h=this.getDataByXField(r.title,1),c=(0,u.get)(l,"formatter");if(h&&(0,u.each)(h,function(X,K){var Z=n.geomLayers[1].options.seriesField,gt=Z?X[Z]:s[1],mt=c?c(X[o],X[s[1]],X[Z]):{name:gt,value:X[s[1]]};r.items.push((0,Jt.__assign)((0,Jt.__assign)((0,Jt.__assign)((0,Jt.__assign)({},f),{mappingData:(0,u.deepMix)({},f.mappingData,{_origin:h}),data:X}),mt),{color:(0,u.isArray)(n.colors[1])?n.colors[1][K]:n.colors[1]}))}),this.options.legend.visible){var v=this.getUnCheckedValue(),x=this.legends[0].get("items").length+this.legends[1].get("items").length;if(v.length===x){t.style.display="none";return}else t.style.display="block";var P=[],D=[];(0,u.each)(r.items,function(X){var K=X.name;!(0,u.contains)(P,K)&&!(0,u.contains)(v,K)&&(P.push(K),D.push(X))}),(0,u.each)(r.items,function(X,K){K<D.length?r.items[K]=D[K]:r.items.pop()})}},e.prototype.customLegend=function(){var t=this,r=this.options,n=r.yField,a=r.legend,o=this.colors,s=this.container.addGroup(),l=a,f=["square","circle"];(0,u.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var x=t.getValueBySeriesField();v=t.createNormalLegend(x,f[c],o[c],l,s)}else v=t.createSingleLegend(n[c],f[c],o[c],l,s);t.legends.push(v)}),(0,u.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):t.legendFilter(c)})},e.prototype.createSingleLegend=function(t,r,n,a,o){var s=(0,u.deepMix)({},{symbol:r,style:{r:4,fill:n}},a.marker),l=[{name:t,unchecked:!1,marker:s}],f=new en.Legend.Category({id:this.type,container:o,x:0,y:0,items:l,updateAutoRender:!0,itemBackground:null,itemName:a.text});return f.init(),f.render(),f},e.prototype.createNormalLegend=function(t,r,n,a,o){var s=[];(0,u.each)(t,function(f,h){s.push({name:f,unchecked:!1,marker:{symbol:r,style:{r:4,fill:n[h]}}})});var l=new en.Legend.Category({id:this.type,container:o,x:0,y:0,items:s,updateAutoRender:!0,itemBackground:null,itemName:a.text,offsetX:0});return l.init(),l.render(),l},e.prototype.multipleLegendFilter=function(t,r){var n=this,a=this.legends[t],o=[],s=a.get("group"),l=!1;s.on("click",function(f){var h=n.geomLayers[t].view,c=f.target.get("delegateObject").item;c.unchecked?(l===!0&&(n.showLayer(t),l=!1),(0,u.pull)(o,c.name),h.filter(c.value,function(v){return!(0,u.contains)(o,v)}),h.render(),a.setItemState(c,"unchecked",!1)):(a.setItemState(c,"unchecked",!0),o.push(c.name),o.length===n.legends[t].get("items").length?(n.hideLayer(t),l=!0):(h.filter(r,function(v){return!(0,u.contains)(o,v)}),h.render())),n.canvas.draw()})},e.prototype.getValueBySeriesField=function(){var t=this.options,r=t.lineSeriesField,n=t.data,a=n[1],o=[];return(0,u.each)(a,function(s){var l=s[r];(0,u.contains)(o,l)||o.push(l)}),o},e}(Hy),gh=$y;dn("columnLine",$y);var IB=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="columnLine",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=gh.getDefaultOptions,e}($r),Qy=IB,kB={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},BB={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},Jy={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},qy=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnGroupField"],t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,u.deepMix)({},Jy,{colorMapping:!1}),rightConfig:Jy},lineConfig:kB,columnConfig:BB,legend:{visible:!0}})},e.prototype.beforeInit=function(){var t,r,n=this,a=n.options,o=n.initialOptions,s=this.getValueByGroupField();if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((r=o.lineConfig)===null||r===void 0?void 0:r.color))){var l=Wi(),f=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),v=c.length>f.length?h:f,x=[],P=s.length;(0,u.each)(c,function(X,K){x.push(v[K+P])}),a.lineConfig.color=x}var D=this.options.columnConfig.color;this.options.columnConfig.color=D.slice(0,s.length)},e.prototype.drawColumn=function(){var t=this,r=this.options,n=r.data,a=r.xField,o=r.yField,s=r.columnGroupField,l=r.xAxis,f=r.tooltip,h=r.columnConfig,c=r.events,v=this.createLayer(nh,n[0],(0,Jt.__assign)({xField:a,yField:o[0],groupField:s,xAxis:l,yAxis:(0,u.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,u.deepMix)({},f,{showMarkers:!1,custom:{onChange:function(x,P){t.tooltip(x,P)}}}),events:c},h));v.render()},e.prototype.customLegend=function(){var t=this,r=this.options,n=r.yField,a=r.legend,o=this.colors,s=this.container.addGroup(),l=a,f=["square","circle"];(0,u.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var x=t.getValueBySeriesField();v=t.createNormalLegend(x,f[c],o[c],l,s)}else if(h.options.groupField){var x=t.getValueByGroupField();v=t.createNormalLegend(x,f[c],o[c],l,s)}else v=t.createSingleLegend(n[c],f[c],o[c],l,s);t.legends.push(v)}),(0,u.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.groupField?t.multipleLegendFilter(c,h.options.groupField):t.legendFilter(c)})},e.prototype.getValueByGroupField=function(){var t=this.options,r=t.columnGroupField,n=t.data,a=n[0],o=[];return(0,u.each)(a,function(s){var l=s[r];(0,u.contains)(o,l)||o.push(l)}),o},e.prototype.getMockData=function(t){var r=this.options,n=r.xField,a=r.yField,o=r.columnGroupField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},e}(gh),DB=qy;dn("groupedColumnLine",qy);var FB=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="groupedColumnLine",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=DB.getDefaultOptions,e}($r),t0=FB,RB={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},NB={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},e0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},r0=function(i){(0,Jt.__extends)(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnStackField"],t}return e.getDefaultOptions=function(){return(0,u.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,u.deepMix)({},e0,{colorMapping:!1}),rightConfig:e0},lineConfig:RB,columnConfig:NB,legend:{visible:!0}})},e.prototype.beforeInit=function(){var t,r,n=this.getValueByStackField(),a=this,o=a.options,s=a.initialOptions;if(o.lineSeriesField&&(o.yAxis.rightConfig.colorMapping=!1,((t=s.lineConfig)===null||t===void 0?void 0:t.lineSize)||(o.lineConfig.lineSize=3),!((r=s.lineConfig)===null||r===void 0?void 0:r.color))){var l=Wi(),f=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),v=c.length>f.length?h:f,x=[],P=n.length;(0,u.each)(c,function(X,K){x.push(v[K+P])}),o.lineConfig.color=x}var D=this.options.columnConfig.color;this.options.columnConfig.color=D.slice(0,n.length)},e.prototype.drawColumn=function(){var t=this,r=this.options,n=r.data,a=r.xField,o=r.yField,s=r.columnStackField,l=r.xAxis,f=r.tooltip,h=r.columnConfig,c=r.events,v=this.createLayer(Il,n[0],(0,Jt.__assign)({xField:a,yField:o[0],stackField:s,xAxis:l,yAxis:(0,u.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,u.deepMix)({},f,{showMarkers:!1,custom:{onChange:function(x,P){t.tooltip(x,P)}}}),events:c},h));v.render()},e.prototype.customLegend=function(){var t=this,r=this.options,n=r.yField,a=r.legend,o=this.colors,s=this.container.addGroup(),l=a,f=["square","circle"];(0,u.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var x=t.getValueBySeriesField();v=t.createNormalLegend(x,f[c],o[c],l,s)}else if(h.options.stackField){var x=t.getValueByStackField();v=t.createNormalLegend(x,f[c],o[c],l,s)}else v=t.createSingleLegend(n[c],f[c],o[c],l,s);t.legends.push(v)}),(0,u.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.stackField?t.multipleLegendFilter(c,h.options.stackField):t.legendFilter(c)})},e.prototype.getValueByStackField=function(){var t=this.options,r=t.columnStackField,n=t.data,a=n[0],o=[];return(0,u.each)(a,function(s){var l=s[r];(0,u.contains)(o,l)||o.push(l)}),o},e.prototype.getUnCheckedValue=function(){var t=[];return(0,u.each)(this.legends,function(r){var n=r.getItemsByState("unchecked");(0,u.each)(n,function(a){t.push(a.name)})}),t},e.prototype.getMockData=function(t){var r=this.options,n=r.xField,a=r.yField,o=r.columnStackField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},e}(gh),YB=r0;dn("stackedColumnLine",r0);var GB=function(i){(0,Jt.__extends)(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.createLayers=function(t){var r=(0,u.deepMix)({},t);r.type="stackedColumnLine",i.prototype.createLayers.call(this,r)},e.getDefaultOptions=YB.getDefaultOptions,e}($r),n0=GB,zB=function(e){return e.charAt(0).toUpperCase()+e.slice(1).replace(/-(\w)/g,function(t,r){return r.toUpperCase()})},_Y=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},XB=function(e,t){return new Set(e.concat(t)).size===e.length},VB=function(e,t){var r={}.toString;return r.call(e)==="[object "+t+"]"},HB=function(e){if(!e)return e;var t={};for(var r in e)t[r]=e[r];return t},ws={sameArray:XB,camelCase:zB,isType:VB,clone:HB},WB=d(73935),jB=function(e){var t=document.createElement("div");return t.className="g2-tooltip eva-charts-tootip",WB.render(e,t),t},yh=jB;function i0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function UB(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?i0(Object(t),!0).forEach(function(r){ZB(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):i0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function ZB(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function gn(i,e){var t=(0,Mt.useRef)(),r=(0,Mt.useRef)(null),n=function(){var l,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",h=arguments.length>1?arguments[1]:void 0;return(l=t.current)===null||l===void 0?void 0:l.canvas.cfg.el.toDataURL(f,h)},a=function(l){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/png",h=arguments.length>2?arguments[2]:void 0;try{var c;l&&l.indexOf(".")===-1&&(l="".concat(l,".png"));var v=l;if(!v){var x,P=e;v="".concat((P==null||(x=P.title)===null||x===void 0?void 0:x.text)||(i==null?void 0:i.name),".png")}var D=(c=t.current)===null||c===void 0?void 0:c.canvas.cfg.el.toDataURL(f,h),X=document.createElement("a");X.href=D,X.download=v,document.body.appendChild(X),X.click(),document.body.removeChild(X),X=null}catch(K){console.log(K)}},o=function(){var l,f,h,c,v;if((l=e.statistic)===null||l===void 0?void 0:l.htmlContent){var x=e.statistic.htmlContent;e.statistic.htmlContent=function(){var D=x.apply(void 0,arguments);return ws.isType(D,"String")||ws.isType(D,"Number")||ws.isType(D,"HTMLDivElement")?D:yh(D)}}if(((f=e.tooltip)===null||f===void 0||(h=f.custom)===null||h===void 0?void 0:h.container)&&(e.tooltip.custom.container=yh(e.tooltip.custom.container)),(c=e.tooltip)===null||c===void 0||(v=c.custom)===null||v===void 0?void 0:v.customContent){var P=e.tooltip.custom.customContent;e.tooltip.custom.customContent=function(D,X){var K=P(D,X)||"";return ws.isType(K,"HTMLDivElement")?K:yh(K)}}};return(0,Mt.useEffect)(function(){t.current&&(e.onlyChangeData?t.current.changeData((e==null?void 0:e.data)||[]):(o(),t.current.updateConfig(e),t.current.render()))},[(e==null?void 0:e.memoData)?e.memoData:JSON.stringify(e)]),(0,Mt.useEffect)(function(){if(!r.current)return function(){return null};o();var s=new i(r.current,UB({},e));return s.__proto__.toDataURL=function(l,f){return n(l,f)},s.__proto__.downloadImage=function(l,f,h){return a(l,f,h)},s.render(),t.current=ws.clone(s),function(){return s.destroy()}},[]),{chart:t,container:r,toDataURL:n,downloadImage:a}}var KB=Mt.createContext({});function Xl(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xl=function(t){return typeof t}:Xl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(i)}function $B(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function a0(i,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}function QB(i,e,t){return e&&a0(i.prototype,e),t&&a0(i,t),i}function JB(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),e&&mh(i,e)}function mh(i,e){return mh=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},mh(i,e)}function qB(i){var e=rD();return function(){var r=Vl(i),n;if(e){var a=Vl(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return tD(this,n)}}function tD(i,e){return e&&(Xl(e)==="object"||typeof e=="function")?e:eD(i)}function eD(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function rD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(i){return!1}}function Vl(i){return Vl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vl(i)}var nD=function(i){JB(t,i);var e=qB(t);function t(){var r;return $B(this,t),r=e.apply(this,arguments),r.state={hasError:!1},r.renderError=function(n){switch(n){default:return Mt.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",n.message)}},r}return QB(t,[{key:"render",value:function(){return this.state.hasError?this.renderError(this.state.error):this.props.children}}],[{key:"getDerivedStateFromError",value:function(n){return{hasError:!0,error:n}}},{key:"getDerivedStateFromProps",value:function(n,a){return a.children!==n.children?{children:n.children,hasError:!1,error:void 0}:null}}]),t}(Mt.Component),nn=nD,OY=KB.Provider;function iD(i,e){if(i==null)return{};var t=aD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function aD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var o0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=iD(i,["chartRef","style","className"]),s=gn(ng,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});o0.defaultProps=ng.getDefaultOptions();var oD=o0;function sD(i,e){if(i==null)return{};var t=lD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function lD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var s0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=sD(i,["chartRef","style","className"]),s=gn(Np,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});s0.defaultProps=Np.getDefaultOptions();var uD=s0;function fD(i,e){if(i==null)return{};var t=hD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function hD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var l0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=fD(i,["chartRef","style","className"]),s=gn(yy,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});l0.defaultProps=yy.getDefaultOptions();var cD=l0;function vD(i,e){if(i==null)return{};var t=dD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function dD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var u0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=vD(i,["chartRef","style","className"]),s=gn(xy,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});u0.defaultProps=xy.getDefaultOptions();var pD=u0;function gD(i,e){if(i==null)return{};var t=yD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function yD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var mD=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=gD(i,["chartRef","style","className"]),s=gn(jk,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))}),xD=mD;function bD(i,e){if(i==null)return{};var t=wD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function wD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var f0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=bD(i,["chartRef","style","className"]),s=gn(vg,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});f0.defaultProps=vg.getDefaultOptions();var SD=f0;function MD(i,e){if(i==null)return{};var t=CD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function CD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var h0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=MD(i,["chartRef","style","className"]),s=gn(Qy,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});h0.defaultProps=Qy.getDefaultOptions();var ED=h0;function AD(i,e){if(i==null)return{};var t=TD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function TD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var c0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=AD(i,["chartRef","style","className"]),s=gn(Dg,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});c0.defaultProps=Dg.getDefaultOptions();var PD=c0;function _D(i,e){if(i==null)return{};var t=OD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function OD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var v0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=_D(i,["chartRef","style","className"]),s=gn(uy,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});v0.defaultProps=uy.getDefaultOptions();var LD=v0;function ID(i,e){if(i==null)return{};var t=kD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function kD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var d0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=ID(i,["chartRef","style","className"]),s=gn(Zy,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});d0.defaultProps=Zy.getDefaultOptions();var BD=d0;function DD(i,e){if(i==null)return{};var t=FD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function FD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var p0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=DD(i,["chartRef","style","className"]),s=gn(Py,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});p0.defaultProps=Py.getDefaultOptions();var RD=p0;function ND(i,e){if(i==null)return{};var t=YD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function YD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var GD=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=ND(i,["chartRef","style","className"]),s=gn(jL,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))}),zD=GD;function XD(i,e){if(i==null)return{};var t=VD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function VD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var g0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=XD(i,["chartRef","style","className"]),s=gn(Ay,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});g0.defaultProps=Ay.getDefaultOptions();var HD=g0;function WD(i,e){if(i==null)return{};var t=jD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function jD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var y0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=WD(i,["chartRef","style","className"]),s=gn(Vp,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});y0.defaultProps=Vp.getDefaultOptions();var UD=y0;function ZD(i,e){if(i==null)return{};var t=KD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function KD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var m0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=ZD(i,["chartRef","style","className"]),s=gn(pg,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});m0.defaultProps=pg.getDefaultOptions();var $D=m0;function QD(i,e){if(i==null)return{};var t=JD(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function JD(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var x0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=QD(i,["chartRef","style","className"]),s=gn(t0,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});x0.defaultProps=t0.getDefaultOptions();var qD=x0;function t5(i,e){if(i==null)return{};var t=e5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function e5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var b0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=t5(i,["chartRef","style","className"]),s=gn(Kg,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});b0.defaultProps=Kg.getDefaultOptions();var r5=b0;function n5(i,e){if(i==null)return{};var t=i5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function i5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var w0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=n5(i,["chartRef","style","className"]),s=gn(Yg,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});w0.defaultProps=Yg.getDefaultOptions();var a5=w0;function o5(i,e){if(i==null)return{};var t=s5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function s5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var S0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=o5(i,["chartRef","style","className"]),s=gn(ay,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});S0.defaultProps=ay.getDefaultOptions();var l5=S0;function u5(i,e){if(i==null)return{};var t=f5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function f5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var M0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=u5(i,["chartRef","style","className"]),s=gn(mp,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});M0.defaultProps=mp.getDefaultOptions();var C0=M0;function h5(i,e){if(i==null)return{};var t=c5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function c5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var E0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=h5(i,["chartRef","style","className"]),s=gn(ny,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});E0.defaultProps=ny.getDefaultOptions();var v5=E0;function d5(i,e){if(i==null)return{};var t=p5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function p5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var A0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=d5(i,["chartRef","style","className"]),s=gn(Oy,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});A0.defaultProps=Oy.getDefaultOptions();var g5=A0;function y5(i,e){if(i==null)return{};var t=m5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function m5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var T0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=y5(i,["chartRef","style","className"]),s=gn(ug,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});T0.defaultProps=ug.getDefaultOptions();var x5=T0;function b5(i,e){if(i==null)return{};var t=w5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function w5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var P0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=b5(i,["chartRef","style","className"]),s=gn(jp,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});P0.defaultProps=jp.getDefaultOptions();var S5=P0;function M5(i,e){if(i==null)return{};var t=C5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function C5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var _0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=M5(i,["chartRef","style","className"]),s=gn(Ag,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});_0.defaultProps=Ag.getDefaultOptions();var E5=_0;function A5(i,e){if(i==null)return{};var t=T5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function T5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var O0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=A5(i,["chartRef","style","className"]),s=gn(Ig,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});O0.defaultProps=Ig.getDefaultOptions();var P5=O0;function _5(i,e){if(i==null)return{};var t=O5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function O5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var L0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=_5(i,["chartRef","style","className"]),s=gn(Dy,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});L0.defaultProps=Dy.getDefaultOptions();var L5=L0;function I5(i,e){if(i==null)return{};var t=k5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function k5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var I0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=I5(i,["chartRef","style","className"]),s=gn(Qg,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});I0.defaultProps=Qg.getDefaultOptions();var k0=I0;function B5(i,e){if(i==null)return{};var t=D5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function D5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var B0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=B5(i,["chartRef","style","className"]),s=gn(Jp,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});B0.defaultProps=Jp.getDefaultOptions();var F5=B0;function R5(i,e){if(i==null)return{};var t=N5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function N5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var D0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=R5(i,["chartRef","style","className"]),s=gn(Mg,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});D0.defaultProps=Mg.getDefaultOptions();var Y5=D0;function G5(i,e){if(i==null)return{};var t=z5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function z5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var F0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=G5(i,["chartRef","style","className"]),s=gn(Ry,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});F0.defaultProps=Ry.getDefaultOptions();var X5=F0;function V5(i,e){if(i==null)return{};var t=H5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function H5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var R0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=V5(i,["chartRef","style","className"]),s=gn(zg,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});R0.defaultProps=zg.getDefaultOptions();var W5=R0;function j5(i,e){if(i==null)return{};var t=U5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function U5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var N0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=j5(i,["chartRef","style","className"]),s=gn(py,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});N0.defaultProps=py.getDefaultOptions();var Z5=N0;function K5(i,e){if(i==null)return{};var t=$5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function $5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Y0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=K5(i,["chartRef","style","className"]),s=gn(og,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});Y0.defaultProps=og.getDefaultOptions();var Q5=Y0;function J5(i,e){if(i==null)return{};var t=q5(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function q5(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var G0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=J5(i,["chartRef","style","className"]),s=gn(Gp,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});G0.defaultProps=Gp.getDefaultOptions();var tF=G0;function eF(i,e){if(i==null)return{};var t=rF(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function rF(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var z0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=eF(i,["chartRef","style","className"]),s=gn(mg,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});z0.defaultProps=mg.getDefaultOptions();var nF=z0;function iF(i,e){if(i==null)return{};var t=aF(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function aF(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var X0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=iF(i,["chartRef","style","className"]),s=gn(n0,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});X0.defaultProps=n0.getDefaultOptions();var oF=X0;function sF(i,e){if(i==null)return{};var t=lF(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function lF(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var V0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=sF(i,["chartRef","style","className"]),s=gn(Ug,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});V0.defaultProps=Ug.getDefaultOptions();var uF=V0;function fF(i,e){if(i==null)return{};var t=hF(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function hF(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var H0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=fF(i,["chartRef","style","className"]),s=gn(Lp,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});H0.defaultProps=Lp.getDefaultOptions();var cF=H0;function vF(i,e){if(i==null)return{};var t=dF(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function dF(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var W0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=vF(i,["chartRef","style","className"]),s=gn(zy,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});W0.defaultProps=zy.getDefaultOptions();var pF=W0;function gF(i,e){if(i==null)return{};var t=yF(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function yF(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var j0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=gF(i,["chartRef","style","className"]),s=gn(Yy,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});j0.defaultProps=Yy.getDefaultOptions();var mF=j0;function xF(i,e){if(i==null)return{};var t=bF(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function bF(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var U0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=xF(i,["chartRef","style","className"]),s=gn(Vy,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});U0.defaultProps=Vy.getDefaultOptions();var wF=U0;function SF(i,e){if(i==null)return{};var t=MF(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function MF(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Z0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=SF(i,["chartRef","style","className"]),s=gn(_p,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});Z0.defaultProps=_p.getDefaultOptions();var CF=Z0;function EF(i,e){if(i==null)return{};var t=AF(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function AF(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var K0=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=EF(i,["chartRef","style","className"]),s=gn(cy,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))});K0.defaultProps=cy.getDefaultOptions();var TF=K0;function PF(i,e){if(i==null)return{};var t=_F(i,e),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)r=a[n],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,r)||(t[r]=i[r]))}return t}function _F(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,a;for(a=0;a<r.length;a++)n=r[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var OF=(0,Mt.forwardRef)(function(i,e){var t=i.chartRef,r=i.style,n=r===void 0?{}:r,a=i.className,o=PF(i,["chartRef","style","className"]),s=gn(LL,o),l=s.chart,f=s.container;return(0,Mt.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,Mt.useImperativeHandle)(e,function(){return{getChart:function(){return l.current}}}),Mt.createElement(nn,null,Mt.createElement("div",{className:a,style:n,ref:f}))}),LF=OF,IF={i8:"3.8.5"},si=d(50229),kF={getDefaultCfg:function(){return{}},getEvents:function(){return{}},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(e){var t=this,r=this.events;this.graph=e,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&e.get("canvas").set("draggable",!0),(0,Bn.default)(r,function(n,a){e.on(a,n)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(e){var t=this.events;(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&e.get("canvas").set("draggable",!1),(0,Bn.default)(t,function(r,n){e.off(n,r)})},get:function(e){return this[e]},set:function(e,t){return this[e]=t,this}},BF=function(){function i(){}return i.registerBehavior=function(e,t){if(!t)throw new Error("please specify handler for this behavior: "+e);var r=(0,si.d9)(kF);Object.assign(r,t);var n=function(o){var s=this;Object.assign(this,this.getDefaultCfg(),o);var l=this.getEvents();this.events=null;var f={};l&&((0,si.S6)(l,function(h,c){f[c]=(0,si.Ko)(s,h)}),this.events=f)};n.prototype=r,i.types[e]=n},i.hasBehavior=function(e){return!!i.types[e]},i.getBehavior=function(e){return i.types[e]},i.types={},i}(),xh=BF,bh;(function(i){i.CLICK="click",i.DBLCLICK="dblclick",i.MOUSEDOWN="mousedown",i.MOUDEUP="mouseup",i.CONTEXTMENU="contextmenu",i.MOUSEENTER="mouseenter",i.MOUSEOUT="mouseout",i.MOUSEOVER="mouseover",i.MOUSEMOVE="mousemove",i.MOUSELEAVE="mouseleave",i.DRAGSTART="dragstart",i.DRAGEND="dragend",i.DRAG="drag",i.DRAGENTER="dragenter",i.DRAGLEAVE="dragleave",i.DRAGOVER="dragover",i.DRAGOUT="dragout",i.DDROP="drop",i.KEYUP="keyup",i.KEYDOWN="keydown",i.WHEEL="wheel",i.FOCUS="focus",i.BLUR="blur",i.TOUCHSTART="touchstart",i.TOUCHMOVE="touchmove",i.TOUCHEND="touchend",i.NODE_CONTEXTMENU="node:contextmenu",i.NODE_CLICK="node:click",i.NODE_DBLCLICK="node:dblclick",i.NODE_MOUSEDOWN="node:mousedown",i.NODE_MOUSEUP="node:mouseup",i.NODE_MOUSEENTER="node:mouseenter",i.NODE_MOUSELEAVE="node:mouseleave",i.NODE_MOUSEMOVE="node:mousemove",i.NODE_MOUSEOUT="node:mouseout",i.NODE_MOUSEOVER="node:mouseover",i.NODE_DROP="node:drop",i.NODE_DRAGOVER="node:dragover",i.NODE_DRAGENTER="node:dragenter",i.NODE_DRAGLEAVE="node:dragleave",i.NODE_DRAGSTART="node:dragstart",i.NODE_DRAG="node:drag",i.NODE_DRAGEND="node:dragend",i.COMBO_CONTEXTMENU="combo:contextmenu",i.COMBO_CLICK="combo:click",i.COMBO_DBLCLICK="combo:dblclick",i.COMBO_MOUSEDOWN="combo:mousedown",i.COMBO_MOUSEUP="combo:mouseup",i.COMBO_MOUSEENTER="combo:mouseenter",i.COMBO_MOUSELEAVE="combo:mouseleave",i.COMBO_MOUSEMOVE="combo:mousemove",i.COMBO_MOUSEOUT="combo:mouseout",i.COMBO_MOUSEOVER="combo:mouseover",i.COMBO_DROP="combo:drop",i.COMBO_DRAGOVER="combo:dragover",i.COMBO_DRAGENTER="combo:dragenter",i.COMBO_DRAGLEAVE="combo:dragleave",i.COMBO_DRAGSTART="combo:dragstart",i.COMBO_DRAG="combo:drag",i.COMBO_DRAGEND="combo:dragend",i.EDGE_CONTEXTMENU="edge:contextmenu",i.EDGE_CLICK="edge:click",i.EDGE_DBLCLICK="edge:dblclick",i.EDGE_MOUSEDOWN="edge:mousedown",i.EDGE_MOUSEUP="edge:mouseup",i.EDGE_MOUSEENTER="edge:mouseenter",i.EDGE_MOUSELEAVE="edge:mouseleave",i.EDGE_MOUSEMOVE="edge:mousemove",i.EDGE_MOUSEOUT="edge:mouseout",i.EDGE_MOUSEOVER="edge:mouseover",i.EDGE_DROP="edge:drop",i.EDGE_DRAGOVER="edge:dragover",i.EDGE_DRAGENTER="edge:dragenter",i.EDGE_DRAGLEAVE="edge:dragleave",i.CANVAS_CONTEXTMENU="canvas:contextmenu",i.CANVAS_CLICK="canvas:click",i.CANVAS_DBLCLICK="canvas:dblclick",i.CANVAS_MOUSEDOWN="canvas:mousedown",i.CANVAS_MOUSEUP="canvas:mouseup",i.CANVAS_MOUSEENTER="canvas:mouseenter",i.CANVAS_MOUSELEAVE="canvas:mouseleave",i.CANVAS_MOUSEMOVE="canvas:mousemove",i.CANVAS_MOUSEOUT="canvas:mouseout",i.CANVAS_MOUSEOVER="canvas:mouseover",i.CANVAS_DROP="canvas:drop",i.CANVAS_DRAGENTER="canvas:dragenter",i.CANVAS_DRAGLEAVE="canvas:dragleave",i.CANVAS_DRAGSTART="canvas:dragstart",i.CANVAS_DRAG="canvas:drag",i.CANVAS_DRAGEND="canvas:dragend",i.BEFORERENDER="beforerender",i.AFTERRENDER="afterrender",i.BEFOREADDITEM="beforeadditem",i.AFTERADDITEM="afteradditem",i.BEFOREREMOVEITEM="beforeremoveitem",i.AFTERREMOVEITEM="afterremoveitem",i.BEFOREUPDATEITEM="beforeupdateitem",i.AFTERUPDATEITEM="afterupdateitem",i.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",i.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",i.BEFOREITEMSTATECHANGE="beforeitemstatechange",i.AFTERITEMSTATECHANGE="afteritemstatechange",i.BEFOREITEMREFRESH="beforeitemrefresh",i.AFTERITEMREFRESH="afteritemrefresh",i.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",i.AFTERITEMSTATESCLEAR="afteritemstatesclear",i.BEFOREMODECHANGE="beforemodechange",i.AFTERMODECHANGE="aftermodechange",i.BEFORELAYOUT="beforelayout",i.AFTERLAYOUT="afterlayout",i.BEFORECREATEEDGE="beforecreateedge",i.AFTERCREATEEDGE="aftercreateedge",i.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",i.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",i.BEFOREGRAPHREFRESH="beforegraphrefresh",i.AFTERGRAPHREFRESH="aftergraphrefresh",i.BEFOREANIMATE="beforeanimate",i.AFTERANIMATE="afteranimate",i.BEFOREPAINT="beforepaint",i.AFTERPAINT="afterpaint",i.GRAPHSTATECHANGE="graphstatechange",i.AFTERACTIVATERELATIONS="afteractivaterelations",i.NODESELECTCHANGE="nodeselectchange",i.TOOLTIPCHANGE="tooltipchange",i.WHEELZOOM="wheelzoom",i.VIEWPORTCHANGE="viewportchange",i.DRAGNODEEND="dragnodeend",i.STACKCHANGE="stackchange"})(bh||(bh={}));var ka=d(16185);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wh=function(e,t){return wh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},wh(e,t)};function Kn(i,e){wh(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ce=function(){return ce=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ce.apply(this,arguments)};function Qi(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(i);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(i,r[n])&&(t[r[n]]=i[r[n]]);return t}function LY(i,e,t,r){var n=arguments.length,a=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,e,t,r);else for(var s=i.length-1;s>=0;s--)(o=i[s])&&(a=(n<3?o(a):n>3?o(e,t,a):o(e,t))||a);return n>3&&a&&Object.defineProperty(e,t,a),a}function IY(i,e){return function(t,r){e(t,r,i)}}function kY(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)}function BY(i,e,t,r){function n(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(h){try{f(r.next(h))}catch(c){o(c)}}function l(h){try{f(r.throw(h))}catch(c){o(c)}}function f(h){h.done?a(h.value):n(h.value).then(s,l)}f((r=r.apply(i,e||[])).next())})}function DY(i,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,n,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(f){return function(h){return l([f,h])}}function l(f){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,n&&(a=f[0]&2?n.return:f[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,f[1])).done)return a;switch(n=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,n=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){t.label=f[1];break}if(f[0]===6&&t.label<a[1]){t.label=a[1],a=f;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(f);break}a[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(i,t)}catch(h){f=[6,h],n=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function FY(i,e,t,r){r===void 0&&(r=t),i[r]=e[t]}function RY(i,e){for(var t in i)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=i[t])}function $0(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function DF(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var r=t.call(i),n,a=[],o;try{for(;(e===void 0||e-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a}function NY(){for(var i=[],e=0;e<arguments.length;e++)i=i.concat(DF(arguments[e]));return i}function Ss(){for(var i=0,e=0,t=arguments.length;e<t;e++)i+=arguments[e].length;for(var r=Array(i),n=0,e=0;e<t;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,n++)r[n]=a[o];return r}function Hl(i){return this instanceof Hl?(this.v=i,this):new Hl(i)}function YY(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(i,e||[]),n,a=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(v){r[v]&&(n[v]=function(x){return new Promise(function(P,D){a.push([v,x,P,D])>1||s(v,x)})})}function s(v,x){try{l(r[v](x))}catch(P){c(a[0][3],P)}}function l(v){v.value instanceof Hl?Promise.resolve(v.value.v).then(f,h):c(a[0][2],v)}function f(v){s("next",v)}function h(v){s("throw",v)}function c(v,x){v(x),a.shift(),a.length&&s(a[0][0],a[0][1])}}function GY(i){var e,t;return e={},r("next"),r("throw",function(n){throw n}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(n,a){e[n]=i[n]?function(o){return(t=!t)?{value:Hl(i[n](o)),done:n==="return"}:a?a(o):o}:a}}function zY(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],t;return e?e.call(i):(i=typeof $0=="function"?$0(i):i[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=i[a]&&function(o){return new Promise(function(s,l){o=i[a](o),n(s,l,o.done,o.value)})}}function n(a,o,s,l){Promise.resolve(l).then(function(f){a({value:f,done:s})},o)}}function XY(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i}function VY(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t in i)Object.hasOwnProperty.call(i,t)&&(e[t]=i[t]);return e.default=i,e}function HY(i){return i&&i.__esModule?i:{default:i}}function WY(i,e){if(!e.has(i))throw new TypeError("attempted to get private field on non-instance");return e.get(i)}function jY(i,e,t){if(!e.has(i))throw new TypeError("attempted to set private field on non-instance");return e.set(i,t),t}var FF=d(30490),RF=function(i){Kn(e,i);function e(t,r){var n=i.call(this,t,r)||this;return n.item=r.item,n.canvasX=r.canvasX,n.canvasY=r.canvasY,n.wheelDelta=r.wheelDelta,n.detail=r.detail,n}return e}(FF.Z),Sh=function(e){var t=0,r=0,n=0,a=0;if((0,ka.default)(e))t=r=n=a=e;else if((0,Tn.default)(e)){var o=parseInt(e,10);t=r=n=a=o}else(0,Fi.default)(e)&&(t=e[0],n=(0,Di.default)(e[1])?e[0]:e[1],a=(0,Di.default)(e[2])?e[0]:e[2],r=(0,Di.default)(e[3])?n:e[3]);return[t,n,a,r]},Wl=function(e){var t=new RF(e.type,e);return t.clientX=e.clientX,t.clientY=e.clientY,t.x=e.x,t.y=e.y,t.target=e.target,t.currentTarget=e.currentTarget,t.bubbles=!0,t.item=e.item,t},Q0=function(e){if(!e)return!1;for(var t=9,r=[1,0,0,0,1,0,0,0,1],n=0;n<t;n++)if(e[n]!==r[n])return!0;return!1},eo=function(e){return Number.isNaN(Number(e))},J0=function(e){for(var t=Infinity,r=-Infinity,n=Infinity,a=-Infinity,o=0;o<e.length;o++){var s=e[o],l=s.getBBox(),f=l.minX,h=l.minY,c=l.maxX,v=l.maxY;f<t&&(t=f),h<n&&(n=h),c>r&&(r=c),v>a&&(a=v)}var x=Math.floor(t),P=Math.floor(n),D=Math.ceil(r)-Math.floor(t),X=Math.ceil(a)-Math.floor(n);return{x,y:P,width:D,height:X,minX:t,minY:n,maxX:r,maxY:a}},NF=function(e,t){t===void 0&&(t=15);for(var r=e.length,n=t*2,a=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],o={},s=[],l={},f=0;f<r;f++){var h=e[f],c=h.source,v=h.target,x=c+"-"+v;if(!s[f]){o[x]||(o[x]=[]),s[f]=!0,o[x].push(h);for(var P=0;P<r;P++)if(f!==P){var D=e[P],X=D.source,K=D.target;s[P]||(c===K&&v===X?(o[x].push(D),s[P]=!0,l[X+"|"+K+"|"+(o[x].length-1)]=!0):c===X&&v===K&&(o[x].push(D),s[P]=!0))}}}for(var Z in o)for(var gt=o[Z],mt=gt.length,Nt=0;Nt<mt;Nt++){var Zt=gt[Nt];if(Zt.source===Zt.target){Zt.type="loop",Zt.loopCfg={position:a[Nt%8],dist:Math.floor(Nt/8)*20+50};continue}Zt.type="quadratic";var ee=(Nt%2==0?1:-1)*(l[Zt.source+"|"+Zt.target+"|"+Nt]?-1:1);mt%2==1?Zt.curveOffset=ee*Math.ceil(Nt/2)*n:Zt.curveOffset=ee*(Math.floor(Nt/2)*n+t)}return e},q0=Math.abs,YF=10,GF=["shift","ctrl","alt","control"],zF={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0}},getEvents:function(){return{dragstart:"onMouseDown",mousedown:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp",mouseup:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp"}},updateViewport:function(e){var t=this.origin,r=+e.clientX,n=+e.clientY;if(!(eo(r)||eo(n))){var a=r-t.x,o=n-t.y;this.get("direction")==="x"?o=0:this.get("direction")==="y"&&(a=0),this.origin={x:r,y:n};var s=this.graph.get("width"),l=this.graph.get("height"),f=this.graph.get("canvas").getCanvasBBox();(f.minX<=s+this.scalableRange&&f.minX+a>s+this.scalableRange||f.maxX+this.scalableRange>=0&&f.maxX+this.scalableRange+a<0)&&(a=0),(f.minY<=l+this.scalableRange&&f.minY+o>l+this.scalableRange||f.maxY+this.scalableRange>=0&&f.maxY+this.scalableRange+o<0)&&(o=0),this.graph.translate(a,o)}},onMouseDown:function(e){var t=this,r=e.originalEvent;if(!(r&&r.button!==0)&&!(e.name!==bh.TOUCHSTART&&window&&window.event&&typeof window!="undefined"&&!window.event.buttons&&!window.event.button)&&!(t.keydown||e.shape)&&(t.origin={x:e.clientX,y:e.clientY},t.dragging=!1,this.enableOptimize)){for(var n=this.graph,a=n.getEdges(),o=0,s=a.length;o<s;o++){var l=a[o].get("group").get("children");!l||l.forEach(function(Z){Z.hide()})}for(var f=n.getNodes(),h=0,c=f.length;h<c;h++)for(var v=f[h].getContainer(),x=v.get("children"),P=0,D=x;P<D.length;P++){var X=D[P],K=X.get("isKeyShape");K||X.hide()}}},onMouseMove:function(e){var t=this.graph;if(!(this.keydown||e.shape)&&(e=Wl(e),!!this.origin)){if(this.dragging)e.type="drag",t.emit("canvas:drag",e);else{if(q0(this.origin.x-e.clientX)+q0(this.origin.y-e.clientY)<YF)return;this.shouldBegin.call(this,e)&&(e.type="dragstart",t.emit("canvas:dragstart",e),this.dragging=!0)}this.shouldUpdate.call(this,e)&&this.updateViewport(e)}},onMouseUp:function(e){var t=this.graph;if(!(this.keydown||e.shape)){if(this.enableOptimize){for(var r=t.getEdges(),n=0,a=r.length;n<a;n++){var o=r[n].get("group").get("children");!o||o.forEach(function(X){X.show()})}for(var s=t.getNodes(),l=0,f=s.length;l<f;l++)for(var h=s[l].getContainer(),c=h.get("children"),v=0,x=c;v<x.length;v++){var P=x[v],D=P.get("isKeyShape");D||P.show()}}if(!this.dragging){this.origin=null;return}e=Wl(e),this.shouldEnd.call(this,e)&&this.updateViewport(e),e.type="dragend",t.emit("canvas:dragend",e),this.endDrag()}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(e){var t=this,r=e.key;!r||(GF.indexOf(r.toLowerCase())>-1?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},XF=d(6767),jl=d.n(XF),Ul=d(21997),Zl=2,tm=.16,VF=.05,HF=.05,WF=.15,em=5,rm=4,jF=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function nm(i,e,t){var r;return Math.round(i.h)>=60&&Math.round(i.h)<=240?r=t?Math.round(i.h)-Zl*e:Math.round(i.h)+Zl*e:r=t?Math.round(i.h)+Zl*e:Math.round(i.h)-Zl*e,r<0?r+=360:r>=360&&(r-=360),r}function im(i,e,t){if(i.h===0&&i.s===0)return i.s;var r;return t?r=i.s-tm*e:e===rm?r=i.s+tm:r=i.s+VF*e,r>1&&(r=1),t&&e===em&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function am(i,e,t){var r;return t?r=i.v+HF*e:r=i.v-WF*e,r>1&&(r=1),Number(r.toFixed(2))}function Mh(i){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],r=(0,Ul.Z)(i),n=em;n>0;n-=1){var a=r.toHsv(),o=(0,Ul.Z)({h:nm(a,n,!0),s:im(a,n,!0),v:am(a,n,!0)}).toHexString();t.push(o)}t.push(r.toHexString());for(var s=1;s<=rm;s+=1){var l=r.toHsv(),f=(0,Ul.Z)({h:nm(l,s),s:im(l,s),v:am(l,s)}).toHexString();t.push(f)}return e.theme==="dark"?jF.map(function(h){var c=h.index,v=h.opacity,x=Ul.Z.mix(e.backgroundColor||"#141414",t[c],v*100).toHexString();return x}):t}var Ch={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Ji={},Eh={};Object.keys(Ch).forEach(function(i){Ji[i]=Mh(Ch[i]),Ji[i].primary=Ji[i][5],Eh[i]=Mh(Ch[i],{theme:"dark",backgroundColor:"#141414"}),Eh[i].primary=Eh[i][5]});var UY=Ji.red,ZY=Ji.volcano,KY=Ji.gold,$Y=Ji.orange,QY=Ji.yellow,JY=Ji.lime,qY=Ji.green,tG=Ji.cyan,eG=Ji.blue,rG=Ji.geekblue,nG=Ji.purple,iG=Ji.magenta,aG=Ji.grey,Na=function(e,t,r){var n=jl()(e),a=jl()(t);return jl()([(1-r)*n.color[0]+r*a.color[0],(1-r)*n.color[1]+r*a.color[1],(1-r)*n.color[2]+r*a.color[2]]).rgb()},om=function(e,t,r,n){t===void 0&&(t="#fff"),r===void 0&&(r="default"),n===void 0&&(n="rgb(150, 150, 150)");var a=Na(t,e,.05).rgb().toString(),o=Na(t,n,.02).rgb().toString(),s=Na(t,n,.05).rgb().toString(),l=Na(t,n,.1).rgb().toString(),f=Na(t,n,.2).rgb().toString(),h=Na(t,n,.3).rgb().toString(),c=Mh(e,{theme:r,backgroundColor:t}),v=jl()(e).hex().toLowerCase(),x=c.indexOf(v),P=e;return x!==-1&&(P=c[x+1]),{mainStroke:e,mainFill:Na(t,e,.1).rgb().toString(),activeStroke:e,activeFill:a,inactiveStroke:Na(t,e,.4).rgb().toString(),inactiveFill:a,selectedStroke:e,selectedFill:t,highlightStroke:P,highlightFill:Na(t,e,.2).rgb().toString(),disableStroke:h,disableFill:s,edgeMainStroke:h,edgeActiveStroke:e,edgeInactiveStroke:f,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:l,comboMainStroke:h,comboMainFill:o,comboActiveStroke:e,comboActiveFill:a,comboInactiveStroke:h,comboInactiveFill:o,comboSelectedStroke:e,comboSelectedFill:o,comboHighlightStroke:P,comboHighlightFill:o,comboDisableStroke:f,comboDisableFill:s}},UF="rgb(95, 149, 255)",ZF="rgb(255, 255, 255)",sm="rgb(0, 0, 0)",Sn=om(UF,ZF),er={version:"3.8.5",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",customGroupContainerClassName:"custom-group-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Sn.mainStroke,fill:Sn.mainFill},size:20,color:Sn.mainStroke,linkPoints:{size:8,lineWidth:1,fill:Sn.activeFill,stroke:Sn.activeStroke}},nodeStateStyles:{active:{fill:Sn.activeFill,stroke:Sn.activeStroke,lineWidth:2,shadowColor:Sn.mainStroke,shadowBlur:10},selected:{fill:Sn.selectedFill,stroke:Sn.selectedStroke,lineWidth:4,shadowColor:Sn.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:Sn.highlightFill,stroke:Sn.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:Sn.inactiveFill,stroke:Sn.inactiveStroke,lineWidth:1},disable:{fill:Sn.disableFill,stroke:Sn.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:sm,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Sn.edgeMainStroke,lineAppendWidth:2},color:Sn.edgeMainStroke},edgeStateStyles:{active:{stroke:Sn.edgeActiveStroke,lineWidth:1},selected:{stroke:Sn.edgeSelectedStroke,lineWidth:2,shadowColor:Sn.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Sn.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:Sn.edgeInactiveStroke,lineWidth:1},disable:{stroke:Sn.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:sm,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Sn.comboMainFill,lineWidth:1,stroke:Sn.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:Sn.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Sn.comboActiveStroke,lineWidth:1,fill:Sn.comboActiveFill},selected:{stroke:Sn.comboSelectedStroke,lineWidth:2,fill:Sn.comboSelectedFill,shadowColor:Sn.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Sn.comboHighlightStroke,lineWidth:2,fill:Sn.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:Sn.comboInactiveStroke,fill:Sn.comboInactiveFill,lineWidth:1},disable:{stroke:Sn.comboDisableStroke,fill:Sn.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},KF={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas"}},validationCombo:function(e){if(!this.origin||!e||e.destroyed)return!1;var t=e.getType();return t==="combo"},onDragStart:function(e){var t=this;if(!!this.shouldBegin.call(this,e)){var r=e.item;if(!(!r||r.destroyed||r.hasLocked())){var n=r.getContainer();n.set("capture",!1);var a=e.target;if(a){var o=a.get("isAnchorPoint");if(o)return}var s=this.graph;this.targets=[],this.targetCombo=null;var l=s.findAllByState("node",this.selectedState),f=r.get("id"),h=l.filter(function(v){var x=v.get("id");return f===x});h.length===0?this.targets.push(r):l.length>1?l.forEach(function(v){var x=v.hasLocked();x||t.targets.push(v)}):this.targets.push(r);var c=[];this.targets.forEach(function(v){c.push((0,si.d9)(v.getModel()))}),this.set("beforeDragNodes",c),this.origin={x:e.x,y:e.y},this.point={},this.originPoint={}}}},onDrag:function(e){var t=this;!this.origin||!this.shouldUpdate(this,e)||(this.get("enableDelegate")?this.updateDelegate(e):this.targets.map(function(r){t.update(r,e)}))},onDragEnd:function(e){if(!(!this.origin||!this.shouldEnd.call(this,e))){var t=e.item;if(t){var r=t.getContainer();r.set("capture",!0)}this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(e);var n=this.graph;if(n.get("enabledStack")){var a={before:{nodes:this.get("beforeDragNodes"),edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.targets.forEach(function(o){a.after.nodes.push(o.getModel())}),n.pushStack("update",(0,si.d9)(a))}n.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(e){var t=e.item;if(!!this.validationCombo(t)){this.updatePositions(e);var r=this.graph;if(this.comboActiveState&&r.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)r.updateCombos();else{var n=t.getModel();this.targets.map(function(a){var o=a.getModel();o.comboId!==n.id&&r.updateComboTree(a,n.id)}),r.updateCombo(t)}r.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(e){var t=this.graph;!this.targets||this.targets.length===0||(this.updatePositions(e),this.onlyChangeComboSize?t.updateCombos():this.targets.map(function(r){var n=r.getModel();n.comboId&&t.updateComboTree(r)}))},onDropNode:function(e){if(!(!this.targets||this.targets.length===0)){var t=this,r=e.item;this.updatePositions(e);var n=t.graph,a=r.getModel().comboId;if(a){var o=n.findById(a);t.comboActiveState&&n.setItemState(o,t.comboActiveState,!1),this.targets.map(function(s){var l=s.getModel();a!==l.comboId&&n.updateComboTree(s,a)}),n.updateCombo(o)}else this.targets.map(function(s){var l=s.getModel();l.comboId&&n.updateComboTree(s)});n.emit("dragnodeend",{items:this.targets,targetItem:r})}},onDragEnter:function(e){var t=e.item;if(!!this.validationCombo(t)){var r=this.graph;this.comboActiveState&&r.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(e){var t=e.item;if(!!this.validationCombo(t)){var r=this.graph;this.comboActiveState&&r.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(e){var t=this;!this.targets||this.targets.length===0||this.get("enableDelegate")&&this.targets.map(function(r){return t.update(r,e)})},update:function(e,t){var r=this.origin,n=e.get("model"),a=e.get("id");this.point[a]||(this.point[a]={x:n.x||0,y:n.y||0});var o=t.x-r.x+this.point[a].x,s=t.y-r.y+this.point[a].y,l={x:o,y:s};this.get("updateEdge")?this.graph.updateItem(e,l,!1):e.updatePosition(l)},updateDelegate:function(e){var t=this.graph;if(this.delegateRect){var v=e.x-this.origin.x+this.originPoint.minX,x=e.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:v,y:x})}else{var r=this.graph.get("group"),n=(0,si.b$)({},er.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(e),o=a.x,s=a.y,l=a.width,f=a.height,h=a.minX,c=a.minY;this.originPoint={x:o,y:s,width:l,height:f,minX:h,minY:c},this.delegateRect=r.addShape("rect",{attrs:ce({width:l,height:f,x:o,y:s},n),name:"rect-delegate-shape"}),this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(e){var t=this.graph,r=t.findAllByState("node",this.selectedState);r.length===0&&r.push(e.item);for(var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity,l=0;l<r.length;l++){var f=r[l],h=f.getBBox(),c=h.minX,v=h.minY,x=h.maxX,P=h.maxY;c<n&&(n=c),v<o&&(o=v),x>a&&(a=x),P>s&&(s=P)}var D=Math.floor(n),X=Math.floor(o),K=Math.ceil(a)-Math.floor(n),Z=Math.ceil(s)-Math.floor(o);return{x:D,y:X,width:K,height:Z,minX:n,minY:o}}},$F={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","canvas:click":"clearAllItemStates"}},setAllItemStates:function(e){var t=e.item,r=this.graph;if(this.item=t,!!this.shouldUpdate(e.item,{event:e,action:"activate"})){for(var n=this,a=this.activeState,o=this.inactiveState,s=r.getNodes(),l=r.getEdges(),f=s.length,h=l.length,c=0;c<f;c++){var v=s[c],x=v.hasState("selected");n.resetSelected&&x&&r.setItemState(v,"selected",!1),r.setItemState(v,a,!1),o&&r.setItemState(v,o,!0)}for(var c=0;c<h;c++){var P=l[c];r.setItemState(P,a,!1),o&&r.setItemState(P,o,!0)}o&&r.setItemState(t,o,!1),r.setItemState(t,a,!0);for(var D=t.getEdges(),X=D.length,c=0;c<X;c++){var P=D[c],K=void 0;P.getSource()===t?K=P.getTarget():K=P.getSource(),o&&r.setItemState(K,o,!1),r.setItemState(K,a,!0),r.setItemState(P,o,!1),r.setItemState(P,a,!0),P.toFront()}r.emit("afteractivaterelations",{item:e.item,action:"activate"})}},clearActiveState:function(e){var t=this,r=t.get("graph");if(!!t.shouldUpdate(e.item,{event:e,action:"deactivate"})){var n=this.activeState,a=this.inactiveState,o=r.get("autoPaint");r.setAutoPaint(!1);for(var s=r.getNodes(),l=r.getEdges(),f=s.length,h=l.length,c=0;c<f;c++){var v=s[c];r.clearItemStates(v,[n,a])}for(var c=0;c<h;c++){var x=l[c];r.clearItemStates(x,[n,a,"deactivate"])}r.paint(),r.setAutoPaint(o),r.emit("afteractivaterelations",{item:e.item||t.get("item"),action:"deactivate"})}},clearAllItemStates:function(e){var t=this,r=t.graph;if(!!t.shouldUpdate(e.item,{event:e,action:"deactivate"})){for(var n=this.activeState,a=this.inactiveState,o=r.getNodes(),s=r.getEdges(),l=o.length,f=s.length,h=0;h<l;h++){var c=o[h];r.clearItemStates(c,[n,a])}for(var h=0;h<f;h++){var v=s[h];r.clearItemStates(v,[n,a,"deactivate"])}r.emit("afteractivaterelations",{item:e.item||t.get("item"),action:"deactivate"})}}},Kl=Math.min,lm=Math.max,um=Math.abs,fm="shift",QF=["drag","shift","ctrl","alt","control"],JF={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:fm,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return QF.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=fm,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(e){var t=e.item,r=this.brush;t||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),r||(r=this.createBrush()),this.originPoint={x:e.canvasX,y:e.canvasY},r.attr({width:0,height:0}),r.show(),this.dragging=!0)},onMouseMove:function(e){!this.dragging||this.trigger!=="drag"&&!this.keydown||this.updateBrush(e)},onMouseUp:function(e){var t=this.graph;!this.brush&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(e),this.dragging=!1)},clearStates:function(){var e=this,t=e.graph,r=e.selectedState,n=t.findAllByState("node",r),a=t.findAllByState("edge",r);n.forEach(function(o){return t.setItemState(o,r,!1)}),a.forEach(function(o){return t.setItemState(o,r,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(e){var t=this,r=this,n=r.graph,a=r.originPoint,o=r.shouldUpdate,s=this.selectedState,l={x:e.x,y:e.y},f=n.getPointByCanvas(a.x,a.y),h=Kl(l.x,f.x),c=lm(l.x,f.x),v=Kl(l.y,f.y),x=lm(l.y,f.y),P=[],D=[];n.getNodes().forEach(function(K){var Z=K.getBBox();if(Z.centerX>=h&&Z.centerX<=c&&Z.centerY>=v&&Z.centerY<=x&&o(K,"select")){P.push(K);var gt=K.getModel();D.push(gt.id),n.setItemState(K,s,!0)}});var X=[];this.includeEdges&&P.forEach(function(K){var Z=K.getOutEdges();Z.forEach(function(gt){var mt=gt.getModel(),Nt=mt.source,Zt=mt.target;D.includes(Nt)&&D.includes(Zt)&&o(gt,"select")&&(X.push(gt),n.setItemState(gt,t.selectedState,!0))})}),this.selectedEdges=X,this.selectedNodes=P,this.onSelect&&this.onSelect(P,X),n.emit("nodeselectchange",{selectedItems:{nodes:P,edges:X},select:!0})},createBrush:function(){var e=this,t=e.graph.get("canvas").addShape("rect",{attrs:e.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,t},updateBrush:function(e){var t=this.originPoint;this.brush.attr({width:um(e.canvasX-t.x),height:um(e.canvasY-t.y),x:Kl(e.canvasX,t.x),y:Kl(e.canvasY,t.y)})},onKeyDown:function(e){var t=e.key;if(!!t){var r=this.trigger.toLowerCase(),n=t.toLowerCase();n===r||n==="control"&&r==="ctrl"||n==="ctrl"&&r==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},hm="shift",qF=["shift","ctrl","alt","control"],tR={getDefaultCfg:function(){return{multiple:!0,trigger:hm,selectedState:"selected"}},getEvents:function(){var e=this;return qF.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=hm,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),e.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(e){var t=this,r=e.item;if(!(!r||r.destroyed)){var n=r.getType(),a=this,o=a.graph,s=a.keydown,l=a.multiple,f=a.shouldUpdate,h=a.shouldBegin;if(!!h.call(this,e)){if(!s||!l){var c=o.findAllByState(n,this.selectedState);(0,Bn.default)(c,function(P){P!==r&&o.setItemState(P,t.selectedState,!1)})}if(r.hasState(this.selectedState)){f.call(this,e)&&o.setItemState(r,this.selectedState,!1);var v=o.findAllByState("node",this.selectedState),x=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:r,selectedItems:{nodes:v,combos:x},select:!1})}else{f.call(this,e)&&o.setItemState(r,this.selectedState,!0);var v=o.findAllByState("node",this.selectedState),x=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:r,selectedItems:{nodes:v,combos:x},select:!0})}}}},onCanvasClick:function(){var e=this,t=this.graph,r=t.findAllByState("node",this.selectedState);(0,Bn.default)(r,function(a){t.setItemState(a,e.selectedState,!1)});var n=t.findAllByState("combo",this.selectedState);(0,Bn.default)(n,function(a){t.setItemState(a,e.selectedState,!1)}),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(e){var t=e.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()||t.toLowerCase()==="control"?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},ya=d(31502);ya.translate=function(i,e,t){var r=new Array(9);return ya.fromTranslation(r,t),ya.multiply(i,r,e)},ya.rotate=function(i,e,t){var r=new Array(9);return ya.fromRotation(r,t),ya.multiply(i,r,e)},ya.scale=function(i,e,t){var r=new Array(9);return ya.fromScaling(r,t),ya.multiply(i,r,e)},ya.transform=function(i,e){for(var t=[].concat(i),r=0,n=e.length;r<n;r++){var a=e[r];switch(a[0]){case"t":ya.translate(t,t,[a[1],a[2]]);break;case"s":ya.scale(t,t,[a[1],a[2]]);break;case"r":ya.rotate(t,t,a[1]);break;default:break}}return t};var ro=ya,Ya=d(76172);Ya.angle=function(i,e){var t=Ya.dot(i,e)/(Ya.length(i)*Ya.length(e));return Math.acos((0,u.clamp)(t,-1,1))},Ya.direction=function(i,e){return i[0]*e[1]-e[0]*i[1]},Ya.angleTo=function(i,e,t){var r=Ya.angle(i,e),n=Ya.direction(i,e)>=0;return t?n?Math.PI*2-r:r:n?r:Math.PI*2-r},Ya.vertical=function(i,e,t){return t?(i[0]=e[1],i[1]=-1*e[0]):(i[0]=-1*e[1],i[1]=e[0]),i};var $n=Ya,eR=d(88395),cm=eR,Ga=function(i,e){var t=i?(0,u.clone)(i):[1,0,0,0,1,0,0,0,1];return(0,u.each)(e,function(r){switch(r[0]){case"t":ro.translate(t,t,[r[1],r[2]]);break;case"s":ro.scale(t,t,[r[1],r[2]]);break;case"r":ro.rotate(t,t,r[1]);break;case"m":ro.multiply(t,t,r[1]);break;default:return!1}}),t},vm=.05,rR={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.7,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var e=this.fixSelectedItems;return e.fixState||(e.fixState="selected"),e.fixAll&&(e.fixLineWidth=!0,e.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(e){var t=e.originalEvent.touches,r=t[0],n=t[1];e.preventDefault(),!!n&&(this.startPoint={pageX:r.pageX,pageY:r.pageY},this.moveable=!0,n&&(this.endPoint={pageX:n.pageX,pageY:n.pageY}),this.originScale=this.currentScale||1)},onTouchMove:function(e){if(!!this.moveable){e.preventDefault();var t=e.originalEvent.touches,r=t[0],n=t[1];if(!!n){this.endPoint||(this.endPoint={pageX:n.pageX,pageY:n.pageY});var a=function(x,P){return Math.hypot(P.x-x.x,P.y-x.y)},o=a({x:r.pageX,y:r.pageY},{x:n.pageX,y:n.pageY})/a({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),s=this.originScale*o;this.currentScale=s;var l=this.get("minZoom")||this.graph.get("minZoom"),f=this.get("maxZoom")||this.graph.get("maxZoom");if(!(s>f||s<l)){var h=this.graph.get("canvas"),c=h.getPointByClient(e.clientX,e.clientY);this.graph.zoomTo(s,{x:c.x,y:c.y}),this.graph.emit("wheelzoom",e)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(e){var t=this,r=this,n=r.graph,a=r.fixSelectedItems;if(!!this.shouldUpdate.call(this,e)){e.preventDefault();var o=n.get("canvas"),s=o.getPointByClient(e.clientX,e.clientY),l=this.get("sensitivity"),f=n.getZoom(),h=f,c=f;e.wheelDelta<0?h=1-vm*l:h=1/(1-vm*l),c=f*h;var v=this.get("minZoom")||n.get("minZoom"),x=this.get("maxZoom")||n.get("maxZoom");if(!(c>x||c<v)){var P=this.get("enableOptimize");if(P){var D=this.get("optimizeZoom"),X=this.get("optimized"),K=n.getNodes(),Z=n.getEdges(),gt=K.length,mt=Z.length;if(!X){for(var Nt=0;Nt<gt;Nt++){var Zt=K[Nt];if(!Zt.destroyed)for(var ee=Zt.get("group").get("children"),ue=ee.length,ne=0;ne<ue;ne++){var xe=ee[ne];!xe.destoryed&&!xe.get("isKeyShape")&&xe.hide()}}for(var Pe=0;Pe<mt;Pe++)for(var Ye=Z[Pe],ee=Ye.get("group").get("children"),ue=ee.length,ne=0;ne<ue;ne++){var xe=ee[ne];xe.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var He=setTimeout(function(){var Zr=n.getZoom(),Ln=t.get("optimized");if(Ln){t.set("optimized",!1);for(var On=0;On<gt;On++){var ci=K[On],jn=ci.get("group").get("children"),Si=jn.length;if(Zr<D)ci.getKeyShape().show();else for(var Mi=0;Mi<Si;Mi++){var fa=jn[Mi];fa.get("visible")||fa.show()}}for(var xa=0;xa<mt;xa++){var Gi=Z[xa],jn=Gi.get("group").get("children"),Si=jn.length;if(Zr<D)Gi.getKeyShape().show();else for(var Mi=0;Mi<Si;Mi++){var fa=jn[Mi];fa.get("visible")||fa.show()}}}},500);this.set("timeout",He)}if(f<=1){var Ze=void 0,Ue=void 0;if(a.fixAll||a.fixLineWidth||a.fixLabel){Ze=n.findAllByState("node",a.fixState),Ue=n.findAllByState("edge",a.fixState);for(var ur=f/c,wr=Ze.length,mr=0;mr<wr;mr++){var Zt=Ze[mr],pr=Zt.getContainer(),fr=Zt.getModel(),Yr=Zt.getOriginStyle(),_r=Zt.getStateStyle(a.fixState),Fr=Zt.get("shapeFactory").getShape(fr.shape||fr.type).getStateStyle(a.fixState,Zt)[a.fixState];if(a.fixAll){if(c<=1){var yr=(0,u.clone)(pr.getMatrix());yr||(yr=[1,0,0,0,1,0,0,0,1]);var Ir=Zt.getModel(),Vr=Ir.x,Br=Ir.y;ro.translate(yr,yr,[-Vr,-Br]),ro.scale(yr,yr,[ur,ur]),ro.translate(yr,yr,[Vr,Br]),pr.setMatrix(yr)}}else for(var ee=pr.get("children"),ue=ee.length,ne=0;ne<ue;ne++){var xe=ee[ne],kr=void 0,_n=void 0;if(a.fixLabel){var mn=xe.get("type");if(mn==="text"){kr=xe.attr("fontSize")||12;var Nr=_r[xe.get("name")],lr=Fr[xe.get("name")],xr=Nr?Nr.fontSize:12,Kr=lr?lr.fontSize:12,qr=xr||Kr||12;if(c<=1&&xe.attr("fontSize",qr/c),_n)break}}if(a.fixLineWidth&&xe.get("isKeyShape")){_n=xe.attr("lineWidth")||0;var Wr=_r.lineWidth||Fr.lineWidth||Yr.lineWidth||0;if(c<=1&&xe.attr("lineWidth",Wr/c),kr)break}}}for(var xn=Ue.length,an=0;an<xn;an++)for(var Ye=Ue[an],pr=Ye.getContainer(),ee=pr.get("children"),fr=Ye.getModel(),_r=Ye.getStateStyle(a.fixState),Fr=Ye.get("shapeFactory").getShape(fr.shape||fr.type).getStateStyle(a.fixState,Ye)[a.fixState],ue=ee.length,ne=0;ne<ue;ne++){var xe=ee[ne],kr=void 0,_n=void 0;if(a.fixLabel||a.fixAll){var mn=xe.get("type");if(mn==="text"){kr=xe.attr("fontSize")||12;var Nr=_r[xe.get("name")],lr=Fr[xe.get("name")],xr=Nr?Nr.fontSize:12,Kr=lr?lr.fontSize:12,qr=xr||Kr||12;if(c<=1&&xe.attr("fontSize",qr/c),_n)break}}if((a.fixLineWidth||a.fixAll)&&xe.get("isKeyShape")){_n=xe.attr("lineWidth")||0;var Wr=_r.lineWidth||Fr.lineWidth||1;if(c<=1&&xe.attr("lineWidth",Wr/c),kr)break}}}}n.zoomTo(c,{x:s.x,y:s.y}),n.emit("wheelzoom",e)}}}},Hn=d(1513),wi=d(57821),dm={onMouseEnter:function(e){var t=e.item;this.currentTarget=t,this.showTooltip(e),this.graph.emit("tooltipchange",{item:e.item,action:"show"})},onMouseMove:function(e){if(!this.shouldUpdate(e)){this.hideTooltip();return}!this.currentTarget||e.item!==this.currentTarget||this.updatePosition(e)},onMouseLeave:function(e){!this.shouldEnd(e)||(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(e){var t=this.container;if(!(!e.item||e.item.destroyed)){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var r=this.formatText(e.item.get("model"),e);t.innerHTML=r,(0,Hn.Z)(this.container,{visibility:"visible"}),this.updatePosition(e)}},hideTooltip:function(){(0,Hn.Z)(this.container,{visibility:"hidden"})},updatePosition:function(e){var t=this.get("shouldBegin"),r=this,n=r.width,a=r.height,o=r.container,s=r.graph;if(!t(e)){(0,Hn.Z)(o,{visibility:"hidden"});return}var l=s.getPointByClient(e.clientX,e.clientY),f=s.getCanvasByPoint(l.x,l.y),h=f.x,c=f.y,v=o.getBoundingClientRect();h>n/2?h-=v.width:h+=this.offset,c>a/2?c-=v.height:c+=this.offset;var x=h+"px",P=c+"px";(0,Hn.Z)(this.container,{left:x,top:P,visibility:"visible"})},createTooltip:function(e){var t=e.get("el");t.style.position="relative";var r=(0,wi.Z)('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return t.parentNode.appendChild(r),(0,Hn.Z)(r,{position:"absolute",visibility:"visible"}),this.width=e.get("width"),this.height=e.get("height"),this.container=r,this.graph.get("tooltips").push(r),r}},nR=ce({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},dm),iR=ce({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: "+t.source+" target: "+t.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},dm),ji=d(90497),aR={getDefaultCfg:function(){return{delegate:!0,delegateStyle:{},delegateShapes:{},delegateShapeBBoxs:{}}},getEvents:function(){return{dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd","canvas:mouseleave":"onOutOfRange"}},onDragStart:function(e){var t=this.graph,r=e.target,n=r.get("groupId");if(!!n){var a=t.get("customGroupControll"),o=a.customGroup,s=o[n].nodeGroup;this.targetGroup=s,this.mouseOrigin={x:e.x,y:e.y};for(var l=t.save().groups,f=null,h=0;h<l.length;h++){var c=l[h];if(n===c.id){f=c.parentId;break}}if(f){var v=o[f].nodeGroup;a.setGroupStyle(v.get("keyShape"),"hover")}}},onDrag:function(e){!this.mouseOrigin||this.updateDelegate(e)},onDragEnd:function(e){var t=this.graph,r=e.target.get("groupId");if(this.delegateShapes[r]&&(this.delegateShapeBBox=this.delegateShapes[r].getBBox(),this.delegateShapes[r].remove(),delete this.delegateShapes[r]),!!this.delegateShapeBBox){var n=t.get("customGroupControll"),a=this.delegateShapeBBoxs[r];n.updateGroup(r,a,this.mouseOrigin),this.mouseOrigin=null,this.shapeOrigin=null,n.resetNodePoint(),this.delegateShapeBBox=null}},updateDelegate:function(e){var t=this.graph,r=e.target.get("groupId"),n=this.targetGroup.get("keyShape"),a=this.delegateShapes[r],o=n.getBBox(),s=n.get("type");if(a){var K=this,Z=K.mouseOrigin,gt=K.shapeOrigin,mt=e.x-Z.x,Nt=e.y-Z.y,Zt=mt+gt.x,ee=Nt+gt.y;a.attr({x:Zt,y:ee}),this.delegateShapeBBoxs[r]=a.getBBox()}else{var l=t.get("delegateGroup"),f=o.x,h=o.y,c=o.width,v=o.height,x=ce({width:c,height:v},(0,ji.default)({},er.delegateStyle,this.delegateStyle));if(s==="circle"){var P=c>v?c/2:v/2,D=f+P,X=h+P;a=l.addShape("circle",{attrs:ce({x:D,y:X,r:P},x),name:"circle-delegate-shape"}),this.shapeOrigin={x:D,y:X}}else a=l.addShape("rect",{attrs:ce({x:f,y:h},x),name:"rect-delegate-shape"}),this.shapeOrigin={x:f,y:h};this.delegateShapes[r]=a,this.delegateShapeBBoxs[r]=a.getBBox()}},onOutOfRange:function(e){var t=this,r=this.graph.get("canvas").get("el"),n=function a(o){o.target!==r&&(t.onDragEnd(e),document.body.removeEventListener("mouseup",a,!0))};this.mouseOrigin&&document.body.addEventListener("mouseup",n,!0)}},oR=document.body,sR={getDefaultCfg:function(){return{updateEdge:!0,delegate:!0,delegateStyle:{},maxMultiple:1.1,minMultiple:1}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","canvas:mouseleave":"onOutOfRange",dragover:"onDragOver",dragleave:"onDragLeave"}},onDragOver:function(e){var t=this.graph,r=e.target,n=r.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");this.inGroupId=n,a.setGroupStyle(l,"hover")}}},onDragLeave:function(e){var t=this.graph,r=e.target,n=r.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");a.setGroupStyle(l,"default")}}n||(this.inGroupId=null)},onDragStart:function(e){var t=this.graph;if(!!this.shouldBegin.call(this,e)){var r=e.item;this.target=r;var n=r.getModel(),a=n.groupId;if(a){var o=t.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,f=l.get("keyShape");o.setGroupStyle(f,"hover"),this.inGroupId=a}}this.origin={x:e.x,y:e.y},this.point={},this.originPoint={}}},onDrag:function(e){if(!!this.origin&&!!this.get("shouldUpdate").call(this,e)){this.update(this.target,e,!0);var t=e.item,r=this.graph,n=t.getModel(),a=n.groupId;if(a){var o=r.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,f=l.get("keyShape");this.inGroupId!==a?o.setGroupStyle(f,"default"):o.setGroupStyle(f,"hover")}}}},onDragEnd:function(e){if(!(!this.origin||!this.shouldEnd.call(this,e))){if(this.shape&&(this.shape.remove(),this.shape=null),this.target){var t=this.target.get("delegateShape");t&&(t.remove(),this.target.set("delegateShape",null))}this.target&&this.update(this.target,e),this.point={},this.origin=null,this.originPoint={},this.target=null,this.setCurrentGroupStyle(e)}},setCurrentGroupStyle:function(e){var t=this.graph,r=e.item,n=r.getModel(),a=n.groupId,o=n.id,s=t.get("customGroupControll"),l=s.customGroup,f=t.get("groupNodes");if(this.inGroupId&&a){var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape"),v=r.getBBox(),x=c.getBBox(),P=v.centerX,D=v.centerY,X=x.minX,K=x.minY,Z=x.maxX,gt=x.maxY;if(!(P<Z*this.maxMultiple&&P>X*this.minMultiple&&D<gt*this.maxMultiple&&D>K*this.minMultiple)||this.inGroupId!==a){var mt=f[a];f[a]=mt.filter(function(ee){return ee!==o}),s.dynamicChangeGroupSize(e,h,c),delete n.groupId}if(this.inGroupId!==a){var Nt=l[this.inGroupId].nodeGroup;if(!Nt)return;var Zt=Nt.get("keyShape");f[this.inGroupId].indexOf(o)===-1&&f[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(e,Nt,Zt)}s.setGroupStyle(c,"default")}else if(this.inGroupId&&!a){var Nt=l[this.inGroupId].nodeGroup;if(!Nt)return;var c=Nt.get("keyShape");f[this.inGroupId].indexOf(o)===-1&&f[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(e,Nt,c)}else if(!this.inGroupId&&a){Object.keys(f).forEach(function(ne){var xe=f[ne];f[ne]=xe.filter(function(Pe){return Pe!==o})});var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape");s.dynamicChangeGroupSize(e,h,c),delete n.groupId}this.inGroupId=null},onOutOfRange:function(e){var t=this,r=t.graph.get("canvas").get("el");function n(a){a.target!==r&&(e.item=t.target,t.onDragEnd(e),document.body.removeEventListener("mouseup",n,!0))}t.origin&&oR.addEventListener("mouseup",n,!0)},update:function(e,t,r){var n=this.origin,a=e.get("model"),o=e.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-n.x+this.point[o].x,l=t.y-n.y+this.point[o].y;if(r){this.updateDelegate(t,s,l);return}var f={x:s,y:l};this.get("updateEdge")?this.graph.updateItem(e,f):(e.updatePosition(f),this.graph.paint())},updateDelegate:function(e,t,r){var n=this.graph,a=e.item,o=n.get("groupType"),s=a.get("keyShape").getBBox();if(!this.shape){var l=n.get("delegateGroup"),f=(0,ji.default)({},er.delegateStyle,this.delegateStyle);this.target&&(this.shape=l.addShape("rect",{attrs:ce({width:s.width,height:s.height,x:t-s.width/2,y:r-s.height/2},f),name:"delegate-shape"}),this.target.set("delegateShape",this.shape)),this.shape.set("capture",!1)}this.target&&(o==="circle"?this.shape.attr({x:t-s.width/2,y:r-s.height/2}):o==="rect"&&this.shape.attr({x:t,y:r}))}},pm="dblclick",lR=["click","dblclick"],uR={getDefaultCfg:function(){return{trigger:pm}},getEvents:function(){var e,t;return lR.includes(this.trigger)?t=this.trigger:(t=pm,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),e={},e[""+t]="onGroupClick",e},onGroupClick:function(e){var t=e.target,r=this.graph,n=t.get("groupId");if(!!n){var a=r.get("customGroupControll");a.collapseExpandGroup(n)}}},gm="click",fR=["click","dblclick"],hR={getDefaultCfg:function(){return{trigger:gm,onChange:function(){}}},getEvents:function(){var e,t;return fR.includes(this.trigger)?t=this.trigger:(t=gm,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),e={},e["node:"+t]="onNodeClick",e.touchstart="onNodeClick",e},onNodeClick:function(e){var t=e.item,r=this.graph.findDataById(t.get("id"));if(!!r){var n=r.children;if(!(!n||n.length===0)){var a=!r.collapsed;if(!!this.shouldBegin(e,a)&&(r.collapsed=a,t.getModel().collapsed=a,this.graph.emit("itemcollapsed",{item:e.item,collapsed:a}),!!this.shouldUpdate(e,a))){try{this.onChange(t,a)}catch(o){console.warn("G6 \u81EA 3.0.4 \u7248\u672C\u652F\u6301\u76F4\u63A5\u4ECE item.getModel() \u83B7\u53D6\u6E90\u6570\u636E(\u4E34\u65F6\u901A\u77E5\uFF0C\u5C06\u57283.2.0\u7248\u672C\u4E2D\u6E05\u9664)",o)}this.graph.layout()}}}}},cR=function i(e,t){if(t(e)!==!1&&e){var r=e.get("combos");if(r.length===0)return!1;(0,si.S6)(r,function(n){i(n,t)})}},vR={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(e){var t=e.item;if(!t||t.destroyed||!this.shouldUpdate(this,e))return!1;var r=t.getType();return r==="combo"},onDragStart:function(e){var t=this,r=this.graph,n=e.item;if(!!this.validationCombo(e)){this.targets=[];var a=r.findAllByState("combo",this.selectedState),o=n.get("id"),s=a.filter(function(l){var f=l.get("id");return o===f});s.length===0?this.targets.push(n):this.targets=a,this.activeState&&this.targets.map(function(l){var f=l.getModel();if(f.parentId){var h=r.findById(f.parentId);h&&r.setItemState(h,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:e.x,y:e.y},this.currentItemChildCombos=[],cR(n,function(l){if(l.destroyed)return!1;var f=l.getModel();return t.currentItemChildCombos.push(f.id),!0})}},onDrag:function(e){var t=this;if(!!this.origin&&!!this.validationCombo(e))if(this.enableDelegate)this.updateDelegate(e);else{if(this.activeState){var r=this.graph,n=e.item,a=n.getModel(),o=r.getCombos(),s=n.getBBox(),l=s.centerX,f=s.centerY,h=s.width,c=o.filter(function(v){var x=v.getModel();return a.parentId,x.id!==a.id&&!t.currentItemChildCombos.includes(x.id)});c.map(function(v){var x=v.getBBox(),P=x.centerX,D=x.centerY,X=x.width,K=l-P,Z=f-D,gt=2*Math.sqrt(K*K+Z*Z);h+X-gt>.8*h?r.setItemState(v,t.activeState,!0):r.setItemState(v,t.activeState,!1)})}(0,si.S6)(this.targets,function(v){t.updateCombo(v,e)})}},updatePositions:function(e){var t=this;this.enableDelegate&&(0,si.S6)(this.targets,function(r){t.updateCombo(r,e)})},onDrop:function(e){var t=this,r=e.item;if(!(!r||!this.targets||r.destroyed)){this.updatePositions(e);var n=this.graph,a=r.getModel();this.targets.map(function(o){var s=o.getModel();s.parentId!==a.id?(t.activeState&&n.setItemState(r,t.activeState,!1),t.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o,a.id)):n.updateCombo(r)}),this.end(r,e),this.endComparison=!0}},onNodeDrop:function(e){var t=this;if(!(!this.targets||this.targets.length===0)){this.updatePositions(e);var r=this.graph,n=e.item,a=n.getModel().comboId,o;if(a){if(this.activeState){var s=r.findById(a);r.setItemState(s,this.activeState,!1)}this.targets.map(function(l){t.onlyChangeComboSize?r.updateCombo(l):a!==l.getID()&&(o=r.findById(a),a!==l.getModel().parentId&&r.updateComboTree(l,a))})}else this.targets.map(function(l){if(t.onlyChangeComboSize)r.updateCombo(l);else{var f=l.getModel();f.comboId&&r.updateComboTree(l)}});this.endComparison=!0,this.end(o,e)}},onDragEnter:function(e){if(!!this.origin&&!!this.validationCombo(e)){var t=e.item,r=this.graph;this.activeState&&r.setItemState(t,this.activeState,!0)}},onDragLeave:function(e){if(!!this.origin&&!!this.validationCombo(e)){var t=e.item,r=this.graph;this.activeState&&r.setItemState(t,this.activeState,!1)}},onDragEnd:function(e){if(!(!this.targets||this.targets.length===0)){var t=e.item;this.updatePositions(e);var r=this.getParentCombo(t.getModel().parentId),n=this.graph;r&&this.activeState&&n.setItemState(r,this.activeState,!1),this.end(void 0,e)}},end:function(e,t){var r=this;if(!!this.origin){var n=this.graph;if(this.delegateShape){var a=n.get("delegateGroup");a.clear(),this.delegateShape=null}e&&this.activeState&&n.setItemState(e,this.activeState,!1),e||this.targets.map(function(o){r.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(e,t){var r=this;if(t(e)!==!1&&e){var n=e.get("combos");(0,si.S6)(n,function(o){r.traverse(o,t)});var a=e.get("nodes");(0,si.S6)(a,function(o){r.traverse(o,t)})}},updateCombo:function(e,t){var r=this;this.traverse(e,function(n){return n.destroyed?!1:(r.updateSignleItem(n,t),!0)})},updateSignleItem:function(e,t){var r=this.origin,n=this.graph,a=e.getModel(),o=e.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-r.x+this.point[o].x,l=t.y-r.y+this.point[o].y;n.updateItem(e,{x:s,y:l})},getParentCombo:function(e){var t=this.graph;if(!!e){var r=t.findById(e);if(!!r)return r}},updateDelegate:function(e){var t=this.graph;if(this.delegateShape){var v=e.x-this.origin.x+this.originPoint.minX,x=e.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:v,y:x})}else{var r=t.get("delegateGroup"),n=null;this.targets.length>1?n=J0(this.targets):n=this.targets[0].getBBox();var a=n.x,o=n.y,s=n.width,l=n.height,f=n.minX,h=n.minY;this.originPoint={x:a,y:o,width:s,height:l,minX:f,minY:h};var c=ce(ce({},er.delegateStyle),this.delegateStyle);this.delegateShape=r.addShape("rect",{attrs:ce({width:n.width,height:n.height,x:n.x,y:n.y},c),name:"combo-delegate-shape"})}}},ym="dblclick",dR=["click","dblclick"],pR={getDefaultCfg:function(){return{trigger:ym,relayout:!0}},getEvents:function(){var e,t;return dR.includes(this.trigger)?t=this.trigger:(t=ym,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),e={},e["combo:"+t]="onComboClick",e},onComboClick:function(e){var t=e.item,r=this,n=r.graph,a=r.relayout;if(!(!t||t.destroyed||t.getType()!=="combo")){var o=t.getModel(),s=o.id;!s||(n.collapseExpandCombo(s),a&&n.get("layout")?n.layout():n.refreshPositions())}}},mm=function(e,t,r){return e>=t&&e<=r},Ms=function(e,t,r,n){var a=.001,o={x:r.x-e.x,y:r.y-e.y},s={x:t.x-e.x,y:t.y-e.y},l={x:n.x-r.x,y:n.y-r.y},f=s.x*l.y-s.y*l.x,h=f*f,c=s.x*s.x+s.y*s.y,v=l.x*l.x+l.y*l.y,x=null;if(h>a*c*v){var P=(o.x*l.y-o.y*l.x)/f,D=(o.x*s.y-o.y*s.x)/f;mm(P,0,1)&&mm(D,0,1)&&(x={x:e.x+P*s.x,y:e.y+P*s.y})}return x},xm=function(e,t){var r=e.x,n=e.y,a=e.width,o=e.height,s=r+a/2,l=n+o/2,f=[],h={x:s,y:l};f.push({x:r,y:n}),f.push({x:r+a,y:n}),f.push({x:r+a,y:n+o}),f.push({x:r,y:n+o}),f.push({x:r,y:n});for(var c=null,v=1;v<f.length&&(c=Ms(f[v-1],f[v],h,t),!c);v++);return c},bm=function(e,t){var r=e.x,n=e.y,a=e.r,o=t.x,s=t.y,l=o-r,f=s-n,h=Math.sqrt(l*l+f*f);if(h<a)return null;var c=Math.sign(l),v=Math.sign(f),x=Math.atan(f/l);return{x:r+Math.abs(a*Math.cos(x))*c,y:n+Math.abs(a*Math.sin(x))*v}},wm=function(e,t){var r=e.rx,n=e.ry,a=e.x,o=e.y,s=t.x-a,l=t.y-o,f=Math.atan2(l/n,s/r);return f<0&&(f+=2*Math.PI),{x:a+r*Math.cos(f),y:o+n*Math.sin(f)}},Cs=function(e,t,r){r===void 0&&(r=1);var n=[e.x,e.y,r];return(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]),cm.transformMat3(n,n,t),{x:n[0],y:n[1]}},Sm=function(e,t,r){r===void 0&&(r=1),(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]);var n=ro.invert([],t);n||(n=[1,0,0,0,1,0,0,0,1]);var a=[e.x,e.y,r];return cm.transformMat3(a,a,n),{x:a[0],y:a[1]}},Ah=function(e,t,r){var n=e.x-t.x,a=e.y-t.y,o=e.x-r.x,s=e.y-r.y,l=(e.x*e.x-t.x*t.x-t.y*t.y+e.y*e.y)/2,f=(e.x*e.x-r.x*r.x-r.y*r.y+e.y*e.y)/2,h=a*o-n*s;return{x:-(s*l-a*f)/h,y:-(n*f-o*l)/h}},Es=function(e,t){var r=e.x-t.x,n=e.y-t.y;return Math.sqrt(r*r+n*n)},Mm=function(e,t){var r=[];return e.forEach(function(n){var a=[];n.forEach(function(o){a.push(o*t)}),r.push(a)}),r},Th=function(e){for(var t=[],r=e.length,n=0;n<r;n+=1){t[n]=[];for(var a=0;a<r;a+=1)n===a?t[n][a]=0:e[n][a]===0||!e[n][a]?t[n][a]=Infinity:t[n][a]=e[n][a]}for(var o=0;o<r;o+=1)for(var n=0;n<r;n+=1)for(var a=0;a<r;a+=1)t[n][a]>t[n][o]+t[o][a]&&(t[n][a]=t[n][o]+t[o][a]);return t},Ph=function(e,t){var r=e.nodes,n=e.edges,a=[],o={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach(function(s,l){o[s.id]=l;var f=[];a.push(f)}),n&&n.forEach(function(s){var l=s.source,f=s.target,h=o[l],c=o[f];a[h][c]=1,t||(a[c][h]=1)}),a},Cm=function(e,t){e.translate(t.x,t.y)},Em=function(e,t){var r=e.getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]);var n=e.getCanvasBBox(),a=t.x-n.minX,o=t.y-n.minY,s=Ga(r,[["t",a,o]]);e.setMatrix(s)},gR=function(e,t){var r=e.getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]);var n=t;(0,Fi.default)(t)||(n=[t,t]),(0,Fi.default)(t)&&t.length===1&&(n=[t[0],t[0]]),r=Ga(r,[["s",n[0],n[1]]]),e.setMatrix(r)},yR=function(e,t){var r=e.getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]),r=Ga(r,[["r",t]]),e.setMatrix(r)},$l=function(e,t,r){for(var n=[],a=0;a<e;a++)n[a]=0;return r.forEach(function(o){o.source&&(n[t[o.source]]+=1),o.target&&(n[t[o.target]]+=1)}),n};function mR(i,e,t){return(t[0]-i[0])*(e[1]-i[1])==(e[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],e[0])<=t[0]&&t[0]<=Math.max(i[0],e[0])&&Math.min(i[1],e[1])<=t[1]&&t[1]<=Math.max(i[1],e[1])}var As=function(e,t,r){var n=!1,a=e.length,o=1e-6;function s(c){return Math.abs(c)<o?0:c<0?-1:1}if(a<=2)return!1;for(var l=0;l<a;l++){var f=e[l],h=e[(l+1)%a];if(mR(f,h,[t,r]))return!0;s(f[1]-r)>0!=s(h[1]-r)>0&&s(t-(r-f[1])*(f[0]-h[0])/(f[1]-h[1])-f[0])<0&&(n=!n)}return n},Am=function(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)},xR=function(e,t){var r=!1;return(0,u.each)(e,function(n){if(Ms(n.from,n.to,t.from,t.to))return r=!0,!1}),r},_h=function(e,t){var r=function(v){var x=v.map(function(D){return D[0]}),P=v.map(function(D){return D[1]});return{minX:Math.min.apply(null,x),maxX:Math.max.apply(null,x),minY:Math.min.apply(null,P),maxY:Math.max.apply(null,P)}},n=function(v){for(var x=[],P=v.length,D=0;D<P-1;D++){var X=v[D],K=v[D+1];x.push({from:{x:X[0],y:X[1]},to:{x:K[0],y:K[1]}})}if(x.length>1){var Z=v[0],gt=v[P-1];x.push({from:{x:gt[0],y:gt[1]},to:{x:Z[0],y:Z[1]}})}return x};if(e.length<2||t.length<2)return!1;var a=r(e),o=r(t);if(!Am(a,o))return!1;var s=!1;if((0,u.each)(t,function(c){if(As(e,c[0],c[1]))return s=!0,!1}),s||((0,u.each)(e,function(c){if(As(t,c[0],c[1]))return s=!0,!1}),s))return!0;var l=n(e),f=n(t),h=!1;return(0,u.each)(f,function(c){if(xR(l,c))return h=!0,!1}),h},Do=function(){function i(e,t,r,n){this.x1=e,this.y1=t,this.x2=r,this.y2=n}return i.prototype.getBBox=function(){var e=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),r=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2),a={x:e,y:t,minX:e,minY:t,maxX:r,maxY:n,width:r-e,height:n-t};return a},i}(),Oh=function(e,t){var r={top:[e.minX,e.minY,e.maxX,e.minY],left:[e.minX,e.minY,e.minX,e.maxY],bottom:[e.minX,e.maxY,e.maxX,e.maxY],right:[e.maxX,e.minY,e.maxX,e.maxY]};return r[t]},bR=function(e,t){var r=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),n=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),a=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(a){var o=r/a,s=n/a;if(o>=0&&o<=1&&s>=0&&s<=1)return o}return Number.POSITIVE_INFINITY},Tm=function(e,t){for(var r=["top","left","bottom","right"],n=e.getBBox(),a=0,o=[],s=0;s<4;s++){var l=Oh(n,r[s]),f=l[0],h=l[1],c=l[2],v=l[3];o[s]=Ms({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:f,y:h},{x:c,y:v}),o[s]&&(a+=1)}return[o,a]},Lh=function(e,t){for(var r=["top","left","bottom","right"],n=e.getBBox(),a=Number.POSITIVE_INFINITY,o=0,s=0;s<4;s++){var l=Oh(n,r[s]),f=l[0],h=l[1],c=l[2],v=l[3],x=bR(t,new Do(f,h,c,v));x=Math.abs(x-.5),x>=0&&x<=1&&(o+=1,a=x<a?x:a)}return o===0?-1:a},Pm=function(e){var t=0,r=0;if(e.length>0){for(var n=0,a=e;n<a.length;n++){var o=a[n];t+=o.x,r+=o.y}t/=e.length,r/=e.length}return{x:t,y:r}},Ql=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},_m=function(e,t){var r=t.x1,n=t.y1,a=t.x2-r,o=t.y2-n,s=e.x-r,l=e.y-n,f=s*a+l*o,h;f<=0?h=0:(s=a-s,l=o-l,f=s*a+l*o,f<=0?h=0:h=f*f/(a*a+o*o));var c=s*s+l*l-h;return c<0&&(c=0),c},Ih=function(e,t,r){return r===void 0&&(r=.001),Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(r,2)},Om=function(e,t){var r=e.x<t.x,n=e.x>t.x+t.width,a=e.y>t.y+t.height,o=e.y<t.y,s=r||n||a||o;if(!s)return 0;if(a&&!r&&!n)return Math.pow(t.y+t.height-e.y,2);if(o&&!r&&!n)return Math.pow(e.y-t.y,2);if(r&&!a&&!o)return Math.pow(t.x-e.x,2);if(n&&!a&&!o)return Math.pow(t.x+t.width-e.x,2);var l=Math.min(Math.abs(t.x-e.x),Math.abs(t.x+t.width-e.x)),f=Math.min(Math.abs(t.y-e.y),Math.abs(t.y+t.height-e.y));return l*l+f*f},wR=function(e,t){return!e||!t?e:e.replace(/\\?\{([^{}]+)\}/g,function(r,n){if(r.charAt(0)==="\\")return r.slice(1);var a=t[n];return a===0&&(a="0"),a||""})},Lm=function(e){var t=[];if(e.length<2)throw new Error("point length must largn than 2, now it's "+e.length);for(var r=0,n=e;r<n.length;r++){var a=n[r],o=a.x,s=a.y;t.push(o),t.push(s)}var l=(0,Ws.catmullRom2Bezier)(t);return l.unshift(["M",e[0].x,e[0].y]),l},Jl=function(e,t,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var a={x:(1-r)*e.x+r*t.x,y:(1-r)*e.y+r*t.y},o=[];$n.normalize(o,[t.x-e.x,t.y-e.y]),o.length===0&&(o=[0,0]);var s=[-o[1]*n,o[0]*n];return a.x+=s[0],a.y+=s[1],a},Im=function(e,t){var r=e.length;if(!r)return"";for(var n="",a="",o=0;o<r;o++){var s=e[o];o===0?a="M{x} {y}":a="L{x} {y}",n+=wR(a,s)}return t&&(n+="Z"),n},ql=function(e){var t=[];return e.forEach(function(r){var n=r[0];if(n!=="A")for(var a=1;a<r.length;a=a+2)t.push([r[a],r[a+1]]);else{var o=r.length;t.push([r[o-2],r[o-1]])}}),t},kh=function(e){if(e.length<2)throw new Error("point length must largn than 2, now it's "+e.length);var t=e[0],r=e[1],n=e[e.length-1],a=e[e.length-2];e.unshift(n),e.unshift(a),e.push(t),e.push(r);for(var o=[],s=1;s<e.length-2;s+=1){var l=e[s-1].x,f=e[s-1].y,h=e[s].x,c=e[s].y,v=e[s+1].x,x=e[s+1].y,P=s!==e.length-2?e[s+2].x:v,D=s!==e.length-2?e[s+2].y:x,X=h+(v-l)/6,K=c+(x-f)/6,Z=v-(P-h)/6,gt=x-(D-c)/6;o.push(["C",X,K,Z,gt,v,x])}return o.unshift(["M",n.x,n.y]),o},km=function(e,t){return $n.scale([],$n.normalize([],e),t)},Bm=function(e,t){var r=[e[1]-t[1],t[0]-e[0]],n=Math.sqrt(r[0]*r[0]+r[1]*r[1]);if(n===0)throw new Error("p0 should not be equal to p1");return[r[0]/n,r[1]/n]},Dm=function(e,t){return[t[0]-e[0],t[1]-e[1]]};function Fm(i,e){var t=function(c){var v=[c[0][0],c[0][1]-e],x=[c[0][0],c[0][1]+e];return"M "+v+" A "+e+","+e+",0,0,0,"+x+" A "+e+","+e+",0,0,0,"+v},r=function(c){var v=$n.scale([],Bm(c[0],c[1]),e),x=$n.scale([],v,-1),P=$n.add([],c[0],v),D=$n.add([],c[1],v),X=$n.add([],c[1],x),K=$n.add([],c[0],x);return"M "+P+" L "+D+" A "+[e,e,"0,0,0",X].join(",")+" L "+K+" A "+[e,e,"0,0,0",P].join(",")};if(!i||i.length<1)return"";if(i.length===1)return t(i);if(i.length===2)return r(i);for(var n=new Array(i.length),a=0;a<n.length;++a){var o=a===0?i[i.length-1]:i[a-1],s=i[a],l=$n.scale([],Bm(o,s),e);n[a]=[$n.add([],o,l),$n.add([],s,l)]}var f="A "+[e,e,"0,0,0,"].join(",");return n=n.map(function(h,c){var v="";return c===0&&(v="M "+n[n.length-1][1]+" "),v+=f+h[0]+" L "+h[1],v}),n.join(" ")}function Rm(i,e){var t=i.length,r=function(h){var c=[h[0][0],h[0][1]-e],v=[h[0][0],h[0][1]+e];return"M "+c+" A "+[e,e,"0,0,0",v].join(",")+" A "+[e,e,"0,0,0",c].join(",")},n=function(h){var c=Dm(h[0],h[1]),v=km(c,e),x=$n.add([],h[0],$n.scale([],v,-1)),P=$n.add([],h[1],v),D=1.2*e,X=km($n.normalize([],c),D),K=$n.scale([],X,-1),Z=$n.add([],x,K),gt=$n.add([],P,K),mt=$n.add([],x,X);return"M "+x+" C "+[Z,gt,P].join(",")+" S "+[mt,x].join(",")+" Z"};if(!i||t<1)return"";if(t===1)return r(i);if(t===2)return n(i);for(var a=i.map(function(f,h){var c=i[(h+1)%t];return{p:f,v:$n.normalize([],Dm(f,c))}}),o=0;o<a.length;++o){var s=o>0?o-1:t-1,l=$n.normalize([],$n.add([],a[s].v,$n.scale([],a[o].v,-1)));a[o].p=$n.add([],a[o].p,$n.scale([],l,e))}return a.map(function(f){var h=f.p;return{x:h[0],y:h[1]}})}var Nm="shift",SR=["drag","shift","ctrl","alt","control"],MR=function(e,t){var r,n=e.getKeyShape();if(e.get("type")==="path")r=ql(n.attr("path"));else{var a=n.getCanvasBBox();r=[[a.minX,a.minY],[a.maxX,a.minY],[a.maxX,a.maxY],[a.minX,a.maxY]]}return _h(t,r)},CR={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:Nm,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return SR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Nm,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(e){var t=this.lasso,r=e.item;r||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:e.x,y:e.y},this.points.push(this.originPoint),t.show())},onDragMove:function(e){!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push({x:e.x,y:e.y}),this.updateLasso(e))},onDragEnd:function(e){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var e=this.points,t=[];return e.length&&(e.forEach(function(r,n){n===0?t.push(["M",r.x,r.y]):t.push(["L",r.x,r.y])}),t.push(["L",e[0].x,e[0].y])),t},clearStates:function(){var e=this,t=e.graph,r=e.selectedState,n=t.findAllByState("node",r),a=t.findAllByState("edge",r);n.forEach(function(o){return t.setItemState(o,r,!1)}),a.forEach(function(o){return t.setItemState(o,r,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var e=this,t=this,r=t.graph,n=t.shouldUpdate,a=this.points.map(function(h){return[r.getCanvasByPoint(h.x,h.y).x,r.getCanvasByPoint(h.x,h.y).y]}),o=this.selectedState,s=[],l=[];r.getNodes().forEach(function(h){if(MR(h,a)&&n(h,"select")){s.push(h);var c=h.getModel();l.push(c.id),r.setItemState(h,o,!0)}});var f=[];this.includeEdges&&s.forEach(function(h){var c=h.getOutEdges();c.forEach(function(v){var x=v.getModel(),P=x.source,D=x.target;l.includes(P)&&l.includes(D)&&n(v,"select")&&(f.push(v),r.setItemState(v,e.selectedState,!0))})}),this.selectedEdges=f,this.selectedNodes=s,this.onSelect&&this.onSelect(s,f),r.emit("nodeselectchange",{selectedItems:{nodes:s,edges:f},select:!0})},createLasso:function(){var e=this,t=e.graph.get("delegateGroup").addShape("path",{attrs:ce({path:[]},e.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.points=[],t},updateLasso:function(e){var t=this;this.lasso.attr({path:t.getLassoPath()})},onKeyDown:function(e){var t=e.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},Ym="click",ER=["click","drag"],Gm=void 0,AR=["shift","ctrl","control","alt","meta",void 0],TR={getDefaultCfg:function(){return{trigger:Ym,key:Gm,edgeConfig:{}}},getEvents:function(){var e=this;ER.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=Ym,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),e.key&&AR.indexOf(e.key.toLowerCase())===-1&&(e.trigger=Gm,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var t;return e.trigger==="drag"?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:e.trigger==="click"&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),e.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(e){var t=this;if(!(t.key&&!t.keydown)){var r=e.item;(!r||r.getID()===t.source||r.getType()!=="node")&&t.cancelCreating({item:t.edge,x:e.x,y:e.y})}},onClick:function(e){var t=this;if(!(t.key&&!t.keydown)){var r=e.item,n=t.graph,a=r.getModel();if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,e))return;var o={target:a.id};t.source===a.id&&(o.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(t.edge,o),n.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,e))return;t.edge=n.addItem("edge",ce({source:a.id,target:a.id},t.edgeConfig),!1),t.source=a.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(e){var t=this;if(!(t.key&&!t.keydown)){var r={x:e.x,y:e.y};if(!t.graph.findById(t.source)){t.addingEdge=!1;return}t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:r},!1)}},cancelCreating:function(e){var t=this;if(!(t.key&&!t.keydown)){var r=t.graph,n=e.item;if(t.addingEdge&&e.target&&e.target.isCanvas&&e.target.isCanvas()){r.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1;return}if(t.addingEdge&&t.edge===n){var a=!0;if(!r.get("groupByTypes"))for(var o=e.x,s=e.y,l=r.getNodes(),f=l.length,h=0;h<f;h++){var c=l[h],v=c.getModel(),x=c.getBBox();if(o<=x.maxX&&o>=x.minX&&s<=x.maxY&&s>=x.minY){if(!t.shouldEnd.call(t,{x:e.x,y:e.y,canvasX:e.canvasX,canvasY:e.canvasY,clientX:e.clientX,clientY:e.clientY,item:c}))return;r.emit("beforecreateedge",{}),r.updateItem(t.edge,{target:v.id}),r.emit("aftercreateedge",{edge:t.edge}),a=!1;break}}a&&r.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1}}},onKeyDown:function(e){var t=this,r=e.key;!r||(r.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var e=this;e.addingEdge&&e.edge&&(e.graph.removeItem(e.edge,!1),e.addingEdge=!1,e.edge=null),this.keydown=!1}},zm="ctrl",PR=["shift","ctrl","alt","control"],_R="1",OR={getDefaultCfg:function(){return{trigger:zm,combinedKey:_R,functionName:"fitView",functionParams:[]}},getEvents:function(){return PR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=zm,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '"+this.trigger+"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(e){var t=e.key;if(!!t){var r=this.trigger.toLowerCase(),n=t.toLowerCase();this.triggerKeydown||(n===r||n==="control"&&r==="ctrl"||n==="ctrl"&&r==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var a=this.graph;if(!a[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '"+this.functionName+"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D"),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]();return}var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(n===o||n==="control"&&o==="ctrl"||n==="ctrl"&&o==="control")&&(this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},LR={"drag-canvas":zF,"zoom-canvas":rR,"drag-node":KF,"activate-relations":$F,"brush-select":JF,"click-select":tR,"lasso-select":CR,tooltip:nR,"edge-tooltip":iR,"drag-group":aR,"drag-node-with-group":sR,"collapse-expand-group":uR,"collapse-expand":hR,"drag-combo":vR,"collapse-expand-combo":pR,"create-edge":TR,"shortcuts-call":OR};(0,Bn.default)(LR,function(i,e){xh.registerBehavior(e,i)});var Xm=xh,Fo=d(14563),Ts=d(70673),Ba=d(83077),Vm=d(54544),IR=function(e){var t=(0,Vm.default)(e.groups,"id"),r=(0,Vm.default)(e.groups,"parentId"),n={};for(var a in r)if(!!a){var o=r[a],s=t[a];if(s&&o){var l=Ss(o,s);n[a]=l}else o&&(n[a]=o)}var f=ce(ce({},t),n),h={};for(var c in f)if(!(!c||c==="undefined")){var o=f[c].map(function(D){return D.id});h[c]=o}var v={},x=function(D){if(!D||D==="undefined")return"continue";for(var X=h[D],K=[],Z=0,gt=X;Z<gt.length;Z++){var mt=gt[Z],Nt=f[mt].map(function(ee){return ee.id});K.push.apply(K,Nt)}var Zt=e.nodes?e.nodes.filter(function(ee){return K.indexOf(ee.groupId)>-1||K.indexOf(ee.parentId)>-1}).map(function(ee){return ee.id}):[];v[D]=Zt};for(var c in h)x(c);return v},kR=function(){function i(e){this.graph=e,this.destroyed=!1,this.modes=e.get("modes")||{default:[]},this.formatModes(),this.mode=e.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return i.prototype.formatModes=function(){var e=this.modes;(0,Bn.default)(e,function(t){(0,Bn.default)(t,function(r,n){(0,Tn.default)(r)&&(t[n]={type:r})})})},i.prototype.setBehaviors=function(e){var t=this.graph,r=this.modes[e],n=[],a;(0,Bn.default)(r||[],function(o){var s=xh.getBehavior(o.type);!s||(a=new s(o),a&&(a.bind(t),n.push(a)))}),this.currentBehaves=n},i.mergeBehaviors=function(e,t){return(0,Bn.default)(t,function(r){e.indexOf(r)<0&&((0,Tn.default)(r)&&(r={type:r}),e.push(r))}),e},i.filterBehaviors=function(e,t){var r=[];return e.forEach(function(n){var a="";(0,Tn.default)(n)?a=n:a=n.type,t.indexOf(a)<0&&r.push(n)}),r},i.prototype.setMode=function(e){var t=this,r=t.modes,n=t.graph,a=e,o=r[a];!o||(n.emit("beforemodechange",{mode:e}),(0,Bn.default)(this.currentBehaves,function(s){s.unbind(n)}),this.setBehaviors(a),n.emit("aftermodechange",{mode:e}),this.mode=e)},i.prototype.getMode=function(){return this.mode},i.prototype.manipulateBehaviors=function(e,t,r){var n=this,a;if((0,Fi.default)(e)?a=e:a=[e],(0,Fi.default)(t))return(0,Bn.default)(t,function(s){n.modes[s]?r?n.modes[s]=i.mergeBehaviors(n.modes[s]||[],a):n.modes[s]=i.filterBehaviors(n.modes[s]||[],a):r&&(n.modes[s]=a)}),this;var o=t;return t||(o=this.mode),this.modes[o]||r&&(this.modes[o]=a),r?this.modes[o]=i.mergeBehaviors(this.modes[o]||[],a):this.modes[o]=i.filterBehaviors(this.modes[o]||[],a),this.setMode(this.mode),this},i.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},i}(),BR=kR,DR=function(){function i(e){this.destroyed=!1,this.graph=e,this.destroyed=!1}return i.prototype.getViewCenter=function(){var e=this.getFormatPadding(),t=this.graph,r=this.graph.get("width"),n=t.get("height");return{x:(r-e[1]-e[3])/2+e[3],y:(n-e[0]-e[2])/2+e[0]}},i.prototype.fitCenter=function(){var e=this.graph,t=e.get("group");t.resetMatrix();var r=t.getCanvasBBox();if(!(r.width===0||r.height===0)){var n=this.getViewCenter(),a={x:r.x+r.width/2,y:r.y+r.height/2};e.translate(n.x-a.x,n.y-a.y)}},i.prototype.fitView=function(){var e=this.graph,t=this.getFormatPadding(),r=e.get("width"),n=e.get("height"),a=e.get("group");a.resetMatrix();var o=a.getCanvasBBox();if(!(o.width===0||o.height===0)){var s=this.getViewCenter(),l={x:o.x+o.width/2,y:o.y+o.height/2};e.translate(s.x-l.x,s.y-l.y);var f=(r-t[1]-t[3])/o.width,h=(n-t[0]-t[2])/o.height,c=f;f>h&&(c=h),e.zoom(c,s)}},i.prototype.getFormatPadding=function(){var e=this.graph.get("fitViewPadding");return Sh(e)},i.prototype.focusPoint=function(e,t,r){var n=this,a=this.getViewCenter(),o=this.getPointByCanvas(a.x,a.y),s=this.graph.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),t){var l=(o.x-e.x)*s[0],f=(o.y-e.y)*s[4],h=0,c=0,v=0,x=0;this.graph.get("canvas").animate(function(P){v=l*P,x=f*P,n.graph.translate(v-h,x-c),h=v,c=x},ce({},r))}else this.graph.translate((o.x-e.x)*s[0],(o.y-e.y)*s[4])},i.prototype.getPointByCanvas=function(e,t){var r=this.graph.get("group").getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]);var n=Sm({x:e,y:t},r);return n},i.prototype.getPointByClient=function(e,t){var r=this.graph.get("canvas"),n=r.getPointByClient(e,t);return this.getPointByCanvas(n.x,n.y)},i.prototype.getClientByPoint=function(e,t){var r=this.graph.get("canvas"),n=this.getCanvasByPoint(e,t),a=r.getClientByPoint(n.x,n.y);return{x:a.x,y:a.y}},i.prototype.getCanvasByPoint=function(e,t){var r=this.graph.get("group").getMatrix();return r||(r=[1,0,0,0,1,0,0,0,1]),Cs({x:e,y:t},r)},i.prototype.focus=function(e,t,r){(0,Tn.default)(e)&&(e=this.graph.findById(e));var n=e.get("group"),a=n.getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),e&&this.focusPoint({x:a[6],y:a[7]},t,r)},i.prototype.changeSize=function(e,t){var r=this.graph;if(!(0,ka.default)(e)||!(0,ka.default)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");r.set({width:e,height:t});var n=r.get("canvas");n.changeSize(e,t);var a=r.get("plugins");a.forEach(function(o){if(o.get("gridContainer")){var s=r.get("minZoom");(0,Hn.Z)(o.get("container"),{width:e+"px",height:t+"px"}),(0,Hn.Z)(o.get("gridContainer"),{width:e/s+"px",height:t/s+"px",left:0,top:0})}})},i.prototype.destroy=function(){this.graph=null,this.destroyed=!1},i}(),FR=DR,Ps=d(73136),tu=d(61262),RR=function(){function i(e){this.preItem=null,this.graph=e,this.extendEvents=[],this.dragging=!1,this.destroyed=!1,this.initEvents()}return i.prototype.initEvents=function(){var e=this,t=e.graph,r=e.extendEvents,n=t.get("canvas"),a=n.get("el"),o=(0,tu.default)(this,"onCanvasEvents"),s=(0,tu.default)(this,"onExtendEvents"),l=(0,tu.default)(this,"onWheelEvent");n.on("*",o),this.canvasHandler=o,r.push((0,Ps.Z)(a,"DOMMouseScroll",l)),r.push((0,Ps.Z)(a,"mousewheel",l)),typeof window!="undefined"&&(r.push((0,Ps.Z)(window,"keydown",s)),r.push((0,Ps.Z)(window,"keyup",s)),r.push((0,Ps.Z)(window,"focus",s)))},i.getItemRoot=function(e){for(;e&&!e.get("item");)e=e.get("parent");return e},i.prototype.onCanvasEvents=function(e){var t=this.graph,r=t.get("canvas"),n=e.target,a=e.type;e.canvasX=e.x,e.canvasY=e.y;var o={x:e.canvasX,y:e.canvasY},s=t.get("group"),l=s.getMatrix();if(l||(l=[1,0,0,0,1,0,0,0,1]),Q0(l)&&(o=t.getPointByClient(e.clientX,e.clientY)),e.x=o.x,e.y=o.y,e.currentTarget=t,n===r){a==="mousemove"&&this.handleMouseMove(e,"canvas"),e.target=r,e.item=null,t.emit(a,e),t.emit("canvas:"+a,e);return}var f=i.getItemRoot(n);if(!f){t.emit(a,e);return}var h=f.get("item");if(!h.destroyed){var c=h.getType();if(e.target=n,e.item=h,e.canvasX===e.x&&e.canvasY===e.y){var v=t.getCanvasByPoint(e.x,e.y);e.canvasX=v.x,e.canvasY=v.y}t.emit(a,e),e.name&&!e.name.includes(":")?t.emit(c+":"+a,e):t.emit(e.name,e),a==="dragstart"&&(this.dragging=!0),a==="dragend"&&(this.dragging=!1),a==="mousemove"&&this.handleMouseMove(e,c)}},i.prototype.onExtendEvents=function(e){this.graph.emit(e.type,e)},i.prototype.onWheelEvent=function(e){(0,Di.default)(e.wheelDelta)&&(e.wheelDelta=-e.detail),this.graph.emit("wheel",e)},i.prototype.handleMouseMove=function(e,t){var r=this,n=r.graph,a=r.preItem,o=n.get("canvas"),s=e.target===o?null:e.item;e=Wl(e),a&&a!==s&&!a.destroyed&&(e.item=a,this.emitCustomEvent(a.getType(),"mouseleave",e),this.dragging&&this.emitCustomEvent(a.getType(),"dragleave",e)),s&&a!==s&&(e.item=s,this.emitCustomEvent(t,"mouseenter",e),this.dragging&&this.emitCustomEvent(t,"dragenter",e)),this.preItem=s},i.prototype.emitCustomEvent=function(e,t,r){r.type=t,this.graph.emit(e+":"+t,r)},i.prototype.destroy=function(){var e=this,t=e.graph,r=e.canvasHandler,n=e.extendEvents,a=t.get("canvas");a.off("*",r),(0,Bn.default)(n,function(o){o.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},i}(),NR=RR,Hm=d(8289),Wm=d(33643),jm=d(85260),YR=d(58070),GR={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,"0":.6,"1":.40099945068359377,"2":.6,"3":.6,"4":.6,"5":.6,"6":.6,"7":.5469985961914062,"8":.6,"9":.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},Ta=Math.PI,Bh=Math.sin,Dh=Math.cos,Ni=Bh(Ta/8),Yi=Dh(Ta/8),eu=function(e,t){var r=e.getBBox(),n={x:r.minX,y:r.minY},a={x:r.maxX,y:r.maxY};if(t){var o=t.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),n=Cs(n,o),a=Cs(a,o)}var s=n.x,l=n.y,f=a.x,h=a.y;return{x:s,y:l,minX:s,minY:l,maxX:f,maxY:h,width:f-s,height:h-l}},Um=function(e){var t=e.sourceNode||e.targetNode,r=t.get("group"),n=r.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var a=t.getKeyShape(),o=a.getBBox(),s=e.loopCfg||{},l=s.dist||Math.max(o.width,o.height)*2,f=s.position||er.defaultLoopPosition,h=[n[6],n[7]],c=[e.startPoint.x,e.startPoint.y],v=[e.endPoint.x,e.endPoint.y],x=o.height/2,P=o.height/2,D=x*Ni,X=x*Yi,K=P*Ni,Z=P*Yi;if(c[0]===v[0]&&c[1]===v[1]){switch(f){case"top":c=[h[0]-D,h[1]-X],v=[h[0]+K,h[1]-Z];break;case"top-right":x=o.height/2,P=o.width/2,D=x*Ni,X=x*Yi,K=P*Ni,Z=P*Yi,c=[h[0]+D,h[1]-X],v=[h[0]+Z,h[1]-K];break;case"right":x=o.width/2,P=o.width/2,D=x*Ni,X=x*Yi,K=P*Ni,Z=P*Yi,c=[h[0]+X,h[1]-D],v=[h[0]+Z,h[1]+K];break;case"bottom-right":x=o.width/2,P=o.height/2,D=x*Ni,X=x*Yi,K=P*Ni,Z=P*Yi,c=[h[0]+X,h[1]+D],v=[h[0]+K,h[1]+Z];break;case"bottom":x=o.height/2,P=o.height/2,D=x*Ni,X=x*Yi,K=P*Ni,Z=P*Yi,c=[h[0]+D,h[1]+X],v=[h[0]-K,h[1]+Z];break;case"bottom-left":x=o.height/2,P=o.width/2,D=x*Ni,X=x*Yi,K=P*Ni,Z=P*Yi,c=[h[0]-D,h[1]+X],v=[h[0]-Z,h[1]+K];break;case"left":x=o.width/2,P=o.width/2,D=x*Ni,X=x*Yi,K=P*Ni,Z=P*Yi,c=[h[0]-X,h[1]+D],v=[h[0]-Z,h[1]-K];break;case"top-left":x=o.width/2,P=o.height/2,D=x*Ni,X=x*Yi,K=P*Ni,Z=P*Yi,c=[h[0]-X,h[1]-D],v=[h[0]-K,h[1]-Z];break;default:x=o.width/2,P=o.width/2,D=x*Ni,X=x*Yi,K=P*Ni,Z=P*Yi,c=[h[0]-D,h[1]-X],v=[h[0]+K,h[1]-Z]}if(s.clockwise===!1){var gt=[c[0],c[1]];c=[v[0],v[1]],v=[gt[0],gt[1]]}}var mt=[c[0]-h[0],c[1]-h[1]],Nt=(x+l)/x,Zt=(P+l)/P;s.clockwise===!1&&(Nt=(P+l)/P,Zt=(x+l)/x);var ee=$n.scale([],mt,Nt),ue=[h[0]+ee[0],h[1]+ee[1]],ne=[v[0]-h[0],v[1]-h[1]],xe=$n.scale([],ne,Zt),Pe=[h[0]+xe[0],h[1]+xe[1]];return e.startPoint={x:c[0],y:c[1]},e.endPoint={x:v[0],y:v[1]},e.controlPoints=[{x:ue[0],y:ue[1]},{x:Pe[0],y:Pe[1]}],e},ru=function(e,t,r,n,a){var o=1e-4,s=[],l=e.getPoint(t);if(l===null)return{x:0,y:0,angle:0};if(t<o)s=e.getStartTangent().reverse();else if(t>1-o)s=e.getEndTangent();else{var f=e.getPoint(t+o);s.push([l.x,l.y]),s.push([f.x,f.y])}var h=Math.atan2(s[1][1]-s[0][1],s[1][0]-s[0][0]);if(h<0&&(h+=Ta*2),r&&(l.x+=Dh(h)*r,l.y+=Bh(h)*r),n){var c=h-Ta/2;h>1/2*Ta&&h<3*1/2*Ta&&(c-=Ta),l.x+=Dh(c)*n,l.y+=Bh(c)*n}var v={x:l.x,y:l.y,angle:h};return a?(h>1/2*Ta&&h<3*1/2*Ta&&(h-=Ta),ce({rotate:h},v)):v},Zm=function i(e,t){if(t(e)===!1)return!1;if(e&&e.children){for(var r=e.children.length-1;r>=0;r--)if(!i(e.children[r],t))return!1}return!0},zR=function i(e,t){if(e&&e.children){for(var r=e.children.length-1;r>=0;r--)if(!i(e.children[r],t))return}return t(e)!==!1},qi=function(e,t){typeof t=="function"&&Zm(e,t)},Pa=function(e,t){typeof t=="function"&&zR(e,t)},Km=function(e,t){var r=["V","TB","BT"],n={x:Infinity,y:Infinity},a={x:-Infinity,y:-Infinity},o="x",s="y";t&&r.indexOf(t)>=0&&(s="x",o="y");var l=0;qi(e,function(c){return l++,c.x>a.x&&(a.x=c.x),c.x<n.x&&(n.x=c.x),c.y>a.y&&(a.y=c.y),c.y<n.y&&(n.y=c.y),!0});var f=Ta*2/l,h=a[s]-n[s];return h===0||qi(e,function(c){var v=(c[s]-n[s])/h*(Ta*2-f)+f,x=Math.abs(o==="x"?c.x-e.x:c.y-e.y);return c.x=x*Math.cos(v),c.y=x*Math.sin(v),!0}),e},$m=function(e,t){return t*(GR[e]||1)},Qm=function(e,t){var r=0,n=new RegExp("[\u4E00-\u9FA5]+");return e.split("").forEach(function(a){n.test(a)?r+=t:r+=$m(a,t)}),[r,t]},Fh=function(e,t){var r=[],n={},a={};e.forEach(function(s){a[s.id]=s}),e.forEach(function(s,l){var f=(0,u.clone)(s);f.itemType="combo",f.children=void 0,f.parentId===f.id?(console.warn("The parentId for combo "+f.id+" can not be the same as the combo's id"),delete f.parentId):f.parentId&&!a[f.parentId]&&(console.warn("The parent combo for combo "+f.id+" does not exist!"),delete f.parentId);var h=n[f.id];if(h){if(f.children=h.children,n[f.id]=f,h=f,!h.parentId){r.push(h);return}var c=n[h.parentId];if(c)c.children?c.children.push(f):c.children=[f];else{var v={id:h.parentId,children:[h]};n[h.parentId]=v,n[f.id]=f}return}if((0,u.isString)(s.parentId)){var x=n[s.parentId];if(x)x.children?x.children.push(f):x.children=[f],n[f.id]=f;else{var P={id:s.parentId,children:[f]};n[P.id]=P,n[f.id]=f}}else r.push(f),n[f.id]=f});var o={};return(t||[]).forEach(function(s){o[s.id]=s;var l=n[s.comboId];if(l){var f={id:s.id,comboId:s.comboId};l.children?l.children.push(f):l.children=[f],f.itemType="node",n[s.id]=f}}),r.forEach(function(s){s.depth=0,Zm(s,function(l){var f,h=n[l.id].itemType;h==="node"?f=n[l.comboId]:f=n[l.parentId],f?h==="node"?l.depth=f.depth+1:l.depth=f.depth+2:l.depth=0;var c=o[l.id];return c&&(c.depth=l.depth),!0})}),r},Rh=function(e,t,r){var n=e,a,o={root:{children:e}},s=!1,l="root";(e||[]).forEach(function(x){if(!s){if(x.id===t){a=x,x.itemType==="combo"?a.parentId=r:a.comboId=r,s=!0;return}qi(x,function(P){return o[P.id]={children:P.children},n=o[P.parentId||P.comboId||"root"].children,P&&(P.removed||t===P.id)&&n?(l=P.parentId||P.comboId||"root",a=P,P.itemType==="combo"?a.parentId=r:a.comboId=r,s=!0,!1):!0})}}),n=o[l].children;var f=n?n.indexOf(a):-1;if(f>-1&&n.splice(f,1),s||(a={id:t,itemType:"node",comboId:r},o[t]={children:void 0}),t){var h=!1;if(r){var c=0;(e||[]).forEach(function(x){h||qi(x,function(P){return r===P.id?(h=!0,P.children?P.children.push(a):P.children=[a],c=P.depth,a.itemType==="node"?a.depth=c+2:a.depth=c+1,!1):!0})})}else(!r||!h)&&a.itemType!=="node"&&e.push(a);var v=a.depth;qi(a,function(x){return x.itemType==="node"?v+=2:v+=1,x.depth=v,!0})}return e},Nh=function(e,t){var r={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return!e||e.length===0||(e.forEach(function(n){var a=t.findById(n.id);if(!(!a||!a.isVisible())){a.set("bboxCanvasCache",void 0);var o=a.getCanvasBBox();o.x&&r.minX>o.minX&&(r.minX=o.minX),o.y&&r.minY>o.minY&&(r.minY=o.minY),o.x&&r.maxX<o.maxX&&(r.maxX=o.maxX),o.y&&r.maxY<o.maxY&&(r.maxY=o.maxY)}}),r.x=(r.minX+r.maxX)/2,r.y=(r.minY+r.maxY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,Object.keys(r).forEach(function(n){(r[n]===Infinity||r[n]===-Infinity)&&(r[n]=void 0)})),r},XR=function(e){var t=e.group,r=e.height,n=e.width,a=e.x,o=e.y,s=t.get("canvas"),l=s.get("width"),f=s.get("height"),h={start:{x:0,y:0},end:{x:0,y:0}};return h.start.x=a/l,h.start.y=o/f,h.end.x=(a+n)/l,h.end.y=(o+r)/f,h};function nu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nu=function(t){return typeof t}:nu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(i)}function Jm(i){if(typeof i!="string")return i;var e=function(ee){if(typeof ee!="string")return ee;try{return JSON.parse(ee.trim())}catch(ue){return ee.trim()}},t=e(i);if(typeof t!="string")return t;for(var r=function(ee){return ee[ee.length-1]},n=i.trim(),a=[],o=[],s=function(){for(var ee=[],ue=0;ue<arguments.length;ue++)ee[ue]=arguments[ue];return ee.some(function(ne){return r(o)===ne})},l=function(){return r(a)},f=null,h=0,c="";h<n.length;){var v=n[h],x=s('"',"'");if(!x&&!v.trim()){h+=1;continue}var P=n[h-1]==="\\",D=s("}"),X=s("]"),K=s(","),Z=l();if(x)if(r(o)===v&&!P){o.pop();var gt=e(c);Z.push(gt),f=gt,c=""}else c+=v;else if(X&&v===",")c&&(Z.push(e(c)),c="");else if(D&&v===":")o.push(","),c&&(Z.push(c),c="");else if(K&&v===",")c&&(Z.push(e(c)),c=""),o.pop();else if(v==="}"&&(D||K)){c&&(Z.push(e(c)),c=""),K&&o.pop();for(var mt={},Nt=1;Nt<Z.length;Nt+=2)mt[Z[Nt-1]]=Z[Nt];a.pop(),a.length&&r(a).push(mt),o.pop(),f=mt}else v==="]"&&X?(c&&(Z.push(e(c)),c=""),a.pop(),a.length&&r(a).push(Z),o.pop(),f=Z):v==="{"?(a.push([]),o.push("}")):v==="["?(a.push([]),o.push("]")):v==='"'?o.push('"'):v==="'"?o.push("'"):c+=v;h+=1}return f||c}var VR=function(e){return e.split("-").reduce(function(t,r){return t+r.charAt(0).toUpperCase()+r.slice(1)})},HR=function(e){return function(t){for(var r=e.length,n=[],a=0,o="";a<r;)if(e[a]==="{"&&e[a+1]==="{")n.push(o),o="",a+=2;else if(e[a]==="}"&&e[a+1]==="}"){if(n.length){var s=n.pop();o=(0,YR.default)(t,o,s.endsWith("=")?'"{'+o+'}"':o),n.push(s+o)}a+=2,o=""}else o+=e[a],a+=1;return n.push(o),n.map(function(l,f){return n[f-1]&&n[f-1].endsWith("=")?'"{'+l+'}"':l}).join("")}};function qm(i,e){var t={},r=i.getAttributeNames&&i.getAttributeNames()||[],n=i.children&&Array.from(i.children).map(function(s){return qm(s,e)}),a={},o=i.tagName?i.tagName.toLowerCase():"group";return o==="text"&&(t.text=i.innerText),a.type=o,o==="img"&&(a.type="image"),Array.from(r).forEach(function(s){var l=VR(s),f=i.getAttribute(s);try{if(l==="style"||l==="attrs"){var h=Jm(f);t=ce(ce({},t),h)}else a[l]=Jm(f)}catch(c){if(l==="style")throw c;a[l]=f}}),a.attrs=t,e&&e.style&&a.name&&nu(e.style[a.name])==="object"&&(a.attrs=ce(ce({},a.attrs),e.style[a.name])),e&&e.style&&a.keyshape&&(a.attrs=ce(ce({},a.attrs),e.style)),n.length&&(a.children=n),a}function WR(i,e,t){var r=i.attrs,n=r===void 0?{}:r,a={x:e.x||0,y:e.y||0,width:t.width||0,height:t.height||0},o,s;switch(i.type){case"maker":case"circle":n.r&&(s=2*n.r,o=2*n.r);break;case"text":n.text&&(s=Qm(n.text,n.fontSize||12)[0],o=16,a.y+=o,a.height=o,a.width=s,i.attrs=ce({fontSize:12,fill:"#000"},n));break;default:n.width&&(s=n.width),n.height&&(o=n.height)}return o>=0&&(a.height=o),s>=0&&(a.width=s),n.marginTop&&(a.y+=n.marginTop),n.marginLeft&&(a.x+=n.marginLeft),a}function tx(i,e){var t;e===void 0&&(e={x:0,y:0});var r=ce({x:0,y:0,width:0,height:0},e);if((t=i.children)===null||t===void 0?void 0:t.length){var n=i.attrs,a=n===void 0?{}:n,o=a.marginTop,s=ce({},e);o&&(s.y+=o);for(var l=0;l<i.children.length;l++){i.children[l].attrs.key=(a.key||"root")+" -"+l+" ";var f=tx(i.children[l],s);if(f.bbox){var h=f.bbox;f.attrs.next==="inline"?s.x+=f.bbox.width:s.y+=f.bbox.height,h.width+h.x>r.width&&(r.width=h.width+h.x),h.height+h.y>r.height&&(r.height=h.height+h.y)}}}return i.bbox=WR(i,e,r),i.attrs=ce(ce({},i.attrs),i.bbox),i}function ex(i,e){var t,r,n,a,o=(i||{}).type,s=((e==null?void 0:e.attrs)||{}).key;if(s&&i&&(i.attrs.key=s),!i&&e)return{action:"delete",val:e,type:o,key:s};if(i&&!e)return{action:"add",val:i,type:o};if(!i&&!e)return{action:"same",type:o};var l=[];if(((t=i.children)===null||t===void 0?void 0:t.length)>0||((r=e.children)===null||r===void 0?void 0:r.length)>0)for(var f=Math.max((n=i.children)===null||n===void 0?void 0:n.length,(a=e.children)===null||a===void 0?void 0:a.length),h=e.children||[],c=i.children||[],v=0;v<f;v+=1)l.push(ex(c[v],h[v]));var x=Object.keys(e.attrs),P=Object.keys(i.attrs);return e.type!==i.type?{action:"restructure",nowTarget:i,formerTarget:e,key:s,children:l}:x.filter(function(D){return D!=="children"}).some(function(D){return i.attrs[D]!==e.attrs[D]||!P.includes(D)})?{action:"change",val:i,children:l,type:o,key:s}:{action:"same",children:l,type:o,key:s}}function rx(i){var e={},t=function(n){var a=typeof i=="function"?i(n):i,o=HR(a)(n),s=document.createElement("div");s.innerHTML=o;var l=s.children[0],f=tx(qm(l,n));return s.remove(),f};return{draw:function(n,a){var o=t(n),s=a,l=function f(h){var c=h.attrs,v=c===void 0?{}:c,x=h.bbox,P=h.type,D=h.children,X=Qi(h,["attrs","bbox","type","children"]);if(h.type!=="group"){var K=a.addShape(h.type,ce({attrs:v,origin:{bbox:x,type:P,children:D}},X));h.keyshape&&(s=K)}h.children&&h.children.forEach(function(Z){return f(Z)})};return l(o),e[n.id]=[o],s},update:function(n,a){e[n.id]||(e[n.id]=[]);var o=a.getContainer(),s=o.get("children"),l=t(n),f=e[n.id].pop(),h=ex(l,f),c=function P(D){var X;D.type!=="group"&&o.addShape(D.type,{attrs:D.attrs}),((X=D.children)===null||X===void 0?void 0:X.length)&&D.children.map(function(K){return P(K)})},v=function P(D){var X,K=s.find(function(Z){return Z.attrs.key===D.attrs.key});K&&o.removeChild(K),((X=D.children)===null||X===void 0?void 0:X.length)&&D.children.map(function(Z){return P(Z)})},x=function P(D){var X=D.key;if(D.type!=="group"){var K=s.find(function(gt){return gt.attrs.key===X});switch(D.action){case"change":if(K){var Z=D.val.keyshape?a.getOriginStyle():{};K.attr(ce(ce({},Z),D.val.attrs))}break;case"add":c(D.val);break;case"delete":v(D.val);break;case"restructure":v(D.formerTarget),c(D.nowTarget);break;default:break}}D.children&&D.children.forEach(function(gt){return P(gt)})};x(h),e[n.id].push(l)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Yh={};function nx(i){return Yh[i]||(Yh[i]=(0,u.upperFirst)(i)),Yh[i]}var jR={defaultShapeType:"defaultType",className:null,getShape:function(e){var t=this,r=t[e]||t[t.defaultShapeType];return r},draw:function(e,t,r){var n=this.getShape(e),a=n.draw(t,r);return n.afterDraw&&n.afterDraw(t,r,a),a},baseUpdate:function(e,t,r){var n=this.getShape(e);n.update&&n.update(t,r),n.afterUpdate&&n.afterUpdate(t,r)},setState:function(e,t,r,n){var a=this.getShape(e);a.setState(t,r,n)},shouldUpdate:function(e){var t=this.getShape(e);return!!t.update},getControlPoints:function(e,t){var r=this.getShape(e);return r.getControlPoints(t)},getAnchorPoints:function(e,t){var r=this.getShape(e);return r.getAnchorPoints(t)}},Gh={options:{},draw:function(e,t){return this.drawShape(e,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t=this.options.anchorPoints,r=e.anchorPoints||t;return r}},iu=function(){function i(){}return i.registerFactory=function(e,t){var r=nx(e),n=jR,a=ce(ce({},n),t);return i[r]=a,a.className=r,a},i.getFactory=function(e){var t=nx(e);return i[t]},i.registerNode=function(e,t,r){var n=i.Node,a;if(typeof t=="string"||typeof t=="function"){var o=rx(t);a=ce(ce({},n.getShape("single-node")),o)}else if(t.jsx){var s=t.jsx,o=rx(s);a=ce(ce(ce({},n.getShape("single-node")),o),t)}else{var l=r?n.getShape(r):Gh;a=ce(ce({},l),t)}return a.type=e,a.itemType="node",n[e]=a,a},i.registerEdge=function(e,t,r){var n=i.Edge,a=r?n.getShape(r):Gh,o=ce(ce({},a),t);return o.type=e,o.itemType="edge",n[e]=o,o},i.registerCombo=function(e,t,r){var n=i.Combo,a=r?n.getShape(r):Gh,o=ce(ce({},a),t);return o.type=e,o.itemType="combo",n[e]=o,o},i}(),hi=iu;iu.registerFactory("node",{defaultShapeType:"circle"}),iu.registerFactory("edge",{defaultShapeType:"line"}),iu.registerFactory("combo",{defaultShapeType:"circle"});var zh="bboxCache",Xh="bboxCanvasCache",UR=function(){function i(e){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),e);var r=this.get("model"),n=r.id,a=this.get("type");n||(n=(0,u.uniqueId)(a),this.get("model").id=n),this.set("id",n);var o=e.group;o&&(o.set("item",this),o.set("id",n)),this.init(),this.draw();var s=r.shape||r.type||(a==="edge"?"line":"circle"),l=this.get("shapeFactory");if(l&&l[s]){var f=l[s].options;if(f&&f.stateStyles){var h=this.get("styles")||r.stateStyles;h=(0,u.deepMix)({},f.stateStyles,h),this.set("styles",h)}}}return i.prototype.calculateBBox=function(){var e=this.get("keyShape"),t=this.get("group"),r=eu(e,t);return r.x=r.minX,r.y=r.minY,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,r},i.prototype.calculateCanvasBBox=function(){var e=this.get("keyShape"),t=this.get("group"),r=eu(e,t);return r.x=r.minX,r.y=r.minY,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2,r},i.prototype.drawInner=function(){var e=this,t=e.get("shapeFactory"),r=e.get("group"),n=e.get("model");r.clear();var a=n.visible;if(a!==void 0&&!a&&e.changeVisibility(a),!!t){e.updatePosition(n);var o=e.getShapeCfg(n),s=o.shape||o.type,l=t.draw(s,o,r);l&&(e.set("keyShape",l),l.set("isKeyShape",!0),l.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",s),this.restoreStates(t,s)}},i.prototype.setOriginStyle=function(e){var t={},r=this.get("group"),n=r.get("children"),a=this.getKeyShape(),o=this;(0,u.each)(n,function(f){var h=f.get("name");if(h)t[h]=o.getShapeStyleByName(h);else{var c=a.get("name"),v=o.getShapeStyleByName();c?t[c]=v:Object.assign(t,v)}});var s=this.getOriginStyle(),l={};e?l=(0,u.deepMix)({},s,t,e.style,{labelCfg:e.labelCfg}):l=(0,u.deepMix)({},s,t),o.set("originStyle",l)},i.prototype.restoreStates=function(e,t){var r=this,n=r.get("states");(0,u.each)(n,function(a){e.setState(t,a,!0,r)})},i.prototype.init=function(){var e=hi.getFactory(this.get("type"));this.set("shapeFactory",e)},i.prototype.get=function(e){return this._cfg[e]},i.prototype.set=function(e,t){(0,u.isPlainObject)(e)?this._cfg=ce(ce({},this._cfg),e):this._cfg[e]=t},i.prototype.getDefaultCfg=function(){return{}},i.prototype.clearCache=function(){this.set(zh,null),this.set(Xh,null)},i.prototype.beforeDraw=function(){},i.prototype.afterDraw=function(){},i.prototype.afterUpdate=function(){},i.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},i.prototype.getShapeStyleByName=function(e){var t=this.get("group"),r=this.getKeyShape();if(e&&(r=t.find(function(a){return a.get("name")===e})),r){var n={};return(0,u.each)(r.attr(),function(a,o){o!=="img"&&(n[o]=a)}),n}return{}},i.prototype.getShapeCfg=function(e){var t=this.get("styles");if(t){var r=e;return r.style=ce(ce({},t),e.style),r}return e},i.prototype.getStateStyle=function(e){var t=this.get("styles"),r=t&&t[e];return r},i.prototype.getOriginStyle=function(){return this.get("originStyle")},i.prototype.getCurrentStatesStyle=function(){var e=this,t={};return(0,u.each)(e.getStates(),function(r){t=Object.assign(t,e.getStateStyle(r))}),t},i.prototype.setState=function(e,t){var r=this.get("states"),n=this.get("shapeFactory"),a=e,o=e;(0,u.isString)(t)&&(a=e+":"+t,o=e+":");var s=r;if((0,u.isBoolean)(t)){var l=r.indexOf(o);if(t){if(l>-1)return;r.push(a)}else l>-1&&r.splice(l,1)}else if((0,u.isString)(t)){var f=r.filter(function(v){return v.includes(o)});f.length>0&&this.clearStates(f),s=s.filter(function(v){return!v.includes(o)}),s.push(a),this.set("states",s)}if(n){var h=this.get("model"),c=h.shape||h.type;n.setState(c,e,t,this)}},i.prototype.clearStates=function(e){var t=this,r=t.getStates(),n=t.get("shapeFactory"),a=t.get("model"),o=a.shape||a.type;e||(e=r),(0,u.isString)(e)&&(e=[e]);var s=r.filter(function(l){return e.indexOf(l)===-1});t.set("states",s),e.forEach(function(l){n.setState(o,l,!1,t)})},i.prototype.getContainer=function(){return this.get("group")},i.prototype.getKeyShape=function(){return this.get("keyShape")},i.prototype.getModel=function(){return this.get("model")},i.prototype.getType=function(){return this.get("type")},i.prototype.getID=function(){return this.get("id")},i.prototype.isItem=function(){return!0},i.prototype.getStates=function(){return this.get("states")},i.prototype.hasState=function(e){var t=this.getStates();return t.indexOf(e)>=0},i.prototype.refresh=function(){var e=this.get("model");this.updatePosition(e),this.updateShape(),this.afterUpdate(),this.clearCache()},i.prototype.isOnlyMove=function(e){return!1},i.prototype.update=function(e){var t=this.get("model"),r=t.visible,n=e.visible;r!==n&&n!==void 0&&this.changeVisibility(n);var a={x:t.x,y:t.y};e.x=isNaN(e.x)?t.x:e.x,e.y=isNaN(e.y)?t.y:e.y;var o=this.get("styles");if(e.stateStyles){var s=e.stateStyles;(0,u.mix)(o,s),delete e.stateStyles}Object.assign(t,e);var l=this.isOnlyMove(e);l?this.updatePosition(e):((a.x!==e.x||a.y!==e.y)&&this.updatePosition(e),this.updateShape()),this.afterUpdate(),this.clearCache()},i.prototype.updateShape=function(){var e=this.get("shapeFactory"),t=this.get("model"),r=t.shape||t.type;if(e.shouldUpdate(r)&&r===this.get("currentShape")){var n=this.getShapeCfg(t);e.baseUpdate(r,n,this)}else this.draw();this.setOriginStyle(t),this.restoreStates(e,r)},i.prototype.updatePosition=function(e){var t=this.get("model"),r=(0,u.isNil)(e.x)?t.x:e.x,n=(0,u.isNil)(e.y)?t.y:e.y,a=this.get("group");(0,u.isNil)(r)||(0,u.isNil)(n)||(a.resetMatrix(),Cm(a,{x:r,y:n}),t.x=r,t.y=n,this.clearCache())},i.prototype.getBBox=function(){var e=this.get(zh);return e||(e=this.calculateBBox(),this.set(zh,e)),e},i.prototype.getCanvasBBox=function(){var e=this.get(Xh);return e||(e=this.calculateCanvasBBox(),this.set(Xh,e)),e},i.prototype.toFront=function(){var e=this.get("group");e.toFront()},i.prototype.toBack=function(){var e=this.get("group");e.toBack()},i.prototype.show=function(){this.changeVisibility(!0)},i.prototype.hide=function(){this.changeVisibility(!1)},i.prototype.changeVisibility=function(e){var t=this.get("group");e?t.show():t.hide(),this.set("visible",e)},i.prototype.isVisible=function(){return this.get("visible")},i.prototype.enableCapture=function(e){var t=this.get("group");t&&t.set("capture",e)},i.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),t=this.get("group");e&&t.stopAnimate(),this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},i}(),ix=UR,au={source:"start",target:"end"},za="Node",qo="Point",ZR="Anchor",KR=function(i){Kn(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},e.prototype.setEnd=function(t,r){var n=au[t]+qo,a=t+za,o=this.get(a);o&&!o.destroyed&&o.removeEdge(this),(0,u.isPlainObject)(r)?(this.set(n,r),this.set(a,null)):(r.addEdge(this),this.set(a,r),this.set(n,null))},e.prototype.getLinkPoint=function(t,r,n){var a=au[t]+qo,o=t+za,s=this.get(a);if(!s){var l=this.get(o),f=t+ZR,h=this.getPrePoint(t,n),c=r[f];(0,u.isNil)(c)||(s=l.getLinkPointByAnchor(c)),s=s||l.getLinkPoint(h),(0,u.isNil)(s.index)||this.set(t+"AnchorIndex",s.index)}return s},e.prototype.getPrePoint=function(t,r){if(r&&r.length){var n=t==="source"?0:r.length-1;return r[n]}var a=t==="source"?"target":"source";return this.getEndPoint(a)},e.prototype.getEndPoint=function(t){var r=t+za,n=au[t]+qo,a=this.get(r);return a?a.get("model"):this.get(n)},e.prototype.getControlPointsByCenter=function(t){var r=this.getEndPoint("source"),n=this.getEndPoint("target"),a=this.get("shapeFactory"),o=t.shape||t.type;return a.getControlPoints(o,{startPoint:r,endPoint:n})},e.prototype.getEndCenter=function(t){var r=t+za,n=au[t]+qo,a=this.get(r);if(a){var o=a.getBBox();return{x:o.centerX,y:o.centerY}}return this.get(n)},e.prototype.init=function(){i.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},e.prototype.getShapeCfg=function(t){var r=this,n=r.get("linkCenter"),a=i.prototype.getShapeCfg.call(this,t);if(n)a.startPoint=r.getEndCenter("source"),a.endPoint=r.getEndCenter("target");else{var o=a.controlPoints||r.getControlPointsByCenter(a);a.startPoint=r.getLinkPoint("source",t,o),a.endPoint=r.getLinkPoint("target",t,o)}return a.sourceNode=r.get("sourceNode"),a.targetNode=r.get("targetNode"),a},e.prototype.getModel=function(){var t=this.get("model"),r=this.get("source"+za),n=this.get("target"+za);return r?delete t["source"+za]:t.source=this.get("start"+qo),n?delete t["target"+za]:t.target=this.get("end"+qo),!(0,u.isString)(t.source)&&!(0,u.isPlainObject)(t.source)&&(t.source=t.source.getID()),!(0,u.isString)(t.target)&&!(0,u.isPlainObject)(t.target)&&(t.target=t.target.getID()),t},e.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},e.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},e.prototype.getSource=function(){return this.get("source")},e.prototype.getTarget=function(){return this.get("target")},e.prototype.updatePosition=function(){},e.prototype.update=function(t){var r=this.get("model"),n=r.visible,a=t.visible;n!==a&&a!==void 0&&this.changeVisibility(a);var o=this.get("styles");if(t.stateStyles){var s=t.stateStyles;(0,u.mix)(o,s),delete t.stateStyles}Object.assign(r,t),this.updateShape(),this.afterUpdate(),this.clearCache()},e.prototype.destroy=function(){var t=this.get("source"+za),r=this.get("target"+za);t&&!t.destroyed&&t.removeEdge(this),r&&!r.destroyed&&r.removeEdge(this),i.prototype.destroy.call(this)},e}(ix),$R=KR,_s=d(66974),Vh="anchorPointsCache",QR="bboxCache",JR=function(i){Kn(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getNearestPoint=function(t,r){for(var n=0,a=t[0],o=Es(t[0],r),s=0;s<t.length;s++){var l=t[s],f=Es(l,r);f<o&&(a=l,o=f,n=s)}return a.anchorIndex=n,a},e.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(r){return r.get("target")===t})},e.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(r){return r.get("source")===t})},e.prototype.getNeighbors=function(t){var r=this,n=this.get("edges");if(t==="target"){var a=function(f){return f.getSource()===r};return n.filter(a).map(function(l){return l.getTarget()})}if(t==="source"){var o=function(f){return f.getTarget()===r};return n.filter(o).map(function(l){return l.getSource()})}var s=function(f){return f.getSource()===r?f.getTarget():f.getSource()};return n.map(s)},e.prototype.getLinkPointByAnchor=function(t){var r=this.getAnchorPoints();return r[t]},e.prototype.getLinkPoint=function(t){var r=this.get("keyShape"),n=r.get("type"),a=this.get("type"),o,s,l=this.getBBox();a==="combo"?(o=(l.maxX+l.minX)/2,s=(l.maxY+l.minY)/2):(o=l.centerX,s=l.centerY);var f=this.getAnchorPoints(),h;switch(n){case"circle":h=bm({x:o,y:s,r:l.width/2},t);break;case"ellipse":h=wm({x:o,y:s,rx:l.width/2,ry:l.height/2},t);break;default:h=xm(l,t)}var c=h;return f.length&&(c||(c=t),c=this.getNearestPoint(f,c)),c||(c={x:o,y:s}),c},e.prototype.getAnchorPoints=function(){var t=this.get(Vh);if(!t){t=[];var r=this.get("shapeFactory"),n=this.getBBox(),a=this.get("model"),o=this.getShapeCfg(a),s=a.shape||a.type,l=r.getAnchorPoints(s,o)||[];(0,Bn.default)(l,function(f,h){var c=(0,_s.default)({x:n.minX+f[0]*n.width,y:n.minY+f[1]*n.height},f[2],{index:h});t.push(c)}),this.set(Vh,t)}return t},e.prototype.addEdge=function(t){this.get("edges").push(t)},e.prototype.lock=function(){this.set("locked",!0)},e.prototype.unlock=function(){this.set("locked",!1)},e.prototype.hasLocked=function(){return this.get("locked")},e.prototype.removeEdge=function(t){var r=this.getEdges(),n=r.indexOf(t);n>-1&&r.splice(n,1)},e.prototype.clearCache=function(){this.set(QR,null),this.set(Vh,null)},e.prototype.isOnlyMove=function(t){if(!t)return!1;var r=!(0,Di.default)(t.x),n=!(0,Di.default)(t.y),a=Object.keys(t);return a.length===1&&(r||n)||a.length===2&&r&&n},e}(ix),ax=JR,qR="bboxCache",ox="bboxCanvasCache",Hh="sizeCache",t3="anchorPointsCache",e3=function(i){Kn(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},e.prototype.getShapeCfg=function(t){var r=this.get("styles"),n=this.get("bbox");if(r&&n){var a=t,o={r:Math.hypot(n.height,n.width)/2||er.defaultCombo.size[0]/2,width:n.width||er.defaultCombo.size[0],height:n.height||er.defaultCombo.size[1]};a.style=ce(ce(ce({},r),t.style),o);var s=t.padding||er.defaultCombo.padding;return(0,ka.default)(s)?(o.r+=s,o.width+=s*2,o.height+=s*2):(o.r+=s[0],o.width+=s[1]+s[3]||s[1]*2,o.height+=s[0]+s[2]||s[0]*2),this.set(Hh,o),a}return t},e.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),r=this.get("group"),n=eu(t,r);n.x=n.minX,n.y=n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var a=this.get(Hh);if(a){var o=t.get("type");o==="circle"?(n.width=a.r*2,n.height=a.r*2):(n.width=a.width,n.height=a.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2}else n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;return n},e.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},e.prototype.getNodes=function(){var t=this;return t.get("nodes")},e.prototype.getCombos=function(){var t=this;return t.get("combos")},e.prototype.addChild=function(t){var r=this,n=t.getType();switch(n){case"node":r.addNode(t);break;case"combo":r.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.addCombo=function(t){var r=this;return r.get("combos").push(t),!0},e.prototype.addNode=function(t){var r=this;return r.get("nodes").push(t),!0},e.prototype.removeChild=function(t){var r=this,n=t.getType();switch(n){case"node":r.removeNode(t);break;case"combo":r.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.removeCombo=function(t){if(!!t){var r=this.getCombos(),n=r.indexOf(t);return n>-1?(r.splice(n,1),!0):!1}},e.prototype.removeNode=function(t){if(!!t){var r=this.getNodes(),n=r.indexOf(t);return n>-1?(r.splice(n,1),!0):!1}},e.prototype.isOnlyMove=function(t){return!1},e.prototype.getBBox=function(){this.set(ox,null);var t=this.calculateCanvasBBox();return t},e.prototype.clearCache=function(){this.set(qR,null),this.set(ox,null),this.set(t3,null)},e.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),r=this.get("group");t&&r.stopAnimate(),this.clearCache(),this.set(Hh,null),this.set("bbox",null),r.remove(),this._cfg=null,this.destroyed=!0}},e}(ax),r3=e3,ou="node",su="edge",sx="vedge",lu="combo",n3="default",lx="Mapper",no="stateStyles",i3=Object.hasOwnProperty,a3=function(){function i(e){this.graph=e,this.destroyed=!1}return i.prototype.addItem=function(e,t){var r=this,n=this.graph,a=e===sx?su:e,o=n.get(a+"Group")||n.get("group"),s=(0,jm.default)(a),l=null,f=n.get(a+(0,jm.default)(no))||{},h=n.get(n3+s);t[no]&&(f=t[no]);var c=n.get(a+lx);if(c){var v=c(t);v[no]&&(f=v[no],delete v[no]),t=(0,ji.default)({},h,t,v)}else h&&(0,Bn.default)(h,function(gt,mt){i3.call(t,mt)||((0,Wm.default)(gt)?t[mt]=(0,Hm.default)(gt):t[mt]=h[mt])});if(t.shape&&!t.type&&console.warn("shape \u5B57\u6BB5\u5373\u5C06\u88AB\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 type \u4EE3\u66FF"),n.emit("beforeadditem",{type:e,model:t}),e===su||e===sx){var x=void 0,P=void 0;if(x=t.source,P=t.target,x&&(0,Tn.default)(x)&&(x=n.findById(x)),P&&(0,Tn.default)(P)&&(P=n.findById(P)),!x||!P){console.warn("The source or target node of edge "+t.id+" does not exist!");return}x.getType&&x.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(x)),P.getType&&P.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(P)),l=new $R({model:t,source:x,target:P,styles:f,linkCenter:n.get("linkCenter"),group:o.addGroup()})}else if(e===ou)l=new ax({model:t,styles:f,group:o.addGroup()});else if(e===lu){var D=t.children,X=Nh(D,n);t.x=X.x||t.x||Math.random()*100,t.y=X.y||t.y||Math.random()*100;var K=o.addGroup();K.setZIndex(t.depth),l=new r3({model:t,styles:f,bbox:X,group:K});var Z=l.getModel();(D||[]).forEach(function(gt){var mt=n.findById(gt.id);l.addChild(mt),gt.depth=Z.depth+2}),t.collapsed&&setTimeout(function(){n.collapseCombo(l),r.updateCombo(l,[])},250)}if(l)return n.get(e+"s").push(l),n.get("itemMap")[l.get("id")]=l,n.emit("afteradditem",{item:l,model:t}),l},i.prototype.updateItem=function(e,t){var r=this.graph;if((0,Tn.default)(e)&&(e=r.findById(e)),!(!e||e.destroyed)){var n="";e.getType&&(n=e.getType());var a=r.get(n+lx),o=e.getModel();if(a){var s=(0,ji.default)({},o,t),l=a(s),f=(0,ji.default)({},o,l,t);l[no]&&(e.set("styles",f[no]),delete f[no]),(0,Bn.default)(f,function(x,P){t[P]=x})}else(0,Bn.default)(t,function(x,P){o[P]&&(0,Wm.default)(x)&&!(0,Fi.default)(x)&&(t[P]=ce(ce({},o[P]),t[P]))});if(r.emit("beforeupdateitem",{item:e,cfg:t}),n===su){if(t.source){var h=t.source;(0,Tn.default)(h)&&(h=r.findById(h)),e.setSource(h)}if(t.target){var c=t.target;(0,Tn.default)(c)&&(c=r.findById(c)),e.setTarget(c)}}if(e.update(t),n===ou||n===lu){var v=e.getEdges();(0,Bn.default)(v,function(x){x.refresh()})}r.emit("afterupdateitem",{item:e,cfg:t})}},i.prototype.updateCombo=function(e,t){var r=this.graph;if((0,Tn.default)(e)&&(e=r.findById(e)),!(!e||e.destroyed)){var n=Nh(t,r);e.set("bbox",n),e.update({x:n.x,y:n.y});for(var a=e.getEdges()||[],o=a.length,s=0;s<o;s++){var l=a[s];l==null||l.refresh()}}},i.prototype.collapseCombo=function(e){var t=this.graph;(0,Tn.default)(e)&&(e=t.findById(e));var r=e.getChildren();r.nodes.forEach(function(n){t.hideItem(n)}),r.combos.forEach(function(n){t.hideItem(n)})},i.prototype.expandCombo=function(e){var t=this.graph;(0,Tn.default)(e)&&(e=t.findById(e));var r=e.getChildren();r.nodes.forEach(function(n){t.showItem(n)}),r.combos.forEach(function(n){n.getModel().collapsed?n.show():t.showItem(n)})},i.prototype.removeItem=function(e){var t=this,r=this.graph;if((0,Tn.default)(e)&&(e=r.findById(e)),!(!e||e.destroyed)){var n=(0,Hm.default)(e.getModel());r.emit("beforeremoveitem",{item:n});var a="";e.getType&&(a=e.getType());var o=r.get(a+"s"),s=o.indexOf(e);if(s>-1&&o.splice(s,1),a===su){var l=r.get("v"+a+"s"),f=l.indexOf(e);f>-1&&l.splice(f,1)}var h=e.get("id"),c=r.get("itemMap");delete c[h];var v=r.get("comboTrees"),x=e.get("id");if(a===ou){var P=e.getModel().comboId;if(v){var D=v,X=!1;v.forEach(function(Zt){X||qi(Zt,function(ee){if(ee.id===x&&D){var ue=D.indexOf(ee);return D.splice(ue,1),X=!0,!1}return D=ee.children,!0})})}for(var K=e.getEdges(),Z=K.length-1;Z>=0;Z--)r.removeItem(K[Z],!1);P&&r.updateCombo(P)}else if(a===lu){var gt=e.getModel().parentId,mt,Nt=!1;(v||[]).forEach(function(ee){Nt||qi(ee,function(ue){return ue.id===x?(mt=ue,Nt=!0,!1):!0})}),mt.removed=!0,mt&&mt.children&&mt.children.forEach(function(ee){t.removeItem(ee.id)});for(var K=e.getEdges(),Z=K.length;Z>=0;Z--)r.removeItem(K[Z],!1);gt&&r.updateCombo(gt)}e.destroy(),r.emit("afterremoveitem",{item:n})}},i.prototype.setItemState=function(e,t,r){var n=this.graph,a=t;(0,Tn.default)(r)&&(a=t+":"+r),!(e.hasState(a)===r||(0,Tn.default)(r)&&e.hasState(a))&&(n.emit("beforeitemstatechange",{item:e,state:a,enabled:r}),e.setState(t,r),n.autoPaint(),n.emit("afteritemstatechange",{item:e,state:a,enabled:r}))},i.prototype.priorityState=function(e,t){var r=this.graph,n=e;(0,Tn.default)(e)&&(n=r.findById(e)),this.setItemState(n,t,!1),this.setItemState(n,t,!0)},i.prototype.clearItemStates=function(e,t){var r=this.graph;(0,Tn.default)(e)&&(e=r.findById(e)),r.emit("beforeitemstatesclear",{item:e,states:t}),e.clearStates(t),r.emit("afteritemstatesclear",{item:e,states:t})},i.prototype.refreshItem=function(e){var t=this.graph;(0,Tn.default)(e)&&(e=t.findById(e)),t.emit("beforeitemrefresh",{item:e}),e.refresh(),t.emit("afteritemrefresh",{item:e})},i.prototype.addCombos=function(e,t){var r=this,n=this.graph;(e||[]).forEach(function(o){Pa(o,function(s){var l;return t.forEach(function(f){f.id===s.id&&(f.children=s.children,f.depth=s.depth,l=f)}),l&&r.addItem("combo",l),!0})});var a=n.get("comboGroup");a&&a.sort()},i.prototype.changeItemVisibility=function(e,t){var r=this,n=this.graph;if((0,Tn.default)(e)&&(e=n.findById(e)),!e){console.warn("The item to be shown or hidden does not exist!");return}if(n.emit("beforeitemvisibilitychange",{item:e,visible:t}),e.changeVisibility(t),e.getType&&e.getType()===ou){var a=e.getEdges();(0,Bn.default)(a,function(h){t&&!(h.get("source").isVisible()&&h.get("target").isVisible())||r.changeItemVisibility(h,t)})}else if(e.getType&&e.getType()===lu){var o=n.get("comboTrees"),s=e.get("id"),l=[],f=!1;(o||[]).forEach(function(c){f||!c.children||c.children.length===0||qi(c,function(v){return v.id===s?(l=v.children,f=!0,!1):!0})}),l.forEach(function(c){var v=n.findById(c.id);r.changeItemVisibility(v,t)});var a=e.getEdges();(0,Bn.default)(a,function(c){t&&!(c.get("source").isVisible()&&c.get("target").isVisible())||r.changeItemVisibility(c,t)})}return n.emit("afteritemvisibilitychange",{item:e,visible:t}),e},i.prototype.destroy=function(){this.graph=null,this.destroyed=!0},i}(),o3=a3,_a=function(){function i(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1}return i.prototype.init=function(e){var t=this;t.nodes=e.nodes||[],t.edges=e.edges||[],t.combos=e.combos||[]},i.prototype.execute=function(){},i.prototype.layout=function(e){var t=this;t.init(e),t.execute()},i.prototype.getDefaultCfg=function(){return{}},i.prototype.updateCfg=function(e){var t=this;(0,_s.default)(t,e)},i.prototype.destroy=function(){var e=this;e.positions=null,e.nodes=null,e.edges=null,e.destroyed=!0},i}(),ux={registerLayout:function(e,t,r){if(r===void 0&&(r=_a),!t)throw new Error("please specify handler for this layout: "+e);var n=function(a){Kn(o,a);function o(s){var l=a.call(this)||this,f=l,h={},c=f.getDefaultCfg();return(0,_s.default)(h,c,t,s),(0,Bn.default)(h,function(v,x){f[x]=v}),l}return o}(r);ux[e]=n}},fx=ux;function s3(i,e,t,r){i.forEach(function(n,a){i[a].children=[],i[a].parent=[]}),r?e.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].parent.push(i[a].id)}):e.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].children.push(i[a].id)})}function l3(i,e,t){for(var r=t.length,n=0;n<r;n++)if(i.id===t[n].source&&e.id===t[n].target||e.id===t[n].source&&i.id===t[n].target)return!0;return!1}function u3(i,e){return i.degree<e.degree?-1:i.degree>e.degree?1:0}var f3=function(i){Kn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.radius=null,t.startRadius=null,t.endRadius=null,t.startAngle=0,t.endAngle=2*Math.PI,t.clockwise=!0,t.divisions=1,t.ordering=null,t.angleRatio=1,t.nodes=[],t.edges=[],t.nodeMap={},t.degrees=[],t.width=300,t.height=300,t}return e.prototype.getDefaultCfg=function(){return{center:[0,0],radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},e.prototype.execute=function(){var t=this,r=t.nodes,n=t.edges,a=r.length,o=t.center;if(a!==0){if(a===1){r[0].x=o[0],r[0].y=o[1];return}var s=t.radius,l=t.startRadius,f=t.endRadius,h=t.divisions,c=t.startAngle,v=t.endAngle,x=(v-c)/a,P={};r.forEach(function(ne,xe){P[ne.id]=xe}),t.nodeMap=P;var D=$l(r.length,P,n);t.degrees=D,!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),!s&&!l&&!f?s=t.height>t.width?t.width/2:t.height/2:!l&&f?l=f:l&&!f&&(f=l);var X=t.angleRatio,K=x*X;t.astep=K;var Z=t.ordering,gt=[];Z==="topology"?gt=t.topologyOrdering():Z==="topology-directed"?gt=t.topologyOrdering(!0):Z==="degree"?gt=t.degreeOrdering():gt=r;for(var mt=t.clockwise,Nt=Math.ceil(a/h),Zt=0;Zt<a;++Zt){var ee=s;!ee&&l!==null&&f!==null&&(ee=l+Zt*(f-l)/(a-1)),ee||(ee=10+Zt*100/(a-1));var ue=c+Zt%Nt*K+2*Math.PI/h*Math.floor(Zt/Nt);mt||(ue=v-Zt%Nt*K-2*Math.PI/h*Math.floor(Zt/Nt)),gt[Zt].x=o[0]+Math.cos(ue)*ee,gt[Zt].y=o[1]+Math.sin(ue)*ee,gt[Zt].weight=D[Zt]}}},e.prototype.topologyOrdering=function(t){t===void 0&&(t=!1);var r=this,n=r.degrees,a=r.edges,o=r.nodes,s=(0,u.clone)(o),l=r.nodeMap,f=[s[0]],h=[o[0]],c=[],v=o.length;c[0]=!0,s3(s,a,l,t);var x=0;return s.forEach(function(P,D){if(D!==0)if((D===v-1||n[D]!==n[D+1]||l3(f[x],P,a))&&c[D]!==!0)f.push(P),h.push(o[l[P.id]]),c[D]=!0,x++;else{for(var X=f[x].children,K=!1,Z=0;Z<X.length;Z++){var gt=l[X[Z]];if(n[gt]===n[D]&&c[gt]!==!0){f.push(s[gt]),h.push(o[l[s[gt].id]]),c[gt]=!0,K=!0;break}}for(var mt=0;!K&&(c[mt]||(f.push(s[mt]),h.push(o[l[s[mt].id]]),c[mt]=!0,K=!0),mt++,mt!==v););}}),h},e.prototype.degreeOrdering=function(){var t=this,r=t.nodes,n=[],a=t.degrees;return r.forEach(function(o,s){o.degree=a[s],n.push(o)}),n.sort(u3),n},e}(_a),h3=f3,c3=function(i){Kn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeSize=30,t.minNodeSpacing=10,t.preventOverlap=!1,t.equidistant=!1,t.startAngle=3/2*Math.PI,t.clockwise=!0,t.sortBy="degree",t.nodes=[],t.edges=[],t.width=300,t.height=300,t}return e.prototype.getDefaultCfg=function(){return{center:[0,0],nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},e.prototype.execute=function(){var t=this,r=t.nodes,n=t.edges,a=r.length,o=t.center;if(a!==0){if(a===1){r[0].x=o[0],r[0].y=o[1];return}var s=[],l;(0,Fi.default)(t.nodeSize)?l=Math.max(t.nodeSize[0],t.nodeSize[1]):l=t.nodeSize,r.forEach(function(ue){s.push(ue);var ne=l;(0,Fi.default)(ue.size)?ne=Math.max(ue.size[0],ue.size[1]):(0,u.isNumber)(ue.size)&&(ne=ue.size),l=Math.max(l,ne)}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),t.clockwise=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise;var f={},h={};if(s.forEach(function(ue,ne){f[ue.id]=ue,h[ue.id]=ne}),(t.sortBy==="degree"||!(0,Tn.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",!(0,u.isNumber)(r[0].degree))){var c=$l(r.length,h,n);s.forEach(function(ue,ne){ue.degree=c[ne]})}s.sort(function(ue,ne){return ne[t.sortBy]-ue[t.sortBy]}),t.maxValueNode=s[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;var v=[[]],x=v[0];s.forEach(function(ue){if(x.length>0){var ne=Math.abs(x[0][t.sortBy]-ue[t.sortBy]);t.maxLevelDiff&&ne>=t.maxLevelDiff&&(x=[],v.push(x))}x.push(ue)});var P=l+t.minNodeSpacing;if(!t.preventOverlap){var D=v.length>0&&v[0].length>1,X=Math.min(t.width,t.height)/2-P,K=X/(v.length+(D?1:0));P=Math.min(P,K)}var Z=0;if(v.forEach(function(ue){var ne=t.sweep;ne===void 0&&(ne=2*Math.PI-2*Math.PI/ue.length);var xe=ue.dTheta=ne/Math.max(1,ue.length-1);if(ue.length>1&&t.preventOverlap){var Pe=Math.cos(xe)-Math.cos(0),Ye=Math.sin(xe)-Math.sin(0),He=Math.sqrt(P*P/(Pe*Pe+Ye*Ye));Z=Math.max(He,Z)}ue.r=Z,Z+=P}),t.equidistant){for(var gt=0,mt=0,Nt=0;Nt<v.length;Nt++){var Zt=v[Nt],ee=Zt.r-mt;gt=Math.max(gt,ee)}mt=0,v.forEach(function(ue,ne){ne===0&&(mt=ue.r),ue.r=mt,mt+=gt})}v.forEach(function(ue){var ne=ue.dTheta,xe=ue.r;ue.forEach(function(Pe,Ye){var He=t.startAngle+(t.clockwise?1:-1)*ne*Ye;Pe.x=o[0]+xe*Math.cos(He),Pe.y=o[1]+xe*Math.sin(He)})})}},e}(_a),v3=c3,d3=d(49772),hx=d.n(d3),p3=function(i){Kn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.rankdir="TB",t.nodesep=50,t.ranksep=50,t.controlPoints=!1,t.sortByCombo=!1,t}return e.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}},e.prototype.execute=function(){var t=this,r=t.nodes,n=t.nodeSize,a=t.rankdir;if(!!r){var o=t.edges||[],s=new(hx()).graphlib.Graph,l;n?(0,Fi.default)(n)?l=function(){return n}:l=function(){return[n,n]}:l=function(x){return x.size?(0,Fi.default)(x.size)?x.size:[x.size,x.size]:[40,40]};var f=uu(t.nodesepFunc,t.nodesep,50),h=uu(t.ranksepFunc,t.ranksep,50);(a==="LR"||a==="RL")&&(f=uu(t.ranksepFunc,t.ranksep,50),h=uu(t.nodesepFunc,t.nodesep,50)),s.setDefaultEdgeLabel(function(){return{}}),s.setGraph(t),r.forEach(function(v){var x=l(v),P=h(v),D=f(v),X=x[0]+2*D,K=x[1]+2*P;s.setNode(v.id,{width:X,height:K})}),o.forEach(function(v){s.setEdge(v.source,v.target,{weight:v.weight||1})}),hx().layout(s);var c;s.nodes().forEach(function(v){c=s.node(v);var x=r.findIndex(function(P){return P.id===v});r[x].x=c.x,r[x].y=c.y}),s.edges().forEach(function(v){c=s.edge(v);var x=o.findIndex(function(P){return P.source===v.v&&P.target===v.w});t.controlPoints&&o[x].type!=="loop"&&o[x].shape!=="loop"&&(o[x].controlPoints=c.points.slice(1,c.points.length-1))}),t.sortByCombo&&t.sortLevel("comboId")}},e.prototype.sortLevel=function(t){var r=this,n=r.nodes,a={};n.forEach(function(o){a[o.y]||(a[o.y]={y:o.y,nodes:[]}),a[o.y].nodes.push(o)}),Object.keys(a).forEach(function(o){var s=a[o].nodes,l=s.length,f={};if(s.forEach(function(D){var X=D.comboId;f[X]||(f[X]={x:0,y:0,count:0}),f[X].x+=D.x,f[X].y+=D.y,f[X].count++}),Object.keys(f).forEach(function(D){f[D].x/=f[D].count,f[D].y/=f[D].count}),l!==1){var h=s.sort(function(D,X){return D.x-X.x}),c=h[0].x,v=h[l-1].x,x=(v-c)/(l-1),P=s.sort(function(D,X){var K=D[t]||"undefined",Z=X[t]||"undefined";return K<Z?-1:K>Z?1:0});P.forEach(function(D,X){D.x=c+X*x})}})},e}(_a),g3=p3;function uu(i,e,t){var r;return i?r=i:(0,u.isNumber)(e)?r=function(){return e}:r=function(){return t},r}function y3(i){const e=+this._x.call(null,i),t=+this._y.call(null,i);return cx(this.cover(e,t),e,t,i)}function cx(i,e,t,r){if(isNaN(e)||isNaN(t))return i;var n,a=i._root,o={data:r},s=i._x0,l=i._y0,f=i._x1,h=i._y1,c,v,x,P,D,X,K,Z;if(!a)return i._root=o,i;for(;a.length;)if((D=e>=(c=(s+f)/2))?s=c:f=c,(X=t>=(v=(l+h)/2))?l=v:h=v,n=a,!(a=a[K=X<<1|D]))return n[K]=o,i;if(x=+i._x.call(null,a.data),P=+i._y.call(null,a.data),e===x&&t===P)return o.next=a,n?n[K]=o:i._root=o,i;do n=n?n[K]=new Array(4):i._root=new Array(4),(D=e>=(c=(s+f)/2))?s=c:f=c,(X=t>=(v=(l+h)/2))?l=v:h=v;while((K=X<<1|D)==(Z=(P>=v)<<1|x>=c));return n[Z]=a,n[K]=o,i}function m3(i){var e,t,r=i.length,n,a,o=new Array(r),s=new Array(r),l=Infinity,f=Infinity,h=-Infinity,c=-Infinity;for(t=0;t<r;++t)isNaN(n=+this._x.call(null,e=i[t]))||isNaN(a=+this._y.call(null,e))||(o[t]=n,s[t]=a,n<l&&(l=n),n>h&&(h=n),a<f&&(f=a),a>c&&(c=a));if(l>h||f>c)return this;for(this.cover(l,f).cover(h,c),t=0;t<r;++t)cx(this,o[t],s[t],i[t]);return this}function x3(i,e){if(isNaN(i=+i)||isNaN(e=+e))return this;var t=this._x0,r=this._y0,n=this._x1,a=this._y1;if(isNaN(t))n=(t=Math.floor(i))+1,a=(r=Math.floor(e))+1;else{for(var o=n-t||1,s=this._root,l,f;t>i||i>=n||r>e||e>=a;)switch(f=(e<r)<<1|i<t,l=new Array(4),l[f]=s,s=l,o*=2,f){case 0:n=t+o,a=r+o;break;case 1:t=n-o,a=r+o;break;case 2:n=t+o,r=a-o;break;case 3:t=n-o,r=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=t,this._y0=r,this._x1=n,this._y1=a,this}function b3(){var i=[];return this.visit(function(e){if(!e.length)do i.push(e.data);while(e=e.next)}),i}function w3(i){return arguments.length?this.cover(+i[0][0],+i[0][1]).cover(+i[1][0],+i[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function sa(i,e,t,r,n){this.node=i,this.x0=e,this.y0=t,this.x1=r,this.y1=n}function S3(i,e,t){var r,n=this._x0,a=this._y0,o,s,l,f,h=this._x1,c=this._y1,v=[],x=this._root,P,D;for(x&&v.push(new sa(x,n,a,h,c)),t==null?t=Infinity:(n=i-t,a=e-t,h=i+t,c=e+t,t*=t);P=v.pop();)if(!(!(x=P.node)||(o=P.x0)>h||(s=P.y0)>c||(l=P.x1)<n||(f=P.y1)<a))if(x.length){var X=(o+l)/2,K=(s+f)/2;v.push(new sa(x[3],X,K,l,f),new sa(x[2],o,K,X,f),new sa(x[1],X,s,l,K),new sa(x[0],o,s,X,K)),(D=(e>=K)<<1|i>=X)&&(P=v[v.length-1],v[v.length-1]=v[v.length-1-D],v[v.length-1-D]=P)}else{var Z=i-+this._x.call(null,x.data),gt=e-+this._y.call(null,x.data),mt=Z*Z+gt*gt;if(mt<t){var Nt=Math.sqrt(t=mt);n=i-Nt,a=e-Nt,h=i+Nt,c=e+Nt,r=x.data}}return r}function M3(i){if(isNaN(h=+this._x.call(null,i))||isNaN(c=+this._y.call(null,i)))return this;var e,t=this._root,r,n,a,o=this._x0,s=this._y0,l=this._x1,f=this._y1,h,c,v,x,P,D,X,K;if(!t)return this;if(t.length)for(;;){if((P=h>=(v=(o+l)/2))?o=v:l=v,(D=c>=(x=(s+f)/2))?s=x:f=x,e=t,!(t=t[X=D<<1|P]))return this;if(!t.length)break;(e[X+1&3]||e[X+2&3]||e[X+3&3])&&(r=e,K=X)}for(;t.data!==i;)if(n=t,!(t=t.next))return this;return(a=t.next)&&delete t.next,n?(a?n.next=a:delete n.next,this):e?(a?e[X]=a:delete e[X],(t=e[0]||e[1]||e[2]||e[3])&&t===(e[3]||e[2]||e[1]||e[0])&&!t.length&&(r?r[K]=t:this._root=t),this):(this._root=a,this)}function C3(i){for(var e=0,t=i.length;e<t;++e)this.remove(i[e]);return this}function E3(){return this._root}function A3(){var i=0;return this.visit(function(e){if(!e.length)do++i;while(e=e.next)}),i}function T3(i){var e=[],t,r=this._root,n,a,o,s,l;for(r&&e.push(new sa(r,this._x0,this._y0,this._x1,this._y1));t=e.pop();)if(!i(r=t.node,a=t.x0,o=t.y0,s=t.x1,l=t.y1)&&r.length){var f=(a+s)/2,h=(o+l)/2;(n=r[3])&&e.push(new sa(n,f,h,s,l)),(n=r[2])&&e.push(new sa(n,a,h,f,l)),(n=r[1])&&e.push(new sa(n,f,o,s,h)),(n=r[0])&&e.push(new sa(n,a,o,f,h))}return this}function P3(i){var e=[],t=[],r;for(this._root&&e.push(new sa(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var n=r.node;if(n.length){var a,o=r.x0,s=r.y0,l=r.x1,f=r.y1,h=(o+l)/2,c=(s+f)/2;(a=n[0])&&e.push(new sa(a,o,s,h,c)),(a=n[1])&&e.push(new sa(a,h,s,l,c)),(a=n[2])&&e.push(new sa(a,o,c,h,f)),(a=n[3])&&e.push(new sa(a,h,c,l,f))}t.push(r)}for(;r=t.pop();)i(r.node,r.x0,r.y0,r.x1,r.y1);return this}function _3(i){return i[0]}function O3(i){return arguments.length?(this._x=i,this):this._x}function L3(i){return i[1]}function I3(i){return arguments.length?(this._y=i,this):this._y}function Wh(i,e,t){var r=new jh(e==null?_3:e,t==null?L3:t,NaN,NaN,NaN,NaN);return i==null?r:r.addAll(i)}function jh(i,e,t,r,n,a){this._x=i,this._y=e,this._x0=t,this._y0=r,this._x1=n,this._y1=a,this._root=void 0}function vx(i){for(var e={data:i.data},t=e;i=i.next;)t=t.next={data:i.data};return e}var la=Wh.prototype=jh.prototype;la.copy=function(){var i=new jh(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,t,r;if(!e)return i;if(!e.length)return i._root=vx(e),i;for(t=[{source:e,target:i._root=new Array(4)}];e=t.pop();)for(var n=0;n<4;++n)(r=e.source[n])&&(r.length?t.push({source:r,target:e.target[n]=new Array(4)}):e.target[n]=vx(r));return i},la.add=y3,la.addAll=m3,la.cover=x3,la.data=b3,la.extent=w3,la.find=S3,la.remove=M3,la.removeAll=C3,la.root=E3,la.size=A3,la.visit=T3,la.visitAfter=P3,la.x=O3,la.y=I3;function ua(i){return function(){return i}}function mo(i){return(i()-.5)*1e-6}var k3={value:function(){}};function dx(){for(var i=0,e=arguments.length,t={},r;i<e;++i){if(!(r=arguments[i]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new fu(t)}function fu(i){this._=i}function B3(i,e){return i.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}fu.prototype=dx.prototype={constructor:fu,on:function(e,t){var r=this._,n=B3(e+"",r),a,o=-1,s=n.length;if(arguments.length<2){for(;++o<s;)if((a=(e=n[o]).type)&&(a=D3(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(a=(e=n[o]).type)r[a]=px(r[a],e.name,t);else if(t==null)for(a in r)r[a]=px(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new fu(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,o;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,a=o.length;n<a;++n)o[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,o=n.length;a<o;++a)n[a].value.apply(t,r)}};function D3(i,e){for(var t=0,r=i.length,n;t<r;++t)if((n=i[t]).name===e)return n.value}function px(i,e,t){for(var r=0,n=i.length;r<n;++r)if(i[r].name===e){i[r]=k3,i=i.slice(0,r).concat(i.slice(r+1));break}return t!=null&&i.push({name:e,value:t}),i}var F3=dx,ts=0,Os=0,Ls=0,gx=1e3,hu,Is,cu=0,Ro=0,vu=0,ks=typeof performance=="object"&&performance.now?performance:Date,yx=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function mx(){return Ro||(yx(R3),Ro=ks.now()+vu)}function R3(){Ro=0}function Uh(){this._call=this._time=this._next=null}Uh.prototype=xx.prototype={constructor:Uh,restart:function(i,e,t){if(typeof i!="function")throw new TypeError("callback is not a function");t=(t==null?mx():+t)+(e==null?0:+e),!this._next&&Is!==this&&(Is?Is._next=this:hu=this,Is=this),this._call=i,this._time=t,Zh()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Zh())}};function xx(i,e,t){var r=new Uh;return r.restart(i,e,t),r}function N3(){mx(),++ts;for(var i=hu,e;i;)(e=Ro-i._time)>=0&&i._call.call(null,e),i=i._next;--ts}function bx(){Ro=(cu=ks.now())+vu,ts=Os=0;try{N3()}finally{ts=0,G3(),Ro=0}}function Y3(){var i=ks.now(),e=i-cu;e>gx&&(vu-=e,cu=i)}function G3(){for(var i,e=hu,t,r=Infinity;e;)e._call?(r>e._time&&(r=e._time),i=e,e=e._next):(t=e._next,e._next=null,e=i?i._next=t:hu=t);Is=i,Zh(r)}function Zh(i){if(!ts){Os&&(Os=clearTimeout(Os));var e=i-Ro;e>24?(i<Infinity&&(Os=setTimeout(bx,i-ks.now()-vu)),Ls&&(Ls=clearInterval(Ls))):(Ls||(cu=ks.now(),Ls=setInterval(Y3,gx)),ts=1,yx(bx))}}var z3=1664525,X3=1013904223,wx=4294967296;function V3(){var i=1;return function(){return(i=(z3*i+X3)%wx)/wx}}function H3(i){return i.x}function W3(i){return i.y}var j3=10,U3=Math.PI*(3-Math.sqrt(5));function Sx(i){var e,t=1,r=.001,n=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,l=xx(c),f=F3("tick","end"),h=V3();i==null&&(i=[]);function c(){v(),f.call("tick",e),t<r&&(l.stop(),f.call("end",e))}function v(D){var X,K=i.length,Z;D===void 0&&(D=1);for(var gt=0;gt<D;++gt)for(t+=(a-t)*n,s.forEach(function(mt){mt(t)}),X=0;X<K;++X)Z=i[X],Z.fx==null?Z.x+=Z.vx*=o:(Z.x=Z.fx,Z.vx=0),Z.fy==null?Z.y+=Z.vy*=o:(Z.y=Z.fy,Z.vy=0);return e}function x(){for(var D=0,X=i.length,K;D<X;++D){if(K=i[D],K.index=D,K.fx!=null&&(K.x=K.fx),K.fy!=null&&(K.y=K.fy),isNaN(K.x)||isNaN(K.y)){var Z=j3*Math.sqrt(.5+D),gt=D*U3;K.x=Z*Math.cos(gt),K.y=Z*Math.sin(gt)}(isNaN(K.vx)||isNaN(K.vy))&&(K.vx=K.vy=0)}}function P(D){return D.initialize&&D.initialize(i,h),D}return x(),e={tick:v,restart:function(){return l.restart(c),e},stop:function(){return l.stop(),e},nodes:function(X){return arguments.length?(i=X,x(),s.forEach(P),e):i},alpha:function(X){return arguments.length?(t=+X,e):t},alphaMin:function(X){return arguments.length?(r=+X,e):r},alphaDecay:function(X){return arguments.length?(n=+X,e):+n},alphaTarget:function(X){return arguments.length?(a=+X,e):a},velocityDecay:function(X){return arguments.length?(o=1-X,e):1-o},randomSource:function(X){return arguments.length?(h=X,s.forEach(P),e):h},force:function(X,K){return arguments.length>1?(K==null?s.delete(X):s.set(X,P(K)),e):s.get(X)},find:function(X,K,Z){var gt=0,mt=i.length,Nt,Zt,ee,ue,ne;for(Z==null?Z=Infinity:Z*=Z,gt=0;gt<mt;++gt)ue=i[gt],Nt=X-ue.x,Zt=K-ue.y,ee=Nt*Nt+Zt*Zt,ee<Z&&(ne=ue,Z=ee);return ne},on:function(X,K){return arguments.length>1?(f.on(X,K),e):f.on(X)}}}function Mx(){var i,e,t,r,n=ua(-30),a,o=1,s=Infinity,l=.81;function f(x){var P,D=i.length,X=Wh(i,H3,W3).visitAfter(c);for(r=x,P=0;P<D;++P)e=i[P],X.visit(v)}function h(){if(!!i){var x,P=i.length,D;for(a=new Array(P),x=0;x<P;++x)D=i[x],a[D.index]=+n(D,x,i)}}function c(x){var P=0,D,X,K=0,Z,gt,mt;if(x.length){for(Z=gt=mt=0;mt<4;++mt)(D=x[mt])&&(X=Math.abs(D.value))&&(P+=D.value,K+=X,Z+=X*D.x,gt+=X*D.y);x.x=Z/K,x.y=gt/K}else{D=x,D.x=D.data.x,D.y=D.data.y;do P+=a[D.data.index];while(D=D.next)}x.value=P}function v(x,P,D,X){if(!x.value)return!0;var K=x.x-e.x,Z=x.y-e.y,gt=X-P,mt=K*K+Z*Z;if(gt*gt/l<mt)return mt<s&&(K===0&&(K=mo(t),mt+=K*K),Z===0&&(Z=mo(t),mt+=Z*Z),mt<o&&(mt=Math.sqrt(o*mt)),e.vx+=K*x.value*r/mt,e.vy+=Z*x.value*r/mt),!0;if(x.length||mt>=s)return;(x.data!==e||x.next)&&(K===0&&(K=mo(t),mt+=K*K),Z===0&&(Z=mo(t),mt+=Z*Z),mt<o&&(mt=Math.sqrt(o*mt)));do x.data!==e&&(gt=a[x.data.index]*r/mt,e.vx+=K*gt,e.vy+=Z*gt);while(x=x.next)}return f.initialize=function(x,P){i=x,t=P,h()},f.strength=function(x){return arguments.length?(n=typeof x=="function"?x:ua(+x),h(),f):n},f.distanceMin=function(x){return arguments.length?(o=x*x,f):Math.sqrt(o)},f.distanceMax=function(x){return arguments.length?(s=x*x,f):Math.sqrt(s)},f.theta=function(x){return arguments.length?(l=x*x,f):Math.sqrt(l)},f}function Z3(i,e){var t,r=1;i==null&&(i=0),e==null&&(e=0);function n(){var a,o=t.length,s,l=0,f=0;for(a=0;a<o;++a)s=t[a],l+=s.x,f+=s.y;for(l=(l/o-i)*r,f=(f/o-e)*r,a=0;a<o;++a)s=t[a],s.x-=l,s.y-=f}return n.initialize=function(a){t=a},n.x=function(a){return arguments.length?(i=+a,n):i},n.y=function(a){return arguments.length?(e=+a,n):e},n.strength=function(a){return arguments.length?(r=+a,n):r},n}function K3(i){return i.index}function Cx(i,e){var t=i.get(e);if(!t)throw new Error("node not found: "+e);return t}function Ex(i){var e=K3,t=c,r,n=ua(30),a,o,s,l,f,h=1;i==null&&(i=[]);function c(X){return 1/Math.min(s[X.source.index],s[X.target.index])}function v(X){for(var K=0,Z=i.length;K<h;++K)for(var gt=0,mt,Nt,Zt,ee,ue,ne,xe;gt<Z;++gt)mt=i[gt],Nt=mt.source,Zt=mt.target,ee=Zt.x+Zt.vx-Nt.x-Nt.vx||mo(f),ue=Zt.y+Zt.vy-Nt.y-Nt.vy||mo(f),ne=Math.sqrt(ee*ee+ue*ue),ne=(ne-a[gt])/ne*X*r[gt],ee*=ne,ue*=ne,Zt.vx-=ee*(xe=l[gt]),Zt.vy-=ue*xe,Nt.vx+=ee*(xe=1-xe),Nt.vy+=ue*xe}function x(){if(!!o){var X,K=o.length,Z=i.length,gt=new Map(o.map(function(Nt,Zt){return[e(Nt,Zt,o),Nt]})),mt;for(X=0,s=new Array(K);X<Z;++X)mt=i[X],mt.index=X,typeof mt.source!="object"&&(mt.source=Cx(gt,mt.source)),typeof mt.target!="object"&&(mt.target=Cx(gt,mt.target)),s[mt.source.index]=(s[mt.source.index]||0)+1,s[mt.target.index]=(s[mt.target.index]||0)+1;for(X=0,l=new Array(Z);X<Z;++X)mt=i[X],l[X]=s[mt.source.index]/(s[mt.source.index]+s[mt.target.index]);r=new Array(Z),P(),a=new Array(Z),D()}}function P(){if(!!o)for(var X=0,K=i.length;X<K;++X)r[X]=+t(i[X],X,i)}function D(){if(!!o)for(var X=0,K=i.length;X<K;++X)a[X]=+n(i[X],X,i)}return v.initialize=function(X,K){o=X,f=K,x()},v.links=function(X){return arguments.length?(i=X,x(),v):i},v.id=function(X){return arguments.length?(e=X,v):e},v.iterations=function(X){return arguments.length?(h=+X,v):h},v.strength=function(X){return arguments.length?(t=typeof X=="function"?X:ua(+X),P(),v):t},v.distance=function(X){return arguments.length?(n=typeof X=="function"?X:ua(+X),D(),v):n},v}function $3(i){return i.x+i.vx}function Q3(i){return i.y+i.vy}function Ax(i){var e,t,r,n=1,a=1;typeof i!="function"&&(i=ua(i==null?1:+i));function o(){for(var f,h=e.length,c,v,x,P,D,X,K=0;K<a;++K)for(c=Wh(e,$3,Q3).visitAfter(s),f=0;f<h;++f)v=e[f],D=t[v.index],X=D*D,x=v.x+v.vx,P=v.y+v.vy,c.visit(Z);function Z(gt,mt,Nt,Zt,ee){var ue=gt.data,ne=gt.r,xe=D+ne;if(ue){if(ue.index>v.index){var Pe=x-ue.x-ue.vx,Ye=P-ue.y-ue.vy,He=Pe*Pe+Ye*Ye;He<xe*xe&&(Pe===0&&(Pe=mo(r),He+=Pe*Pe),Ye===0&&(Ye=mo(r),He+=Ye*Ye),He=(xe-(He=Math.sqrt(He)))/He*n,v.vx+=(Pe*=He)*(xe=(ne*=ne)/(X+ne)),v.vy+=(Ye*=He)*xe,ue.vx-=Pe*(xe=1-xe),ue.vy-=Ye*xe)}return}return mt>x+xe||Zt<x-xe||Nt>P+xe||ee<P-xe}}function s(f){if(f.data)return f.r=t[f.data.index];for(var h=f.r=0;h<4;++h)f[h]&&f[h].r>f.r&&(f.r=f[h].r)}function l(){if(!!e){var f,h=e.length,c;for(t=new Array(h),f=0;f<h;++f)c=e[f],t[c.index]=+i(c,f,e)}}return o.initialize=function(f,h){e=f,r=h,l()},o.iterations=function(f){return arguments.length?(a=+f,o):a},o.strength=function(f){return arguments.length?(n=+f,o):n},o.radius=function(f){return arguments.length?(i=typeof f=="function"?f:ua(+f),l(),o):i},o}function J3(i){var e=ua(.1),t,r,n;typeof i!="function"&&(i=ua(i==null?0:+i));function a(s){for(var l=0,f=t.length,h;l<f;++l)h=t[l],h.vx+=(n[l]-h.x)*r[l]*s}function o(){if(!!t){var s,l=t.length;for(r=new Array(l),n=new Array(l),s=0;s<l;++s)r[s]=isNaN(n[s]=+i(t[s],s,t))?0:+e(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:ua(+s),o(),a):e},a.x=function(s){return arguments.length?(i=typeof s=="function"?s:ua(+s),o(),a):i},a}function q3(i){var e=ua(.1),t,r,n;typeof i!="function"&&(i=ua(i==null?0:+i));function a(s){for(var l=0,f=t.length,h;l<f;++l)h=t[l],h.vy+=(n[l]-h.y)*r[l]*s}function o(){if(!!t){var s,l=t.length;for(r=new Array(l),n=new Array(l),s=0;s<l;++s)r[s]=isNaN(n[s]=+i(t[s],s,t))?0:+e(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(e=typeof s=="function"?s:ua(+s),o(),a):e},a.y=function(s){return arguments.length?(i=typeof s=="function"?s:ua(+s),o(),a):i},a}function tN(){function i(yr){return function(){return yr}}var e=function(Ir){return Ir.cluster},t=i(1),r=i(-1),n=i(100),a=i(.1),o=[0,0],s=[],l={},f=[],h=100,c=100,v={none:{x:0,y:0}},x=[],P,D="force",X=!0,K=.1;function Z(yr){if(!X)return Z;P.tick(),ue();for(var Ir=0,Vr=s.length,Br=void 0,kr=yr*K;Ir<Vr;++Ir)Br=s[Ir],Br.vx+=(v[e(Br)].x-Br.x)*kr,Br.vy+=(v[e(Br)].y-Br.y)*kr}function gt(){!s||mt()}function mt(){if(!(!s||!s.length)){if(e(s[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var yr=Nt();P=Sx(yr.nodes).force("x",J3(h).strength(.1)).force("y",q3(c).strength(.1)).force("collide",Ax(function(Ir){return Ir.r}).iterations(4)).force("charge",Mx().strength(r)).force("links",Ex(yr.nodes.length?yr.links:[]).distance(n).strength(a)),x=P.nodes(),ue()}}function Nt(){var yr=[],Ir=[],Vr={},Br=[],kr={},_n=[];return kr=Zt(s),_n=ee(f),Br=Object.keys(kr),Br.forEach(function(mn,Nr){var lr=kr[mn];yr.push({id:mn,size:lr.count,r:Math.sqrt(lr.sumforceNodeSize/Math.PI)}),Vr[mn]=Nr}),_n.forEach(function(mn){var Nr=Vr[mn.source],lr=Vr[mn.target];Nr!==void 0&&lr!==void 0&&Ir.push({source:Nr,target:lr,count:mn.count})}),{nodes:yr,links:Ir}}function Zt(yr){var Ir={};return yr.forEach(function(Vr){var Br=e(Vr);Ir[Br]||(Ir[Br]={count:0,sumforceNodeSize:0})}),yr.forEach(function(Vr){var Br=e(Vr),kr=t(Vr),_n=Ir[Br];_n.count=_n.count+1,_n.sumforceNodeSize=_n.sumforceNodeSize+Math.PI*(kr*kr)*1.3,Ir[Br]=_n}),Ir}function ee(yr){var Ir={},Vr=[];yr.forEach(function(kr){var _n=ne(kr),mn=0;Ir[_n]!==void 0&&(mn=Ir[_n]),mn+=1,Ir[_n]=mn});var Br=Object.entries(Ir);return Br.forEach(function(kr){var _n=kr[0],mn=kr[1],Nr=_n.split("~")[0],lr=_n.split("~")[1];Nr!==void 0&&lr!==void 0&&Vr.push({source:Nr,target:lr,count:mn})}),Vr}function ue(){return v={none:{x:0,y:0}},x.forEach(function(yr){v[yr.id]={x:yr.x-o[0],y:yr.y-o[1]}}),v}function ne(yr){var Ir=e(l[yr.source]),Vr=e(l[yr.target]);return Ir<=Vr?Ir+"~"+Vr:Vr+"~"+Ir}function xe(yr){l={},yr.forEach(function(Ir){l[Ir.id]=Ir})}function Pe(yr){return arguments.length?(D=yr,gt(),Z):D}function Ye(yr){return arguments.length?typeof yr=="string"?(e=function(Vr){return Vr[yr]},Z):(e=yr,Z):e}function He(yr){return arguments.length?(X=yr,Z):X}function Ze(yr){return arguments.length?(K=yr,Z):K}function Ue(yr){return arguments.length?(h=yr,Z):h}function ur(yr){return arguments.length?(c=yr,Z):c}function wr(yr){return arguments.length?(xe(yr||[]),s=yr||[],Z):s}function mr(yr){return arguments.length?(f=yr||[],gt(),Z):f}function pr(yr){return arguments.length?(typeof yr=="function"?t=yr:t=i(+yr),gt(),Z):t}function fr(yr){return arguments.length?(typeof yr=="function"?r=yr:r=i(+yr),gt(),Z):r}function Yr(yr){return arguments.length?(typeof yr=="function"?n=yr:n=i(+yr),gt(),Z):n}function _r(yr){return arguments.length?(typeof yr=="function"?a=yr:a=i(+yr),gt(),Z):a}function Fr(yr){return arguments.length?(o=yr,Z):o}return Z.initialize=function(yr){s=yr,gt()},Z.template=Pe,Z.groupBy=Ye,Z.enableGrouping=He,Z.strength=Ze,Z.centerX=Ue,Z.centerY=ur,Z.nodes=wr,Z.links=mr,Z.forceNodeSize=pr,Z.nodeSize=Z.forceNodeSize,Z.forceCharge=fr,Z.forceLinkDistance=Yr,Z.forceLinkStrength=_r,Z.offset=Fr,Z.getFocis=ue,Z}var io={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK"},eN=function(i){Kn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeStrength=null,t.edgeStrength=null,t.preventOverlap=!1,t.clusterNodeStrength=null,t.clusterEdgeStrength=null,t.clusterEdgeDistance=null,t.clusterNodeSize=null,t.clusterFociStrength=null,t.linkDistance=50,t.alphaDecay=.028,t.alphaMin=.001,t.alpha=.3,t.collideStrength=1,t.workerEnabled=!1,t.tick=function(){},t.onLayoutEnd=function(){},t.onTick=function(){},t.ticking=void 0,t}return e.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},onTick:function(){},workerEnabled:!1}},e.prototype.init=function(t){var r=this;r.nodes=t.nodes||[];var n=t.edges||[];r.edges=n.map(function(a){var o={},s=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(a).forEach(function(l){s.indexOf(l)>-1||(o[l]=a[l])}),o}),r.ticking=!1},e.prototype.execute=function(t){var r=this,n=r.nodes,a=r.edges;if(!r.ticking){var o=r.forceSimulation,s=r.alphaMin,l=r.alphaDecay,f=r.alpha;if(o)t&&(r.clustering&&r.clusterForce&&(r.clusterForce.nodes(n),r.clusterForce.links(a)),o.nodes(n),r.edgeForce.links(a)),r.preventOverlap&&r.overlapProcess(o),o.alpha(f).restart(),this.ticking=!0;else try{var h=Mx();if(r.nodeStrength&&h.strength(r.nodeStrength),o=Sx().nodes(n),r.clustering){var c=tN();c.centerX(r.center[0]).centerY(r.center[1]).template("force").strength(r.clusterFociStrength),a&&c.links(a),n&&c.nodes(n),c.forceLinkDistance(r.clusterEdgeDistance).forceLinkStrength(r.clusterEdgeStrength).forceCharge(r.clusterNodeStrength).forceNodeSize(r.clusterNodeSize),r.clusterForce=c,o.force("group",c)}if(o.force("center",Z3(r.center[0],r.center[1])).force("charge",h).alpha(f).alphaDecay(l).alphaMin(s),r.preventOverlap&&r.overlapProcess(o),a){var v=Ex().id(function(D){return D.id}).links(a);r.edgeStrength&&v.strength(r.edgeStrength),r.linkDistance&&v.distance(r.linkDistance),r.edgeForce=v,o.force("link",v)}if(r.workerEnabled&&!iN()&&(r.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!r.workerEnabled)o.on("tick",function(){r.tick()}).on("end",function(){r.ticking=!1,r.onLayoutEnd&&r.onLayoutEnd()}),r.ticking=!0;else{o.stop();for(var x=nN(o),P=1;P<=x;P++)o.tick(),postMessage({type:io.TICK,currentTick:P,totalTicks:x,nodes:n},void 0);r.ticking=!1}r.forceSimulation=o,r.ticking=!0}catch(D){r.ticking=!1,console.warn(D)}}},e.prototype.overlapProcess=function(t){var r=this,n=r.nodeSize,a=r.nodeSpacing,o,s,l=r.collideStrength;if((0,ka.default)(a)?s=function(){return a}:(0,Zs.default)(a)?s=a:s=function(){return 0},!n)o=function(x){if(x.size){if((0,Fi.default)(x.size)){var P=x.size[0]>x.size[1]?x.size[0]:x.size[1];return P/2+s(x)}return x.size/2+s(x)}return 10+s(x)};else if((0,Zs.default)(n))o=function(x){var P=n(x);return P+s(x)};else if((0,Fi.default)(n)){var f=n[0]>n[1]?n[0]:n[1],h=f/2;o=function(x){return h+s(x)}}else if((0,ka.default)(n)){var c=n/2;o=function(x){return c+s(x)}}else o=function(){return 10};t.force("collisionForce",Ax(o).strength(l))},e.prototype.updateCfg=function(t){var r=this;r.ticking&&(r.forceSimulation.stop(),r.ticking=!1),r.forceSimulation=null,(0,_s.default)(r,t)},e.prototype.destroy=function(){var t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.nodes=null,t.edges=null,t.destroyed=!0},e}(_a),rN=eN;function nN(i){var e=i.alphaMin(),t=i.alphaTarget(),r=i.alpha(),n=Math.log((e-t)/(r-t))/Math.log(1-i.alphaDecay()),a=Math.ceil(n);return a}function iN(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}var aN=function(i){Kn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=500,t.gravity=10,t.clustering=!1,t.clusterGravity=10,t.linkDistance=50,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.linkStrength=1,t.nodeStrength=30,t.preventOverlap=!1,t.collideStrength=1,t.optimizeRangeFactor=1,t.tick=function(){},t.nodes=[],t.edges=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.nodeIdxMap={},t}return e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,clustering:!1,clusterGravity:10,preventOverlap:!1,nodeSpacing:void 0,collideStrength:10}},e.prototype.execute=function(){var t=this,r=t.nodes,n=t.center;if(!(!r||r.length===0)){if(r.length===1){r[0].x=n[0],r[0].y=n[1];return}var a={},o={};r.forEach(function(s,l){a[s.id]=s,o[s.id]=l}),t.nodeMap=a,t.nodeIdxMap=o,t.run()}},e.prototype.run=function(){var t=this,r=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.velocityDecay,l=t.clustering,f;t.initVals(),l&&(f=t.getClusterMap());for(var h=function(X){var K=[];r.forEach(function(Z,gt){K[gt]={x:0,y:0}}),t.applyCalculate(r,n,K),l&&t.applyClusterForce(f,K),r.forEach(function(Z,gt){!(0,u.isNumber)(Z.x)||!(0,u.isNumber)(Z.y)||(Z.x+=K[gt].x*s,Z.y+=K[gt].y*s)}),c.alpha+=(c.alphaTarget-c.alpha)*c.alphaDecay,t.tick()},c=this,v=0;v<a;v++)h(v);var x=[0,0];r.forEach(function(D){!(0,u.isNumber)(D.x)||!(0,u.isNumber)(D.y)||(x[0]+=D.x,x[1]+=D.y)}),x[0]/=r.length,x[1]/=r.length;var P=[o[0]-x[0],o[1]-x[1]];r.forEach(function(D,X){!(0,u.isNumber)(D.x)||!(0,u.isNumber)(D.y)||(D.x+=P[0],D.y+=P[1])})},e.prototype.initVals=function(){for(var t=this,r=t.edges,n={},a=0;a<r.length;++a)n[r[a].source]?n[r[a].source]++:n[r[a].source]=1,n[r[a].target]?n[r[a].target]++:n[r[a].target]=1;for(var o=[],a=0;a<r.length;++a)o[a]=n[r[a].source]/(n[r[a].source]+n[r[a].target]);this.bias=o;var s=t.nodeSize,l=t.nodeSpacing,f,h;if((0,u.isNumber)(l)?h=function(){return l}:(0,u.isFunction)(l)?h=l:h=function(){return 0},!s)f=function(Nt){if(Nt.size){if((0,u.isArray)(Nt.size)){var Zt=Nt.size[0]>Nt.size[1]?Nt.size[0]:Nt.size[1];return Zt/2+h(Nt)}return Nt.size/2+h(Nt)}return 10+h(Nt)};else if((0,u.isFunction)(s))f=function(Nt){var Zt=s(Nt);return Zt+h(Nt)};else if((0,u.isArray)(s)){var c=s[0]>s[1]?s[0]:s[1],v=c/2;f=function(Nt){return v+h(Nt)}}else if((0,u.isNumber)(s)){var x=s/2;f=function(Nt){return x+h(Nt)}}else f=function(){return 10};this.nodeSize=f;var P=this.linkDistance,D;P||(P=50),(0,u.isNumber)(P)&&(D=function(Nt){return P}),this.linkDistance=D;var X=this.linkStrength,K;X||(X=1),(0,u.isNumber)(X)&&(K=function(Nt){return X}),this.linkStrength=K;var Z=this.nodeStrength,gt;Z||(Z=30),(0,u.isNumber)(Z)&&(gt=function(Nt){return Z}),this.nodeStrength=gt},e.prototype.getClusterMap=function(){var t=this,r=t.nodes,n={};r.forEach(function(o){if(n[o.cluster]===void 0){var s={name:o.cluster,cx:0,cy:0,count:0};n[o.cluster]=s}var l=n[o.cluster];(0,u.isNumber)(o.x)&&(l.cx+=o.x),(0,u.isNumber)(o.y)&&(l.cy+=o.y),l.count++});for(var a in n)n[a].cx/=n[a].count,n[a].cy/=n[a].count;return n},e.prototype.applyClusterForce=function(t,r){var n=this,a=n.gravity,o=n.nodes,s=n.clusterGravity||a,l=this.alpha;o.forEach(function(h,c){if(!(!(0,u.isNumber)(h.x)||!(0,u.isNumber)(h.y))){var v=t[h.cluster],x=h.x-v.cx,P=h.y-v.cy,D=Math.sqrt(x*x+P*P);r[c].x-=x*s*l/D,r[c].y-=P*s*l/D}});for(var f in t)t[f].cx=0,t[f].cy=0,t[f].count=0;o.forEach(function(h){var c=t[h.cluster];(0,u.isNumber)(h.x)&&(c.cx+=h.x),(0,u.isNumber)(h.y)&&(c.cy+=h.y),c.count++});for(var f in t)t[f].cx/=t[f].count,t[f].cy/=t[f].count},e.prototype.applyCalculate=function(t,r,n){var a=this,o={};t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(f,h){if(!(l<h)){var c=s.x-f.x,v=s.y-f.y,x=c*c+v*v;x<1&&(x=Math.sqrt(x)),c===0&&(c=Math.random()*.01,x+=c*c),v===0&&(v=Math.random()*.01,x+=v*v);var P=Math.sqrt(x);o[s.id+"-"+f.id]={vx:c,vy:v,vl:x,sqrtVl:P},o[f.id+"-"+s.id]={vx:-c,vy:-v,vl:x,sqrtVl:P}}})}),a.calRepulsive(t,n,o),a.calAttractive(r,n,o)},e.prototype.calRepulsive=function(t,r,n){var a=this.width*this.optimizeRangeFactor*this.width*this.optimizeRangeFactor,o=this.nodeStrength,s=this.alpha,l=this.collideStrength,f=this.preventOverlap,h=this.nodeSize;t.forEach(function(c,v){t.forEach(function(x,P){if(v!==P&&!(!(0,u.isNumber)(c.x)||!(0,u.isNumber)(x.x)||!(0,u.isNumber)(c.y)||!(0,u.isNumber)(x.y))){var D=n[c.id+"-"+x.id],X=D.vl,K=D.vx,Z=D.vy;if(!(X>a)&&(r[v].x+=K*o(x)*s/X,r[v].y+=Z*o(x)*s/X,f&&v<P)){var gt=h(c),mt=h(x),Nt=gt+mt;if(X<Nt*Nt){var Zt=n[c.id+"-"+x.id].sqrtVl,ee=(Nt-Zt)/Zt*l,ue=mt*mt/(gt*gt+mt*mt),ne=K*ee,xe=Z*ee;r[v].x+=ne*ue,r[v].y+=xe*ue,ue=1-ue,r[P].x-=ne*ue,r[P].y-=xe*ue}}}})})},e.prototype.calAttractive=function(t,r,n){var a=this,o=this.linkDistance,s=this.alpha,l=this.linkStrength,f=this.bias;t.forEach(function(h,c){if(!(!h.source||!h.target)){var v=a.nodeIdxMap[h.source],x=a.nodeIdxMap[h.target];if(v!==x){var P=a.nodeMap[h.source],D=a.nodeMap[h.target];if(!(!(0,u.isNumber)(D.x)||!(0,u.isNumber)(P.x)||!(0,u.isNumber)(D.y)||!(0,u.isNumber)(P.y))){var X=n[h.target+"-"+h.source],K=X.vl,Z=X.sqrtVl,gt=X.vx,mt=X.vy,Nt=(Z-o(h))/Z*s*l(h),Zt=gt*Nt,ee=mt*Nt,ue=f[c];r[x].x-=Zt*ue,r[x].y-=ee*ue,r[v].x+=Zt*(1-ue),r[v].y+=ee*(1-ue)}}}})},e}(_a),oN=aN,sN=800,lN=function(i){Kn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.gravity=10,t.speed=1,t.clustering=!1,t.clusterGravity=10,t.nodes=[],t.edges=[],t.width=300,t.height=300,t.nodeMap={},t.nodeIdxMap={},t}return e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,speed:1,clustering:!1,clusterGravity:10}},e.prototype.execute=function(){var t=this,r=this,n=r.nodes,a=r.center;if(!(!n||n.length===0)){if(n.length===1){n[0].x=a[0],n[0].y=a[1];return}var o={},s={};n.forEach(function(l,f){(0,u.isNumber)(l.x)||(l.x=Math.random()*t.width),(0,u.isNumber)(l.y)||(l.y=Math.random()*t.height),o[l.id]=l,s[l.id]=f}),r.nodeMap=o,r.nodeIdxMap=s,r.run()}},e.prototype.run=function(){var t=this,r=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.width/10,l=Math.sqrt(t.width*t.height/(r.length+1)),f=t.gravity,h=t.speed,c=t.clustering,v={};if(c){r.forEach(function(X){if(v[X.cluster]===void 0){var K={name:X.cluster,cx:0,cy:0,count:0};v[X.cluster]=K}var Z=v[X.cluster];(0,u.isNumber)(X.x)&&(Z.cx+=X.x),(0,u.isNumber)(X.y)&&(Z.cy+=X.y),Z.count++});for(var x in v)v[x].cx/=v[x].count,v[x].cy/=v[x].count}for(var P=function(K){var Z=[];if(r.forEach(function(Nt,Zt){Z[Zt]={x:0,y:0}}),t.applyCalculate(r,n,Z,l),c){var gt=t.clusterGravity||f;r.forEach(function(Nt,Zt){if(!(!(0,u.isNumber)(Nt.x)||!(0,u.isNumber)(Nt.y))){var ee=v[Nt.cluster],ue=Math.sqrt((Nt.x-ee.cx)*(Nt.x-ee.cx)+(Nt.y-ee.cy)*(Nt.y-ee.cy)),ne=l*gt;Z[Zt].x-=ne*(Nt.x-ee.cx)/ue,Z[Zt].y-=ne*(Nt.y-ee.cy)/ue}});for(var mt in v)v[mt].cx=0,v[mt].cy=0,v[mt].count=0;r.forEach(function(Nt){var Zt=v[Nt.cluster];(0,u.isNumber)(Nt.x)&&(Zt.cx+=Nt.x),(0,u.isNumber)(Nt.y)&&(Zt.cy+=Nt.y),Zt.count++});for(var mt in v)v[mt].cx/=v[mt].count,v[mt].cy/=v[mt].count}r.forEach(function(Nt,Zt){if(!(!(0,u.isNumber)(Nt.x)||!(0,u.isNumber)(Nt.y))){var ee=.01*l*f;Z[Zt].x-=ee*(Nt.x-o[0]),Z[Zt].y-=ee*(Nt.y-o[1])}}),r.forEach(function(Nt,Zt){if(!(!(0,u.isNumber)(Nt.x)||!(0,u.isNumber)(Nt.y))){var ee=Math.sqrt(Z[Zt].x*Z[Zt].x+Z[Zt].y*Z[Zt].y);if(ee>0){var ue=Math.min(s*(h/sN),ee);Nt.x+=Z[Zt].x/ee*ue,Nt.y+=Z[Zt].y/ee*ue}}})},D=0;D<a;D++)P(D)},e.prototype.applyCalculate=function(t,r,n,a){var o=this;o.calRepulsive(t,n,a),o.calAttractive(r,n,a)},e.prototype.calRepulsive=function(t,r,n){t.forEach(function(a,o){r[o]={x:0,y:0},t.forEach(function(s,l){if(o!==l&&!(!(0,u.isNumber)(a.x)||!(0,u.isNumber)(s.x)||!(0,u.isNumber)(a.y)||!(0,u.isNumber)(s.y))){var f=a.x-s.x,h=a.y-s.y,c=f*f+h*h;if(c===0){c=1;var v=o>l?1:-1;f=.01*v,h=.01*v}var x=n*n/c;r[o].x+=f*x,r[o].y+=h*x}})})},e.prototype.calAttractive=function(t,r,n){var a=this;t.forEach(function(o){if(!(!o.source||!o.target)){var s=a.nodeIdxMap[o.source],l=a.nodeIdxMap[o.target];if(s!==l){var f=a.nodeMap[o.source],h=a.nodeMap[o.target];if(!(!(0,u.isNumber)(h.x)||!(0,u.isNumber)(f.x)||!(0,u.isNumber)(h.y)||!(0,u.isNumber)(f.y))){var c=h.x-f.x,v=h.y-f.y,x=Math.sqrt(c*c+v*v),P=x*x/n;r[l].x-=c/x*P,r[l].y-=v/x*P,r[s].x+=c/x*P,r[s].y+=v/x*P}}}})},e}(_a),uN=lN,fN=function(i){Kn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.begin=[0,0],t.preventOverlap=!0,t.preventOverlapPadding=10,t.condense=!1,t.sortBy="degree",t.nodeSize=30,t.nodes=[],t.edges=[],t.center=[0,0],t.width=300,t.height=300,t.row=0,t.col=0,t.cellWidth=0,t.cellHeight=0,t.cellUsed={},t.id2manPos={},t}return e.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},e.prototype.execute=function(){var t=this,r=t.nodes,n=r.length,a=t.center;if(n!==0){if(n===1){r[0].x=a[0],r[0].y=a[1];return}var o=t.edges,s=[];r.forEach(function(Z){s.push(Z)});var l={};if(s.forEach(function(Z,gt){l[Z.id]=gt}),(t.sortBy==="degree"||!(0,Tn.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",eo(r[0].degree))){var f=$l(s.length,l,o);s.forEach(function(Z,gt){Z.degree=f[gt]})}s.sort(function(Z,gt){return gt[t.sortBy]-Z[t.sortBy]}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var h=t.rows,c=t.cols!=null?t.cols:t.columns;if(t.cells=n,h!=null&&c!=null?(t.rows=h,t.cols=c):h!=null&&c==null?(t.rows=h,t.cols=Math.ceil(t.cells/t.rows)):h==null&&c!=null?(t.cols=c,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.cols*t.rows>t.cells){var v=t.small(),x=t.large();(v-1)*x>=t.cells?t.small(v-1):(x-1)*v>=t.cells&&t.large(x-1)}else for(;t.cols*t.rows<t.cells;){var v=t.small(),x=t.large();(x+1)*v>=t.cells?t.large(x+1):t.small(v+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&s.forEach(function(Z){(!Z.x||!Z.y)&&(Z.x=0,Z.y=0);var gt,mt;(0,u.isArray)(Z.size)?(gt=Z.size[0],mt=Z.size[1]):(0,u.isNumber)(Z.size)&&(gt=Z.size,mt=Z.size),(gt===void 0||mt===void 0)&&((0,u.isArray)(t.nodeSize)?(gt=t.nodeSize[0],mt=t.nodeSize[1]):(0,u.isNumber)(t.nodeSize)?(gt=t.nodeSize,mt=t.nodeSize):(gt=30,mt=30));var Nt=t.preventOverlapPadding,Zt=gt+Nt,ee=mt+Nt;t.cellWidth=Math.max(t.cellWidth,Zt),t.cellHeight=Math.max(t.cellHeight,ee)}),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var P=0;P<s.length;P++){var D=s[P],X=void 0;if(t.position&&(X=t.position(D)),X&&(X.row!==void 0||X.col!==void 0)){var K={row:X.row,col:X.col};if(K.col===void 0)for(K.col=0;t.used(K.row,K.col);)K.col++;else if(K.row===void 0)for(K.row=0;t.used(K.row,K.col);)K.row++;t.id2manPos[D.id]=K,t.use(K.row,K.col)}t.getPos(D)}}},e.prototype.small=function(t){var r=this,n,a=r.rows||5,o=r.cols||5;if(t==null)n=Math.min(a,o);else{var s=Math.min(a,o);s===r.rows?r.rows=t:r.cols=t}return n},e.prototype.large=function(t){var r=this,n,a=r.rows||5,o=r.cols||5;if(t==null)n=Math.max(a,o);else{var s=Math.max(a,o);s===r.rows?r.rows=t:r.cols=t}return n},e.prototype.used=function(t,r){var n=this;return n.cellUsed["c-"+t+"-"+r]||!1},e.prototype.use=function(t,r){var n=this;n.cellUsed["c-"+t+"-"+r]=!0},e.prototype.moveToNextCell=function(){var t=this,r=t.cols||5;t.col++,t.col>=r&&(t.col=0,t.row++)},e.prototype.getPos=function(t){var r=this,n=r.begin,a=r.cellWidth,o=r.cellHeight,s,l,f=r.id2manPos[t.id];if(f)s=f.col*a+a/2+n[0],l=f.row*o+o/2+n[1];else{for(;r.used(r.row,r.col);)r.moveToNextCell();s=r.col*a+a/2+n[0],l=r.row*o+o/2+n[1],r.use(r.row,r.col),r.moveToNextCell()}t.x=s,t.y=l},e}(_a),hN=fN,Pn=d(37651),oG=Pn.XA,sG=Pn.a_,lG=Pn.yQ,uG=Pn.Ec,fG=Pn.dx,hG=Pn.LU,cG=Pn.Rm,xo=Pn.y3,vG=Pn.qK,dG=Pn.pb,pG=Pn.j,gG=Pn.sO,yG=Pn.BZ,mG=Pn.EK,xG=Pn.Db,bG=Pn.Fx,wG=Pn.tU,SG=Pn.Ym,MG=Pn.rs,CG=Pn.QR,EG=Pn.TB,AG=Pn.oH,Tx=Pn.Sc,TG=Pn.it,PG=Pn.$r,_G=Pn.QM,OG=Pn.AV,LG=(Pn.y3,Pn.y3),IG=Pn.GH,kG=Pn.SO,BG=Pn.uZ,DG=Pn.yU,FG=Pn.F1,RG=Pn.re,cN=function(i){Kn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.linkDistance=50,t.scaledDistances=null,t}return e.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},e.prototype.execute=function(){var t=this,r=t.nodes,n=t.edges,a=n===void 0?[]:n,o=t.center;if(!(!r||r.length===0)){if(r.length===1){r[0].x=o[0],r[0].y=o[1];return}var s=t.linkDistance,l=Ph({nodes:r,edges:a},!1),f=Th(l);t.handleInfinity(f);var h=Mm(f,s);t.scaledDistances=h;var c=t.runMDS();t.positions=c,c.forEach(function(v,x){r[x].x=v[0]+o[0],r[x].y=v[1]+o[1]})}},e.prototype.runMDS=function(){var t=this,r=2,n=t.scaledDistances,a=xo.mul(xo.pow(n,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var f=new Tx(a),h=xo.sqrt(f.diagonalMatrix).diagonal();return f.leftSingularVectors.toJSON().map(function(c){return xo.mul([c],[h]).toJSON()[0].splice(0,r)})},e.prototype.handleInfinity=function(t){var r=-999999;t.forEach(function(n){n.forEach(function(a){a!==Infinity&&r<a&&(r=a)})}),t.forEach(function(n,a){n.forEach(function(o,s){o===Infinity&&(t[a][s]=r)})})},e}(_a),vN=cN,dN=function(){function i(e){this.distances=e.distances,this.dimension=e.dimension||2,this.linkDistance=e.linkDistance}return i.prototype.layout=function(){var e=this,t=e.dimension,r=e.distances,n=e.linkDistance;try{var a=xo.mul(xo.pow(r,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var f=new Tx(a),h=xo.sqrt(f.diagonalMatrix).diagonal();return f.leftSingularVectors.toJSON().map(function(D){return xo.mul([D],[h]).toJSON()[0].splice(0,t)})}catch(D){for(var c=[],v=0;v<r.length;v++){var x=Math.random()*n,P=Math.random()*n;c.push([x,P])}return c}},i}(),pN=dN,gN=800,yN=function(){function i(e){this.disp=[],this.positions=e.positions,this.adjMatrix=e.adjMatrix,this.focusID=e.focusID,this.radii=e.radii,this.iterations=e.iterations||10,this.height=e.height||10,this.width=e.width||10,this.speed=e.speed||100,this.gravity=e.gravity||10,this.nodeSizeFunc=e.nodeSizeFunc,this.k=e.k||5,this.strictRadial=e.strictRadial,this.nodes=e.nodes}return i.prototype.layout=function(){var e=this,t=e.positions,r=[],n=e.iterations,a=e.width/10;e.maxDisplace=a,e.disp=r;for(var o=0;o<n;o++)t.forEach(function(s,l){r[l]={x:0,y:0}}),e.getRepulsion(),e.updatePositions();return t},i.prototype.getRepulsion=function(){var e=this,t=e.positions,r=e.nodes,n=e.disp,a=e.k,o=e.radii||[];t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(f,h){if(l!==h&&o[l]===o[h]){var c=s[0]-f[0],v=s[1]-f[1],x=Math.sqrt(c*c+v*v);if(x===0){x=1;var P=l>h?1:-1;c=.01*P,v=.01*P}if(x<e.nodeSizeFunc(r[l])/2+e.nodeSizeFunc(r[h])/2){var D=a*a/x;n[l].x+=c/x*D,n[l].y+=v/x*D}}})})},i.prototype.updatePositions=function(){var e=this,t=e.positions,r=e.disp,n=e.speed,a=e.strictRadial,o=e.focusID,s=e.maxDisplace||e.width/10;a&&r.forEach(function(f,h){var c=t[h][0]-t[o][0],v=t[h][1]-t[o][1],x=Math.sqrt(c*c+v*v),P=v/x,D=-c/x,X=Math.sqrt(f.x*f.x+f.y*f.y),K=Math.acos((P*f.x+D*f.y)/X);K>Math.PI/2&&(K-=Math.PI/2,P*=-1,D*=-1);var Z=Math.cos(K)*X;f.x=P*Z,f.y=D*Z});var l=e.radii;t.forEach(function(f,h){if(h!==o){var c=Math.sqrt(r[h].x*r[h].x+r[h].y*r[h].y);if(c>0&&h!==o){var v=Math.min(s*(n/gN),c);if(f[0]+=r[h].x/c*v,f[1]+=r[h].y/c*v,a){var x=f[0]-t[o][0],P=f[1]-t[o][1],D=Math.sqrt(x*x+P*P);x=x/D*l[h],P=P/D*l[h],f[0]=t[o][0]+x,f[1]=t[o][1]+P}}}})},i}(),mN=yN;function xN(i){for(var e=i.length,t=i[0].length,r=[],n=0;n<e;n++){for(var a=[],o=0;o<t;o++)i[n][o]!==0?a.push(1/(i[n][o]*i[n][o])):a.push(0);r.push(a)}return r}function bN(i,e){var t=-1;return i.forEach(function(r,n){r.id===e&&(t=n)}),t}function Px(i,e){return Math.sqrt((i[0]-e[0])*(i[0]-e[0])+(i[1]-e[1])*(i[1]-e[1]))}var wN=function(i){Kn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.focusNode=null,t.unitRadius=null,t.linkDistance=50,t.preventOverlap=!1,t.strictRadial=!0,t.maxPreventOverlapIteration=200,t.sortStrength=10,t}return e.prototype.getDefaultCfg=function(){return{center:[0,0],maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},e.prototype.execute=function(){var t=this,r=t.nodes,n=t.edges||[],a=t.center;if(!(!r||r.length===0)){if(r.length===1){r[0].x=a[0],r[0].y=a[1];return}var o=t.linkDistance,s=null;if((0,Tn.default)(t.focusNode)){for(var l=!1,f=0;f<r.length;f++)r[f].id===t.focusNode&&(s=r[f],t.focusNode=s,l=!0,f=r.length);l||(s=null)}else s=t.focusNode;s||(s=r[0],t.focusNode=s);var h=bN(r,s.id);t.focusIndex=h;var c=Ph({nodes:r,edges:n},!1),v=Th(c),x=t.maxToFocus(v,h);t.handleInfinity(v,h,x+1),t.distances=v;var P=v[h];!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var D=t.width||500,X=t.height||500,K=D-a[0]>a[0]?a[0]:D-a[0],Z=X-a[1]>a[1]?a[1]:X-a[1];K===0&&(K=D/2),Z===0&&(Z=X/2);var gt=Z>K?K:Z,mt=Math.max.apply(Math,P),Nt=[];P.forEach(function(mr,pr){t.unitRadius||(t.unitRadius=gt/mt),Nt[pr]=mr*t.unitRadius}),t.radii=Nt;var Zt=t.eIdealDisMatrix();t.eIdealDistances=Zt;var ee=xN(Zt);t.weights=ee;var ue=new pN({distances:Zt,linkDistance:o}),ne=ue.layout();ne.forEach(function(mr){eo(mr[0])&&(mr[0]=Math.random()*o),eo(mr[1])&&(mr[1]=Math.random()*o)}),t.positions=ne,ne.forEach(function(mr,pr){r[pr].x=mr[0]+a[0],r[pr].y=mr[1]+a[1]}),ne.forEach(function(mr){mr[0]-=ne[h][0],mr[1]-=ne[h][1]}),t.run();var xe=t.preventOverlap,Pe=t.nodeSize,Ye,He=t.strictRadial;if(xe){var Ze=t.nodeSpacing,Ue;(0,ka.default)(Ze)?Ue=function(){return Ze}:(0,Zs.default)(Ze)?Ue=Ze:Ue=function(){return 0},Pe?(0,Fi.default)(Pe)?Ye=function(pr){var fr=Pe[0]>Pe[1]?Pe[0]:Pe[1];return fr+Ue(pr)}:Ye=function(pr){return Pe+Ue(pr)}:Ye=function(pr){if(pr.size){if((0,Fi.default)(pr.size)){var fr=pr.size[0]>pr.size[1]?pr.size[0]:pr.size[1];return fr+Ue(pr)}return pr.size+Ue(pr)}return 10+Ue(pr)};var ur={nodeSizeFunc:Ye,adjMatrix:c,positions:ne,radii:Nt,height:X,width:D,strictRadial:He,focusID:h,iterations:t.maxPreventOverlapIteration||200,k:ne.length/4.5,nodes:r},wr=new mN(ur);ne=wr.layout()}ne.forEach(function(mr,pr){r[pr].x=mr[0]+a[0],r[pr].y=mr[1]+a[1]})}},e.prototype.run=function(){for(var t=this,r=t.maxIteration,n=t.positions||[],a=t.weights||[],o=t.eIdealDistances||[],s=t.radii||[],l=0;l<=r;l++){var f=l/r;t.oneIteration(f,n,s,o,a)}},e.prototype.oneIteration=function(t,r,n,a,o){var s=this,l=1-t,f=s.focusIndex;r.forEach(function(h,c){var v=Px(h,[0,0]),x=v===0?0:1/v;if(c!==f){var P=0,D=0,X=0;r.forEach(function(Z,gt){if(c!==gt){var mt=Px(h,Z),Nt=mt===0?0:1/mt,Zt=a[gt][c];X+=o[c][gt],P+=o[c][gt]*(Z[0]+Zt*(h[0]-Z[0])*Nt),D+=o[c][gt]*(Z[1]+Zt*(h[1]-Z[1])*Nt)}});var K=n[c]===0?0:1/n[c];X*=l,X+=t*K*K,P*=l,P+=t*K*h[0]*x,h[0]=P/X,D*=l,D+=t*K*h[1]*x,h[1]=D/X}})},e.prototype.eIdealDisMatrix=function(){var t=this,r=t.nodes;if(!r)return[];var n=t.distances,a=t.linkDistance,o=t.radii||[],s=t.unitRadius||50,l=[];return n&&n.forEach(function(f,h){var c=[];f.forEach(function(v,x){if(h===x)c.push(0);else if(o[h]===o[x])if(t.sortBy==="data")c.push(v*(Math.abs(h-x)*t.sortStrength)/(o[h]/s));else if(t.sortBy){var P=r[h][t.sortBy]||0,D=r[x][t.sortBy]||0;(0,Tn.default)(P)&&(P=P.charCodeAt(0)),(0,Tn.default)(D)&&(D=D.charCodeAt(0)),c.push(v*(Math.abs(P-D)*t.sortStrength)/(o[h]/s))}else c.push(v*a/(o[h]/s));else{var X=(a+s)/2;c.push(v*X)}}),l.push(c)}),l},e.prototype.handleInfinity=function(t,r,n){for(var a=t.length,o=0;o<a;o++)if(t[r][o]===Infinity){t[r][o]=n,t[o][r]=n;for(var s=0;s<a;s++)t[o][s]!==Infinity&&t[r][s]===Infinity&&(t[r][s]=n+t[o][s],t[s][r]=n+t[o][s])}for(var o=0;o<a;o++)if(o!==r){for(var s=0;s<a;s++)if(t[o][s]===Infinity){var l=Math.abs(t[r][o]-t[r][s]);l=l===0?1:l,t[o][s]=l}}},e.prototype.maxToFocus=function(t,r){for(var n=0,a=0;a<t[r].length;a++)t[r][a]!==Infinity&&(n=t[r][a]>n?t[r][a]:n);return n},e}(_a),SN=wN,MN=function(i){Kn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.width=300,t.height=300,t}return e.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},e.prototype.execute=function(){var t=this,r=t.nodes,n=.9,a=t.center;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),r&&r.forEach(function(o){o.x=(Math.random()-.5)*n*t.width+a[0],o.y=(Math.random()-.5)*n*t.height+a[1]})},e}(_a),CN=MN,EN=function(i){Kn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=100,t.gravity=10,t.comboGravity=10,t.linkDistance=10,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.edgeStrength=.2,t.nodeStrength=30,t.preventOverlap=!1,t.preventNodeOverlap=!1,t.preventComboOverlap=!1,t.collideStrength=void 0,t.nodeCollideStrength=void 0,t.comboCollideStrength=void 0,t.optimizeRangeFactor=1,t.onTick=function(){},t.onLayoutEnd=function(){},t.depthAttractiveForceScale=.5,t.depthRepulsiveForceScale=2,t.nodes=[],t.edges=[],t.combos=[],t.comboTrees=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.oriComboMap={},t.nodeIdxMap={},t.comboMap={},t.previousLayouted=!1,t}return e.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.2,nodeStrength:30,linkDistance:10}},e.prototype.execute=function(){var t=this,r=t.nodes,n=t.center;if(t.comboTree={id:"comboTreeRoot",depth:-1,children:t.comboTrees},!(!r||r.length===0)){if(r.length===1){r[0].x=n[0],r[0].y=n[1];return}t.initVals(),t.run(),t.onLayoutEnd()}},e.prototype.run=function(){var t=this,r=t.nodes,n=t.previousLayouted?t.maxIteration/5:t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var a=t.center,o=t.velocityDecay,s=t.comboMap;t.previousLayouted||t.initPos(s);for(var l=function(x){var P=[];r.forEach(function(D,X){P[X]={x:0,y:0}}),t.applyCalculate(P),t.applyComboCenterForce(P),r.forEach(function(D,X){!(0,u.isNumber)(D.x)||!(0,u.isNumber)(D.y)||(D.x+=P[X].x*o,D.y+=P[X].y*o)}),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},f=0;f<n;f++)l(f);var h=[0,0];r.forEach(function(v){!(0,u.isNumber)(v.x)||!(0,u.isNumber)(v.y)||(h[0]+=v.x,h[1]+=v.y)}),h[0]/=r.length,h[1]/=r.length;var c=[a[0]-h[0],a[1]-h[1]];r.forEach(function(v,x){!(0,u.isNumber)(v.x)||!(0,u.isNumber)(v.y)||(v.x+=c[0],v.y+=c[1])}),t.combos.forEach(function(v){var x=s[v.id];x&&x.empty&&(v.x=x.cx||v.x,v.y=x.cy||v.y)}),t.previousLayouted=!0},e.prototype.initVals=function(){var t=this,r=t.edges,n=t.nodes,a=t.combos,o={},s={},l={};n.forEach(function(Ue,ur){s[Ue.id]=Ue,l[Ue.id]=ur}),t.nodeMap=s,t.nodeIdxMap=l;var f={};a.forEach(function(Ue){f[Ue.id]=Ue}),t.oriComboMap=f,t.comboMap=t.getComboMap();var h=t.preventOverlap;t.preventComboOverlap=t.preventComboOverlap||h,t.preventNodeOverlap=t.preventNodeOverlap||h;var c=t.collideStrength;c&&(t.comboCollideStrength=c,t.nodeCollideStrength=c);for(var v=0;v<r.length;++v)o[r[v].source]?o[r[v].source]++:o[r[v].source]=1,o[r[v].target]?o[r[v].target]++:o[r[v].target]=1;for(var x=[],v=0;v<r.length;++v)x[v]=o[r[v].source]/(o[r[v].source]+o[r[v].target]);this.bias=x;var P=t.nodeSize,D=t.nodeSpacing,X,K;if((0,u.isNumber)(D)?K=function(){return D}:(0,u.isFunction)(D)?K=D:K=function(){return 0},this.nodeSpacing=K,!P)X=function(ur){if(ur.size){if((0,u.isArray)(ur.size)){var wr=ur.size[0]>ur.size[1]?ur.size[0]:ur.size[1];return wr/2}return ur.size/2}return 10};else if((0,u.isFunction)(P))X=function(ur){return P(ur)};else if((0,u.isArray)(P)){var Z=P[0]>P[1]?P[0]:P[1],gt=Z/2;X=function(ur){return gt}}else{var mt=P/2;X=function(ur){return mt}}this.nodeSize=X;var Nt=t.comboSpacing,Zt;(0,u.isNumber)(Nt)?Zt=function(){return Nt}:(0,u.isFunction)(Nt)?Zt=Nt:Zt=function(){return 0},this.comboSpacing=Zt;var ee=t.comboPadding,ue;(0,u.isNumber)(ee)?ue=function(){return ee}:(0,u.isArray)(ee)?ue=function(){return Math.max.apply(null,ee)}:(0,u.isFunction)(ee)?ue=ee:ue=function(){return 0},this.comboPadding=ue;var ne=this.linkDistance,xe;ne||(ne=10),(0,u.isNumber)(ne)?xe=function(ur){return ne}:xe=ne,this.linkDistance=xe;var Pe=this.edgeStrength,Ye;Pe||(Pe=1),(0,u.isNumber)(Pe)?Ye=function(ur){return Pe}:Ye=Pe,this.edgeStrength=Ye;var He=this.nodeStrength,Ze;He||(He=30),(0,u.isNumber)(He)?Ze=function(ur){return He}:Ze=He,this.nodeStrength=Ze},e.prototype.initPos=function(t){var r=this,n=r.nodes;n.forEach(function(a,o){if(a.comboId){var s=t[a.comboId];a.x=s.cx+100/(o+1),a.y=s.cy+100/(o+1)}else a.x=100/(o+1),a.y=100/(o+1)})},e.prototype.getComboMap=function(){var t=this,r=t.nodeMap,n=t.nodeIdxMap,a=t.comboTrees,o=t.oriComboMap,s={};return(a||[]).forEach(function(l){var f=[];Pa(l,function(h){if(h.itemType==="node"||!o[h.id])return!0;if(s[h.id]===void 0){var c={name:h.id,cx:0,cy:0,count:0,depth:t.oriComboMap[h.id].depth,children:[]};s[h.id]=c}var v=h.children;v&&v.forEach(function(Z){if(!s[Z.id]&&!r[Z.id])return!0;f.push(Z)});var x=s[h.id];if(x.cx=0,x.cy=0,f.length===0){x.empty=!0;var P=o[h.id],D=Object.keys(r).length,X=h.id+"-visual-child-"+D,K={id:X,x:P.x,y:P.y,depth:x.depth+1,itemType:"node"};t.nodes.push(K),r[X]=K,n[X]=D,x.cx=P.x,x.cy=P.y,f.push(K)}return f.forEach(function(Z){if(x.count++,Z.itemType!=="node"){var gt=s[Z.id];(0,u.isNumber)(gt.cx)&&(x.cx+=gt.cx),(0,u.isNumber)(gt.cy)&&(x.cy+=gt.cy);return}var mt=r[Z.id];!mt||((0,u.isNumber)(mt.x)&&(x.cx+=mt.x),(0,u.isNumber)(mt.y)&&(x.cy+=mt.y))}),x.cx/=x.count,x.cy/=x.count,x.children=f,!0})}),s},e.prototype.applyComboCenterForce=function(t){var r=this,n=r.gravity,a=r.comboGravity||n,o=this.alpha,s=r.comboTrees,l=r.nodeIdxMap,f=r.nodeMap,h=r.comboMap;(s||[]).forEach(function(c){Pa(c,function(v){if(v.itemType==="node")return!0;var x=h[v.id];if(!x)return!0;var P=h[v.id],D=(P.depth+1)*.5,X=P.cx,K=P.cy;return P.cx=0,P.cy=0,P.children.forEach(function(Z){if(Z.itemType!=="node"){var gt=h[Z.id];gt&&(0,u.isNumber)(gt.cx)&&(P.cx+=gt.cx),gt&&(0,u.isNumber)(gt.cy)&&(P.cy+=gt.cy);return}var mt=f[Z.id],Nt=mt.x-X||.005,Zt=mt.y-K||.005,ee=Math.sqrt(Nt*Nt+Zt*Zt),ue=l[mt.id],ne=a*o/ee*D;t[ue].x-=Nt*ne,t[ue].y-=Zt*ne,(0,u.isNumber)(mt.x)&&(P.cx+=mt.x),(0,u.isNumber)(mt.y)&&(P.cy+=mt.y)}),P.cx/=P.count,P.cy/=P.count,!0})})},e.prototype.applyCalculate=function(t){var r=this,n=r.comboMap,a=r.nodes,o={};a.forEach(function(l,f){a.forEach(function(h,c){if(!(f<c)){var v=l.x-h.x||.005,x=l.y-h.y||.005,P=v*v+x*x,D=Math.sqrt(P);P<1&&(P=D),o[l.id+"-"+h.id]={vx:v,vy:x,vl2:P,vl:D},o[h.id+"-"+l.id]={vx:-v,vy:-x,vl2:P,vl:D}}})}),r.updateComboSizes(n),r.calRepulsive(t,o),r.calAttractive(t,o);var s=r.preventComboOverlap;s&&r.comboNonOverlapping(t,n)},e.prototype.updateComboSizes=function(t){var r=this,n=r.comboTrees,a=r.nodeMap,o=r.nodeSize,s=r.comboSpacing,l=r.comboPadding;(n||[]).forEach(function(f){var h=[];Pa(f,function(c){if(c.itemType==="node")return!0;var v=t[c.id];if(!!v){var x=c.children;x&&x.forEach(function(X){!t[X.id]&&!a[X.id]||h.push(X)}),v.minX=Infinity,v.minY=Infinity,v.maxX=-Infinity,v.maxY=-Infinity,h.forEach(function(X){if(X.itemType!=="node")return!0;var K=a[X.id];if(!K)return!0;var Z=o(K),gt=K.x-Z,mt=K.y-Z,Nt=K.x+Z,Zt=K.y+Z;v.minX>gt&&(v.minX=gt),v.minY>mt&&(v.minY=mt),v.maxX<Nt&&(v.maxX=Nt),v.maxY<Zt&&(v.maxY=Zt)});var P=r.oriComboMap[c.id].size||er.defaultCombo.size;(0,u.isArray)(P)&&(P=P[0]);var D=Math.max(v.maxX-v.minX,v.maxY-v.minY,P);return v.r=D/2+s(v)/2+l(v),!0}})})},e.prototype.comboNonOverlapping=function(t,r){var n=this,a=n.comboTree,o=n.comboCollideStrength,s=n.nodeIdxMap,l=n.nodeMap;Pa(a,function(f){if(!(!r[f.id]&&!l[f.id]&&f.id!=="comboTreeRoot")){var h=f.children;return h&&h.length>1&&h.forEach(function(c,v){if(c.itemType!=="node"){var x=r[c.id];!x||h.forEach(function(P,D){if(!(v<=D)&&P.itemType!=="node"){var X=r[P.id];if(!!X){var K=x.cx-X.cx||.005,Z=x.cy-X.cy||.005,gt=K*K+Z*Z,mt=x.r,Nt=X.r,Zt=mt+Nt,ee=Nt*Nt,ue=mt*mt;if(gt<Zt*Zt){var ne=c.children;if(!ne||ne.length===0)return;var xe=P.children;if(!xe||xe.length===0)return;var Pe=Math.sqrt(gt),Ye=(Zt-Pe)/Pe*o,He=K*Ye,Ze=Z*Ye,Ue=ee/(ue+ee),ur=1-Ue;ne.forEach(function(wr){if(wr.itemType==="node"&&!!l[wr.id]){var mr=s[wr.id];xe.forEach(function(pr){if(pr.itemType==="node"&&!!l[pr.id]){var fr=s[pr.id];t[mr].x+=He*Ue,t[mr].y+=Ze*Ue,t[fr].x-=He*ur,t[fr].y-=Ze*ur}})}})}}}})}}),!0}})},e.prototype.calRepulsive=function(t,r){var n=this,a=n.nodes,o=n.width*n.optimizeRangeFactor,s=n.nodeStrength,l=n.alpha,f=n.nodeCollideStrength,h=n.preventNodeOverlap,c=n.nodeSize,v=n.nodeSpacing,x=n.depthRepulsiveForceScale,P=n.center;a.forEach(function(D,X){if(!(!D.x||!D.y)){if(P){var K=n.gravity,Z=D.x-P[0]||.005,gt=D.y-P[1]||.005,mt=Math.sqrt(Z*Z+gt*gt);t[X].x-=Z*K*l/mt,t[X].y-=gt*K*l/mt}a.forEach(function(Nt,Zt){if(X!==Zt&&!(!Nt.x||!Nt.y)){var ee=r[D.id+"-"+Nt.id],ue=ee.vl2,ne=ee.vl;if(!(ne>o)){var xe=r[D.id+"-"+Nt.id],Pe=xe.vx,Ye=xe.vy,He=Math.abs(Nt.depth-D.depth)+1||1;Nt.comboId!==D.comboId&&He++;var Ze=He?Math.pow(x,He):1,Ue=s(Nt)*l/ue*Ze;if(t[X].x+=Pe*Ue,t[X].y+=Ye*Ue,X<Zt&&h){var ur=c(D)+v(D),wr=c(Nt)+v(Nt),mr=ur+wr;if(ue<mr*mr){var pr=(mr-ne)/ne*f,fr=wr*wr,Yr=fr/(ur*ur+fr),_r=Pe*pr,Fr=Ye*pr;t[X].x+=_r*Yr,t[X].y+=Fr*Yr,Yr=1-Yr,t[Zt].x-=_r*Yr,t[Zt].y-=Fr*Yr}}}}})}})},e.prototype.calAttractive=function(t,r){var n=this,a=n.edges,o=n.linkDistance,s=n.alpha,l=n.edgeStrength,f=n.bias,h=n.depthAttractiveForceScale;a.forEach(function(c,v){if(!(!c.source||!c.target||c.source===c.target)){var x=n.nodeIdxMap[c.source],P=n.nodeIdxMap[c.target],D=n.nodeMap[c.source],X=n.nodeMap[c.target],K=Math.abs(D.depth-X.depth);D.comboId===X.comboId&&(K=K/2);var Z=K?Math.pow(h,K):1;if(D.comboId!==X.comboId&&Z===1?Z=h/2:D.comboId===X.comboId&&(Z=2),!(!(0,u.isNumber)(X.x)||!(0,u.isNumber)(D.x)||!(0,u.isNumber)(X.y)||!(0,u.isNumber)(D.y))){var gt=r[c.target+"-"+c.source],mt=gt.vl,Nt=gt.vx,Zt=gt.vy,ee=(mt-o(c))/mt*s*l(c)*Z,ue=Nt*ee,ne=Zt*ee,xe=f[v];t[P].x-=ue*xe,t[P].y-=ne*xe,t[x].x+=ue*(1-xe),t[x].y+=ne*(1-xe)}}})},e}(_a),AN=EN,TN={circular:h3,concentric:v3,dagre:g3,force:rN,g6force:oN,comboForce:AN,fruchterman:uN,grid:hN,mds:vN,radial:SN,random:CN};(0,Bn.default)(TN,function(i,e){fx.registerLayout(e,{},i)});var Bs=fx,Kh=self;function PN(i){var e=i.data.type;return e===io.RUN}function _N(i){var e=i.data.type;switch(e){case io.RUN:{var t=i.data,r=t.nodes,n=t.edges,a=t.layoutCfg,o=a===void 0?{}:a,s=o.type,l=Bs[s];if(!l){Kh.postMessage({type:io.ERROR,message:"layout "+s+" not found"});break}var f=new l(o);f.init({nodes:r,edges:n}),f.execute(),Kh.postMessage({type:io.END,nodes:r}),f.destroy();break}default:break}}Kh.onmessage=function(i){PN(i)&&_N(i)};var ON=null;function du(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?du=function(t){return typeof t}:du=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(i)}var LN=function(e){return setTimeout(e,16)},IN=function(e){return clearTimeout(e)},pu={requestAnimationFrame:function(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||LN;return t(e)},cancelAnimationFrame:function(e){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||IN;return t(e)}},kN=function(){function i(e){this.graph=e,this.layoutCfg=e.get("layout")||{},this.layoutType=this.layoutCfg.type,this.worker=null,this.workerData={},this.initLayout()}return i.prototype.initLayout=function(){},i.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=new ON,this.worker)},i.prototype.stopWorker=function(){var e=this.workerData;!this.worker||(this.worker.terminate(),this.worker=null,e.requestId&&(pu.cancelAnimationFrame(e.requestId),e.requestId=null),e.requestId2&&(pu.cancelAnimationFrame(e.requestId2),e.requestId2=null))},i.prototype.getLayoutType=function(){return this.layoutCfg.type},i.prototype.layout=function(e){var t=this.graph;this.data=this.setDataFromGraph();var r=this.data.nodes;if(!r)return!1;var n=t.get("width"),a=t.get("height"),o={};Object.assign(o,{width:n,height:a,center:[n/2,a/2]},this.layoutCfg),this.layoutCfg=o;var s=!!this.layoutType,l=this.layoutMethod;l&&l.destroy(),t.emit("beforelayout");var f=this.initPositions(o.center,r);if(this.stopWorker(),o.workerEnabled&&this.layoutWithWorker(this.data,e))return!0;if(this.layoutType==="force"||this.layoutType==="g6force"){var h=o.onTick,c=function(){h&&h(),t.refreshPositions()};o.tick=c;var v=o.onLayoutEnd;o.onLayoutEnd=function(){v&&v(),t.emit("afterlayout")}}else this.layoutType==="comboForce"&&(o.comboTrees=t.get("comboTrees"));var x=!1;if(this.layoutType!==void 0){try{l=new Bs[this.layoutType](o)}catch(K){return console.warn("The layout method: "+this.layoutType+" does not exist! Please specify it first."),!1}if(x=l.enableTick,x){var P=o.onTick,D=o.onLayoutEnd,c=function(){P&&P(),t.refreshPositions()};l.tick=c;var X=function(){D&&D(),t.emit("afterlayout")};l.onLayoutEnd=X}l.init(this.data),s&&l.execute(),this.layoutMethod=l}return(s||!f)&&this.layoutType!=="force"&&!x&&(t.emit("afterlayout"),this.refreshLayout()),!1},i.prototype.layoutWithWorker=function(e,t){var r=this,n=e.nodes,a=e.edges,o=this,s=o.layoutCfg,l=o.graph,f=this.getWorker(),h=this.workerData;if(!f)return!1;h.requestId=null,h.requestId2=null,h.currentTick=null,h.currentTickData=null;var c=DN(s,function(v){return typeof v!="function"});return f.postMessage({type:io.RUN,nodes:n,edges:a,layoutCfg:c}),f.onmessage=function(v){r.handleWorkerMessage(v,e,t)},!0},i.prototype.handleWorkerMessage=function(e,t,r){var n=this,a=n.graph,o=n.workerData,s=n.layoutCfg,l=e.data,f=l.type,h=function(){s.onTick&&s.onTick()},c=function(){s.onLayoutEnd&&s.onLayoutEnd(),a.emit("afterlayout")};switch(f){case io.TICK:o.currentTick=l.currentTick,o.currentTickData=l,o.requestId||(o.requestId=pu.requestAnimationFrame(function(){$h(t,l),a.refreshPositions(),h(),l.currentTick===1&&r&&r(),l.currentTick===l.totalTicks?c():o.currentTick===l.totalTicks&&(o.requestId2=pu.requestAnimationFrame(function(){$h(t,o.currentTickData),a.refreshPositions(),o.requestId2=null,h(),c()})),o.requestId=null}));break;case io.END:o.currentTick==null&&($h(t,l),this.refreshLayout(),r&&r(),a.emit("afterlayout"));break;case io.ERROR:break;default:break}},i.prototype.refreshLayout=function(){var e=this.graph;e.get("animate")?e.positionsAnimate():e.refreshPositions()},i.prototype.updateLayoutCfg=function(e){var t=this,r=t.graph,n=t.layoutMethod;if(this.layoutType=e.type,!n){console.warn("You did not assign any layout type and the graph has no previous layout method!");return}this.data=this.setDataFromGraph(),this.stopWorker(),!(e.workerEnabled&&this.layoutWithWorker(this.data,null))&&(n.init(this.data),n.updateCfg(e),r.emit("beforelayout"),n.execute(),this.layoutType!=="force"&&!n.enableTick&&r.emit("afterlayout"),this.refreshLayout())},i.prototype.changeLayout=function(e){var t=this,r=t.graph,n=t.layoutMethod;this.layoutType=e,this.layoutCfg=r.get("layout")||{},this.layoutCfg.type=e,n&&n.destroy(),this.layout()},i.prototype.changeData=function(){var e=this.layoutMethod;e&&e.destroy(),this.layout()},i.prototype.destroyLayout=function(){var e=this,t=e.layoutMethod,r=e.graph;t&&t.destroy(),r.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethod=void 0},i.prototype.setDataFromGraph=function(){var e=[],t=[],r=[],n=this.graph.getNodes(),a=this.graph.getEdges(),o=this.graph.getCombos();n.forEach(function(l){if(!!l.isVisible()){var f=l.getModel();e.push(f)}}),a.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var f=l.getModel();f.isComboEdge||t.push(f)}}),o.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var f=l.getModel();r.push(f)}});var s={nodes:e,edges:t,combos:r};return s},i.prototype.relayout=function(e){var t=this,r=t.graph,n=t.layoutMethod,a=t.layoutCfg;if(e){this.data=this.setDataFromGraph();var o=this.data.nodes;if(!o)return!1;this.initPositions(a.center,o),n.init(this.data)}this.layoutType==="force"&&(n.ticking=!1,n.forceSimulation.stop()),r.emit("beforelayout"),n.execute(e),this.layoutType!=="force"&&!n.enableTick&&r.emit("afterlayout"),this.refreshLayout()},i.prototype.layoutAnimate=function(){},i.prototype.moveToZero=function(){var e=this.graph,t=e.get("data"),r=t.nodes;if(!(r[0].x===void 0||r[0].x===null||eo(r[0].x))){var n=[0,0];r.forEach(function(a){n[0]+=a.x,n[1]+=a.y}),n[0]/=r.length,n[1]/=r.length,r.forEach(function(a){a.x-=n[0],a.y-=n[1]})}},i.prototype.initPositions=function(e,t){var r=this.graph;if(!t)return!1;var n=!0,a=r.get("width")*.85,o=r.get("height")*.85,s=t.length,l=Math.ceil(Math.sqrt(s)*(a/o)),f=Math.ceil(s/l),h=a/(l-1),c=o/(f-1);(!isFinite(h)||!h)&&(h=0),(!isFinite(c)||!h)&&(c=0);var v=e[0]-a/2,x=e[1]-o/2;return t.forEach(function(P,D){eo(P.x)&&(n=!1,P.x=D%l*h+v),eo(P.y)&&(n=!1,P.y=Math.floor(D/l)*c+x)}),n},i.prototype.destroy=function(){var e=this.layoutMethod;this.graph=null,e&&e.destroy();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0},i}(),BN=kN;function $h(i,e){var t=i.nodes,r=e.nodes;t.forEach(function(n,a){n.x=r[a].x,n.y=r[a].y})}function DN(i,e){var t={};return i&&du(i)==="object"?(Object.keys(i).forEach(function(r){i.hasOwnProperty(r)&&e(i[r])&&(t[r]=i[r])}),t):i}var No=null,FN=function(){function i(e){this.graph=e,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return i.checkCache=function(e,t,r){if(!!r[t]){var n=r[t].indexOf(e);n>=0&&r[t].splice(n,1)}},i.cacheState=function(e,t,r){r[t]||(r[t]=[]),r[t].push(e)},i.prototype.updateState=function(e,t,r){var n=this,a=i.checkCache,o=i.cacheState;if(!e.destroyed){var s=this.cachedStates,l=s.enabled,f=s.disabled;r?(a(e,t,f),o(e,t,l)):(a(e,t,l),o(e,t,f)),No&&clearTimeout(No),No=setTimeout(function(){No=null,n.updateGraphStates()},16)}},i.prototype.updateStates=function(e,t,r){var n=this;(0,Tn.default)(t)?this.updateState(e,t,r):t.forEach(function(a){n.updateState(e,a,r)})},i.prototype.updateGraphStates=function(){var e=this.graph.get("states"),t=this.cachedStates;(0,Bn.default)(t.disabled,function(r,n){e[n]&&(e[n]=e[n].filter(function(a){return r.indexOf(a)<0&&!r.destroyed}))}),(0,Bn.default)(t.enabled,function(r,n){if(!e[n])e[n]=r;else{var a={};e[n].forEach(function(o){o.destroyed||(a[o.get("id")]=!0)}),r.forEach(function(o){if(!o.destroyed){var s=o.get("id");a[s]||(a[s]=!0,e[n].push(o))}})}}),this.graph.emit("graphstatechange",{states:e}),this.cachedStates={enabled:{},disabled:{}}},i.prototype.destroy=function(){this.graph=null,this.cachedStates=null,No&&clearTimeout(No),No=null,this.destroyed=!0},i}(),RN=FN,Qh=null,NN=function(){function i(e){this.graph=e;var t=e.get("groupStyle");this.styles=(0,ji.default)({},i.getDefaultCfg(),t),this.customGroup={},this.delegateInGroup={},this.nodePoint=[],this.destroyed=!1}return i.getDefaultCfg=function(){return{default:{lineWidth:1,stroke:"#A3B1BF",strokeOpacity:.9,fill:"#F3F9FF",fillOpacity:.8,opacity:.8,disCoefficient:.6,minDis:30,maxDis:30},hover:{stroke:"#faad14",fill:"#ffe58f",fillOpacity:.3,opacity:.3,lineWidth:3},collapse:{r:30,width:80,height:40,stroke:"#A3B1BF",lineWidth:3,fill:"#F3F9FF",offsetX:-15,offsetY:5},icon:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg",operatorBtn:{collapse:{img:"https://gw.alipayobjects.com/zos/rmsportal/uZVdwjJGqDooqKLKtvGA.svg",width:16,height:16},expand:{width:16,height:16,img:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg"}},visible:!1}},i.prototype.create=function(e,t,r,n,a,o){r===void 0&&(r="circle"),n===void 0&&(n=0),a===void 0&&(a=!1),o===void 0&&(o={});var s=this.graph,l=s.get("customGroup"),f=l.get("children").map(function(Fr){return Fr.get("id")});if(f.indexOf(e)>-1){console.warn("\u5DF2\u7ECF\u5B58\u5728ID\u4E3A "+e+" \u7684\u5206\u7EC4\uFF0C\u8BF7\u91CD\u65B0\u8BBE\u7F6E\u5206\u7EC4ID\uFF01");return}var h=l.addGroup({id:e,zIndex:n}),c=this.styles.default,v=this.calculationGroupPosition(t),x=v.x,P=v.y,D=v.width,X=v.height,K=v.maxX,Z=this.getGroupPadding(e),gt=s.get("groupBBoxs");gt[e]={x,y:P,width:D,height:X,maxX:K};var mt=null;if(a){var Nt=s.get("groups");t.forEach(function(Fr){var yr=s.findById(Fr),Ir=yr.getModel();Ir.groupId||(Ir.groupId=e)}),Nt.find(function(Fr){return Fr.id===e})||(Nt.push({id:e,title:o}),s.set({groups:Nt}))}var Zt=s.get("groups").filter(function(Fr){return Fr.id===e});Zt&&Zt.length>0&&(mt=Zt[0].title);var ee=0,ue=0,ne=null;if(r==="circle"){var xe=D>X?D/2:X/2,Pe=(D+2*x)/2,Ye=(X+2*P)/2,He=xe+Z;ne=h.addShape("circle",{attrs:ce(ce({},c),{x:Pe,y:Ye,r:He}),draggable:!0,capture:!0,zIndex:n,groupId:e,name:"circle-group-shape"}),ee=Pe,ue=Ye-He,this.setDeletageGroupByStyle(e,h,{width:D,height:X,x:Pe,y:Ye,r:He})}else{var Ze=Z*c.disCoefficient;ne=h.addShape("rect",{attrs:ce(ce({},c),{x:x-Ze,y:P-Ze,width:D+Ze*2,height:X+Ze*2}),draggable:!0,capture:!0,zIndex:n,groupId:e,name:"rect-group-shape"}),ee=x-Ze+15,ue=P-Ze+15,this.setDeletageGroupByStyle(e,h,{x:x-Ze,y:P-Ze,width:D+Ze,height:X+Ze,btnOffset:K-3})}if(mt){var Ue=mt.offsetX,ur=Ue===void 0?0:Ue,wr=mt.offsetY,mr=wr===void 0?0:wr,pr=mt.text,fr=pr===void 0?mt:pr,Yr=Qi(mt,["offsetX","offsetY","text"]),_r=h.addShape("text",{attrs:ce({text:fr,stroke:"#444",x:ee+ur,y:ue+mr},Yr),className:"group-title",name:"group-title-shape"});_r.set("capture",!1)}h.set("keyShape",ne),s.get("groupNodes")[e]=t},i.prototype.setGroupStyle=function(e,t){if(!(!e||e.get("destroyed"))){var r={},n=this.styles,a=n.hover,o=n.default;(0,Tn.default)(t)?t==="default"?r=(0,ji.default)({},o):t==="hover"&&(r=(0,ji.default)({},a)):r=(0,ji.default)({},o,t),Object.keys(r).forEach(function(s){e.attr(s,r[s])})}},i.prototype.calculationGroupPosition=function(e,t){if(t===void 0&&(t={x:100,y:100}),e.length===0)return{x:t.x,y:t.y,width:100,height:100};var r=this.graph,n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;e.forEach(function(v){var x=(0,Tn.default)(v)?r.findById(v):v,P=x.getBBox(),D=P.minX,X=P.minY,K=P.maxX,Z=P.maxY;D<n&&(n=D),X<o&&(o=X),K>a&&(a=K),Z>s&&(s=Z)});var l=Math.floor(n),f=Math.floor(o),h=Math.ceil(a)-l,c=Math.ceil(s)-f;return{x:l,y:f,width:h,height:c,maxX:Math.ceil(a)}},i.prototype.flatToTree=function(e,t,r){t===void 0&&(t="id"),r===void 0&&(r="parentId");var n="children",a=[],o=[];return e.forEach(function(s){a[s[t]]=s}),e.forEach(function(s){var l=a[s[r]];l?(l[n]=l[n]||[],l[n].push(s)):o.push(s)}),o},i.prototype.getGroupPadding=function(e){var t=this.graph,r=this.styles.default,n=t.get("groups"),a=n.filter(function(h){return h.parentId===e}),o=1;a.length>0&&(Qh||(Qh=this.flatToTree(n)),qi(Qh[0],function(h){if(h.parentId===e&&h.children)return o+=h.children.length,!0}));var s=n.filter(function(h){return h.id===e&&!h.parentId});s.length>0&&(o+=1);var l=n.filter(function(h){return h.parentId===e}).length>0,f=l?r.maxDis+(o>1?o/2:1)*30:r.minDis;return f},i.prototype.setDeletageGroupByStyle=function(e,t,r){var n=r.width,a=r.height,o=r.x,s=r.y,l=r.r,f=r.btnOffset,h=this.customGroup[e];if(!h)this.customGroup[e]={nodeGroup:t,groupStyle:{width:n,height:a,x:o,y:s,r:l,btnOffset:f}};else{var c=h.groupStyle,v=(0,ji.default)({},c,r);this.customGroup[e]={nodeGroup:t,groupStyle:v}}},i.prototype.getDeletageGroupById=function(e){return this.customGroup[e]},i.prototype.collapseExpandGroup=function(e){var t=this.getDeletageGroupById(e),r=t.nodeGroup,n=r.get("hasHidden");n?(r.set("hasHidden",!1),this.expandGroup(e)):(r.set("hasHidden",!0),this.collapseGroup(e))},i.prototype.setGroupTmpNode=function(e,t){var r=this.graph,n=r.get("groupNodes"),a=r.get("groups");n[e].indexOf(t)<0&&n[e].push(t);var o=a.filter(function(l){return l.id===e}),s=null;o.length>0&&(s=o[0].parentId),s&&this.setGroupTmpNode(s,t)},i.prototype.collapseGroup=function(e){var t=this,r=this.getDeletageGroupById(e),n=r.nodeGroup,a=this.styles.collapse,o=this.graph,s=o.get("groupType"),l=o.get("groupNodes")[e],f=n.get("keyShape"),h=a.r,c=a.width,v=a.height,x=a.offsetX,P=a.offsetY,D=Qi(a,["r","width","height","offsetX","offsetY"]);Object.keys(D).forEach(function(ee){f.attr(ee,D[ee])});var X={groupId:e,id:e+"-custom-node",x:f.attr("x"),y:f.attr("y"),style:{r:h},type:"circle"},K=n.find(function(ee){return ee.get("className")==="group-title"});s==="circle"?(f.animate({r:h},{duration:500,easing:"easeCubic"}),K&&K.attr({x:f.attr("x")+x,y:f.attr("y")+P})):s==="rect"&&(f.animate({width:c,height:v},{duration:500,easing:"easeCubic"}),K&&K.attr({x:f.attr("x")+10,y:f.attr("y")+v/2+5}),X={groupId:e,id:e+"-custom-node",x:f.attr("x")+c/2,y:f.attr("y")+v/2,size:[c,v],type:"rect"});var Z=o.getEdges(),gt=Z.filter(function(ee){var ue=ee.getModel();return!l.includes(ue.source)&&l.includes(ue.target)}),mt=Z.filter(function(ee){var ue=ee.getModel();return l.includes(ue.source)&&!l.includes(ue.target)}),Nt=Z.filter(function(ee){var ue=ee.getModel();return l.includes(ue.source)&&l.includes(ue.target)});if(l.forEach(function(ee){var ue=o.findById(ee),ne=ue.getModel(),xe=ne.groupId;if(xe&&xe!==e){var Pe=t.getDeletageGroupById(xe),Ye=Pe.nodeGroup;Ye.hide()}ue.hide()}),Nt.forEach(function(ee){var ue=ee.getSource(),ne=ee.getTarget();ue.isVisible()&&ne.isVisible()?ee.show():ee.hide()}),gt.length>0||mt.length>0){var Zt=o.add("node",X);Zt.set("capture",!1),Zt.hide(),this.delegateInGroup[e]={delegateNode:Zt},this.setGroupTmpNode(e,e+"-custom-node"),this.updateEdgeInGroupLinks(e,gt,mt)}},i.prototype.updateEdgeInGroupLinks=function(e,t,r){var n=this.graph,a={};t.map(function(s){var l=s.getModel(),f=s.get("id"),h=l.target;return a[f]=h,n.updateItem(s,{target:e+"-custom-node"}),!0});var o={};r.map(function(s){var l=s.getModel(),f=s.get("id"),h=l.source;return o[f]=h,n.updateItem(s,{source:e+"-custom-node"}),!0}),this.delegateInGroup[e]=(0,ji.default)({sourceOutTargetInEdges:t,sourceInTargetOutEdges:r,edgesOuts:a,edgesIn:o},this.delegateInGroup[e])},i.prototype.expandGroup=function(e){var t=this,r=this.graph,n=r.get("groupType"),a=r.get("groupNodes")[e],o=a.filter(function(wr){return wr.indexOf("custom-node")===-1}),s=this.calculationGroupPosition(o),l=s.width,f=s.height,h=this.getDeletageGroupById(e).nodeGroup,c=h.get("keyShape"),v=this.styles,x=v.default,P=v.collapse;Object.keys(x).forEach(function(wr){c.attr(wr,x[wr])});var D=h.find(function(wr){return wr.get("className")==="group-title"}),X=this.getGroupPadding(e);if(n==="circle"){var K=l>f?l/2:f/2;c.animate({r:K+X},{duration:500,easing:"easeCubic"})}else if(n==="rect"){var Z=P.width,gt=P.height;c.animate({width:Z+l+X*x.disCoefficient*2,height:gt+f+X*x.disCoefficient*2},{duration:500,easing:"easeCubic"})}if(D){var mt=null,Nt=r.get("groups").filter(function(wr){return wr.id===e});Nt&&Nt.length>0&&(mt=Nt[0].title);var Zt=mt.offsetX,ee=Zt===void 0?0:Zt,ue=mt.offsetY,ne=ue===void 0?0:ue;n==="circle"?D.animate({x:c.attr("x")+ee,y:c.attr("y")-c.attr("r")+ne},{duration:600,easing:"easeCubic"}):n==="rect"&&D.animate({x:c.attr("x")+(15+ee),y:c.attr("y")+(15+ne)},{duration:600,easing:"easeCubic"})}setTimeout(function(){a.forEach(function(pr){var fr=r.findById(pr),Yr=fr.getModel(),_r=Yr.groupId;if(_r&&_r!==e){var Fr=t.getDeletageGroupById(_r),yr=Fr.nodeGroup;yr.show();var Ir=yr.get("hasHidden");Ir||fr.show()}else fr.show()});var wr=r.getEdges(),mr=wr.filter(function(pr){var fr=pr.getModel();return a.includes(fr.source)||a.includes(fr.target)});mr.forEach(function(pr){var fr=pr.getSource(),Yr=pr.getTarget();fr.isVisible()&&Yr.isVisible()&&pr.show()})},300);var xe=this.delegateInGroup[e];if(xe){var Pe=xe.sourceOutTargetInEdges,Ye=xe.sourceInTargetOutEdges,He=xe.edgesOuts,Ze=xe.edgesIn,Ue=xe.delegateNode;Pe.map(function(wr){var mr=wr.get("id"),pr=He[mr];return r.updateItem(wr,{target:pr}),!0}),Ye.map(function(wr){var mr=wr.get("id"),pr=Ze[mr];return r.updateItem(wr,{source:pr}),!0});var ur=Ue.getModel();this.deleteTmpNode(e,ur.id),r.remove(Ue),delete this.delegateInGroup[e]}},i.prototype.deleteTmpNode=function(e,t){var r=this.graph,n=r.get("groups"),a=r.get("groupNodes")[e],o=a.indexOf(t);a.splice(o,1);var s=n.filter(function(f){return f.id===e}),l=null;s.length>0&&(l=s[0].parentId),l&&this.deleteTmpNode(l,t)},i.prototype.remove=function(e){var t=this.graph,r=this.getDeletageGroupById(e);if(!!r){var n=r.nodeGroup,a=t.get("groupNodes"),o=a[e];o.forEach(function(x){var P=t.findById(x),D=P.getModel(),X=D.groupId;!X||e===X&&(delete D.groupId,t.updateItem(P,D))}),n.destroy(),delete this.customGroup[e];var s=t.get("groups");if(s.length>0){var l=s.filter(function(x){return x.id!==e});t.set("groups",l)}for(var f=null,h=null,c=0;c<s.length;c++){var v=s[c];if(e===v.id){f=v.parentId,h=v;break}}h&&delete h.parentId,delete a[e],f&&(a[f]=a[f].filter(function(x){return!o.includes(x)}))}},i.prototype.updateGroup=function(e,t,r){var n=this.graph,a=n.get("groupType");this.updateItemInGroup(e,t,r);for(var o=n.save().groups,s=null,l=null,f=0;f<o.length;f++){var h=o[f];if(e===h.id){s=h.parentId,l=h;break}}if(s){var c=this.getDeletageGroupById(s).nodeGroup,v=c.get("keyShape");this.setGroupStyle(v,"default");var x=v.getBBox(),P=x.minX,D=x.minY,X=x.maxX,K=x.maxY,Z=this.getDeletageGroupById(e).nodeGroup,gt=Z.get("keyShape"),mt=gt.getBBox(),Nt=mt.x,Zt=mt.y;if(!(Nt<X&&Nt>P&&Zt<K&&Zt>D)){delete l.parentId;var ee=n.get("groupNodes"),ue=ee[e],ne=ee[s];ee[s]=ne.filter(function(Br){return ue.indexOf(Br)===-1});var xe=this.calculationGroupPosition(ee[s]),Pe=xe.x,Ye=xe.y,He=xe.width,Ze=xe.height,Ue=this.getGroupPadding(s),ur=c.find(function(Br){return Br.get("className")==="group-title"}),wr=0,mr=0;if(a==="circle"){var pr=He>Ze?He/2:Ze/2,fr=Pe,Yr=Ye;v.attr({r:pr+Ue,x:fr,y:Yr}),wr=fr,mr=Yr-v.attr("r")}else if(a==="rect"){var _r=this.styles.default,Fr=Ue*_r.disCoefficient;v.attr({x:Pe-Fr,y:Ye-Fr}),wr=Pe-Fr+15,mr=Ye-Fr+15}if(ur){var yr=l.title,Ir=0,Vr=0;yr&&(Ir=yr.offsetX,Vr=yr.offsetY),ur.attr({x:wr+Ir,y:mr+Vr})}}}},i.prototype.updateItemInGroup=function(e,t,r){var n=this,a=this.graph,o=a.get("groupType"),s=a.get("groupNodes"),l=s[e],f=this.getDeletageGroupById(e).nodeGroup,h=f.getBBox(),c=[];l.forEach(function(v,x){var P=a.findById(v),D=P.getModel(),X=D.groupId;X&&!c.includes(X)&&c.push(X),n.nodePoint[x]||(n.nodePoint[x]={x:D.x,y:D.y});var K=t.x-h.x+n.nodePoint[x].x,Z=t.y-h.y+n.nodePoint[x].y;n.nodePoint[x]={x:K,y:Z},a.updateItem(P,{x:K,y:Z})}),c.includes(e)||c.push(e),c.forEach(function(v){var x=n.getDeletageGroupById(v).nodeGroup,P=x.get("keyShape"),D=s[v].filter(function(Ze){return Ze.indexOf("custom-node")===-1}),X=n.calculationGroupPosition(D,t),K=X.x,Z=X.y,gt=X.width,mt=X.height,Nt=0,Zt=0;if(o==="circle"){var ee=(gt+2*K)/2,ue=(mt+2*Z)/2;P.attr({x:ee,y:ue}),Nt=ee,Zt=ue-P.attr("r")}else if(o==="rect"){var ne=x.get("hasHidden"),xe=n.getGroupPadding(v),Pe={},Ye=n.styles.default,He=xe*Ye.disCoefficient;Nt=K-He+15,Zt=Z-He+15,ne?(Pe={x:K-He,y:Z-He},Zt=Zt+10):Pe={x:K-He,y:Z-He,width:gt+He*2,height:mt+He*2},P.attr(Pe)}n.updateGroupTitle(x,v,Nt,Zt)})},i.prototype.updateGroupTitle=function(e,t,r,n){var a=this.graph,o=e.find(function(c){return c.get("className")==="group-title"});if(o){var s=null,l=a.get("groups").filter(function(c){return c.id===t});l&&l.length>0&&(s=l[0].title);var f=0,h=0;s&&(f=s.offsetX||0,h=s.offsetY||0),o.attr({x:r+f,y:n+h})}},i.prototype.dynamicChangeGroupSize=function(e,t,r){var n=e.item,a=n.getModel(),o=a.groupId,s=this.graph,l=s.get("groupType"),f=s.get("groupNodes"),h=f[o];if(h.length===0){delete f[o];var c=s.get("groups");s.set("groups",c.filter(function(ne){return ne.id!==o})),t.remove()}else{var v=this.calculationGroupPosition(h),x=v.x,P=v.y,D=v.width,X=v.height,K=this.getGroupPadding(o),Z=0,gt=0;if(l==="circle"){var mt=D>X?D/2:X/2,Nt=(D+2*x)/2,Zt=(X+2*P)/2;r.attr({r:mt+K,x:Nt,y:Zt}),Z=Nt,gt=Zt-r.attr("r")}else if(l==="rect"){var ee=this.styles.default,ue=K*ee.disCoefficient;r.attr({x:x-ue,y:P-ue,width:D+ue*2,height:X+ue*2}),Z=x-ue+15,gt=P-ue+15}this.updateGroupTitle(t,o,Z,gt)}this.setGroupStyle(r,"default")},i.prototype.resetNodePoint=function(){this.nodePoint.length=0},i.prototype.destroy=function(){this.graph=null,this.styles={},this.customGroup={},this.delegateInGroup={},this.resetNodePoint(),this.destroyed=!0},i}(),YN=NN,GN=function(e){var t={};return e.getNodes().forEach(function(r){t[r.getID()]={degree:0,inDegree:0,outDegree:0}}),e.getEdges().forEach(function(r){t[r.getSource().getID()].degree++,t[r.getSource().getID()].outDegree++,t[r.getTarget().getID()].degree++,t[r.getTarget().getID()].inDegree++}),t},_x=GN,zN=function(){function i(e){this.compare=e||i.defaultCompareFunction}return i.defaultCompareFunction=function(e,t){return e===t?0:e<t?-1:1},i.prototype.equal=function(e,t){return this.compare(e,t)===0},i.prototype.lessThan=function(e,t){return this.compare(e,t)<0},i.prototype.greaterThan=function(e,t){return this.compare(e,t)>0},i.prototype.lessThanOrEqual=function(e,t){return this.lessThan(e,t)||this.equal(e,t)},i.prototype.greaterThanOrEqual=function(e,t){return this.greaterThan(e,t)||this.equal(e,t)},i.prototype.reverse=function(){var e=this.compare;this.compare=function(t,r){return e(r,t)}},i}(),XN=zN,Ox=function(){function i(e,t){t===void 0&&(t=null),this.value=e,this.next=t}return i.prototype.toString=function(e){return e?e(this.value):""+this.value},i}(),VN=function(){function i(e){e===void 0&&(e=null),this.head=null,this.tail=null,this.compare=new XN(e)}return i.prototype.prepend=function(e){var t=new Ox(e,this.head);return this.head=t,this.tail||(this.tail=t),this},i.prototype.append=function(e){var t=new Ox(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},i.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare.equal(this.head.value,e);)t=this.head,this.head=this.head.next;var r=this.head;if(r!==null)for(;r.next;)this.compare.equal(r.next.value,e)?(t=r.next,r.next=r.next.next):r=r.next;return this.compare.equal(this.tail.value,e)&&(this.tail=r),t},i.prototype.find=function(e){var t=e.value,r=t===void 0?void 0:t,n=e.callback,a=n===void 0?void 0:n;if(!this.head)return null;for(var o=this.head;o;){if(a&&a(o.value)||r!==void 0&&this.compare.equal(o.value,r))return o;o=o.next}return null},i.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},i.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},i.prototype.fromArray=function(e){var t=this;return e.forEach(function(r){return t.append(r)}),this},i.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},i.prototype.reverse=function(){for(var e=this.head,t=null,r=null;e;)r=e.next,e.next=t,t=e,e=r;this.tail=this.head,this.head=t},i.prototype.toString=function(e){return e===void 0&&(e=void 0),this.toArray().map(function(t){return t.toString(e)}).toString()},i}(),Lx=VN,HN=function(){function i(e){e===void 0&&(e=10),this.linkedList=new Lx,this.maxStep=e}return Object.defineProperty(i.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},i.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},i.prototype.push=function(e){this.linkedList.prepend(e),this.length>this.maxStep&&this.linkedList.deleteTail()},i.prototype.pop=function(){var e=this.linkedList.deleteHead();return e?e.value:null},i.prototype.toArray=function(){return this.linkedList.toArray().map(function(e){return e.value})},i.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},i}(),Ix=HN,WN=function(e,t){var r=e.getNodes(),n=e.getEdges(),a=[],o={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach(function(s,l){o[s.getID()]=l;var f=[];a.push(f)}),n&&n.forEach(function(s){var l=s.getModel(),f=l.source,h=l.target,c=o[f],v=o[h];a[c][v]=1,t||(a[v][c]=1)}),a},gu=WN,jN=function(e,t){var r=e.get("adjMatrix");r||(r=gu(e,t));for(var n=[],a=r.length,o=0;o<a;o+=1){n[o]=[];for(var s=0;s<a;s+=1)o===s?n[o][s]=0:r[o][s]===0||!r[o][s]?n[o][s]=Infinity:n[o][s]=r[o][s]}for(var l=0;l<a;l+=1)for(var o=0;o<a;o+=1)for(var s=0;s<a;s+=1)n[o][s]>n[o][l]+n[l][s]&&(n[o][s]=n[o][l]+n[l][s]);return n},kx=jN,Bx=function(e,t,r){return(e.y-r.y)*(t.x-r.x)-(e.x-r.x)*(t.y-r.y)},Dx=function(e){var t=e.map(function(s){return{x:s.getModel().x,y:s.getModel().y}});t.sort(function(s,l){return s.x===l.x?s.y-l.y:s.x-l.x});for(var r=[],n=0;n<t.length;n++){for(;r.length>=2&&Bx(r[r.length-2],r[r.length-1],t[n])<=0;)r.pop();r.push(t[n])}for(var a=[],n=t.length-1;n>=0;n--){for(;a.length>=2&&Bx(a[a.length-2],a[a.length-1],t[n])<=0;)a.pop();a.push(t[n])}a.pop(),r.pop();var o=r.concat(a);return o},UN={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function ZN(i,e,t){var r=!1,n=function(l,f){return e.cells[l+f*e.width]},a=function(l,f){var h=0;return n(l-1,f-1)>=t&&(h+=1),n(l,f-1)>t&&(h+=2),n(l-1,f)>t&&(h+=4),n(l,f)>t&&(h+=8),h},o=function(l,f){for(var h=l,c=f,v,x,P=0;P<e.width*e.height;P++){if(v=h,x=c,i.findIndex(function(X){return X.x===h&&X.y===c})>-1){if(!(i[0].x!==h||i[0].y!==c))return!0}else i.push({x:h,y:c});var D=a(h,c);switch(D){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:h++;break;case 12:case 14:case 4:h--;break;case 6:v===0&&(x===-1?h-=1:h+=1);break;case 1:case 13:case 5:c--;break;case 9:v===1&&(x===0?c-=1:c+=1);break;case 10:case 8:case 11:c++;break;default:return console.warn("Marching squares invalid state: "+D),!0}}};this.march=function(){for(var s=0;s<e.width&&!r;s+=1)for(var l=0;l<e.height&&!r;l+=1)n(s,l)>t&&a(s,l)!==15&&(r=o(s,l));return r}}var KN=function(e,t,r){var n=Math.ceil(e/r),a=Math.ceil(t/r),o=new Float32Array(Math.max(0,n*a)).fill(0);return{cells:o,width:n,height:a}},$N=function(e,t,r){var n=null,a=Number.POSITIVE_INFINITY;return t.forEach(function(o){var s={x:e.getModel().x,y:e.getModel().y},l={x:o.getModel().x,y:o.getModel().y},f=Ql(s,l),h=new Do(s.x,s.y,l.x,l.y),c=r.reduce(function(v,x){return Lh(x,h)>0?v+1:v},0);f*Math.pow(c+1,2)<a&&(n=o,a=f*Math.pow(c+1,2))}),n},Fx=function(e,t){var r=Number.POSITIVE_INFINITY,n=null;return e.forEach(function(a){var o=Lh(a,t);o>=0&&o<r&&(n=a,r=o)}),n},QN=function(e,t,r,n){var a=[],o=[];o.push(e);for(var s=!0,l=0,f=function(x,P){var D=!1;return P.forEach(function(X){D||(Ih(x,{x:X.x1,y:X.y1})||Ih(x,{x:X.x2,y:X.y2}))&&(D=!0)}),D},h=function(x,P){for(var D=0,X=P;D<X.length;D++){var K=X[D],Z=K.getBBox(),gt=[[Z.x,Z.y],[Z.x+Z.width,Z.y],[Z.x,Z.y+Z.height],[Z.x+Z.width,Z.y+Z.height]];if(As(gt,x.x,x.y))return!0}return!1};s&&l<r;){s=!1;for(var c=function(){var x=o.pop(),P=Fx(t,x);if(P){var D=Tm(P,x),X=D[0],K=D[1];if(K===2){var Z=function(mt){for(var Nt=n,Zt=Rx(P,Nt,X,mt),ee=f(Zt,o)||f(Zt,a),ue=h(Zt,t);!ee&&ue&&Nt>=1;)Nt/=1.5,Zt=Rx(P,Nt,X,mt),ee=f(Zt,o)||f(Zt,a),ue=h(Zt,t);Zt&&!ee&&(!mt||!ue)&&(o.push(new Do(x.x1,x.y1,Zt.x,Zt.y)),o.push(new Do(Zt.x,Zt.y,x.x2,x.y2)),s=!0)};Z(!0),s||Z(!1)}}s||a.push(x),l+=1};!s&&o.length;)c()}for(;o.length;)a.push(o.pop());return a};function JN(i,e,t,r,n){var a=$N(i,t,e);if(a===null)return[];var o=function(c){for(var v=[];c.length>0;){var x=c.pop();if(c.length===0){v.push(x);break}var P=c.pop(),D=new Do(x.x1,x.y1,P.x2,P.y2),X=Fx(e,D);X?(v.push(x),c.push(P)):c.push(D)}return v},s=new Do(i.getModel().x,i.getModel().y,a.getModel().x,a.getModel().y),l=QN(s,e,r,n),f=o(l);return f}var qN=function(e,t,r){var n=Object.assign(UN,r),a=Pm(e.map(function(Z){return{x:Z.getModel().x,y:Z.getModel().y}}));e=e.sort(function(Z,gt){return Ql({x:Z.getModel().x,y:Z.getModel().y},a)-Ql({x:gt.getModel().x,y:gt.getModel().y},a)});var o=[],s=[];e.forEach(function(Z){var gt=JN(Z,t,o,n.maxRoutingIterations,n.morphBuffer);gt.forEach(function(mt){s.push(mt)}),o.push(Z)});for(var l=t4(e,s,n.nodeR0),f=KN(l.width,l.height,n.pixelGroupSize),h=[],c=[],v=0;v<n.maxMarchingIterations;v++)if(e4(e,t,s,l,f,n),h=[],c=[],!!new ZN(h,f,n.threshold).march()){var x=h.map(function(Z){return{x:Math.round(Z.x*n.pixelGroupSize+l.minX),y:Math.round(Z.y*n.pixelGroupSize+l.minY)}});if(x){var P=x.length;if(n.skip>1)for(P=Math.floor(x.length/n.skip);P<3&&n.skip>1;)n.skip-=1,P=Math.floor(x.length/n.skip);for(var D=0,X=0;X<P;X+=1,D+=n.skip)c.push({x:x[D].x,y:x[D].y})}var K=function(){for(var gt=0,mt=e;gt<mt.length;gt++){var Nt=mt[gt],Zt=c.map(function(ee){return[ee.x,ee.y]});if(!As(Zt,Nt.getBBox().centerX,Nt.getBBox().centerY))return!1}return!0};if(c&&K())return c;if(n.threshold*=.9,v<=n.maxMarchingIterations*.5)n.memberInfluenceFactor*=1.2,n.edgeInfluenceFactor*=1.2;else if(n.nonMemberInfluenceFactor!==0&&t.length>0)n.nonMemberInfluenceFactor*=.8;else break}return c};function t4(i,e,t){var r={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},n=[];i.forEach(function(l){n.push(l.getBBox())}),e.forEach(function(l){n.push(l.getBBox())});for(var a=0,o=n;a<o.length;a++){var s=o[a];r.minX=(s.minX<r.minX?s.minX:r.minX)-t,r.minY=(s.minY<r.minY?s.minY:r.minY)-t,r.maxX=(s.maxX>r.maxX?s.maxX:r.maxX)+t,r.maxY=(s.maxY>r.maxY?s.maxY:r.maxY)+t}return r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.x=r.minX,r.y=r.minY,r}function e4(i,e,t,r,n,a){function o(x,P){var D=Math.floor((x-P)/a.pixelGroupSize);return D<0?0:D}function s(x,P){return x*a.pixelGroupSize+P}var l=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),f=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1),h=function(P,D){var X=Math.min(o(P.minX,D+r.minX),n.width),K=Math.min(o(P.minY,D+r.minY),n.height),Z=Math.min(o(P.maxX,-D+r.minX),n.width),gt=Math.min(o(P.maxY,-D+r.minY),n.height);return[X,K,Z,gt]},c=function(P,D){for(var X=P.getBBox(),K=h(X,a.nodeR1),Z=K[0],gt=K[1],mt=K[2],Nt=K[3],Zt=gt;Zt<Nt;Zt+=1)for(var ee=Z;ee<mt;ee+=1)if(!(D<0&&n[ee+Zt*n.width]<=0)){var ue=s(ee,r.minX),ne=s(Zt,r.minY),xe=Om({x:ue,y:ne},{x:X.minX,y:X.minY,width:X.width,height:X.height});if(xe<Math.pow(a.nodeR1,2)){var Pe=Math.sqrt(xe)-a.nodeR1;n.cells[ee+Zt*n.width]+=D*Pe*Pe}}},v=function(P,D){for(var X=P.getBBox(),K=h(X,a.edgeR1),Z=K[0],gt=K[1],mt=K[2],Nt=K[3],Zt=gt;Zt<Nt;Zt+=1)for(var ee=Z;ee<mt;ee+=1)if(!(D<0&&n.cells[ee+Zt*n.width]<=0)){var ue=s(ee,r.minX),ne=s(Zt,r.minY),xe=_m({x:ue,y:ne},P);if(xe<Math.pow(a.edgeR1,2)){var Pe=Math.sqrt(xe)-a.edgeR1;n.cells[ee+Zt*n.width]+=D*Pe*Pe}}};a.nodeInfluenceFactor&&i.forEach(function(x){c(x,a.nodeInfluenceFactor/l)}),a.edgeInfluenceFactor&&t.forEach(function(x){v(x,a.edgeInfluenceFactor/f)}),a.negativeNodeInfluenceFactor&&e.forEach(function(x){c(x,a.negativeNodeInfluenceFactor/l)})}function Rx(i,e,t,r){var n=i.getBBox(),a=t[0],o=t[1],s=t[2],l=t[3],f={topLeft:{x:n.minX-e,y:n.minY-e},topRight:{x:n.maxX+e,y:n.minY-e},bottomLeft:{x:n.minX-e,y:n.maxY+e},bottomRight:{x:n.maxX+e,y:n.maxY+e}},h=n.height*n.width;function c(P,D){return n.width*((P.y-n.minY+(D.y-n.minY))*.5)}if(o){if(a)return r?f.topLeft:f.bottomRight;if(s)return r?f.bottomLeft:f.topRight;var v=c(o,l);return v<h*.5?o.y>l.y?r?f.topLeft:f.bottomRight:r?f.topRight:f.bottomLeft:o.y<l.y?r?f.bottomLeft:f.topRight:r?f.bottomRight:f.topLeft}if(l){if(a)return r?f.topRight:f.bottomLeft;if(s)return r?f.bottomRight:f.topLeft}var x=c(a,s);return x<h*.5?a.x>s.x?r?f.topLeft:f.bottomRight:r?f.bottomLeft:f.topRight:a.x<s.x?r?f.topRight:f.bottomLeft:r?f.bottomRight:f.topLeft}var r4=function(){function i(e,t){this.cfg=(0,u.deepMix)(this.getDefaultCfg(),t),this.graph=e,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(r){return(0,u.isString)(r)?e.findById(r):r}),this.nonMembers=this.cfg.nonMembers.map(function(r){return(0,u.isString)(r)?e.findById(r):r}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return i.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},i.prototype.setPadding=function(){var e=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+e:10+e,this.cfg.bubbleCfg={nodeR0:this.padding-e,nodeR1:this.padding-e,morphBuffer:this.padding-e}},i.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},i.prototype.calcPath=function(e,t){var r,n,a;switch(this.type){case"round-convex":r=Dx(e),a=Fm(r.map(function(o){return[o.x,o.y]}),this.padding),n=(0,Ws.parsePathString)(a);break;case"smooth-convex":r=Dx(e),a=Rm(r.map(function(o){return[o.x,o.y]}),this.padding),n=r.length>=2&&kh(a);break;case"bubble":r=qN(e,t,this.cfg.bubbleCfg),n=r.length>=2&&kh(r);break;default:}return n},i.prototype.render=function(){this.group.addShape("path",{attrs:ce({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},i.prototype.addMember=function(e){if(!!e){(0,u.isString)(e)&&(e=this.graph.findById(e)),this.members.push(e);var t=this.nonMembers.indexOf(e);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.addNonMember=function(e){if(!!e){(0,u.isString)(e)&&(e=this.graph.findById(e)),this.nonMembers.push(e);var t=this.members.indexOf(e);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.removeMember=function(e){if(!!e){(0,u.isString)(e)&&(e=this.graph.findById(e));var t=this.members.indexOf(e);return t>-1?(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.removeNonMember=function(e){if(!!e){(0,u.isString)(e)&&(e=this.graph.findById(e));var t=this.nonMembers.indexOf(e);return t>-1?(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.updateData=function(e,t){var r=this;this.group.findById(this.id).remove(),e&&(this.members=e.map(function(n){return(0,u.isString)(n)?r.graph.findById(n):n})),t&&(this.nonMembers=t.map(function(n){return(0,u.isString)(n)?r.graph.findById(n):n})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.updateStyle=function(e){var t=this.group.findById(this.id);t.attr(ce({},e))},i.prototype.updateCfg=function(e){var t=this;this.cfg=(0,u.deepMix)(this.cfg,e),this.id=this.cfg.id,this.group=this.cfg.group,e.members&&(this.members=this.cfg.members.map(function(r){return(0,u.isString)(r)?t.graph.findById(r):r})),e.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(r){return(0,u.isString)(r)?t.graph.findById(r):r})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.contain=function(e){var t=this,r;(0,u.isString)(e)?r=this.graph.findById(e):r=e;var n,a=r.getKeyShape();if(r.get("type")==="path")n=ql(a.attr("path"));else{var o=a.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map(function(s){var l=t.graph.getPointByCanvas(s[0],s[1]);return[l.x,l.y]}),_h(n,ql(this.path))},i.prototype.destroy=function(){this.group.remove(),this.cfg=null},i}(),n4=r4,i4="node",a4="svg",o4=function(i){Kn(e,i);function e(t){var r=i.call(this)||this;return r.cfg=(0,u.deepMix)(r.getDefaultCfg(),t),r.init(),r.animating=!1,r.destroyed=!1,r.cfg.enabledStack&&(r.undoStack=new Ix(r.cfg.maxStep),r.redoStack=new Ix(r.cfg.maxStep)),r}return e.prototype.init=function(){this.initCanvas();var t=new NR(this),r=new FR(this),n=new BR(this),a=new o3(this),o=new BN(this),s=new RN(this),l=new YN(this);this.set({eventController:t,viewController:r,modeController:n,itemController:a,layoutController:o,stateController:s,customGroupControll:l}),this.initPlugin()},e.prototype.initCanvas=function(){var t=this.get("container");if((0,u.isString)(t)&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var r=this.get("width"),n=this.get("height"),a=this.get("renderer"),o;if(a===a4)o=new Ts.Z({container:t,width:r,height:n});else{var s={container:t,width:r,height:n},l=this.get("pixelRatio");l&&(s.pixelRatio=l),o=new Fo.Z(s)}this.set("canvas",o),this.initGroups()},e.prototype.initPlugin=function(){var t=this;(0,u.each)(t.get("plugins"),function(r){!r.destroyed&&r.initPlugin&&r.initPlugin(t)})},e.prototype.initGroups=function(){var t=this.get("canvas"),r=this.get("canvas").get("el"),n=r.id,a=t.addGroup({id:n+"-root",className:er.rootContainerClassName});if(this.get("groupByTypes")){var o=a.addGroup({id:n+"-edge",className:er.edgeContainerClassName}),s=a.addGroup({id:n+"-node",className:er.nodeContainerClassName}),l=a.addGroup({id:n+"-combo",className:er.comboContainerClassName}),f=a.addGroup({id:n+"-group",className:er.customGroupContainerClassName});f.toBack(),l.toBack(),this.set({nodeGroup:s,edgeGroup:o,customGroup:f,comboGroup:l})}var h=a.addGroup({id:n+"-delegate",className:er.delegateContainerClassName});this.set({delegateGroup:h}),this.set("group",a)},e.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,groupType:"circle",groupBBoxs:{},groupNodes:{},groups:[],groupStyle:{},enabledStack:!1,maxStep:10,tooltips:[]}},e.prototype.set=function(t,r){return(0,u.isPlainObject)(t)?this.cfg=ce(ce({},this.cfg),t):this.cfg[t]=r,this},e.prototype.get=function(t){return this.cfg[t]},e.prototype.getGroup=function(){return this.get("group")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.getMinZoom=function(){return this.get("minZoom")},e.prototype.setMinZoom=function(t){return this.set("minZoom",t)},e.prototype.getMaxZoom=function(){return this.get("maxZoom")},e.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},e.prototype.getWidth=function(){return this.get("width")},e.prototype.getHeight=function(){return this.get("height")},e.prototype.clearItemStates=function(t,r){(0,u.isString)(t)&&(t=this.findById(t));var n=this.get("itemController");r||(r=t.get("states")),n.clearItemStates(t,r);var a=this.get("stateController");a.updateStates(t,r,!1)},e.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},e.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},e.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},e.prototype.findById=function(t){return this.get("itemMap")[t]},e.prototype.find=function(t,r){var n,a=this.get(t+"s");return(0,u.each)(a,function(o,s){if(r(o,s))return n=o,n}),n},e.prototype.findAll=function(t,r){var n=[];return(0,u.each)(this.get(t+"s"),function(a,o){r(a,o)&&n.push(a)}),n},e.prototype.findAllByState=function(t,r){return this.findAll(t,function(n){return n.hasState(r)})},e.prototype.translate=function(t,r){var n=this.get("group"),a=(0,u.clone)(n.getMatrix());a||(a=[1,0,0,0,1,0,0,0,1]),Ba.wO.translate(a,a,[t,r]),n.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:n.getMatrix()}),this.autoPaint()},e.prototype.moveTo=function(t,r){var n=this.get("group");Em(n,{x:t,y:r}),this.emit("viewportchange",{action:"move",matrix:n.getMatrix()})},e.prototype.fitView=function(t){t&&this.set("fitViewPadding",t);var r=this.get("viewController");r.fitView(),this.autoPaint()},e.prototype.fitCenter=function(){var t=this.get("viewController");t.fitCenter(),this.autoPaint()},e.prototype.addBehaviors=function(t,r){var n=this.get("modeController");return n.manipulateBehaviors(t,r,!0),this},e.prototype.removeBehaviors=function(t,r){var n=this.get("modeController");return n.manipulateBehaviors(t,r,!1),this},e.prototype.zoom=function(t,r){var n=this.get("group"),a=(0,u.clone)(n.getMatrix()),o=this.get("minZoom"),s=this.get("maxZoom");a||(a=[1,0,0,0,1,0,0,0,1]),r?(Ba.wO.translate(a,a,[-r.x,-r.y]),Ba.wO.scale(a,a,[t,t]),Ba.wO.translate(a,a,[r.x,r.y])):Ba.wO.scale(a,a,[t,t]),!(o&&a[0]<o||s&&a[0]>s)&&(n.setMatrix(a),this.emit("viewportchange",{action:"zoom",matrix:a}),this.autoPaint())},e.prototype.zoomTo=function(t,r){var n=t/this.getZoom();this.zoom(n,r)},e.prototype.focusItem=function(t,r,n){var a=this.get("viewController"),o=!1;r?o=!0:r===void 0&&(o=this.get("animate"));var s={};n?s=n:n===void 0&&(s=this.get("animateCfg")),a.focus(t,o,s),this.autoPaint()},e.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},e.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},e.prototype.getPointByClient=function(t,r){var n=this.get("viewController");return n.getPointByClient(t,r)},e.prototype.getClientByPoint=function(t,r){var n=this.get("viewController");return n.getClientByPoint(t,r)},e.prototype.getPointByCanvas=function(t,r){var n=this.get("viewController");return n.getPointByCanvas(t,r)},e.prototype.getCanvasByPoint=function(t,r){var n=this.get("viewController");return n.getCanvasByPoint(t,r)},e.prototype.showItem=function(t,r){r===void 0&&(r=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!0);if(r&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},f={};switch(s){case"node":l.nodes=[{id:o,visible:!1}],f.nodes=[{id:o,visible:!0}];break;case"edge":l.nodes=[{id:o,visible:!1}],f.edges=[{id:o,visible:!0}];break;case"combo":l.nodes=[{id:o,visible:!1}],f.combos=[{id:o,visible:!0}];break;default:break}this.pushStack("visible",{before:l,after:f})}},e.prototype.hideItem=function(t,r){r===void 0&&(r=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!1);if(r&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},f={};switch(s){case"node":l.nodes=[{id:o,visible:!0}],f.nodes=[{id:o,visible:!1}];break;case"edge":l.nodes=[{id:o,visible:!0}],f.edges=[{id:o,visible:!1}];break;case"combo":l.nodes=[{id:o,visible:!0}],f.combos=[{id:o,visible:!1}];break;default:break}this.pushStack("visible",{before:l,after:f})}},e.prototype.refreshItem=function(t){var r=this.get("itemController");r.refreshItem(t)},e.prototype.setAutoPaint=function(t){var r=this;r.set("autoPaint",t);var n=r.get("canvas");n.set("autoDraw",t)},e.prototype.remove=function(t,r){r===void 0&&(r=!0),this.removeItem(t,r)},e.prototype.removeItem=function(t,r){r===void 0&&(r=!0);var n=t;if((0,u.isString)(t)&&(n=this.findById(t)),!n&&(0,u.isString)(t)){console.warn("The item to be removed does not exist!");var a=this.get("customGroupControll");a.remove(t)}else if(n){var o="";if(n.getType&&(o=n.getType()),r&&this.get("enabledStack")){var s=ce(ce({},n.getModel()),{itemType:o}),l={};switch(o){case"node":{l.nodes=[s],l.edges=[];for(var f=n.getEdges(),h=f.length-1;h>=0;h--)l.edges.push(ce(ce({},f[h].getModel()),{itemType:"edge"}));break}case"edge":l.edges=[s];break;case"combo":l.combos=[s];break;default:break}this.pushStack("delete",{before:l,after:{}})}var c=this.get("itemController");if(c.removeItem(t),o==="combo"){var v=Rh(this.get("comboTrees"));this.set("comboTrees",v)}}},e.prototype.addItem=function(t,r,n,a){n===void 0&&(n=!0),a===void 0&&(a=!0);var o=this.get("comboSorted");this.set("comboSorted",o&&!a);var s=this.get("itemController");if(t==="group"){var l=r.groupId,f=r.nodes,h=r.type,c=r.zIndex,v=r.title,x=v;return(0,u.isString)(v)&&(x={text:v}),this.get("customGroupControll").create(l,f,h,c,!0,x)}if(r.id&&this.findById(r.id)){console.warn("This item exists already. Be sure the id %c"+r.id+"%c is unique.","font-size: 20px; color: red;","");return}var P,D=this.get("comboTrees");if(D||(D=[]),t==="combo"){var X=this.get("itemMap"),K=!1;if(D.forEach(function(xe){K||Pa(xe,function(Pe){if(r.parentId===Pe.id){K=!0;var Ye=ce({id:r.id,depth:Pe.depth+2},r);Pe.children?Pe.children.push(Ye):Pe.children=[Ye],r.depth=Ye.depth,P=s.addItem(t,r)}var He=X[Pe.id];return K&&He&&He.getType&&He.getType()==="combo"&&s.updateCombo(He,Pe.children),!0})}),!K){var Z=ce({id:r.id,depth:0},r);r.depth=Z.depth,D.push(Z),P=s.addItem(t,r)}this.set("comboTrees",D)}else if(t==="node"&&(0,u.isString)(r.comboId)&&D){var gt=this.findById(r.comboId);if(gt&&gt.getType&&gt.getType()!=="combo"){console.warn("'"+r.comboId+"' is a not id of a combo in the graph, the node will be added without combo.");return}P=s.addItem(t,r);var mt=this.get("itemMap"),Nt=!1,Zt=!1;(D||[]).forEach(function(xe){Zt||Nt||Pa(xe,function(Pe){if(Pe.id===r.id)return Zt=!0,!1;if(r.comboId===Pe.id&&!Zt){Nt=!0;var Ye=(0,u.clone)(r);Ye.itemType="node",Pe.children?Pe.children.push(Ye):Pe.children=[Ye],r.depth=Pe.depth+1}return Nt&&mt[Pe.id].getType&&mt[Pe.id].getType()==="combo"&&s.updateCombo(mt[Pe.id],Pe.children),!0})})}else P=s.addItem(t,r);if(t==="node"&&r.comboId||t==="combo"&&r.parentId){var gt=this.findById(r.comboId||r.parentId);gt&&gt.addChild(P)}var ee=this.get("combos");if(ee&&ee.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var ue=ce(ce({},P.getModel()),{itemType:t}),ne={};switch(t){case"node":ne.nodes=[ue];break;case"edge":ne.edges=[ue];break;case"combo":ne.combos=[ue];break;default:break}this.pushStack("add",{before:{},after:ne})}return P},e.prototype.add=function(t,r,n,a){return n===void 0&&(n=!0),a===void 0&&(a=!0),this.addItem(t,r,n,a)},e.prototype.updateItem=function(t,r,n){var a=this;n===void 0&&(n=!0);var o=this.get("itemController"),s;(0,u.isString)(t)?s=this.findById(t):s=t;var l=(0,u.clone)(s.getModel()),f="";s.getType&&(f=s.getType());var h=Ss(s.getStates());if(f==="combo"&&(0,u.each)(h,function(P){return a.setItemState(s,P,!1)}),o.updateItem(s,r),f==="combo"&&(0,u.each)(h,function(P){return a.setItemState(s,P,!0)}),n&&this.get("enabledStack")){var c={nodes:[],edges:[],combos:[]},v={nodes:[],edges:[],combos:[]},x=ce({id:l.id},r);switch(f){case"node":c.nodes.push(l),v.nodes.push(x);break;case"edge":c.edges.push(l),v.edges.push(x);break;case"combo":c.combos.push(l),v.combos.push(x);break;default:break}f==="node"&&c.nodes.push(l),this.pushStack("update",{before:c,after:v})}},e.prototype.update=function(t,r,n){n===void 0&&(n=!0),this.updateItem(t,r,n)},e.prototype.setItemState=function(t,r,n){(0,u.isString)(t)&&(t=this.findById(t));var a=this.get("itemController");a.setItemState(t,r,n);var o=this.get("stateController");(0,u.isString)(n)?o.updateState(t,r+":"+n,!0):o.updateState(t,r,n)},e.prototype.priorityState=function(t,r){var n=this.get("itemController");n.priorityState(t,r)},e.prototype.data=function(t){this.set("data",t)},e.prototype.render=function(){var t=this;this.set("comboSorted",!1);var r=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!r)throw new Error("data must be defined first");var n=r.nodes,a=n===void 0?[]:n,o=r.edges,s=o===void 0?[]:o,l=r.combos,f=l===void 0?[]:l;if(this.clear(),this.emit("beforerender"),(0,u.each)(a,function(Z){t.add("node",Z,!1,!1)}),f&&f.length!==0){var h=Fh(f,a);this.set("comboTrees",h),t.addCombos(f)}(0,u.each)(s,function(Z){t.add("edge",Z,!1,!1)});var c=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var v=t.get("layoutController");v.layout(x)||x();function x(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",c)}if(!this.get("groupByTypes"))if(f&&f.length!==0)this.sortCombos();else if(r.nodes&&r.edges&&r.nodes.length<r.edges.length){var P=this.getNodes();P.forEach(function(Z){Z.toFront()})}else{var D=this.getEdges();D.forEach(function(Z){Z.toBack()})}if(r.nodes){var X=r.nodes.filter(function(Z){return Z.groupId});if(X.length>0){var K=t.get("groupType");this.renderCustomGroup(r,K)}}this.get("enabledStack")&&this.pushStack("render")},e.prototype.read=function(t){this.data(t),this.render()},e.prototype.diffItems=function(t,r,n){var a=this,o,s=this.get("itemMap");(0,u.each)(n,function(l){if(o=s[l.id],o){if(a.get("animate")&&t===i4){var f=o.getContainer().getMatrix();f||(f=[1,0,0,0,1,0,0,0,1]),o.set("originAttrs",{x:f[6],y:f[7]})}a.updateItem(o,l,!1)}else o=a.addItem(t,l,!1);r[t+"s"].push(o)})},e.prototype.changeData=function(t,r){r===void 0&&(r=!0);var n=this;if(!t)return this;r&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.save(),after:t}),this.set("comboSorted",!1),this.getNodes().map(function(D){return n.clearItemStates(D)}),this.getEdges().map(function(D){return n.clearItemStates(D)});var a=this.get("canvas"),o=a.get("localRefresh");a.set("localRefresh",!1),n.get("data")||(n.data(t),n.render());var s=this.get("itemMap"),l={nodes:[],edges:[]},f=t.combos;if(f){var h=Fh(f,t.nodes);this.set("comboTrees",h)}this.diffItems("node",l,t.nodes),(0,u.each)(s,function(D,X){s[X].getModel().depth=0,!(D.getType&&D.getType()==="edge")&&(D.getType&&D.getType()==="combo"?(delete s[X],D.destroy()):l.nodes.indexOf(D)<0&&(delete s[X],n.remove(D,!1)))});for(var c=this.getCombos(),v=c.length,x=v-1;x>=0;x--)c[x].destroyed&&c.splice(x,1);f&&(n.addCombos(f),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",l,t.edges),(0,u.each)(s,function(D,X){D.getType&&(D.getType()==="node"||D.getType()==="combo")||l.edges.indexOf(D)<0&&(delete s[X],n.remove(D,!1))}),this.set({nodes:l.nodes,edges:l.edges});var P=this.get("layoutController");return P.changeData(),n.get("animate")&&!P.getLayoutType()?n.positionsAnimate():n.autoPaint(),setTimeout(function(){a.set("localRefresh",o)},16),this},e.prototype.addCombos=function(t){var r=this,n=r.get("comboTrees"),a=this.get("itemController");a.addCombos(n,t)},e.prototype.createCombo=function(t,r){var n=this;this.set("comboSorted",!1);var a="",o;if(!!t){if((0,u.isString)(t))a=t,o={id:t};else{if(a=t.id,!a){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}o=t}var s=r.map(function(f){var h=n.findById(f),c="";h.getType&&(c=h.getType());var v={id:h.getID(),itemType:c};return c==="combo"?v.parentId=a:c==="node"&&(v.comboId=a),v});o.children=s,this.addItem("combo",o,!1),this.set("comboSorted",!1);var l=this.get("comboTrees");(l||[]).forEach(function(f){Pa(f,function(h){return h.id===a?(h.itemType="combo",h.children=s,!1):!0})}),l&&this.sortCombos()}},e.prototype.uncombo=function(t){var r=this,n,a=this,o=t;if((0,u.isString)(t)&&(o=this.findById(t)),!o||o.getType&&o.getType()!=="combo"){console.warn("The item is not a combo!");return}var s=o.getModel().parentId,l=a.get("comboTrees");l||(l=[]);var f=this.get("itemMap"),h=o.get("id"),c,v=[],x=this.get("combos"),P=this.findById(s);if(l.forEach(function(X){c||Pa(X,function(K){var Z;if(K.id===h){c=K;var gt=o.getEdges();gt.forEach(function(Nt){r.removeItem(Nt,!1)});var mt=x.indexOf(t);x.splice(mt,1),delete f[h],o.destroy()}if(s&&c&&K.id===s){P.removeCombo(o),v=K.children;var mt=v.indexOf(c);return mt!==-1&&v.splice(mt,1),(Z=c.children)===null||Z===void 0||Z.forEach(function(Zt){var ee=r.findById(Zt.id),ue=ee.getModel();ee.getType&&ee.getType()==="combo"?(Zt.parentId=s,delete Zt.comboId,ue.parentId=s,delete ue.comboId):ee.getType&&ee.getType()==="node"&&(Zt.comboId=s,ue.comboId=s),P.addChild(ee),v.push(Zt)}),!1}return!0})}),!s&&c){var D=l.indexOf(c);l.splice(D,1),(n=c.children)===null||n===void 0||n.forEach(function(X){X.parentId=void 0;var K=r.findById(X.id).getModel();K.parentId=void 0,X.itemType!=="node"&&l.push(X)})}},e.prototype.updateCombos=function(){var t=this,r=this,n=this.get("comboTrees"),a=r.get("itemController"),o=r.get("itemMap");(n||[]).forEach(function(s){Pa(s,function(l){if(!l)return!0;var f=o[l.id];if(f&&f.getType&&f.getType()==="combo"){var h=Ss(f.getStates());(0,u.each)(h,function(c){return t.setItemState(f,c,!1)}),a.updateCombo(f,l.children),(0,u.each)(h,function(c){return t.setItemState(f,c,!0)})}return!0})}),r.sortCombos()},e.prototype.updateCombo=function(t){var r=this,n=this,a=t,o;if((0,u.isString)(t)&&(a=this.findById(t)),!a||a.getType&&a.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}o=a.get("id");var s=this.get("comboTrees"),l=n.get("itemController"),f=n.get("itemMap");(s||[]).forEach(function(h){Pa(h,function(c){if(!c)return!0;var v=f[c.id];if(o===c.id&&v&&v.getType&&v.getType()==="combo"){var x=Ss(v.getStates());(0,u.each)(x,function(P){v.getStateStyle(P)&&r.setItemState(v,P,!1)}),l.updateCombo(v,c.children),(0,u.each)(x,function(P){v.getStateStyle(P)&&r.setItemState(v,P,!0)}),o&&(o=c.parentId)}return!0})})},e.prototype.updateComboTree=function(t,r){var n=this;this.set("comboSorted",!1);var a;(0,u.isString)(t)?a=n.findById(t):a=t;var o=a.getModel(),s=o.comboId||o.parentId;if(r&&a.getType&&a.getType()==="combo"){var l=this.get("comboTrees"),f=!0,h;if((l||[]).forEach(function(D){h||qi(D,function(X){if(!h)return X.id===a.getID()&&(h=X),!0})}),qi(h,function(D){return D.id===r?(f=!1,!1):!0}),!f){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(o.parentId||o.comboId){var c=this.findById(o.parentId||o.comboId);c&&c.removeChild(a)}var v="";if(a.getType&&(v=a.getType()),v==="combo"?o.parentId=r:v==="node"&&(o.comboId=r),r){var x=this.findById(r);x&&x.addChild(a)}if(s){var x=this.findById(s);x&&x.removeChild(a)}var P=Rh(this.get("comboTrees"),o.id,r);this.set("comboTrees",P),this.updateCombos()},e.prototype.renderCustomGroup=function(t,r){var n=this,a=t.groups,o=t.nodes,s=o===void 0?[]:o,l=10;if(a){this.set({groups:a});var v=IR(t);Object.keys(v).forEach(function(P){var D=v[P];n.get("customGroupControll").create(P,D,r,l),l--});var x=this.get("customGroup");x.sort()}else{var f=s.filter(function(P){return P.groupId}),h=[],c=(0,u.groupBy)(f,"groupId");Object.keys(c).forEach(function(P){var D=c[P].map(function(X){return X.id});n.get("customGroupControll").create(P,D,r,l),l--,h.find(function(X){return X.id===P})||h.push({id:P})}),this.set({groups:h})}},e.prototype.save=function(){var t=[],r=[],n=[];return(0,u.each)(this.get("nodes"),function(a){t.push(a.getModel())}),(0,u.each)(this.get("edges"),function(a){r.push(a.getModel())}),(0,u.each)(this.get("combos"),function(a){n.push(a.getModel())}),{nodes:t,edges:r,combos:n,groups:this.get("groups")}},e.prototype.changeSize=function(t,r){var n=this.get("viewController");return n.changeSize(t,r),this},e.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var r=t.get("nodes"),n=t.get("edges"),a=t.get("edges");(0,u.each)(r,function(o){o.refresh()}),(0,u.each)(n,function(o){o.refresh()}),(0,u.each)(a,function(o){o.refresh()})}t.emit("aftergraphrefresh"),t.autoPaint()},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.getComboChildren=function(t){if((0,u.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo does not exist!");return}return t.getChildren()},e.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var r=t.get("animateCfg"),n=r.onFrame,a=t.getNodes(),o=a.map(function(l){var f=l.getModel();return{id:f.id,x:f.x,y:f.y}});t.isAnimating()&&t.stopAnimate();var s=t.get("canvas");s.animate(function(l){(0,u.each)(o,function(f){var h=t.findById(f.id);if(!(!h||h.destroyed)){var c=h.get("originAttrs"),v=h.get("model");if(!c){var x=h.getContainer().getMatrix();x||(x=[1,0,0,0,1,0,0,0,1]),c={x:x[6],y:x[7]},h.set("originAttrs",c)}if(n){var P=n(h,l,f,c);h.set("model",Object.assign(v,P))}else v.x=c.x+(f.x-c.x)*l,v.y=c.y+(f.y-c.y)*l}}),t.refreshPositions()},{duration:r.duration,easing:r.easing,callback:function(){(0,u.each)(a,function(f){f.set("originAttrs",null)}),r.callback&&r.callback(),t.emit("afteranimate"),t.animating=!1}})},e.prototype.refreshPositions=function(){var t=this;t.emit("beforegraphrefreshposition");var r=t.get("nodes"),n=t.get("edges"),a=t.get("vedges"),o=t.get("combos"),s,l={};(0,u.each)(r,function(f){s=f.getModel();var h=f.get("originAttrs");h&&s.x===h.x&&s.y===h.y||(f.updatePosition({x:s.x,y:s.y}),l[s.id]=!0,s.comboId&&(l[s.comboId]=!0))}),o&&o.length!==0&&t.updateCombos(),(0,u.each)(n,function(f){var h=f.getSource().getModel(),c=f.getTarget().getModel();(l[h.id]||l[c.id]||f.getModel().isComboEdge)&&f.refresh()}),(0,u.each)(a,function(f){f.refresh()}),t.emit("aftergraphrefreshposition"),t.autoPaint()},e.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},e.prototype.isAnimating=function(){return this.animating},e.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},e.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},e.prototype.setMode=function(t){var r=this.get("modeController");return r.setMode(t),this},e.prototype.clear=function(){var t=this.get("canvas");return t.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),this.emit("afterrender"),this},e.prototype.toDataURL=function(t,r){var n=this.get("canvas"),a=n.getRenderer(),o=n.get("el");t||(t="image/png");var s="";if(a==="svg"){var l=o.cloneNode(!0),f=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),h=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",f);h.replaceChild(l,h.documentElement);var c=new XMLSerializer().serializeToString(h);s="data:image/svg+xml;charset=utf8,"+encodeURIComponent(c)}else{var v=void 0,x=o.getContext("2d"),P=this.get("width"),D=this.get("height"),X=void 0;if(r){var K=window.devicePixelRatio;v=x.getImageData(0,0,P*K,D*K),X=x.globalCompositeOperation,x.globalCompositeOperation="destination-over",x.fillStyle=r,x.fillRect(0,0,P,D)}s=o.toDataURL(t),r&&(x.clearRect(0,0,P,D),x.putImageData(v,0,0),x.globalCompositeOperation=X)}return s},e.prototype.toFullDataURL=function(t,r,n){var a=this.get("group").getCanvasBBox(),o=a.height,s=a.width,l=this.get("renderer"),f=(0,wi.Z)('<id="virtual-image"></div>'),h=n?n.backgroundColor:void 0,c=n?n.padding:void 0;c?(0,u.isNumber)(c)&&(c=[c,c,c,c]):c=[0,0,0,0];var v=o+c[0]+c[2],x=s+c[1]+c[3],P={container:f,height:v,width:x,quickHit:!0},D=l==="svg"?new Ts.Z(P):new Fo.Z(P),X=this.get("group"),K=X.clone(),Z=(0,u.clone)(K.getMatrix());Z||(Z=[1,0,0,0,1,0,0,0,1]);var gt=(a.maxX+a.minX)/2,mt=(a.maxY+a.minY)/2;Ba.wO.translate(Z,Z,[-gt,-mt]),Ba.wO.translate(Z,Z,[s/2+c[3],o/2+c[0]]),K.resetMatrix(),K.setMatrix(Z),D.add(K);var Nt=D.get("el"),Zt="";r||(r="image/png"),setTimeout(function(){if(l==="svg"){var ee=Nt.cloneNode(!0),ue=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),ne=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",ue);ne.replaceChild(ee,ne.documentElement);var xe=new XMLSerializer().serializeToString(ne);Zt="data:image/svg+xml;charset=utf8,"+encodeURIComponent(xe)}else{var Pe=void 0,Ye=Nt.getContext("2d"),He=void 0;if(h){var Ze=window.devicePixelRatio;Pe=Ye.getImageData(0,0,x*Ze,v*Ze),He=Ye.globalCompositeOperation,Ye.globalCompositeOperation="destination-over",Ye.fillStyle=h,Ye.fillRect(0,0,x,v)}Zt=Nt.toDataURL(r),h&&(Ye.clearRect(0,0,x,v),Ye.putImageData(Pe,0,0),Ye.globalCompositeOperation=He)}t==null||t(Zt)},16)},e.prototype.downloadFullImage=function(t,r,n){var a=this,o=this.get("group").getCanvasBBox(),s=o.height,l=o.width,f=this.get("renderer"),h=(0,wi.Z)('<id="virtual-image"></div>'),c=n?n.backgroundColor:void 0,v=n?n.padding:void 0;v?(0,u.isNumber)(v)&&(v=[v,v,v,v]):v=[0,0,0,0];var x=s+v[0]+v[2],P=l+v[1]+v[3],D={container:h,height:x,width:P},X=f==="svg"?new Ts.Z(D):new Fo.Z(D),K=this.get("group"),Z=K.clone(),gt=(0,u.clone)(Z.getMatrix());gt||(gt=[1,0,0,0,1,0,0,0,1]);var mt=(o.maxX+o.minX)/2,Nt=(o.maxY+o.minY)/2;Ba.wO.translate(gt,gt,[-mt,-Nt]),Ba.wO.translate(gt,gt,[l/2+v[3],s/2+v[0]]),Z.resetMatrix(),Z.setMatrix(gt),X.add(Z);var Zt=X.get("el");r||(r="image/png"),setTimeout(function(){var ee="";if(f==="svg"){var ue=Zt.cloneNode(!0),ne=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),xe=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",ne);xe.replaceChild(ue,xe.documentElement);var Pe=new XMLSerializer().serializeToString(xe);ee="data:image/svg+xml;charset=utf8,"+encodeURIComponent(Pe)}else{var Ye=void 0,He=Zt.getContext("2d"),Ze=void 0;if(c){var Ue=window.devicePixelRatio;Ye=He.getImageData(0,0,P*Ue,x*Ue),Ze=He.globalCompositeOperation,He.globalCompositeOperation="destination-over",He.fillStyle=c,He.fillRect(0,0,P,x)}ee=Zt.toDataURL(r),c&&(He.clearRect(0,0,P,x),He.putImageData(Ye,0,0),He.globalCompositeOperation=Ze)}var ur=document.createElement("a"),wr=(t||"graph")+(f==="svg"?".svg":"."+r.split("/")[1]);a.dataURLToImage(ee,f,ur,wr);var mr=document.createEvent("MouseEvents");mr.initEvent("click",!1,!1),ur.dispatchEvent(mr)},16)},e.prototype.downloadImage=function(t,r,n){var a=this,o=this;o.isAnimating()&&o.stopAnimate();var s=o.get("canvas"),l=s.getRenderer();r||(r="image/png");var f=(t||"graph")+(l==="svg"?".svg":r.split("/")[1]),h=document.createElement("a");setTimeout(function(){var c=o.toDataURL(r,n);a.dataURLToImage(c,l,h,f);var v=document.createEvent("MouseEvents");v.initEvent("click",!1,!1),h.dispatchEvent(v)},16)},e.prototype.dataURLToImage=function(t,r,n,a){if(typeof window!="undefined")if(window.Blob&&window.URL&&r!=="svg"){var o=t.split(","),s="";if(o&&o.length>0){var l=o[0].match(/:(.*?);/);l&&l.length>=2&&(s=l[1])}for(var f=atob(o[1]),h=f.length,c=new Uint8Array(h);h--;)c[h]=f.charCodeAt(h);var v=new Blob([c],{type:s});window.navigator.msSaveBlob?window.navigator.msSaveBlob(v,a):n.addEventListener("click",function(){n.download=a,n.href=window.URL.createObjectURL(v)})}else n.addEventListener("click",function(){n.download=a,n.href=t})},e.prototype.updateLayout=function(t){var r=this.get("layoutController"),n;(0,u.isString)(t)?(n=t,t={type:n}):n=t.type;var a=this.get("layout"),o=a?a.type:void 0;if(!n||o===n){var s={};Object.assign(s,a,t),s.type=o||"random",this.set("layout",s),r.updateLayoutCfg(s)}else this.set("layout",t),r.changeLayout(n)},e.prototype.destroyLayout=function(){var t=this.get("layoutController");t.destroyLayout()},e.prototype.layout=function(){var t=this.get("layoutController"),r=this.get("layout");if(!!r){if(r.workerEnabled){t.layout();return}t.layoutMethod?t.relayout(!0):t.layout()}},e.prototype.collapseCombo=function(t){var r=this;if((0,u.isString)(t)&&(t=this.findById(t)),!t){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.collapseCombo(t),n.collapsed=!0;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],f=this.get("comboTrees"),h=!1,c={};(f||[]).forEach(function(P){c[P.id]=P}),(f||[]).forEach(function(P){h||qi(P,function(D){if(h&&c[D.id])return!1;if(n.parentId===D.id?(c={},D.children.forEach(function(K){c[K.id]=K})):n.id===D.id&&(h=!0),h){var X=r.findById(D.id);X&&X.getType&&X.getType()==="combo"&&(s=s.concat(X.getNodes()),l=l.concat(X.getCombos()))}return!0})});var v={},x=[];o.forEach(function(P){if(!(P.isVisible()&&!P.getModel().isVEdge)){var D=P.getSource(),X=P.getTarget();if((s.includes(D)||l.includes(D))&&!s.includes(X)&&!l.includes(X)||D.getModel().id===n.id){var K=P.getModel();if(K.isVEdge){r.removeItem(P,!1);return}for(var Z=X.getModel();!X.isVisible();){if(X=r.findById(Z.parentId||Z.comboId),!X||!Z.parentId&&!Z.comboId)return;Z=X.getModel()}var gt=Z.id;if(v[n.id+"-"+gt]){v[n.id+"-"+gt]+=K.size||1;return}var mt=r.addItem("vedge",{source:n.id,target:gt,isVEdge:!0},!1);v[n.id+"-"+gt]=K.size||1,x.push(mt)}else if(!s.includes(D)&&!l.includes(D)&&(s.includes(X)||l.includes(X))||X.getModel().id===n.id){var K=P.getModel();if(K.isVEdge){r.removeItem(P,!1);return}for(var Nt=D.getModel();!D.isVisible();){if(D=r.findById(Nt.parentId||Nt.comboId),!D||!Nt.parentId&&!Nt.comboId)return;Nt=D.getModel()}var Zt=Nt.id;if(v[Zt+"-"+n.id]){v[Zt+"-"+n.id]+=K.size||1;return}var mt=r.addItem("vedge",{target:n.id,source:Zt,isVEdge:!0},!1);v[Zt+"-"+n.id]=K.size||1,x.push(mt)}}}),x.forEach(function(P){var D=P.getModel();r.updateItem(P,{size:v[D.source+"-"+D.target]},!1)})},e.prototype.expandCombo=function(t){var r=this;if((0,u.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.expandCombo(t),n.collapsed=!1;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],f=this.get("comboTrees"),h=!1,c={};(f||[]).forEach(function(P){c[P.id]=P}),(f||[]).forEach(function(P){h||qi(P,function(D){if(h&&c[D.id])return!1;if(n.parentId===D.id?(c={},D.children.forEach(function(K){c[K.id]=K})):n.id===D.id&&(h=!0),h){var X=r.findById(D.id);X&&X.getType&&X.getType()==="combo"&&(s=s.concat(X.getNodes()),l=l.concat(X.getCombos()))}return!0})});var v={},x={};o.forEach(function(P){if(!(P.isVisible()&&!P.getModel().isVEdge)){var D=P.getSource(),X=P.getTarget(),K=D.get("id"),Z=X.get("id");if((s.includes(D)||l.includes(D))&&!s.includes(X)&&!l.includes(X)||K===n.id){if(P.getModel().isVEdge){r.removeItem(P,!1);return}for(var gt=X.getModel();!X.isVisible();){if(X=r.findById(gt.comboId||gt.parentId),!X||!gt.parentId&&!gt.comboId)return;gt=X.getModel()}Z=gt.id;for(var mt=D.getModel();!D.isVisible();){if(D=r.findById(mt.comboId||mt.parentId),!D||!mt.parentId&&!mt.comboId)return;if(mt.comboId===n.id||mt.parentId===n.id)break;mt=D.getModel()}if(K=mt.id,Z){var Nt=K+"-"+Z;if(v[Nt]){v[Nt]+=P.getModel().size||1,r.updateItem(x[Nt],{size:v[Nt]},!1);return}var Zt=r.addItem("vedge",{source:K,target:Z,isVEdge:!0},!1);v[Nt]=P.getModel().size||1,x[Nt]=Zt}}else if(!s.includes(D)&&!l.includes(D)&&(s.includes(X)||l.includes(X))||Z===n.id){if(P.getModel().isVEdge){r.removeItem(P,!1);return}for(var mt=D.getModel();!D.isVisible();){if(D=r.findById(mt.comboId||mt.parentId),!D||!mt.parentId&&!mt.comboId)return;mt=D.getModel()}K=mt.id;for(var gt=X.getModel();!X.isVisible();){if(X=r.findById(gt.comboId||gt.parentId),!X||!gt.parentId&&!gt.comboId)return;if(gt.comboId===n.id||gt.parentId===n.id)break;gt=X.getModel()}if(Z=gt.id,K){var Nt=K+"-"+Z;if(v[Nt]){v[Nt]+=P.getModel().size||1,r.updateItem(x[Nt],{size:v[Nt]},!1);return}var Zt=r.addItem("vedge",{target:Z,source:K,isVEdge:!0},!1);v[Nt]=P.getModel().size||1,x[Nt]=Zt}}else(s.includes(D)||l.includes(D))&&(s.includes(X)||l.includes(X))&&D.isVisible()&&X.isVisible()&&P.show()}})},e.prototype.collapseExpandCombo=function(t){if((0,u.isString)(t)&&(t=this.findById(t)),!(t.getType&&t.getType()!=="combo")){for(var r=t.getModel(),n=this.findById(r.parentId);n;){var a=n.getModel();if(a.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),n=void 0;return}n=this.findById(a.parentId)}var o=r.collapsed;o?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},e.prototype.collapseGroup=function(t){var r=this.get("customGroupControll");r.collapseGroup(t)},e.prototype.expandGroup=function(t){var r=this.get("customGroupControll");r.expandGroup(t)},e.prototype.addPlugin=function(t){var r=this;t.destroyed||(r.get("plugins").push(t),t.initPlugin(r))},e.prototype.removePlugin=function(t){var r=this.get("plugins"),n=r.indexOf(t);n>=0&&(t.destroyPlugin(),r.splice(n,1))},e.prototype.sortCombos=function(){var t=this,r=this.get("comboSorted");if(!r){this.set("comboSorted",!0);var n=[],a={},o=this.get("comboTrees");(o||[]).forEach(function(l){qi(l,function(f){return n[f.depth]?n[f.depth].push(f.id):n[f.depth]=[f.id],a[f.id]=f.depth,!0})});var s=this.getEdges().concat(this.get("vedges"));(s||[]).forEach(function(l){var f=l.getModel(),h=a[f.source]||0,c=a[f.target]||0,v=Math.max(h,c);n[v]?n[v].push(f.id):n[v]=[f.id]}),n.forEach(function(l){if(!(!l||!l.length))for(var f=l.length-1;f>=0;f--){var h=t.findById(l[f]);h==null||h.toFront()}})}},e.prototype.getNeighbors=function(t,r){var n=t;return(0,u.isString)(t)&&(n=this.findById(t)),n.getNeighbors(r)},e.prototype.getNodeDegree=function(t,r){r===void 0&&(r=void 0);var n=t;(0,u.isString)(t)&&(n=this.findById(t));var a=this.get("degrees");a||(a=_x(this)),this.set("degees",a);var o=a[n.getID()],s;switch(r){case"in":s=o.inDegree;break;case"out":s=o.outDegree;break;case"all":s=o;break;default:s=o.degree;break}return s},e.prototype.getUndoStack=function(){return this.undoStack},e.prototype.getRedoStack=function(){return this.redoStack},e.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},e.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},e.prototype.pushStack=function(t,r,n){if(t===void 0&&(t="update"),n===void 0&&(n="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var a=r?(0,u.clone)(r):{before:{},after:(0,u.clone)(this.save())};n==="redo"?this.redoStack.push({action:t,data:a}):this.undoStack.push({action:t,data:a}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})},e.prototype.getAdjMatrix=function(t,r){t===void 0&&(t=!0),r===void 0&&(r=this.get("directed"));var n=this.get("adjMatrix");return(!n||!t)&&(n=gu(this,r),this.set("adjMatrix",n)),n},e.prototype.getShortestPathMatrix=function(t,r){t===void 0&&(t=!0),r===void 0&&(r=this.get("directed"));var n=this.get("adjMatrix"),a=this.get("shortestPathMatrix");return(!n||!t)&&(n=gu(this,r),this.set("adjMatrix",n)),(!a||!t)&&(a=kx(this,r),this.set("shortestPathMatrix",a)),a},e.prototype.destroy=function(){this.clear(),this.clearStack(),(0,u.each)(this.get("plugins"),function(o){o.destroyPlugin()});var t=this.get("tooltips");if(t)for(var r=0;r<t.length;r++){var n=t[r];if(!!n){var a=n.parentElement;!a||a.removeChild(n)}}this.get("eventController").destroy(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("layoutController").destroy(),this.get("customGroupControll").destroy(),this.get("canvas").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},e.prototype.createHull=function(t){var r=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),r||(r=this.get("group").addGroup({id:"hullGroup"}),r.toBack(),this.set("hullGroup",r)),n[t.id])return console.warn("Existed hull id."),n[t.id];var a=r.addGroup({id:t.id+"-container"}),o=new n4(this,ce(ce({},t),{group:a})),s=o.id;return n[s]=o,o},e.prototype.getHulls=function(){return this.get("hullMap")},e.prototype.getHullById=function(t){return this.get("hullMap")[t]},e.prototype.removeHull=function(t){var r;(0,u.isString)(t)?r=this.getHullById(t):r=t;var n=this.get("hullMap");delete n[r.id],r.destroy()},e.prototype.setImageWaterMarker=function(t,r){t===void 0&&(t=er.waterMarkerImage);var n=this.get("container");(0,u.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,u.deepMix)({},er.imageWaterMarkerConfig,r),s=o.width,l=o.height,f=o.compatible,h=o.image;if(!a){var c={container:n,width:s,height:l,capture:!1},v=this.get("pixelRatio");v&&(c.pixelRatio=v),a=new Fo.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var x=a.get("context"),P=h.rotate,D=h.x,X=h.y;x.rotate(-P*Math.PI/180);var K=new Image;K.crossOrigin="anonymous",K.src=t,K.onload=function(){if(x.drawImage(K,D,X,h.width,h.height),x.rotate(P*Math.PI/180),f)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var Z=document.querySelector(".g6-graph-watermarker");Z||(Z=document.createElement("div"),Z.className="g6-graph-watermarker"),Z.className="g6-graph-watermarker",a.destroyed||(Z.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",n.appendChild(Z))}}},e.prototype.setTextWaterMarker=function(t,r){var n=this.get("container");(0,u.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,u.deepMix)({},er.textWaterMarkerConfig,r),s=o.width,l=o.height,f=o.compatible,h=o.text;if(!a){var c={container:n,width:s,height:l,capture:!1},v=this.get("pixelRatio");v&&(c.pixelRatio=v),a=new Fo.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var x=a.get("context"),P=h.rotate,D=h.fill,X=h.fontFamily,K=h.fontSize,Z=h.baseline,gt=h.x,mt=h.y,Nt=h.lineHeight;x.rotate(-P*Math.PI/180),x.font=K+"px "+X,x.fillStyle=D,x.textBaseline=Z;for(var Zt=t.length-1;Zt>=0;Zt--)x.fillText(t[Zt],gt,mt+Zt*Nt);if(x.rotate(P*Math.PI/180),f)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var ee=document.querySelector(".g6-graph-watermarker");ee||(ee=document.createElement("div"),ee.className="g6-graph-watermarker"),ee.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",n.appendChild(ee)}},e}(Be.default),Nx=o4,s4=d(77201),Yx=d.n(s4),l4=function(i){Kn(e,i);function e(t){var r=i.call(this,t)||this;return r.layoutAnimating=!1,r.set("removeList",[]),r.set("layoutMethod",r.getLayout()),r}return e.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(r){var n=Yx()[t.type](r,t);return Km(n),n}:function(r){return Yx()[t.type](r,t)}):null},e.indexOfChild=function(t,r){var n=-1;return(0,si.S6)(t,function(a,o){if(r===a.id)return n=o,!1}),n},e.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.animate=!0,t},e.prototype.innerAddChild=function(t,r,n){var a=this,o=t.data;o&&(o.x=t.x,o.y=t.y,o.depth=t.depth);var s=a.addItem("node",o,!1);if(r){if(s.set("parent",r),n){var l=r.get("originAttrs");if(l)s.set("originAttrs",l);else{var f=r.getModel();s.set("originAttrs",{x:f.x,y:f.y})}}var h=r.get("children");h?h.push(s):r.set("children",[s]),a.addItem("edge",{source:r,target:s,id:r.get("id")+":"+s.get("id")},!1)}return(0,si.S6)(t.children||[],function(c){a.innerAddChild(c,s,n)}),a.emit("afteraddchild",{item:s,parent:r}),s},e.prototype.innerUpdateChild=function(t,r,n){var a=this,o=a.findById(t.id);if(!o){a.innerAddChild(t,r,n);return}(0,si.S6)(t.children||[],function(P){a.innerUpdateChild(P,o,n)});var s=o.get("children");if(s){var l=s.length;if(l>0)for(var f=s.length-1;f>=0;f--){var h=s[f].getModel();e.indexOfChild(t.children||[],h.id)===-1&&(a.innerRemoveChild(h.id,{x:t.x,y:t.y},n),s.splice(f,1))}}var c,v;o.get("originAttrs")&&(c=o.get("originAttrs").x,v=o.get("originAttrs").y);var x=o.getModel();n&&o.set("originAttrs",{x:x.x,y:x.y}),o.set("model",t.data),(c!==t.x||v!==t.y)&&o.updatePosition({x:t.x,y:t.y})},e.prototype.innerRemoveChild=function(t,r,n){var a=this,o=a.findById(t);if(!!o)if((0,si.S6)(o.get("children"),function(l){a.innerRemoveChild(l.getModel().id,r,n)}),n){var s=o.getModel();o.set("to",r),o.set("originAttrs",{x:s.x,y:s.y}),a.get("removeList").push(o)}else a.removeItem(o)},e.prototype.changeData=function(t){var r=this;this.getNodes().map(function(n){return r.clearItemStates(n)}),this.getEdges().map(function(n){return r.clearItemStates(n)}),t?(r.data(t),r.render()):r.layout(this.get("fitView"))},e.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var r=this;r.updateLayout(t)},e.prototype.updateLayout=function(t){var r=this;if(!t){console.warn("layout cannot be null");return}r.set("layout",t),r.set("layoutMethod",r.getLayout()),r.layout()},e.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var r=this;r.layout(t)},e.prototype.layout=function(t){var r=this,n=r.get("data"),a=r.get("layoutMethod"),o=a(n,r.get("layout")),s=r.get("animate");if(r.emit("beforerefreshlayout",{data:n,layoutData:o}),r.emit("beforelayout"),r.innerUpdateChild(o,void 0,s),t){var l=r.get("viewController");l.fitView()}s?r.layoutAnimate(o):(r.refresh(),r.paint()),r.emit("afterrefreshlayout",{data:n,layoutData:o}),r.emit("afterlayout")},e.prototype.addChild=function(t,r){var n=this;n.emit("beforeaddchild",{model:t,parent:r}),(0,si.HD)(r)||(r=r.get("id"));var a=n.findDataById(r);a&&(a.children||(a.children=[]),a.children.push(t),n.changeData())},e.prototype.updateChild=function(t,r){var n=this;if(!r||!n.findById(r)){n.changeData(t);return}var a=n.findById(r).getModel(),o=n.findById(t.id);if(a.children||(a.children=[]),!o)a.children.push(t);else{var s=e.indexOfChild(a.children,t.id);a.children[s]=t}n.changeData()},e.prototype.removeChild=function(t){var r=this,n=r.findById(t);if(!!n){var a=n.get("parent");if(a&&!a.destroyed){var o=r.findDataById(a.get("id")),s=o&&o.children||[],l=n.getModel(),f=e.indexOfChild(s,l.id);s.splice(f,1)}r.changeData()}},e.prototype.findDataById=function(t,r){var n=this;if(r||(r=n.get("data")),t===r.id)return r;var a=null;return(0,si.S6)(r.children||[],function(o){if(o.id===t)return a=o,!1;if(a=n.findDataById(t,o),a)return!1}),a},e.prototype.layoutAnimate=function(t,r){var n=this,a=this.get("animateCfg");n.emit("beforeanimate",{data:t}),n.getEdges().forEach(function(o){var s=o.get("model");s.sourceAnchor||(s.sourceAnchor=o.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(o){qi(t,function(s){var l=n.findById(s.id);if(l){var f=l.get("originAttrs"),h=l.get("model");if(f||(f={x:h.x,y:h.y},l.set("originAttrs",f)),r){var c=r(l,o,f,t);l.set("model",Object.assign(h,c))}else h.x=f.x+(s.x-f.x)*o,h.y=f.y+(s.y-f.y)*o}return!0}),(0,si.S6)(n.get("removeList"),function(s){var l=s.getModel(),f=s.get("originAttrs"),h=s.get("to");l.x=f.x+(h.x-f.x)*o,l.y=f.y+(h.y-f.y)*o}),n.refreshPositions()},{duration:a.duration,easing:a.ease,callback:function(){(0,si.S6)(n.getNodes(),function(s){s.set("originAttrs",null)}),(0,si.S6)(n.get("removeList"),function(s){n.removeItem(s)}),n.set("removeList",[]),a.callback&&a.callback(),n.emit("afteranimate",{data:t})},delay:a.delay})},e.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},e.prototype.isLayoutAnimating=function(){return this.layoutAnimating},e.prototype.render=function(){var t=this,r=t.get("data");if(!r)throw new Error("data must be defined first");t.clear(),t.emit("beforerender"),t.layout(this.get("fitView")),t.emit("afterrender")},e.prototype.save=function(){return this.get("data")},e}(Nx),u4=l4,f4="-shape",Gx="-label",yu=["startArrow","endArrow"],Jh="-label-bg",qh={options:{},itemType:"",type:"",getCustomConfig:function(e){return{}},getOptions:function(e){return(0,u.deepMix)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(e)||{},e)},draw:function(e,t){var r=this.drawShape(e,t);if(r.set("className",this.itemType+f4),e.label){var n=this.drawLabel(e,t);n.set("className",this.itemType+Gx)}return r},afterDraw:function(e,t,r){},drawShape:function(e,t){return null},drawLabel:function(e,t){var r=this.getOptions(e).labelCfg,n=r||{},a=this.getLabelStyle(e,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,draggable:!0,className:"text-shape",name:"text-shape"});if(o){var l=s.getBBox(),f=s.getMatrix();if(f||(f=[1,0,0,0,1,0,0,0,1]),a.rotateCenter)switch(a.rotateCenter){case"center":f=Ga(f,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break;case"lefttop":f=Ga(f,[["t",-a.x,-a.y],["r",o],["t",a.x,a.y]]);break;case"leftcenter":f=Ga(f,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);break;default:f=Ga(f,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break}else f=Ga(f,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);s.setMatrix(f)}if(a.background){var h=this.drawLabelBg(e,t,s),c=this.itemType+Jh;h.set("classname",c),s.toFront()}return s},drawLabelBg:function(e,t,r){var n=this.options.labelCfg,a=(0,u.mix)({},n,e.labelCfg),o=this.getLabelBgStyleByPosition(r,e,a,t),s=t.addShape("rect",{name:"text-bg-shape",attrs:o});return s},getLabelStyleByPosition:function(e,t,r){return{text:e.label}},getLabelBgStyleByPosition:function(e,t,r,n){return{}},getLabelStyle:function(e,t,r){var n=this.getLabelStyleByPosition(e,t,r),a=this.itemType+"Label",o=er[a]?er[a].style:null,s=ce(ce(ce({},o),n),t.style);return s},getShapeStyle:function(e){return e.style},update:function(e,t){this.updateShapeStyle(e,t),this.updateLabel(e,t)},updateShapeStyle:function(e,t){var r=t.getContainer(),n=t.getKeyShape(),a=(0,u.mix)({},n.attr(),e.style),o=function(f){var h,c=a[f];if((0,u.isPlainObject)(c)){var v=r.find(function(x){return x.get("name")===f});v&&v.attr(c)}else n.attr((h={},h[f]=c,h))};for(var s in a)o(s)},updateLabel:function(e,t){var r=t.getContainer(),n=this.getOptions({}).labelCfg,a=this.itemType+Gx,o=r.find(function(mt){return mt.get("className")===a}),s=this.itemType+Jh,l=r.find(function(mt){return mt.get("classname")===s});if(e.label||e.label==="")if(o){var h={};t.getModel&&(h=t.getModel().labelCfg);var c=(0,u.deepMix)({},n,h,e.labelCfg),v=this.getLabelStyleByPosition(e,c,r),x=e.labelCfg?e.labelCfg.style:void 0,P=c.style&&c.style.background,D=ce(ce(ce({},o.attr()),v),x),X=D.rotate;if(delete D.rotate,X){var K=[1,0,0,0,1,0,0,0,1];K=Ga(K,[["t",-D.x,-D.y],["r",X],["t",D.x,D.y]]),o.resetMatrix(),o.attr(ce(ce({},D),{matrix:K}))}else o.resetMatrix(),o.attr(D);if(!l)D.background&&(l=this.drawLabelBg(e,r,o),l.set("classname",s),o.toFront());else if(D.background){var Z=this.getLabelBgStyleByPosition(o,e,c,r),gt=ce(ce({},Z),P);l.resetMatrix(),X&&l.rotateAtStart(X),l.attr(gt)}else r.removeChild(l)}else{var f=this.drawLabel(e,r);f.set("className",a)}},afterUpdate:function(e,t){},setState:function(e,t,r){var n,a,o=r.get("keyShape");if(!!o){var s=r.getType(),l=(0,u.isBoolean)(t)?e:e+":"+t,f=this.getStateStyle(l,r),h=r.getStateStyle(l);if(!(!h&&!f)){var c=(0,u.mix)({},h||f),v=r.getContainer();if(t){var x=function(Ye){var He,Ze=c[Ye];if((0,u.isPlainObject)(Ze)&&!yu.includes(Ye)){var Ue=v.find(function(ur){return ur.get("name")===Ye});Ue&&Ue.attr(Ze)}else o.attr((He={},He[Ye]=Ze,He))};for(var P in c)x(P)}else{var D=(0,u.clone)(r.getCurrentStatesStyle()),X=r.getModel(),K=(0,u.mix)({},X.style,(0,u.clone)(r.getOriginStyle())),Z=o.get("name"),gt=o.attr(),mt={},Nt=function(Ye){var He=c[Ye];if((0,u.isPlainObject)(He)&&!yu.includes(Ye)){var Ze=v.find(function(wr){return wr.get("name")===Ye});if(Ze){var Ue=Ze.attr();(0,u.each)(He,function(wr,mr){(Ue[mr]||Ue[mr]===0)&&delete Ue[mr]}),mt[Ye]=Ue}}else{var ur={x:1,y:1,cx:1,cy:1};gt[Ye]&&!ur[Ye]&&delete gt[Ye]}};for(var Zt in c)Nt(Zt);Z?mt[Z]=gt:(0,u.mix)(mt,gt);for(var P in D){var ee=D[P];(!(0,u.isPlainObject)(ee)||yu.includes(P))&&(Z?((0,u.mix)(K[Z],(a={},a[P]=ee,a)),delete K[P]):(0,u.mix)(K,(n={},n[P]=ee,n)),delete D[P])}var ue={};(0,u.deepMix)(ue,K,mt,D);var ne=function(Ye){var He,Ze,Ue=ue[Ye];if((0,u.isPlainObject)(Ue)&&!yu.includes(Ye)){var ur=v.find(function(wr){return wr.get("name")===Ye});ur&&ur.attr(Ue)}else s==="combo"?Z||o.attr((He={},He[Ye]=Ue,He)):o.attr((Ze={},Ze[Ye]=Ue,Ze))};for(var xe in ue)ne(xe)}}}},getStateStyle:function(e,t){var r=t.getModel(),n=t.getType(),a=this.getOptions(r),o=a.stateStyles,s=a.style,l=s===void 0?{}:s,f=r.stateStyles?r.stateStyles[e]:o&&o[e];return n==="combo"?(0,u.clone)(f):(0,u.mix)({},l,f)},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t=this.getOptions(e).anchorPoints;return t}},h4={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:er.nodeLabel.offset,getSize:function(e){var t=e.size||this.getOptions({}).size||er.defaultNode.size;return(0,u.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,u.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(e,t){var r=t.position||this.labelPosition;if(r==="center")return{x:0,y:0,text:e.label};var n=t.offset;(0,u.isNil)(n)&&(n=this.offset);var a=this.getSize(e),o=a[0],s=a[1],l;switch(r){case"top":l={x:0,y:0-s/2-n,textBaseline:"bottom"};break;case"bottom":l={x:0,y:s/2+n,textBaseline:"top"};break;case"left":l={x:0-o/2-n,y:0,textAlign:"right"};break;default:l={x:o/2+n,y:0,textAlign:"left"};break}return l.text=e.label,l},getLabelBgStyleByPosition:function(e,t,r,n){if(!e)return{};var a=e.getBBox(),o=r.style&&r.style.background;if(!o)return{};var s=Sh(o.padding),l=a.width+s[1]+s[3],f=a.height+s[0]+s[2],h=r.offset;(0,u.isNil)(h)&&(h=this.offset);var c;return c={x:a.minX-s[3],y:a.minY-s[0]},c=ce(ce(ce({},c),o),{width:l,height:f}),c},drawShape:function(e,t){var r=this.shapeType,n=this.getShapeStyle(e),a=t.addShape(r,{attrs:n,draggable:!0,name:"node-shape"});return a},updateLinkPoints:function(e,t){var r=this.getOptions(e).linkPoints,n=t.find(function(ee){return ee.get("className")==="link-point-left"}),a=t.find(function(ee){return ee.get("className")==="link-point-right"}),o=t.find(function(ee){return ee.get("className")==="link-point-top"}),s=t.find(function(ee){return ee.get("className")==="link-point-bottom"}),l;n&&(l=n.attr()),a&&!l&&(l=a.attr()),o&&!l&&(l=o.attr()),s&&!l&&(l=s.attr()),l||(l=r);var f=(0,u.mix)({},l,e.linkPoints),h=f.fill,c=f.stroke,v=f.lineWidth,x=f.size/2;x||(x=f.r);var P=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},D=P.left,X=P.right,K=P.top,Z=P.bottom,gt=this.getSize(e),mt=gt[0],Nt=gt[1],Zt={r:x,fill:h,stroke:c,lineWidth:v};n?!D&&D!==void 0?n.remove():n.attr(ce(ce({},Zt),{x:-mt/2,y:0})):D&&t.addShape("circle",{attrs:ce(ce({},Zt),{x:-mt/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),a?(!X&&X!==void 0&&a.remove(),a.attr(ce(ce({},Zt),{x:mt/2,y:0}))):X&&t.addShape("circle",{attrs:ce(ce({},Zt),{x:mt/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o?(!K&&K!==void 0&&o.remove(),o.attr(ce(ce({},Zt),{x:0,y:-Nt/2}))):K&&t.addShape("circle",{attrs:ce(ce({},Zt),{x:0,y:-Nt/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),s?!Z&&Z!==void 0?s.remove():s.attr(ce(ce({},Zt),{x:0,y:Nt/2})):Z&&t.addShape("circle",{attrs:ce(ce({},Zt),{x:0,y:Nt/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(e,t,r,n){var a=t.get("keyShape");a.attr(ce({},r)),this.updateLabel(e,t),n&&this.updateIcon(e,t)},updateIcon:function(e,t){var r=this,n=t.getContainer(),a=this.getOptions(e).icon,o=(e.icon?e.icon:{show:void 0}).show,s=n.find(function(v){return v.get("className")===r.type+"-icon"});if(s)if(o||o===void 0){var l=(0,u.mix)({},s.attr(),a),f=l.width,h=l.height;s.attr(ce(ce({},l),{x:-f/2,y:-h/2}))}else s.remove();else if(o){var f=a.width,h=a.height;n.addShape("image",{attrs:ce(ce({},a),{x:-f/2,y:-h/2}),className:this.type+"-icon",name:this.type+"-icon"});var c=n.find(function(P){return P.get("className")==="node-label"});c&&c.toFront()}}},c4=ce(ce({},qh),h4);hi.registerNode("single-node",c4);var mu="edge-shape";function v4(i){var e=i;return i==="start"?e="end":i==="end"&&(e="start"),e}var d4={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:er.defaultEdge.size,style:{x:0,y:0,stroke:er.defaultEdge.style.stroke,lineAppendWidth:er.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:er.edgeLabel.style.fill,fontSize:er.edgeLabel.style.fontSize}},stateStyles:ce({},er.edgeStateStyles)},getPath:function(e){var t=[];return(0,u.each)(e,function(r,n){n===0?t.push(["M",r.x,r.y]):t.push(["L",r.x,r.y])}),t},getShapeStyle:function(e){var t=this.options.style,r={stroke:e.color},n=(0,u.mix)({},t,r,e.style),a=e.size||er.defaultEdge.size;e=this.getPathPoints(e);var o=e.startPoint,s=e.endPoint,l=this.getControlPoints(e),f=[o];l&&(f=f.concat(l)),f.push(s);var h=this.getPath(f),c=(0,u.mix)({},er.defaultEdge.style,{stroke:er.defaultEdge.color,lineWidth:a,path:h},n);return c},updateShapeStyle:function(e,t){var r=t.getContainer(),n={stroke:e.color},a=r.find(function(K){return K.get("className")==="edge-shape"})||t.getKeyShape(),o=e.size;e=this.getPathPoints(e);var s=e.startPoint,l=e.endPoint,f=this.getControlPoints(e),h=[s];f&&(h=h.concat(f)),h.push(l);var c=(0,u.mix)({},n,a.attr(),e.style),v=e.sourceNode,x=e.targetNode,P={radius:c.radius};f||(P={source:v,target:x,offset:c.offset,radius:c.radius});var D=this.getPath(h,P),X=(0,u.mix)(n,a.attr(),{lineWidth:o,path:D},e.style);a&&a.attr(X)},getLabelStyleByPosition:function(e,t,r){var n=t.position||this.labelPosition,a={},o=r&&r.find(function(v){return v.get("className")===mu}),s;n==="start"?s=0:n==="end"?s=1:s=.5;var l=t.refX||this.refX,f=t.refY||this.refY;if(e.startPoint.x===e.endPoint.x&&e.startPoint.y===e.endPoint.y)return a.x=e.startPoint.x+l,a.y=e.startPoint.y+f,a.text=e.label,a;var h=(0,u.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate,c=ru(o,s,l,f,h);return a.x=c.x,a.y=c.y,a.rotate=c.rotate,a.textAlign=this._getTextAlign(n,c.angle),a.text=e.label,a},getLabelBgStyleByPosition:function(e,t,r,n){if(!e)return{};var a=e.getBBox(),o=r.style&&r.style.background;if(!o)return{};var s=o.padding,l=a.width+s[1]+s[3],f=a.height+s[0]+s[2],h=r.position||this.labelPosition,c=ce(ce({},o),{width:l,height:f,x:a.minX-s[2],y:a.minY-s[0],rotate:0}),v=(0,u.isNil)(r.autoRotate)?this.labelAutoRotate:r.autoRotate,x=n&&n.find(function(gt){return gt.get("className")===mu}),P;h==="start"?P=0:h==="end"?P=1:P=.5;var D=r.refX||this.refX,X=r.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return c.x=t.startPoint.x+D,c.y=t.startPoint.y+X,c;var K=ru(x,P,D-l/2,X+f/2,v),Z=K.angle;return Z>1/2*Math.PI&&Z<3*1/2*Math.PI&&(K=ru(x,P,D+l/2,X+f/2,v)),v&&(c.x=K.x,c.y=K.y),c.rotate=K.rotate,c},_getTextAlign:function(e,t){var r="center";return t?(t=t%(Math.PI*2),e!=="center"&&(t>=0&&t<=Math.PI/2||t>=3/2*Math.PI&&t<2*Math.PI?r=e:r=v4(e)),r):e},getControlPoints:function(e){return e.controlPoints},getPathPoints:function(e){return e},drawShape:function(e,t){var r=this.getShapeStyle(e),n=t.addShape("path",{className:mu,name:mu,attrs:r});return n},drawLabel:function(e,t){var r=this.options.labelCfg,n=(0,u.deepMix)({fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},r,e.labelCfg),a=this.getLabelStyle(e,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,name:"text-shape"});if(o&&s.rotateAtStart(o),a.background){var l=this.drawLabelBg(e,t,s),f=this.itemType+Jh;l.set("classname",f),s.toFront()}return s},drawLabelBg:function(e,t,r){var n=this.options.labelCfg,a=(0,u.deepMix)({},n,e.labelCfg),o=this.getLabelStyle(e,a,t),s=o.rotate,l=this.getLabelBgStyleByPosition(r,e,a,t);delete l.rotate;var f=t.addShape("rect",{name:"text-bg-shape",attrs:l});return s&&f.rotateAtStart(s),f}},p4=ce(ce({},qh),d4);hi.registerEdge("single-edge",p4),hi.registerEdge("line",{getControlPoints:function(){}},"single-edge"),hi.registerEdge("spline",{getPath:function(e){var t=Lm(e);return t}},"single-edge"),hi.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(e){var t=e.startPoint,r=e.endPoint,n={x:(t.x+r.x)/2,y:(t.y+r.y)/2},a,o;if(e.controlPoints!==void 0){if(o=e.controlPoints[0],a=Ah(t,o,r),t.x<=r.x&&t.y>r.y?this.clockwise=a.x>o.x?0:1:t.x<=r.x&&t.y<r.y?this.clockwise=a.x>o.x?1:0:t.x>r.x&&t.y<=r.y?this.clockwise=a.y<o.y?0:1:this.clockwise=a.y<o.y?1:0,(o.x-t.x)/(o.y-t.y)==(r.x-t.x)/(r.y-t.y))return[]}else{e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),(0,Fi.default)(e.curveOffset)&&(e.curveOffset=e.curveOffset[0]),e.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:r.x-t.x,y:r.y-t.y},l=Math.atan2(s.y,s.x);o={x:e.curveOffset*Math.cos(-Math.PI/2+l)+n.x,y:e.curveOffset*Math.sin(-Math.PI/2+l)+n.y},a=Ah(t,o,r)}var f=Es(t,a),h=[{x:f,y:f}];return h},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),e.length===2?t.push(["L",e[1].x,e[1].y]):t.push(["A",e[1].x,e[1].y,0,0,this.clockwise,e[2].x,e[2].y]),t}},"single-edge"),hi.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(e){var t=e.controlPoints;if(!t||!t.length){var r=e.startPoint,n=e.endPoint;e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),(0,Fi.default)(this.curveOffset)&&(e.curveOffset=e.curveOffset[0]),(0,Fi.default)(this.curvePosition)&&(e.curvePosition=e.curveOffset[0]);var a=Jl(r,n,e.curvePosition,e.curveOffset);t=[a]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["Q",e[1].x,e[1].y,e[2].x,e[2].y]),t}},"single-edge"),hi.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(e){var t=e.controlPoints;if(e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),(0,ka.default)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,ka.default)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]),!t||!t.length||t.length<2){var r=e.startPoint,n=e.endPoint,a=Jl(r,n,e.curvePosition[0],e.curveOffset[0]),o=Jl(r,n,e.curvePosition[1],e.curveOffset[1]);t=[a,o]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["C",e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y]),t}},"single-edge"),hi.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],getControlPoints:function(e){var t=e.startPoint,r=e.endPoint;e.curvePosition!==void 0&&(this.curvePosition=e.curvePosition),(0,ka.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:t.x,y:(r.y-t.y)*this.curvePosition[0]+t.y},a={x:r.x,y:(r.y-t.y)*this.curvePosition[1]+t.y},o=[n,a];return o}},"cubic"),hi.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],getControlPoints:function(e){var t=e.startPoint,r=e.endPoint;e.curvePosition!==void 0&&(this.curvePosition=e.curvePosition),(0,ka.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:(r.x-t.x)*this.curvePosition[0]+t.x,y:t.y},a={x:(r.x-t.x)*this.curvePosition[1]+t.x,y:r.y},o=[n,a];return o}},"cubic"),hi.registerEdge("loop",{getPathPoints:function(e){return Um(e)},getControlPoints:function(e){return e.controlPoints},afterDraw:function(e){e.controlPoints=void 0},afterUpdate:function(e){e.controlPoints=void 0}},"cubic");var g4={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:er.comboLabel.refX,refY:er.comboLabel.refY,options:{style:{stroke:er.defaultCombo.style.stroke,fill:er.defaultCombo.style.fill,lineWidth:er.defaultCombo.style.lineWidth},labelCfg:{style:{fill:er.comboLabel.style.fill,fontSize:er.comboLabel.style.fontSize}},stateStyles:ce({},er.comboStateStyles)},getSize:function(e){var t=(0,u.clone)(e.size||this.options.size||er.defaultCombo.size);return(0,u.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,u.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(e,t){var r=t.position||this.labelPosition,n=e.style,a=e.padding||this.options.padding;(0,u.isArray)(a)&&(a=a[0]);var o=t.refX,s=t.refY;(0,u.isNil)(o)&&(o=this.refX),(0,u.isNil)(s)&&(s=this.refY);var l=this.getSize(e),f=Math.max(n.r,l[0]/2)||l[0]/2,h=f+a,c;switch(r){case"top":c={x:0,y:-h-s,textBaseline:"bottom",textAlign:"center"};break;case"bottom":c={x:0,y:h+s,textBaseline:"bottom",textAlign:"center"};break;case"left":c={x:-h+o,y:0,textAlign:"left"};break;case"center":c={x:0,y:0,text:e.label,textAlign:"center"};break;default:c={x:h+o,y:0,textAlign:"right"};break}return c.text=e.label,c},drawShape:function(e,t){var r=this.shapeType,n=this.getShapeStyle(e),a=t.addShape(r,{attrs:n,draggable:!0,name:"combo-shape"});return a},updateShape:function(e,t,r){var n=t.get("keyShape"),a=e.animate===void 0?this.options.animate:e.animate;a&&n.animate?n.animate(r,{duration:200,easing:"easeLinear"}):n.attr(ce({},r)),this.updateLabel(e,t)}},y4=ce(ce({},qh),g4);hi.registerCombo("single-combo",y4),hi.registerCombo("circle",{options:{size:[er.defaultCombo.size[0],er.defaultCombo.size[0]],padding:er.defaultCombo.padding[0],animate:!0,style:{stroke:er.defaultCombo.style.stroke,fill:er.defaultCombo.style.fill,lineWidth:er.defaultCombo.style.lineWidth},labelCfg:{style:{fill:er.comboLabel.style.fill,fontSize:er.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:ce({},er.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(e,t){var r=this.getShapeStyle(e);delete r.height,delete r.width;var n=t.addShape("circle",{attrs:r,className:"circle-combo",name:"circle-combo",draggable:!0});return n},getShapeStyle:function(e){var t=this.options.style,r=e.padding||this.options.padding;(0,u.isArray)(r)&&(r=r[0]);var n={stroke:e.color},a=(0,u.mix)({},t,n,e.style),o=this.getSize(e),s;!(0,u.isNumber)(a.r)||isNaN(a.r)?s=o[0]/2||er.defaultCombo.style.r:s=Math.max(a.r,o[0]/2)||o[0]/2,a.r=s+r;var l=ce({x:0,y:0},a);return e.style?e.style.r=s:e.style={r:s},l},update:function(e,t){var r=this.getSize(e),n=e.padding||this.options.padding;(0,u.isArray)(n)&&(n=n[0]);var a=(0,u.clone)(e.style),o=Math.max(a.r,r[0]/2)||r[0]/2;a.r=o+n;var s=t.get("sizeCache");s&&(s.r=a.r);var l={stroke:e.color},f=t.get("keyShape"),h=(0,u.mix)({},f.attr(),l,a);e.style?e.style.r=o:e.style={r:o},this.updateShape(e,t,h,!0)}},"single-combo"),hi.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:er.defaultCombo.style.stroke,fill:er.defaultCombo.style.fill,lineWidth:er.defaultCombo.style.lineWidth},labelCfg:{style:{fill:er.comboLabel.style.fill,fontSize:er.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:ce({},er.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(e,t){var r=this.getShapeStyle(e),n=t.addShape("rect",{attrs:r,className:"rect-combo",name:"rect-combo",draggable:!0});return n},getLabelStyleByPosition:function(e,t){var r=t.position||this.labelPosition,n=e.style,a=e.padding||this.options.padding;(0,u.isNumber)(a)&&(a=[a,a,a,a]);var o=t.refX,s=t.refY;(0,u.isNil)(o)&&(o=this.refX),(0,u.isNil)(s)&&(s=this.refY);var l=n.width/2+a[3],f=n.height/2+a[0],h;switch(r){case"top":h={x:0-l+o,y:0-f+s,textBaseline:"top",textAlign:"left"};break;case"bottom":h={x:0,y:f+s,textBaseline:"bottom",textAlign:"center"};break;case"left":h={x:0-l+s,y:0,textAlign:"left"};break;case"center":h={x:0,y:0,text:e.label,textAlign:"center"};break;default:h={x:l+o,y:0,textAlign:"right"};break}return h.text=e.label,h},getShapeStyle:function(e){var t=this.options.style,r=e.padding||this.options.padding;(0,u.isNumber)(r)&&(r=[r,r,r,r]);var n={stroke:e.color},a=(0,u.mix)({},t,n,e.style),o=this.getSize(e),s,l;!(0,u.isNumber)(a.width)||isNaN(a.width)?s=o[0]||er.defaultCombo.style.width:s=Math.max(a.width,o[0])||o[0],!(0,u.isNumber)(a.height)||isNaN(a.height)?l=o[1]||er.defaultCombo.style.height:l=Math.max(a.height,o[1])||o[1];var f=-s/2-r[3],h=-l/2-r[0];a.width=s+r[1]+r[3],a.height=l+r[0]+r[2];var c=ce({x:f,y:h},a);return e.style?(e.style.width=s,e.style.height=l):e.style={width:s,height:l},c},update:function(e,t){var r=this.getSize(e),n=e.padding||this.options.padding;(0,u.isNumber)(n)&&(n=[n,n,n,n]);var a=(0,u.clone)(e.style),o=Math.max(a.width,r[0])||r[0],s=Math.max(a.height,r[1])||r[1];a.width=o+n[1]+n[3],a.height=s+n[0]+n[2];var l=t.get("sizeCache");l&&(l.width=a.width,l.height=a.height),a.x=-o/2-n[3],a.y=-s/2-n[0];var f={stroke:e.color},h=t.get("keyShape"),c=(0,u.mix)({},h.attr(),f,a);e.style?(e.style.width=o,e.style.height=s):e.style={width:o,height:s},this.updateShape(e,t,c,!1)},updateShape:function(e,t,r){var n=t.get("keyShape"),a=e.animate===void 0?this.options.animate:e.animate;a&&n.animate?n.animate(r,{duration:200,easing:"easeLinear"}):n.attr(ce({},r)),this.updateLabel(e,t)}},"single-combo"),hi.registerNode("circle",{options:{size:er.defaultNode.size,style:{x:0,y:0,stroke:er.defaultNode.style.stroke,fill:er.defaultNode.style.fill,lineWidth:er.defaultNode.style.lineWidth},labelCfg:{style:{fill:er.nodeLabel.style.fill,fontSize:er.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:er.defaultNode.linkPoints.size,lineWidth:er.defaultNode.linkPoints.lineWidth,fill:er.defaultNode.linkPoints.fill,stroke:er.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:ce({},er.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var r=this.getOptions(e).icon,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=(0,ji.default)({},n,e.icon),s=t.addShape("circle",{attrs:a,className:this.type+"-keyShape",draggable:!0}),l=o.width,f=o.height,h=o.show;return h&&t.addShape("image",{attrs:ce({x:-l/2,y:-f/2},o),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(e,t),s},drawLinkPoints:function(e,t){var r=this.getOptions(e).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=Qi(n,["top","left","right","bottom","size","r"]),v=this.getSize(e),x=v[0]/2;o&&t.addShape("circle",{attrs:ce(ce({},c),{x:-x,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:ce(ce({},c),{x,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:ce(ce({},c),{x:0,y:-x,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:ce(ce({},c),{x:0,y:x,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(e){var t=this.getOptions(e).style,r={stroke:e.color},n=(0,ji.default)({},t,r),a=this.getSize(e),o=a[0]/2,s=ce({x:0,y:0,r:o},n);return s},update:function(e,t){var r=t.getContainer(),n=this.getSize(e),a={stroke:e.color,r:n[0]/2},o=t.get("keyShape"),s=(0,ji.default)({},o.attr(),a,e.style);this.updateShape(e,t,s,!0),this.updateLinkPoints(e,r)}},"single-node"),hi.registerNode("rect",{options:{size:[100,30],style:{radius:0,stroke:er.defaultNode.style.stroke,fill:er.defaultNode.style.fill,lineWidth:er.defaultNode.style.lineWidth},labelCfg:{style:{fill:er.nodeLabel.style.fill,fontSize:er.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:er.defaultNode.linkPoints.size,lineWidth:er.defaultNode.linkPoints.lineWidth,fill:er.defaultNode.linkPoints.fill,stroke:er.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:ce({},er.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(e,t){var r=this.getShapeStyle(e),n=t.addShape("rect",{attrs:r,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(e,t),n},drawLinkPoints:function(e,t){var r=this.getOptions(e).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=Qi(n,["top","left","right","bottom","size","r"]),v=this.getSize(e),x=v[0],P=v[1];o&&t.addShape("circle",{attrs:ce(ce({},c),{x:-x/2,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:ce(ce({},c),{x:x/2,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:ce(ce({},c),{x:0,y:-P/2,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:ce(ce({},c),{x:0,y:P/2,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(e){var t=this.getOptions(e).style,r={stroke:e.color},n=(0,u.mix)({},t,r),a=this.getSize(e),o=n.width||a[0],s=n.height||a[1],l=ce({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(e,t){var r=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(e),o=t.get("keyShape");e.size||(a[0]=o.attr("width")||n.width,a[1]=o.attr("height")||n.height);var s={stroke:e.color,x:-a[0]/2,y:-a[1]/2,width:a[0],height:a[1]},l=(0,u.mix)({},n,o.attr(),s);l=(0,u.mix)(l,e.style),this.updateShape(e,t,l,!1),this.updateLinkPoints(e,r)}},"single-node"),hi.registerNode("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:er.defaultNode.style.stroke,fill:er.defaultNode.style.fill,lineWidth:er.defaultNode.style.lineWidth},labelCfg:{style:{fill:er.nodeLabel.style.fill,fontSize:er.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:er.defaultNode.linkPoints.size,lineWidth:er.defaultNode.linkPoints.lineWidth,fill:er.defaultNode.linkPoints.fill,stroke:er.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:ce({},er.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(e,t){var r=this.getOptions(e).icon,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=t.addShape("ellipse",{attrs:a,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),s=n.width,l=n.height,f=n.show;if(f)var h=t.addShape("image",{attrs:ce({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var r=this.getOptions(e).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=Qi(n,["top","left","right","bottom","size","r"]),v=this.getSize(e),x=v[0]/2,P=v[1]/2;o&&t.addShape("circle",{attrs:ce(ce({},c),{x:-x,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:ce(ce({},c),{x,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:ce(ce({},c),{x:0,y:-P,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:ce(ce({},c),{x:0,y:P,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(e){var t=this.getOptions(e).style,r={stroke:e.color},n=(0,u.mix)({},t,r),a=this.getSize(e),o=a[0]/2,s=a[1]/2,l=ce({x:0,y:0,rx:o,ry:s},n);return l},update:function(e,t){var r=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(e),o={stroke:e.color,rx:a[0]/2,ry:a[1]/2},s=t.get("keyShape"),l=(0,u.mix)({},n,s.attr(),o);l=(0,u.mix)(l,e.style),this.updateShape(e,t,l,!0),this.updateLinkPoints(e,r)}},"single-node"),hi.registerNode("diamond",{options:{size:[80,80],style:{stroke:er.defaultNode.style.stroke,fill:er.defaultNode.style.fill,lineWidth:er.defaultNode.style.lineWidth},labelCfg:{style:{fill:er.nodeLabel.style.fill,fontSize:er.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:er.defaultNode.linkPoints.size,lineWidth:er.defaultNode.linkPoints.lineWidth,fill:er.defaultNode.linkPoints.fill,stroke:er.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:ce({},er.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(e,t){var r=this.getOptions(e).icon,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,f=n.show;if(f)var h=t.addShape("image",{attrs:ce({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var r=this.getOptions(e).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=Qi(n,["top","left","right","bottom","size","r"]),v=this.getSize(e),x=v[0],P=v[1];o&&t.addShape("circle",{attrs:ce(ce({},c),{x:-x/2,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:ce(ce({},c),{x:x/2,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:ce(ce({},c),{x:0,y:-P/2,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:ce(ce({},c),{x:0,y:P/2,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(e){var t=this.getSize(e),r=t[0],n=t[1],a=[["M",0,-n/2],["L",r/2,0],["L",0,n/2],["L",-r/2,0],["Z"]];return a},getShapeStyle:function(e){var t=this.getOptions(e).style,r={stroke:e.color},n=(0,u.mix)({},t,r),a=this.getPath(e),o=ce({path:a},n);return o},update:function(e,t){var r=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(e),o={stroke:e.color,path:a},s=t.get("keyShape"),l=(0,u.mix)({},n,s.attr(),o);l=(0,u.mix)(l,e.style),this.updateShape(e,t,l,!0),this.updateLinkPoints(e,r)}},"single-node"),hi.registerNode("triangle",{options:{size:40,direction:"up",style:{stroke:er.defaultNode.style.stroke,fill:er.defaultNode.style.fill,lineWidth:er.defaultNode.style.lineWidth},labelCfg:{style:{fill:er.nodeLabel.style.fill,fontSize:er.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:er.defaultNode.linkPoints.size,lineWidth:er.defaultNode.linkPoints.lineWidth,fill:er.defaultNode.linkPoints.fill,stroke:er.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:ce({},er.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(e,t){var r=this.getOptions(e),n=r.icon,a=n===void 0?{}:n,o=r.direction,s=this.getShapeStyle(e),l=e.direction||o,f=t.addShape("path",{attrs:s,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=a.width,c=a.height,v=a.show,x=a.offset;if(v){var P=-h/2,D=-c/2;(l==="up"||l==="down")&&(D+=x),(l==="left"||l==="right")&&(P+=x),t.addShape("image",{attrs:ce({x:P,y:D},a),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(e,t),f},drawLinkPoints:function(e,t){var r=this.getOptions(e),n=r.linkPoints,a=n===void 0?{}:n,o=r.direction,s=e.direction||o,l=a.top,f=a.left,h=a.right,c=a.bottom,v=a.size,x=a.r,P=Qi(a,["top","left","right","bottom","size","r"]),D=this.getSize(e),X=D[0];if(f){var K=null,Z=X*Math.sin(1/3*Math.PI),gt=X*Math.sin(1/3*Math.PI);s==="up"?K=[-gt,Z]:s==="down"?K=[-gt,-Z]:s==="left"&&(K=[-gt,gt-Z]),K&&t.addShape("circle",{attrs:ce(ce({},P),{x:K[0],y:K[1],r:v/2||x||5}),className:"link-point-left",name:"link-point-left"})}if(h){var mt=null,Z=X*Math.sin(1/3*Math.PI),gt=X*Math.sin(1/3*Math.PI);s==="up"?mt=[gt,Z]:s==="down"?mt=[gt,-Z]:s==="right"&&(mt=[gt,gt-Z]),mt&&t.addShape("circle",{attrs:ce(ce({},P),{x:mt[0],y:mt[1],r:v/2||x||5}),className:"link-point-right",name:"link-point-right"})}if(l){var Nt=null,Z=X*Math.sin(1/3*Math.PI),gt=X*Math.sin(1/3*Math.PI);s==="up"?Nt=[gt-Z,-Z]:s==="left"?Nt=[gt,-Z]:s==="right"&&(Nt=[-gt,-Z]),Nt&&t.addShape("circle",{attrs:ce(ce({},P),{x:Nt[0],y:Nt[1],r:v/2||x||5}),className:"link-point-top",name:"link-point-top"})}if(c){var Zt=null,Z=X*Math.sin(1/3*Math.PI),gt=X*Math.sin(1/3*Math.PI);s==="down"?Zt=[-gt+Z,Z]:s==="left"?Zt=[gt,Z]:s==="right"&&(Zt=[-gt,Z]),Zt&&t.addShape("circle",{attrs:ce(ce({},P),{x:Zt[0],y:Zt[1],r:v/2||x||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(e){var t=this.getOptions(e).direction,r=e.direction||t,n=this.getSize(e),a=n[0],o=a*Math.sin(1/3*Math.PI),s=a*Math.sin(1/3*Math.PI),l=[["M",-s,o],["L",0,-o],["L",s,o],["Z"]];return r==="down"?l=[["M",-s,-o],["L",s,-o],["L",0,o],["Z"]]:r==="left"?l=[["M",-s,s-o],["L",s,-s],["L",s,s],["Z"]]:r==="right"&&(l=[["M",s,s-o],["L",-s,s],["L",-s,-s],["Z"]]),l},getShapeStyle:function(e){var t=this.getOptions(e).style,r={stroke:e.color},n=(0,u.mix)({},t,r),a=this.getPath(e),o=ce({path:a},n);return o},update:function(e,t){var r=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(e),o={stroke:e.color,path:a},s=t.get("keyShape"),l=(0,u.mix)({},n,s.attr(),o);l=(0,u.mix)(l,e.style),this.updateShape(e,t,l,!0),this.updateLinkPoints(e,r)},updateLinkPoints:function(e,t){var r=this.getOptions({}),n=r.linkPoints,a=r.direction,o=e.direction||a,s=t.find(function(ur){return ur.get("className")==="link-point-left"}),l=t.find(function(ur){return ur.get("className")==="link-point-right"}),f=t.find(function(ur){return ur.get("className")==="link-point-top"}),h=t.find(function(ur){return ur.get("className")==="link-point-bottom"}),c=n,v=s||l||f||h;v&&(c=v.attr());var x=(0,u.mix)({},c,e.linkPoints),P=x.fill,D=x.stroke,X=x.lineWidth,K=x.size/2;K||(K=x.r);var Z=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},gt=Z.left,mt=Z.right,Nt=Z.top,Zt=Z.bottom,ee=this.getSize(e),ue=ee[0],ne={r:K,fill:P,stroke:D,lineWidth:X},xe=null,Pe=ue*Math.sin(1/3*Math.PI),Ye=ue*Math.sin(1/3*Math.PI);o==="up"?xe=[-Ye,Pe]:o==="down"?xe=[-Ye,-Pe]:o==="left"&&(xe=[-Ye,Ye-Pe]),xe&&(s?!gt&&gt!==void 0?s.remove():s.attr(ce(ce({},ne),{x:xe[0],y:xe[1]})):gt&&t.addShape("circle",{attrs:ce(ce({},ne),{x:xe[0],y:xe[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var He=null;o==="up"?He=[Ye,Pe]:o==="down"?He=[Ye,-Pe]:o==="right"&&(He=[Ye,Ye-Pe]),He&&(l?!mt&&mt!==void 0?l.remove():l.attr(ce(ce({},ne),{x:He[0],y:He[1]})):mt&&t.addShape("circle",{attrs:ce(ce({},ne),{x:He[0],y:He[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var Ze=null;o==="up"?Ze=[Ye-Pe,-Pe]:o==="left"?Ze=[Ye,-Pe]:o==="right"&&(Ze=[-Ye,-Pe]),Ze&&(f?!Nt&&Nt!==void 0?f.remove():f.attr(ce(ce({},ne),{x:Ze[0],y:Ze[1]})):Nt&&t.addShape("circle",{attrs:ce(ce({},ne),{x:Ze[0],y:Ze[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var Ue=null;o==="down"?Ue=[-Ye+Pe,Pe]:o==="left"?Ue=[Ye,Pe]:o==="right"&&(Ue=[-Ye,Pe]),Ue&&(h?!Zt&&Zt!==void 0?h.remove():h.attr(ce(ce({},ne),{x:Ue[0],y:Ue[1]})):Zt&&t.addShape("circle",{attrs:ce(ce({},ne),{x:Ue[0],y:Ue[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),hi.registerNode("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:er.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(e,t){var r=this.getOptions(e).preRect,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=this.getSize(e),s=o[0],l=o[1],f=t.addShape("rect",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=n.show,c=Qi(n,["show"]);return h&&t.addShape("rect",{attrs:ce({x:-s/2,y:-l/2,height:l},c),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(e,t),this.drawStateIcon(e,t),this.drawLinkPoints(e,t),f},drawLogoIcon:function(e,t){var r=this.getOptions(e).logoIcon,n=r===void 0?{}:r,a=this.getSize(e),o=a[0];if(n.show){var s=n.width,l=n.height,f=n.x,h=n.y,c=n.offset,v=Qi(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:ce(ce({},v),{x:f||-o/2+s+c,y:h||-l/2,width:s,height:l}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(e,t){var r=this.getOptions(e).stateIcon,n=r===void 0?{}:r,a=this.getSize(e),o=a[0];if(n.show){var s=n.width,l=n.height,f=n.x,h=n.y,c=n.offset,v=Qi(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:ce(ce({},v),{x:f||o/2-s+c,y:h||-l/2,width:s,height:l}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(e,t){var r=this.getOptions(e).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,l=n.bottom,f=n.size,h=n.r,c=Qi(n,["top","left","right","bottom","size","r"]),v=this.getSize(e),x=v[0],P=v[1];o&&t.addShape("circle",{attrs:ce(ce({},c),{x:-x/2,y:0,r:f/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:ce(ce({},c),{x:x/2,y:0,r:f/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:ce(ce({},c),{x:0,y:-P/2,r:f/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:ce(ce({},c),{x:0,y:P/2,r:f/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(e,t){var r=this.getOptions(e),n=r.labelCfg,a=n===void 0?{}:n,o=r.logoIcon,s=o===void 0?{}:o,l=r.descriptionCfg,f=l===void 0?{}:l,h=this.getSize(e),c=h[0],v=null,x=s.show,P=s.width,D=-c/2+a.offset;x&&(D=-c/2+P+a.offset);var X=a.style,K=f.style,Z=f.paddingTop;return(0,u.isString)(e.description)?(v=t.addShape("text",{attrs:ce(ce({},X),{x:D,y:-5,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0}),t.addShape("text",{attrs:ce(ce({},K),{x:D,y:17+(Z||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0})):v=t.addShape("text",{attrs:ce(ce({},X),{x:D,y:7,text:e.label}),draggable:!0}),v},getShapeStyle:function(e){var t=this.getOptions(e).style,r={stroke:e.color},n=(0,u.mix)({},t,r),a=this.getSize(e),o=n.width||a[0],s=n.height||a[1],l=ce({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(e,t){var r=this.getOptions(e),n=r.style,a=n===void 0?{}:n,o=r.labelCfg,s=o===void 0?{}:o,l=r.descriptionCfg,f=l===void 0?{}:l,h=this.getSize(e),c=h[0],v=h[1],x=t.get("keyShape");x.attr(ce(ce({},a),{x:-c/2,y:-v/2,width:c,height:v}));var P=t.getContainer(),D=P.find(function(Vr){return Vr.get("className")==="rect-logo-icon"}),X=D?D.attr():{},K=(0,u.mix)({},X,e.logoIcon),Z=K.width;Z===void 0&&(Z=this.options.logoIcon.width);var gt=e.logoIcon?e.logoIcon.show:void 0,mt=s.offset,Nt=-c/2+Z+mt;!gt&&gt!==void 0&&(Nt=-c/2+mt);var Zt=P.find(function(Vr){return Vr.get("className")==="node-label"}),ee=P.find(function(Vr){return Vr.get("className")==="rect-description"});if(e.label)if(!Zt)P.addShape("text",{attrs:ce(ce({},s.style),{x:Nt,y:e.description?-5:7,text:e.label}),className:"node-label",name:"node-label",draggable:!0});else{var ue=e.labelCfg?e.labelCfg.style:{},ne=(0,u.mix)({},Zt.attr(),ue);e.label&&(ne.text=e.label),ne.x=Nt,(0,u.isString)(e.description)&&(ne.y=-5),ee&&(ee.resetMatrix(),ee.attr({x:Nt})),Zt.resetMatrix(),Zt.attr(ne)}if((0,u.isString)(e.description)){var xe=f.paddingTop;if(!ee)P.addShape("text",{attrs:ce(ce({},f.style),{x:Nt,y:17+(xe||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0});else{var ue=e.descriptionCfg?e.descriptionCfg.style:{},Pe=(0,u.mix)({},ee.attr(),ue);(0,u.isString)(e.description)&&(Pe.text=e.description),Pe.x=Nt,ee.resetMatrix(),ee.attr(ce(ce({},Pe),{y:17+(xe||0)}))}}var Ye=P.find(function(Vr){return Vr.get("className")==="pre-rect"});if(Ye){var He=(0,u.mix)({},Ye.attr(),e.preRect);Ye.attr(ce(ce({},He),{x:-c/2,y:-v/2,height:v}))}if(D)if(!gt&&gt!==void 0)D.remove();else{var Ze=K.width,Ue=K.height,ur=K.x,wr=K.y,mr=K.offset,pr=Qi(K,["width","height","x","y","offset"]);D.attr(ce(ce({},pr),{x:ur||-c/2+Ze+mr,y:wr||-Ue/2,width:Ze,height:Ue}))}else gt&&this.drawLogoIcon(e,P);var fr=P.find(function(Vr){return Vr.get("className")==="rect-state-icon"}),Yr=fr?fr.attr():{},_r=(0,u.mix)({},Yr,e.stateIcon);if(fr){!_r.show&&_r.show!==void 0&&fr.remove();var Fr=_r.width,Ue=_r.height,ur=_r.x,wr=_r.y,yr=_r.offset,Ir=Qi(_r,["width","height","x","y","offset"]);fr.attr(ce(ce({},Ir),{x:ur||c/2-Fr+yr,y:wr||-Ue/2,width:Fr,height:Ue}))}else _r.show&&this.drawStateIcon(e,P);this.updateLinkPoints(e,P)}},"single-node"),hi.registerNode("star",{options:{size:60,style:{stroke:er.defaultNode.style.stroke,fill:er.defaultNode.style.fill,lineWidth:er.defaultNode.style.lineWidth},labelCfg:{style:{fill:er.nodeLabel.style.fill,fontSize:er.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:er.defaultNode.linkPoints.size,lineWidth:er.defaultNode.linkPoints.lineWidth,fill:er.defaultNode.linkPoints.fill,stroke:er.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:ce({},er.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(e,t){var r=this.getOptions(e).icon,n=r===void 0?{}:r,a=this.getShapeStyle(e),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,f=n.show;if(f)var h=t.addShape("image",{attrs:ce({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var r=this.getOptions(e).linkPoints,n=r===void 0?{}:r,a=n.top,o=n.left,s=n.right,l=n.leftBottom,f=n.rightBottom,h=n.size,c=n.r,v=Qi(n,["top","left","right","leftBottom","rightBottom","size","r"]),x=this.getSize(e),P=x[0];if(s){var D=Math.cos((18+72*0)/180*Math.PI)*P,X=Math.sin((18+72*0)/180*Math.PI)*P;t.addShape("circle",{attrs:ce(ce({},v),{x:D,y:-X,r:h/2||c||5}),className:"link-point-right",name:"link-point-right"})}if(a){var D=Math.cos((18+72*1)/180*Math.PI)*P,X=Math.sin((18+72*1)/180*Math.PI)*P;t.addShape("circle",{attrs:ce(ce({},v),{x:D,y:-X,r:h/2||c||5}),className:"link-point-top",name:"link-point-top"})}if(o){var D=Math.cos((18+72*2)/180*Math.PI)*P,X=Math.sin((18+72*2)/180*Math.PI)*P;t.addShape("circle",{attrs:ce(ce({},v),{x:D,y:-X,r:h/2||c||5}),className:"link-point-left",name:"link-point-left"})}if(l){var D=Math.cos((18+72*3)/180*Math.PI)*P,X=Math.sin((18+72*3)/180*Math.PI)*P;t.addShape("circle",{attrs:ce(ce({},v),{x:D,y:-X,r:h/2||c||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(f){var D=Math.cos((18+72*4)/180*Math.PI)*P,X=Math.sin((18+72*4)/180*Math.PI)*P;t.addShape("circle",{attrs:ce(ce({},v),{x:D,y:-X,r:h/2||c||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(e){for(var t=this.getSize(e),r=t[0],n=r*3/8,a=e.innerR||n,o=[],s=0;s<5;s++){var l=Math.cos((18+72*s)/180*Math.PI)*r,f=Math.sin((18+72*s)/180*Math.PI)*r,h=Math.cos((54+72*s)/180*Math.PI)*a,c=Math.sin((54+72*s)/180*Math.PI)*a;s===0?o.push(["M",l,-f]):o.push(["L",l,-f]),o.push(["L",h,-c])}return o.push(["Z"]),o},getShapeStyle:function(e){var t=this.getOptions(e).style,r={stroke:e.color},n=(0,u.mix)({},t,r),a=this.getPath(e),o=ce({path:a},n);return o},update:function(e,t){var r=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(e),o={stroke:e.color,path:a},s=t.get("keyShape"),l=(0,u.mix)({},n,s.attr(),o);l=(0,u.mix)(l,e.style),this.updateShape(e,t,l,!0),this.updateLinkPoints(e,r)},updateLinkPoints:function(e,t){var r=this.getOptions({}).linkPoints,n=t.find(function(Pe){return Pe.get("className")==="link-point-left"}),a=t.find(function(Pe){return Pe.get("className")==="link-point-right"}),o=t.find(function(Pe){return Pe.get("className")==="link-point-top"}),s=t.find(function(Pe){return Pe.get("className")==="link-point-left-bottom"}),l=t.find(function(Pe){return Pe.get("className")==="link-point-right-bottom"}),f=r,h=n||a||o||s||l;h&&(f=h.attr());var c=(0,u.mix)({},f,e.linkPoints),v=c.fill,x=c.stroke,P=c.lineWidth,D=c.size/2;D||(D=c.r);var X=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},K=X.left,Z=X.right,gt=X.top,mt=X.leftBottom,Nt=X.rightBottom,Zt=this.getSize(e),ee=Zt[0],ue={r:D,fill:v,stroke:x,lineWidth:P},ne=Math.cos((18+72*0)/180*Math.PI)*ee,xe=Math.sin((18+72*0)/180*Math.PI)*ee;a?!Z&&Z!==void 0?a.remove():a.attr(ce(ce({},ue),{x:ne,y:-xe})):Z&&t.addShape("circle",{attrs:ce(ce({},ue),{x:ne,y:-xe}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),ne=Math.cos((18+72*1)/180*Math.PI)*ee,xe=Math.sin((18+72*1)/180*Math.PI)*ee,o?!gt&&gt!==void 0?o.remove():o.attr(ce(ce({},ue),{x:ne,y:-xe})):gt&&t.addShape("circle",{attrs:ce(ce({},ue),{x:ne,y:-xe}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),ne=Math.cos((18+72*2)/180*Math.PI)*ee,xe=Math.sin((18+72*2)/180*Math.PI)*ee,n?!K&&K!==void 0?n.remove():n.attr(ce(ce({},ue),{x:ne,y:-xe})):K&&t.addShape("circle",{attrs:ce(ce({},ue),{x:ne,y:-xe}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),ne=Math.cos((18+72*3)/180*Math.PI)*ee,xe=Math.sin((18+72*3)/180*Math.PI)*ee,s?!mt&&mt!==void 0?s.remove():s.attr(ce(ce({},ue),{x:ne,y:-xe})):mt&&t.addShape("circle",{attrs:ce(ce({},ue),{x:ne,y:-xe}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),ne=Math.cos((18+72*4)/180*Math.PI)*ee,xe=Math.sin((18+72*4)/180*Math.PI)*ee,l?!Nt&&Nt!==void 0?s.remove():l.attr(ce(ce({},ue),{x:ne,y:-xe})):Nt&&t.addShape("circle",{attrs:ce(ce({},ue),{x:ne,y:-xe}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node"),hi.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(e,t){var r=this.shapeType,n=this.getShapeStyle(e);delete n.fill;var a=t.addShape(r,{attrs:n,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(e,a),a},drawClip:function(e,t){var r=this.getOptions(e).clipCfg;if(!!r.show){var n=r.type,a=r.x,o=r.y,s=r.style;if(n==="circle"){var l=r.r;t.setClip({type:"circle",attrs:ce({r:l,x:a,y:o},s)})}else if(n==="rect"){var f=r.width,h=r.height,c=a-f/2,v=o-h/2;t.setClip({type:"rect",attrs:ce({x:c,y:v,width:f,height:h},s)})}else if(n==="ellipse"){var x=r.rx,P=r.ry;t.setClip({type:"ellipse",attrs:ce({x:a,y:o,rx:x,ry:P},s)})}else if(n==="polygon"){var D=r.points;t.setClip({type:"polygon",attrs:ce({points:D},s)})}else if(n==="path"){var X=r.path;t.setClip({type:"path",attrs:ce({path:X},s)})}}},getShapeStyle:function(e){var t=this.getOptions(e).style,r=this.getSize(e),n=this.getOptions(e).img,a=r[0],o=r[1];t&&(a=t.width||r[0],o=t.height||r[1]);var s=ce({x:-a/2,y:-o/2,width:a,height:o,img:n},t);return s},updateShapeStyle:function(e,t){var r=t.getContainer(),n=this.itemType+"-shape",a=r.find(function(s){return s.get("className")===n})||t.getKeyShape(),o=this.getShapeStyle(e);a&&a.attr(o)}},"single-node");function xu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xu=function(t){return typeof t}:xu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(i)}var bu=function(e){var t=e.x,r=e.y;return{x:t,y:r,centerX:t,centerY:r,minX:t,minY:r,maxX:t,maxY:r,height:0,width:0}},m4=function(e){e===void 0&&(e=[]);var t=[],r=[];e.forEach(function(l){t.push(l.x),r.push(l.y)});var n=Math.min.apply(Math,t),a=Math.max.apply(Math,t),o=Math.min.apply(Math,r),s=Math.max.apply(Math,r);return{centerX:(n+a)/2,centerY:(o+s)/2,maxX:a,maxY:s,minX:n,minY:o,height:s-o,width:a-n}},zx=function(e,t){return Math.abs(e.centerX-t.centerX)*2<e.width+t.width&&Math.abs(e.centerY-t.centerY)*2<e.height+t.height},tc=function(e){var t=[],r={};return e.forEach(function(n){var a=n.x+"-"+n.y;n.id=a,r[a]=n}),(0,u.each)(r,function(n){t.push(n)}),t},wu=function(e){return e=tc(e),e},Xx=function(e,t){return[e,{x:e.x,y:t.y},t]},Su=function(e,t){return e.width===0&&e.height===0?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},x4=function(e,t){var r=Math.abs(e.x-t.centerX),n=Math.abs(e.y-t.centerY);return r/t.width>n/t.height},ec=function(e,t){var r=x4(t,e);return r?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},rc=function(e,t){var r=Math.min(e.minX,t.minX),n=Math.min(e.minY,t.minY),a=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(r+a)/2,centerY:(n+o)/2,minX:r,minY:n,maxX:a,maxY:o,height:o-n,width:a-r}},nc=function(e){var t=e.minX,r=e.minY,n=e.maxX,a=e.maxY;return[{x:t,y:r},{x:n,y:r},{x:n,y:a},{x:t,y:a}]},Mu=function(e,t){var r=e.x,n=e.y;return r<t.minX||r>t.maxX||n<t.minY||n>t.maxY},b4=function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]},w4=function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]},S4=function(e,t){return b4(e,t.x).concat(w4(e,t.y))},Ds=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},M4=function(e,t){var r=-2,n=0;return t.forEach(function(a){a&&(e.x===a.x&&(n+=r),e.y===a.y&&(n+=r))}),n},Vx=function(e,t,r,n,a){return Ds(e,t)+Ds(e,r)+M4(e,[t,r,n,a])},C4=function i(e,t,r,n,a){a===void 0&&(a=0),e.unshift(t[n]),r[n]&&r[n]!==n&&a<=100&&i(e,t,r,r[n],a+1)},E4=function(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)},Cu=function(e,t,r,n){var a=t.x-e.x,o=t.y-e.y,s=n.x-r.x,l=n.y-r.y,f=(-o*(e.x-r.x)+a*(e.y-r.y))/(-s*o+a*l),h=(s*(e.y-r.y)-l*(e.x-r.x))/(-s*o+a*l);return f>=0&&f<=1&&h>=0&&h<=1},ic=function(e,t,r){if(r.width===0&&r.height===0)return!1;var n=nc(r),a=n[0],o=n[1],s=n[2],l=n[3];return Cu(e,t,a,o)||Cu(e,t,a,l)||Cu(e,t,o,s)||Cu(e,t,s,l)},A4=function(e,t,r,n){var a=[];return e.forEach(function(o){o!==t&&(o.x===t.x||o.y===t.y)&&!ic(o,t,r)&&!ic(o,t,n)&&a.push(o)}),tc(a)},T4=function(e,t,r,n,a,o,s){var l=[],f=[t],h={},c={},v={};c[t.id]=0,v[t.id]=Vx(t,r,t);var x={};e.forEach(function(X){x[X.id]=X});for(var P=function(){var K,Z=Infinity;if(f.forEach(function(mt){v[mt.id]<Z&&(Z=v[mt.id],K=mt)}),K===r){var gt=[];return C4(gt,x,h,r.id),{value:gt}}E4(f,K),l.push(K),A4(e,K,n,a).forEach(function(mt){if(l.indexOf(mt)===-1){f.indexOf(mt)===-1&&f.push(mt);var Nt=v[K.id]+Ds(K,mt);c[mt.id]&&Nt>=c[mt.id]||(h[mt.id]=K.id,c[mt.id]=Nt,v[mt.id]=c[mt.id]+Vx(mt,r,t,o,s))}})};f.length;){var D=P();if(xu(D)==="object")return D.value}return[t,r]},P4=function(e,t,r){return!(e.x===t.x&&t.x===r.x||e.y===t.y&&t.y===r.y)},_4=function(e,t,r,n){var a=Ds(e,t),o=Ds(r,t);a<n&&(n=a),o<n&&(n=o);var s={x:t.x-n/a*(t.x-e.x),y:t.y-n/a*(t.y-e.y)},l={x:t.x-n/o*(t.x-r.x),y:t.y-n/o*(t.y-r.y)};return[s,l]},Hx=function(e,t){var r=[],n=e[0];return r.push("M"+n.x+" "+n.y),e.forEach(function(a,o){var s=e[o+1],l=e[o+2];if(s&&l)if(P4(a,s,l)){var f=_4(a,s,l,t),h=f[0],c=f[1];r.push("L"+h.x+" "+h.y),r.push("Q"+s.x+" "+s.y+" "+c.x+" "+c.y),r.push("L"+c.x+" "+c.y)}else r.push("L"+s.x+" "+s.y);else s&&r.push("L"+s.x+" "+s.y)}),r.join("")},O4=function(e,t,r,n,a){var o,s;if(!r||!r.getType())o=bu(e);else if(r.getType()==="combo"){var l=r.getKeyShape();o=l.getCanvasBBox()||bu(e),o.centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=r.getBBox();if(!n||!n.getType())s=bu(t);else if(n.getType()==="combo"){var f=n.getKeyShape();s=f.getCanvasBBox()||bu(t),s.centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2}else s=n&&n.getBBox();if(zx(o,s))return wu(Xx(e,t));var h=Su(o,a),c=Su(s,a);if(zx(h,c))return wu(Xx(e,t));var v=ec(h,e),x=ec(c,t),P=m4([v,x]),D=rc(h,c),X=rc(h,P),K=rc(c,P),Z=[];Z=Z.concat(nc(X)),Z=Z.concat(nc(K));var gt={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[P,X,K].forEach(function(Nt){Z=Z.concat(S4(Nt,gt).filter(function(Zt){return Mu(Zt,h)&&Mu(Zt,c)}))}),[{x:v.x,y:x.y},{x:x.x,y:v.y}].forEach(function(Nt){Mu(Nt,h)&&Mu(Nt,c)&&Z.push(Nt)}),Z.unshift(v),Z.push(x),Z=tc(Z);var mt=T4(Z,v,x,o,s,e,t);return mt.unshift(e),mt.push(t),wu(mt)};function Eu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Eu=function(t){return typeof t}:Eu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(i)}var L4=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},I4=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},k4=function(e,t){return[e,t]},B4=function(e,t,r,n,a){return wu(O4(e,t,r,n,a.offset))},D4={offset:20,maxAllowedDirectionChange:90,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:L4,fallbackRoute:B4},NG={maxAllowedDirectionChange:45,directions:[{stepX:1,stepY:0},{stepX:1,stepY:1},{stepX:0,stepY:1},{stepX:-1,stepY:1},{stepX:-1,stepY:0},{stepX:-1,stepY:-1},{stepX:0,stepY:-1},{stepX:1,stepY:-1}],distFunc:I4,fallbackRoute:k4},ma=function(e,t){var r=Math.floor(e/t);return r<0?0:r},F4=function(e,t,r){var n={};return e.forEach(function(a){if(a)for(var o=Su(a.getBBox(),r),s=ma(o.minX,t);s<=ma(o.maxX,t);s+=1)for(var l=ma(o.minY,t);l<=ma(o.maxY,t);l+=1){var f=s+"-"+l;n[f]=!0}}),n},ac=function(e,t){var r=t.x-e.x,n=t.y-e.y;if(!r&&!n)return 0;var a=(360+Math.atan2(n,r)*180/Math.PI)%360;return a},Wx=function(e,t){var r=Math.abs(e-t);return r>180?360-r:r},jx=function(e,t,r){for(var n=Infinity,a=0,o=t.length;a<o;a++){var s=r(e,t[a]);s<n&&(n=s)}return n},Ux=function(e,t,r){var n=[];if(!t)return n;var a=r.directions,o=r.offset,s=t.getBBox(),l=Su(t.getBBox(),o);for(var f in l)l[f]=ma(l[f],r.gridSize);var h=e.x>ma(s.minX,r.gridSize)&&e.x<ma(s.maxX,r.gridSize)&&e.y>ma(s.minY,r.gridSize)&&e.y<ma(s.maxY,r.gridSize);if(h)for(var c=0,v=a;c<v.length;c++)for(var x=v[c],P=[[{x:l.minX,y:l.minY},{x:l.maxX,y:l.minY}],[{x:l.minX,y:l.minY},{x:l.minX,y:l.maxY}],[{x:l.maxX,y:l.minY},{x:l.maxX,y:l.maxY}],[{x:l.minX,y:l.maxY},{x:l.maxX,y:l.maxY}]],f=0;f<4;f++){var D=P[f],X=Ms(e,{x:e.x+x.stepX*l.width,y:e.y+x.stepY*l.height},D[0],D[1]);X&&!ic(e,X,t.getBBox())&&(X.id=X.x+"-"+X.y,n.push(X))}else{var X=ec(l,e);X.id=X.x+"-"+X.y,n.push(X)}return n},Zx=function(e,t,r,n,a){var o=(0,ji.default)(D4,a);o.obstacles=o.obstacles||[];var s=F4(o.obstacles.concat([r,n]),o.gridSize,o.offset),l={x:ma(e.x,o.gridSize),y:ma(e.y,o.gridSize)},f={x:ma(t.x,o.gridSize),y:ma(t.y,o.gridSize)};e.id=l.x+"-"+l.y,t.id=f.x+"-"+f.y;var h=Ux(l,r,o),c=Ux(f,n,o);h.forEach(function(ue){delete s[ue.id]}),c.forEach(function(ue){delete s[ue.id]});for(var v={},x={},P={},D={},X={},K=0;K<h.length;K++){var Z=h[K];v[Z.id]=Z,D[Z.id]=0,X[Z.id]=jx(Z,c,o.distFunc)}for(var gt=function(ne,xe){var Pe=ac(ne,xe),Ye;if(P[ne.id]){var Ze=ac({x:parseFloat(P[ne.id].split("-")[0]),y:parseFloat(P[ne.id].split("-")[1])},ne);Ye=Wx(Ze,Pe)}else{var He=ac(l,ne);Ye=Wx(He,Pe)}return Ye},mt=function(ne){var xe=[t],Pe={x:parseFloat(ne.split("-")[0]),y:parseFloat(ne.split("-")[1]),id:ne};for(gt(Pe,f)&&xe.unshift({x:Pe.x===f.x?t.x:Pe.x*o.gridSize,y:Pe.y===f.y?t.y:Pe.y*o.gridSize});P[ne]&&P[ne]!==ne;){var Ye={x:parseFloat(ne.split("-")[0]),y:parseFloat(ne.split("-")[1]),id:ne},He=P[ne],Ze={x:parseFloat(He.split("-")[0]),y:parseFloat(He.split("-")[1]),id:He},Ue=gt(Ze,Ye);Ue&&xe.unshift({x:Ze.x===Ye.x?xe[0].x:Ze.x*o.gridSize,y:Ze.y===Ye.y?xe[0].y:Ze.y*o.gridSize}),ne=He}var ur={x:parseFloat(ne.split("-")[0]),y:parseFloat(ne.split("-")[1]),id:ne};return xe[0].x=ur.x===l.x?e.x:xe[0].x,xe[0].y=ur.y===l.y?e.y:xe[0].y,xe.unshift(e),xe},Nt=o.maximumLoops,Zt=function(){var ne,xe=Infinity;for(var Pe in v)X[Pe]<=xe&&(xe=X[Pe],ne=v[Pe]);if(!ne)return"break";if(c.findIndex(function(pr){return pr.x===ne.x&&pr.y===ne.y})>-1){var Ye=mt(ne.id);return{value:Ye}}delete v[ne.id],x[ne.id]=!0;for(var He=0;He<o.directions.length;He++){var Ze=o.directions[He],Ue={x:ne.x+Ze.stepX,y:ne.y+Ze.stepY,id:ne.x+Ze.stepX+"-"+(ne.y+Ze.stepY)};if(!x[Ue.id]){var ur=gt(ne,Ue);if(!(ur>o.maxAllowedDirectionChange)&&!s[Ue.id]){v[Ue.id]||(v[Ue.id]=Ue);var wr=o.distFunc(ne,Ue)+(isNaN(o.penalties[ur])?o.gridSize:o.penalties[ur]),mr=D[ne.id]+wr;D[Ue.id]&&mr>=D[Ue.id]||(P[Ue.id]=ne.id,D[Ue.id]=mr,X[Ue.id]=mr+jx(Ue,c,o.distFunc))}}}Nt-=1};Object.keys(v).length>0&&Nt>0;){var ee=Zt();if(Eu(ee)==="object")return ee.value;if(ee==="break")break}return o.fallbackRoute(e,t,r,n,o)};hi.registerEdge("polyline",{options:{color:er.defaultEdge.color,size:er.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:er.defaultEdge.style.stroke,lineAppendWidth:er.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:er.edgeLabel.style.fill,fontSize:er.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:90,maximumLoops:1e3,gridSize:10},stateStyles:ce({},er.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(e,t){var r=this.getShapeStyle(e);r.radius===0&&delete r.radius;var n=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:r});return n},getShapeStyle:function(e){var t=this.options.style,r={stroke:e.color},n=(0,u.mix)({},t,r,e.style);e=this.getPathPoints(e),this.radius=n.radius,this.offset=n.offset;var a=e.startPoint,o=e.endPoint,s=this.getControlPoints(e),l=[a];s&&(l=l.concat(s)),l.push(o);var f=e.sourceNode,h=e.targetNode,c=n.radius,v=this.options.routeCfg;v.offset=n.offset;var x=this.getPath(l,f,h,c,v);((0,u.isArray)(x)&&x.length<=1||(0,u.isString)(x)&&x.indexOf("L")===-1)&&(x="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(o.x)||isNaN(o.y))&&(x="M0 0, L0 0");var P=(0,u.mix)({},er.defaultEdge.style,n,{lineWidth:e.size,path:x});return P},updateShapeStyle:function(e,t){var r=t.getContainer(),n={stroke:e.color},a=r.find(function(Z){return Z.get("className")==="edge-shape"})||t.getKeyShape(),o=e.size;e=this.getPathPoints(e);var s=e.startPoint,l=e.endPoint,f=this.getControlPoints(e),h=[s];f&&(h=h.concat(f)),h.push(l);var c=(0,u.mix)({},n,a.attr(),e.style),v=e.sourceNode,x=e.targetNode,P=c.radius,D=this.options.routeCfg;D.offset=c.offset;var X=this.getPath(h,v,x,P,D);((0,u.isArray)(X)&&X.length<=1||(0,u.isString)(X)&&X.indexOf("L")===-1)&&(X="M0 0, L0 0"),(isNaN(s.x)||isNaN(s.y)||isNaN(l.x)||isNaN(l.y))&&(X="M0 0, L0 0");var K=(0,u.mix)(n,a.attr(),{lineWidth:o,path:X},e.style);a&&a.attr(K)},getPath:function(e,t,r,n,a){var o=a.offset;if(!o||e.length>2){if(n)return Hx(e,n);var s=[];return(0,u.each)(e,function(c,v){v===0?s.push(["M",c.x,c.y]):s.push(["L",c.x,c.y])}),s}var l;if(n){l=Zx(e[0],e[e.length-1],t,r,a);var f=Hx(l,n);return f}l=Zx(e[0],e[e.length-1],t,r,a);var h=Im(l);return h}},"single-edge");var R4={triangle:function(e,t,r){e===void 0&&(e=10),t===void 0&&(t=15),r===void 0&&(r=0);var n=r*2,a="M "+n+",0 L "+(n+t)+",-"+e/2+" L "+(n+t)+","+e/2+" Z";return a},vee:function(e,t,r){e===void 0&&(e=15),t===void 0&&(t=20),r===void 0&&(r=0);var n=r*2,a="M "+n+",0 L "+(n+t)+",-"+e/2+`
        L `+(n+2*t/3)+",0 L "+(n+t)+","+e/2+" Z";return a},circle:function(e,t){e===void 0&&(e=5),t===void 0&&(t=0);var r=t*2,n="M "+r+`, 0
            a `+e+","+e+" 0 1,0 "+e*2+`,0
            a `+e+","+e+" 0 1,0 "+-e*2+",0";return n},rect:function(e,t,r){e===void 0&&(e=10),t===void 0&&(t=10),r===void 0&&(r=0);var n=r*2,a="M "+n+","+-e/2+` 
        L `+(n+t)+","+-e/2+` 
        L `+(n+t)+","+e/2+` 
        L `+n+","+e/2+" Z";return a},diamond:function(e,t,r){e===void 0&&(e=15),t===void 0&&(t=15),r===void 0&&(r=0);var n=r*2,a="M "+n+`,0 
        L `+(n+t/2)+","+-e/2+` 
        L `+(n+t)+`,0 
        L `+(n+t/2)+","+e/2+" Z";return a},triangleRect:function(e,t,r,n,a,o){e===void 0&&(e=15),t===void 0&&(t=15),r===void 0&&(r=15),n===void 0&&(n=3),a===void 0&&(a=5),o===void 0&&(o=0);var s=o*2,l=s+t+a,f="M "+s+",0 L "+(s+t)+",-"+e/2+" L "+(s+t)+","+e/2+` Z
            M `+l+", -"+r/2+`
            L `+(l+n)+" -"+r/2+`
            L `+(l+n)+" "+r/2+`
            L `+l+" "+r/2+`
            Z`;return f}},N4={collapse:function(e,t,r){return[["M",e-r,t],["a",r,r,0,1,0,r*2,0],["a",r,r,0,1,0,-r*2,0],["M",e-r+4,t],["L",e+r-4,t]]},expand:function(e,t,r){return[["M",e-r,t],["a",r,r,0,1,0,r*2,0],["a",r,r,0,1,0,-r*2,0],["M",e-r+4,t],["L",e-r+2*r-4,t],["M",e-r+r,t-r+4],["L",e,t+r-4]]},upTriangle:function(e,t,r){var n=r*Math.cos(Math.PI/6),a=r*Math.sin(Math.PI/6);return[["M",e-n,t+a],["L",e+n,t+a],["L",e,t-r],["Z"]]},downTriangle:function(e,t,r){var n=r*Math.cos(Math.PI/6),a=r*Math.sin(Math.PI/6);return[["M",e-n,t-a],["L",e+n,t-a],["L",e,t+r],["Z"]]}},es=hi,Y4={mat3:Ba.wO,mix:_s.default,deepMix:ji.default,transform:Ba.vs},G4=ce(ce(ce(ce(ce(ce({},Y4),Tt),zt),Et),Bt),Dt),z4=G4,X4=function(){function i(e){this._cfgs=(0,ji.default)(this.getDefaultCfgs(),e),this._events={},this.destroyed=!1}return i.prototype.getDefaultCfgs=function(){return{}},i.prototype.initPlugin=function(e){var t=this;t.set("graph",e);var r=t.getEvents(),n={};(0,Bn.default)(r,function(a,o){var s=(0,tu.default)(t,a);n[o]=s,e.on(o,s)}),this._events=n,this.init()},i.prototype.init=function(){},i.prototype.getEvents=function(){return{}},i.prototype.get=function(e){return this._cfgs[e]},i.prototype.set=function(e,t){this._cfgs[e]=t},i.prototype.destroy=function(){},i.prototype.destroyPlugin=function(){this.destroy();var e=this.get("graph"),t=this._events;(0,Bn.default)(t,function(r,n){e.off(n,r)}),this._events=null,this._cfgs=null,this.destroyed=!0},i}(),Xa=X4,Kx="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",V4=function(i){Kn(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{img:Kx}},e.prototype.init=function(){var t=this.get("graph"),r=t.get("minZoom"),n=t.get("container"),a=t.get("canvas").get("el"),o=t.get("width"),s=t.get("height"),l=this.get("img")||Kx,f=(0,wi.Z)(`<div class='g6-grid-container' style="position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;"></div>`),h=(0,wi.Z)(`<div 
        class='g6-grid' 
        style='position:absolute;
        transform-origin: 0% 0% 0px;
        background-image: `+l+`;
        user-select: none
        '></div>`);f.appendChild(h),(0,Hn.Z)(f,{width:o+"px",height:s+"px",left:n.offsetLeft+"px",top:n.offsetTop+"px"}),(0,Hn.Z)(h,{width:o/r+"px",height:s/r+"px",left:"0px",top:"0px"}),n.insertBefore(f,a),this.set("container",f),this.set("gridContainer",h)},e.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},e.prototype.updateGrid=function(t){var r=this.get("gridContainer"),n=t.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var a="matrix("+n[0]+", "+n[1]+", "+n[3]+", "+n[4]+", 0, 0)";(0,Hn.Z)(r,{transform:a})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t=this.get("graph"),r=t.get("container"),n=this.get("container");r.removeChild(n)},e}(Xa),H4=V4,W4=d(38186),oc=d.n(W4);oc()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var j4=function(i){Kn(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(r){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(r){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"]}},e.prototype.getEvents=function(){return{contextmenu:"onMenuShow"}},e.prototype.init=function(){var t=this.get("className"),r=(0,wi.Z)("<div class="+(t||"g6-component-contextmenu")+"></div>");(0,Hn.Z)(r,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),n.appendChild(r),this.set("menu",r)},e.prototype.onMenuShow=function(t){var r=this;if(t.preventDefault(),t.stopPropagation(),!!t.item){var n=this.get("shouldBegin");if(!!n(t)){var a=this.get("itemTypes");if(t.item&&t.item.getType&&a.indexOf(t.item.getType())===-1){r.onMenuHide();return}if(!!t.item){var o=this.get("menu"),s=this.get("getContent"),l=this.get("graph"),f=s(t,l);(0,Tn.default)(f)?o.innerHTML=f:o.innerHTML=f.outerHTML,this.removeMenuEventListener();var h=this.get("handleMenuClick");if(h){var c=function(ee){h(ee.target,t.item,l)};this.set("handleMenuClickWrapper",c),o.addEventListener("click",c)}var v=l.get("width"),x=l.get("height"),P=o.getBoundingClientRect(),D=this.get("offsetX")||0,X=this.get("offsetY")||0,K=l.getContainer().offsetTop,Z=l.getContainer().offsetLeft,gt=t.canvasX+Z+D,mt=t.canvasY+K+X;gt+P.width>v&&(gt=t.canvasX-P.width-D+Z),mt+P.height>x&&(mt=t.canvasY-P.height-X+K),(0,Hn.Z)(o,{top:mt+"px",left:gt+"px",visibility:"visible"});var Nt=function(ee){r.onMenuHide()};document.body.addEventListener("click",Nt),this.set("handler",Nt)}}}},e.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),r=this.get("handler");if(t){var n=this.get("menu");n.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}r&&document.body.removeEventListener("click",r)},e.prototype.onMenuHide=function(){var t=this.get("menu");t&&(0,Hn.Z)(t,{visibility:"hidden"}),this.removeMenuEventListener()},e.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var r=this.get("container");r||(r=this.get("graph").get("container")),r.removeChild(t)}},e}(Xa),U4=j4,$x=Math.max,Z4="default",K4="keyShape",$4="delegate",Qx="svg",Q4=function(i){Kn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.handleUpdateCanvas=(0,u.debounce)(function(r){var n=t;n.destroyed||n.updateCanvas()},100,!1),t}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,r=this._cfgs,n=r.size,a=r.graph;if(!this.destroyed){var o=this.get("canvas"),s=o.get("container"),l=(0,wi.Z)(`
      <div
        class=`+r.viewportClassName+`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          border: 2px solid #1980ff'
        draggable=true>
      </div>`),f=0,h=0,c=!1,v=0,x=0,P=0,D=0,X=0,K=0;l.addEventListener("dragstart",function(Z){if(Z.dataTransfer){var gt=new Image;gt.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",Z.dataTransfer.setDragImage(gt,0,0),Z.dataTransfer.setData("text","view-port-minimap")}if(r.refresh=!1,Z.target===l){var mt=l.style;v=parseInt(mt.left,10),x=parseInt(mt.top,10),P=parseInt(mt.width,10),D=parseInt(mt.height,10),!(P>n[0]||D>n[1])&&(K=a.getZoom(),X=t.get("ratio"),c=!0,f=Z.clientX,h=Z.clientY)}},!1),l.addEventListener("drag",function(Z){if(!(!c||(0,Di.default)(Z.clientX)||(0,Di.default)(Z.clientY))){var gt=f-Z.clientX,mt=h-Z.clientY;(v-gt<0||v-gt+P>=n[0])&&(gt=0),(x-mt<0||x-mt+D>=n[1])&&(mt=0),v-=gt,x-=mt,(0,Hn.Z)(l,{left:v+"px",top:x+"px"}),a.translate(gt*K/X,mt*K/X),f=Z.clientX,h=Z.clientY}},!1),l.addEventListener("dragend",function(){c=!1,r.refresh=!0},!1),this.set("viewport",l),s.appendChild(l)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),r=this.get("dx"),n=this.get("dy"),a=this.get("totaldx"),o=this.get("totaldy"),s=this.get("graph"),l=this.get("size"),f=s.get("width"),h=s.get("height"),c=s.getPointByCanvas(0,0),v=s.getPointByCanvas(f,h),x=this.get("viewport");x||this.initViewport();var P=s.getZoom(),D=(v.x-c.x)*t,X=(v.y-c.y)*t,K=c.x*t+a,Z=c.y*t+o,gt=K+D,mt=Z+X;K<0&&(D+=K,K=0),gt>l[0]&&(D=D-(gt-l[0])),Z<0&&(X+=Z,Z=0),mt>l[1]&&(X=X-(mt-l[1])),this.set("ratio",t);var Nt=K+"px",Zt=Z+"px";(0,Hn.Z)(x,{left:Nt,top:Zt,width:D+"px",height:X+"px"})}},e.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,r=this.get("canvas"),n=t.get("group");if(!n.destroyed){var a=n.clone();a.resetMatrix(),r.clear(),r.add(a);var o=t.get("renderer");o===Qx&&this.updateVisible(a)}},e.prototype.updateVisible=function(t){var r=this;if(!t.isGroup()&&!t.get("visible"))t.hide();else{var n=t.get("children");if(!n||!n.length)return;n.forEach(function(a){a.get("visible")||a.hide(),r.updateVisible(a)})}},e.prototype.updateKeyShapes=function(){var t=this,r=this._cfgs.graph;(0,Bn.default)(r.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,Bn.default)(r.getNodes(),function(n){t.updateOneNodeKeyShape(n)}),this.clearDestroyedShapes()},e.prototype.updateOneNodeKeyShape=function(t){var r=this.get("canvas"),n=r.get("children")[0]||r.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")],s=t.getBBox(),l=t.get("keyShape").clone(),f=l.attr(),h={x:s.centerX,y:s.centerY};o?h=Object.assign(f,h):(o=l,n.add(o));var c=o.get("type");(c==="rect"||c==="image")&&(h.x=s.minX,h.y=s.minY),o.attr(h),t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},e.prototype.updateDelegateShapes=function(){var t=this,r=this._cfgs.graph;(0,Bn.default)(r.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,Bn.default)(r.getNodes(),function(n){t.updateOneNodeDelegateShape(n)}),this.clearDestroyedShapes()},e.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},r=Object.keys(t);if(!(!r||r.length===0))for(var n=r.length-1;n>=0;n--){var a=t[r[n]],o=a.exist;a.exist=!1,o||(a.remove(),delete t[r[n]])}},e.prototype.updateOneEdgeKeyShape=function(t){var r=this.get("canvas"),n=r.get("children")[0]||r.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")];if(o){var s=t.get("keyShape").attr("path");o.attr("path",s)}else o=t.get("keyShape").clone(),n.add(o),o.toBack();t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},e.prototype.updateOneNodeDelegateShape=function(t){var r=this.get("canvas"),n=r.get("children")[0]||r.addGroup(),a=this.get("delegateStyle"),o=this.get("itemMap")||{},s=o[t.get("id")],l=t.getBBox();if(s){var f={x:l.minX,y:l.minY,width:l.width,height:l.height};s.attr(f)}else s=n.addShape("rect",{attrs:ce({x:l.minX,y:l.minY,width:l.width,height:l.height},a),name:"minimap-node-shape"});t.isVisible()||s.hide(),s.exist=!0,o[t.get("id")]=s,this.set("itemMap",o)},e.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},e.prototype.initContainer=function(){var t=this,r=t.get("graph"),n=t.get("size"),a=t.get("className"),o=t.get("container"),s=(0,wi.Z)("<div class='"+a+"' style='width: "+n[0]+"px; height: "+n[1]+"px; overflow: hidden'></div>");(0,Tn.default)(o)&&(o=document.getElementById(o)),o?o.appendChild(s):r.get("container").appendChild(s),t.set("container",s);var l=(0,wi.Z)('<div class="g6-minimap-container" style="position: relative;"></div>');s.appendChild(l);var f,h=r.get("renderer");h===Qx?f=new Ts.Z({container:l,width:n[0],height:n[1]}):f=new Fo.Z({container:l,width:n[0],height:n[1]}),t.set("canvas",f),t.updateCanvas()},e.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var r=this.get("graph");if(!r.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("size"),a=this.get("canvas"),o=this.get("type"),s=this.get("padding");if(!a.destroyed){switch(o){case Z4:this.updateGraphShapes();break;case K4:this.updateKeyShapes();break;case $4:this.updateDelegateShapes();break;default:break}var l=a.get("children")[0];if(!!l){l.resetMatrix();var f=l.getCanvasBBox(),h=r.get("canvas").getBBox(),c=h.width,v=h.height;Number.isFinite(f.width)&&(c=$x(f.width,c),v=$x(f.height,v)),c+=2*s,v+=2*s;var x=Math.min(n[0]/c,n[1]/v),P=[1,0,0,0,1,0,0,0,1],D=0,X=0;Number.isFinite(f.minX)&&(D=-f.minX),Number.isFinite(f.minY)&&(X=-f.minY);var K=(n[0]-(c-2*s)*x)/2,Z=(n[1]-(v-2*s)*x)/2;P=Ga(P,[["t",D,X],["s",x,x],["t",K,Z]]),l.setMatrix(P),this.set("ratio",x),this.set("totaldx",K+D*x),this.set("totaldy",Z+X*x),this.set("dx",K),this.set("dy",Z),this.updateViewport()}}}}},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},e}(Xa),J4=Q4;function Va(i,e,t){var r=i.x-e.x,n=i.y-e.y;return!t||Math.abs(r)>t||Math.abs(n)>t?Math.sqrt(r*r+n*n):t}function q4(i,e){return i.x*e.x+i.y*e.y}function Jx(i,e){var t=(e.source.y-e.target.y)/(e.source.x-e.target.x),r=(t*t*e.source.x+t*(i.y-e.source.y)+i.x)/(t*t+1),n=t*(r-e.source.x)+e.source.y;return{x:r,y:n}}var t6=function(i){Kn(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},e.prototype.init=function(){var t=this.get("graph"),r=this.get("onTick"),n=function(){r&&r(),t.refreshPositions()};this.set("tick",n)},e.prototype.bundling=function(t){var r=this;if(r.set("data",t),!r.isTicking()){var n=t.edges||[],a=t.nodes||[],o={},s=!1;if(a.forEach(function(mt){(mt.x===null||!mt.y===null||mt.x===void 0||!mt.y===void 0)&&(s=!0),o[mt.id]=mt}),s)throw new Error("please layout the graph or assign x and y for nodes first");r.set("nodeIdMap",o);var l=r.get("divisions"),f=r.get("divRate"),h=r.divideEdges(l);r.set("edgePoints",h);var c=r.getEdgeBundles();r.set("edgeBundles",c);for(var v=r.get("cycles"),x=r.get("iterations"),P=r.get("iterRate"),D=r.get("lambda"),X=0;X<v;X++){for(var K=function(Nt){var Zt=[];n.forEach(function(ee,ue){if(ee.source!==ee.target){var ne=o[ee.source],xe=o[ee.target];Zt[ue]=r.getEdgeForces({source:ne,target:xe},ue,l,D);for(var Pe=0;Pe<l+1;Pe++)h[ue][Pe].x+=Zt[ue][Pe].x,h[ue][Pe].y+=Zt[ue][Pe].y}})},Z=0;Z<x;Z++)K(Z);D=D/2,l*=f,x*=P,h=r.divideEdges(l),r.set("edgePoints",h)}n.forEach(function(mt,Nt){mt.source!==mt.target&&(mt.shape="polyline",mt.type="polyline",mt.controlPoints=h[Nt].slice(1,h[Nt].length-1))});var gt=r.get("graph");gt.refresh()}},e.prototype.updateBundling=function(t){var r=this,n=t.data;if(n&&r.set("data",n),r.get("ticking")&&r.set("ticking",!1),Object.keys(t).forEach(function(o){r.set(o,t[o])}),t.onTick){var a=this.get("graph");r.set("tick",function(){t.onTick(),a.refresh()})}r.bundling(n)},e.prototype.divideEdges=function(t){var r=this,n=r.get("data").edges,a=r.get("nodeIdMap"),o=r.get("edgePoints");return(!o||o===void 0)&&(o=[]),n.forEach(function(s,l){(!o[l]||o[l]===void 0)&&(o[l]=[]);var f=a[s.source],h=a[s.target];if(t===1)o[l].push({x:f.x,y:f.y}),o[l].push({x:.5*(f.x+h.x),y:.5*(f.y+h.y)}),o[l].push({x:h.x,y:h.y});else{var c=0;!o[l]||o[l]===[]?c=Va({x:f.x,y:f.y},{x:h.x,y:h.y}):c=r.getEdgeLength(o[l]);var v=c/(t+1),x=v,P=[{x:f.x,y:f.y}];o[l].forEach(function(D,X){if(X!==0){for(var K=Va(D,o[l][X-1]);K>x;){var Z=x/K,gt={x:o[l][X-1].x,y:o[l][X-1].y};gt.x+=Z*(D.x-o[l][X-1].x),gt.y+=Z*(D.y-o[l][X-1].y),P.push(gt),K-=x,x=v}x-=K}}),P.push({x:h.x,y:h.y}),o[l]=P}}),o},e.prototype.getEdgeLength=function(t){var r=0;return t.forEach(function(n,a){a!==0&&(r+=Va(n,t[a-1]))}),r},e.prototype.getEdgeBundles=function(){var t=this,r=t.get("data"),n=r.edges||[],a=t.get("bundleThreshold"),o=t.get("nodeIdMap"),s=t.get("edgeBundles");return s||(s=[]),n.forEach(function(l,f){(!s[f]||s[f]===void 0)&&(s[f]=[])}),n.forEach(function(l,f){var h=o[l.source],c=o[l.target];n.forEach(function(v,x){if(!(x<=f)){var P=o[v.source],D=o[v.target],X=t.getBundleScore({source:h,target:c},{source:P,target:D});X>=a&&(s[f].push(x),s[x].push(f))}})}),s},e.prototype.getBundleScore=function(t,r){var n=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,r.vx=r.target.x-r.source.x,r.vy=r.target.y-r.source.y,t.length=Va({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),r.length=Va({x:r.source.x,y:r.source.y},{x:r.target.x,y:r.target.y});var a=n.getAngleScore(t,r),o=n.getScaleScore(t,r),s=n.getPositionScore(t,r),l=n.getVisibilityScore(t,r);return a*o*s*l},e.prototype.getAngleScore=function(t,r){var n=q4({x:t.vx,y:t.vy},{x:r.vx,y:r.vy});return n/(t.length*r.length)},e.prototype.getScaleScore=function(t,r){var n=(t.length+r.length)/2,a=2/(n/Math.min(t.length,r.length)+Math.max(t.length,r.length)/n);return a},e.prototype.getPositionScore=function(t,r){var n=(t.length+r.length)/2,a={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},o={x:(r.source.x+r.target.x)/2,y:(r.source.y+r.target.y)/2},s=Va(a,o);return n/(n+s)},e.prototype.getVisibilityScore=function(t,r){var n=this.getEdgeVisibility(t,r),a=this.getEdgeVisibility(r,t);return n<a?n:a},e.prototype.getEdgeVisibility=function(t,r){var n=Jx(r.source,t),a=Jx(r.target,t),o={x:(n.x+a.x)/2,y:(n.y+a.y)/2},s={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*Va(o,s)/Va(n,a))},e.prototype.getEdgeForces=function(t,r,n,a){for(var o=this,s=o.get("edgePoints"),l=o.get("K"),f=l/(Va(t.source,t.target)*(n+1)),h=[{x:0,y:0}],c=1;c<n;c++){var v={x:0,y:0},x=o.getSpringForce({pre:s[r][c-1],cur:s[r][c],next:s[r][c+1]},f),P=o.getElectrostaticForce(c,r);v.x=a*(x.x+P.x),v.y=a*(x.y+P.y),h.push(v)}return h.push({x:0,y:0}),h},e.prototype.getSpringForce=function(t,r){var n=t.pre.x+t.next.x-2*t.cur.x,a=t.pre.y+t.next.y-2*t.cur.y;return n*=r,a*=r,{x:n,y:a}},e.prototype.getElectrostaticForce=function(t,r){var n=this,a=n.get("eps"),o=n.get("edgeBundles"),s=n.get("edgePoints"),l=o[r],f={x:0,y:0};return l.forEach(function(h){var c={x:s[h][t].x-s[r][t].x,y:s[h][t].y-s[r][t].y};if(Math.abs(c.x)>a||Math.abs(c.y)>a){var v=Va(s[h][t],s[r][t]),x=1/v;f.x+=c.x*x,f.y+=c.y*x}}),f},e.prototype.isTicking=function(){return this.get("ticking")},e.prototype.getSimulation=function(){return this.get("forceSimulation")},e.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),i.prototype.destroy.call(this)},e}(Xa),e6=t6,Au=.05,qx={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},r6=function(i){Kn(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,si.d9)(qx),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},e.prototype.init=function(){var t=this,r=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",r*r);var n=t.get("d");t.set("molecularParam",(n+1)*r)},e.prototype.createDelegate=function(t){var r=this,n=this,a=n.get("delegate");(!a||a.destroyed)&&(n.magnify(t),a=n.get("delegate"),a.on("dragstart",function(o){n.set("delegateCenterDiff",{x:a.attr("x")-o.x,y:a.attr("y")-o.y})}),a.on("drag",function(o){n.magnify(o)}),this.get("scaleDBy")==="wheel"&&a.on("mousewheel",function(o){r.scaleDByWheel(o)}),this.get("scaleRBy")==="wheel"&&a.on("mousewheel",function(o){n.scaleRByWheel(o)}))},e.prototype.scaleRByWheel=function(t){var r=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=r.get("graph"),a,o=r.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-Au:a=1/(1-Au);var f=r.get("maxR"),h=r.get("minR"),c=r.get("r");(c>(f||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,r.set("r",c),r.set("r2",c*c);var v=r.get("d");r.set("molecularParam",(v+1)*c),r.set("delegateCenterDiff",void 0),r.magnify(t,l)}},e.prototype.scaleRByDrag=function(t){var r=this;if(!!t){var n=r.get("dragPrePos"),a=r.get("graph"),o,s=a.getPointByClient(t.clientX,t.clientY);t.x-n.x<0?o=1-Au:o=1/(1-Au);var l=r.get("maxR"),f=r.get("minR"),h=r.get("r");(h>(l||a.get("height"))&&o>1||h<(f||a.get("height")*.05)&&o<1)&&(o=1),h*=o,r.set("r",h),r.set("r2",h*h);var c=r.get("d");r.set("molecularParam",(c+1)*h),r.magnify(t,s),r.set("dragPrePos",{x:t.x,y:t.y})}},e.prototype.scaleDByWheel=function(t){var r=this;if(!(!t&&!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=0;t.originalEvent.wheelDelta<0?n=-.1:n=.1;var a=r.get("d"),o=a+n,s=r.get("maxD"),l=r.get("minD");if(o<s&&o>l){r.set("d",o);var f=r.get("r");r.set("molecularParam",(o+1)*f);var h=r.get("delegate"),c=h?{x:h.attr("x"),y:h.attr("y")}:void 0;r.set("delegateCenterDiff",void 0),r.magnify(t,c)}}},e.prototype.scaleDByDrag=function(t){var r=this,n=r.get("dragPrePos"),a=t.x-n.x>0?.1:-.1,o=r.get("d"),s=o+a,l=r.get("maxD"),f=r.get("minD");if(s<l&&s>f){r.set("d",s);var h=r.get("r");r.set("molecularParam",(s+1)*h),r.magnify(t)}r.set("dragPrePos",{x:t.x,y:t.y})},e.prototype.magnify=function(t,r){var n=this;n.restoreCache();var a=n.get("graph"),o=n.get("cachedMagnifiedModels"),s=n.get("cachedOriginPositions"),l=n.get("showLabel"),f=n.get("r"),h=n.get("r2"),c=n.get("d"),v=n.get("molecularParam"),x=a.getNodes(),P=x.length,D=r?{x:r.x,y:r.y}:{x:t.x,y:t.y};n.get("dragging")&&(n.get("trigger")==="mousemove"||n.get("trigger")==="click")&&(D=n.get("cacheCenter"));var X=n.get("delegateCenterDiff");X&&(D.x+=X.x,D.y+=X.y),n.updateDelegate(D,f);for(var K=0;K<P;K++){var Z=x[K].getModel(),gt=Z.x,mt=Z.y;if(!(isNaN(gt)||isNaN(mt))){var Nt=(gt-D.x)*(gt-D.x)+(mt-D.y)*(mt-D.y);if(!isNaN(Nt)&&Nt<h&&Nt!==0){var Zt=Math.sqrt(Nt),ee=v*Zt/(c*Zt+f),ue=(gt-D.x)/Zt,ne=(mt-D.y)/Zt;if(Z.x=ue*ee+D.x,Z.y=ne*ee+D.y,s[Z.id]||(s[Z.id]={x:gt,y:mt,texts:[]}),o.push(Z),l&&2*Zt<f)for(var xe=x[K],Pe=xe.getContainer(),Ye=Pe.getChildren(),He=Ye.length,Ze=0;Ze<He;Ze++){var Ue=Ye[Ze];Ue.get("type")==="text"&&(s[Z.id].texts.push({visible:Ue.get("visible"),shape:Ue}),Ue.set("visible",!0))}}}}a.refreshPositions()},e.prototype.restoreCache=function(){for(var t=this,r=t.get("cachedMagnifiedModels"),n=t.get("cachedOriginPositions"),a=r.length,o=0;o<a;o++){var s=r[o],l=s.id,f=n[l];s.x=f.x,s.y=f.y;for(var h=f.texts.length,c=0;c<h;c++){var v=f.texts[c];v.shape.set("visible",v.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},e.prototype.updateParams=function(t){var r=this,n=t.r,a=t.d,o=t.trigger,s=t.minD,l=t.maxD,f=t.minR,h=t.maxR,c=t.scaleDBy,v=t.scaleRBy;isNaN(t.r)||(r.set("r",n),r.set("r2",n*n)),isNaN(a)||r.set("d",a),isNaN(l)||r.set("maxD",l),isNaN(s)||r.set("minD",s),isNaN(h)||r.set("maxR",h),isNaN(f)||r.set("minR",f);var x=r.get("d"),P=r.get("r");if(r.set("molecularParam",(x+1)*P),(o==="mousemove"||o==="click"||o==="drag")&&r.set("trigger",o),c==="drag"||c==="wheel"||c==="unset"){r.set("scaleDBy",c),r.get("delegate").remove(),r.get("delegate").destroy();var D=r.get("dPercentText");D&&(D.remove(),D.destroy())}if(v==="drag"||v==="wheel"||v==="unset"){r.set("scaleRBy",v),r.get("delegate").remove(),r.get("delegate").destroy();var D=r.get("dPercentText");D&&(D.remove(),D.destroy())}},e.prototype.updateDelegate=function(t,r){var n=this,a=this,o=a.get("graph"),s=a.get("delegate");if(!s||s.destroyed){var l=o.get("group"),f=a.get("delegateStyle")||qx;s=l.addShape("circle",{attrs:ce({r:r/1.5,x:t.x,y:t.y},f),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?s.on("mousewheel",function(P){a.scaleRByWheel(P)}):this.get("scaleRBy")==="drag"&&(s.on("dragstart",function(P){a.set("dragging",!0),a.set("cacheCenter",{x:P.x,y:P.y}),a.set("dragPrePos",{x:P.x,y:P.y})}),s.on("drag",function(P){a.scaleRByDrag(P)}),s.on("dragend",function(P){a.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?s.on("mousewheel",function(P){n.scaleDByWheel(P)}):this.get("scaleDBy")==="drag"&&(s.on("dragstart",function(P){a.set("dragging",!0),a.set("cacheCenter",{x:P.x,y:P.y}),a.set("dragPrePos",{x:P.x,y:P.y})}),s.on("drag",function(P){n.scaleDByDrag(P)}),s.on("dragend",function(P){a.set("dragging",!1)})))}else s.attr({x:t.x,y:t.y,r:r/1.5});if(a.get("showDPercent")){var h=Math.round((a.get("d")-a.get("minD"))/(a.get("maxD")-a.get("minD"))*100),c=a.get("dPercentText"),v=t.y+r/1.5+16;if(!c||c.destroyed){var x=o.get("group");c=x.addShape("text",{attrs:{text:h+"%",x:t.x,y:v,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),a.set("dPercentText",c)}else c.attr({text:h+"%",x:t.x,y:v})}a.set("delegate",s)},e.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var r=this.get("delegate");r&&!r.destroyed&&(r.remove(),r.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},e.prototype.destroy=function(){this.clear()},e}(Xa),n6=r6;oc()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var i6=function(i){Kn(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(r){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `}}},e.prototype.init=function(){var t=this,r=this.get("graph"),n=this.get("getContent"),a=n(r),o=a;(0,si.HD)(a)&&(o=(0,wi.Z)(a));var s=this.get("className");o.setAttribute("class",s||"g6-component-toolbar");var l=this.get("container");l||(l=this.get("graph").get("container")),l.appendChild(o),this.set("toolBar",o);var f=this.get("handleClick");o.addEventListener("click",function(c){var v=c.path.filter(function(P){return P.nodeName==="LI"});if(v.length!==0){var x=v[0].getAttribute("code");!x||(f?f(x,r):t.handleDefaultOperator(x,r))}});var h=this.get("position");h&&(0,Hn.Z)(o,{top:h.y+"px",left:h.x+"px"}),this.bindUndoRedo()},e.prototype.bindUndoRedo=function(){var t=this.get("graph"),r=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),a=document.querySelector('.g6-component-toolbar li[code="redo"]'),o=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!r||!n||!a||!o||t.on("stackchange",function(s){var l=s.undoStack,f=s.redoStack,h=l.length,c=f.length;h===1?(r.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(r.removeAttribute("style"),n.removeAttribute("style")),c===0?(a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4")):(a.removeAttribute("style"),o.removeAttribute("style"))})},e.prototype.undo=function(){var t=this.get("graph"),r=t.getUndoStack();if(!(!r||r.length===0)){var n=r.pop();if(n){var a=n.action;t.pushStack(a,(0,si.d9)(n.data),"redo");var o=n.data.before;if(a==="add"&&(o=n.data.after),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){var h=t.findById(f.id);f.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){t.updateItem(f.id,f,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){var h=f.itemType;delete f.itemType,t.addItem(h,f,!1)})});break}case"add":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){t.removeItem(f.id,!1)})});break;default:}}}},e.prototype.redo=function(){var t=this.get("graph"),r=t.getRedoStack();if(!(!r||r.length===0)){var n=r.pop();if(n){var a=n.action,o=n.data.after;if(t.pushStack(a,(0,si.d9)(n.data)),a==="delete"&&(o=n.data.before),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){var h=t.findById(f.id);f.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){t.updateItem(f.id,f,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":o.edges&&o.edges.forEach(function(s){t.removeItem(s.id,!1)}),o.nodes&&o.nodes.forEach(function(s){t.removeItem(s.id,!1)}),o.combos&&o.combos.forEach(function(s){t.removeItem(s.id,!1)});break;case"add":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(f){var h=f.itemType;delete f.itemType,t.addItem(h,f,!1)})});break}default:}}}},e.prototype.handleDefaultOperator=function(t,r){var n=r.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":{var a=1+.05*5;if(a*n>5)return;r.zoomTo(n*1.1);break}case"zoomIn":{var o=1-.05*5;if(o*n<.3)return;r.zoomTo(n*.9);break}case"realZoom":r.zoomTo(1);break;case"autoZoom":r.fitView([20,20]);break;default:}},e.prototype.destroy=function(){var t=this.get("toolBar");if(t){var r=this.get("container");r||(r=this.get("graph").get("container")),r.removeChild(t)}var n=this.get("handleClick");n&&t.removeEventListener("click",n)},e}(Xa),a6=i6;oc()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var o6=function(i){Kn(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(r){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`+r.item.getType()+`</h4>
          <span class='tooltip-id'>ID\uFF1A`+r.item.getID()+`</span>
        `},shouldBegin:function(r){return!0},itemTypes:["node","edge","combo"]}},e.prototype.getEvents=function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},e.prototype.init=function(){var t=this.get("className")||"g6-component-tooltip",r=(0,wi.Z)("<div class="+t+"></div>"),n=this.get("container");n||(n=this.get("graph").get("container")),(0,Hn.Z)(r,{position:"absolute",visibility:"hidden"}),n.appendChild(r),this.set("tooltip",r)},e.prototype.onMouseEnter=function(t){var r=this.get("itemTypes");if(!(t.item&&t.item.getType&&r.indexOf(t.item.getType())===-1)){var n=t.item,a=this.get("graph");this.currentTarget=n,this.showTooltip(t),a.emit("tooltipchange",{item:t.item,action:"show"})}},e.prototype.onMouseMove=function(t){var r=this.get("itemTypes");t.item&&t.item.getType&&r.indexOf(t.item.getType())===-1||!this.currentTarget||t.item!==this.currentTarget||this.showTooltip(t)},e.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},e.prototype.showTooltip=function(t){if(!!t.item){var r=this.get("itemTypes");if(!(t.item.getType&&r.indexOf(t.item.getType())===-1)){var n=this.get("tooltip"),a=this.get("getContent"),o=a(t);(0,Tn.default)(o)?n.innerHTML=o:n.innerHTML=o.outerHTML,this.updatePosition(t)}}},e.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&(0,Hn.Z)(t,{visibility:"hidden"})},e.prototype.updatePosition=function(t){var r=this.get("shouldBegin"),n=this.get("tooltip");if(!r(t)){(0,Hn.Z)(n,{visibility:"hidden"});return}var a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=this.get("offsetX")||0,f=this.get("offsetY")||0,h=a.getPointByClient(t.clientX,t.clientY),c=a.getCanvasByPoint(h.x,h.y),v=c.x,x=c.y;v+=l,x+=f;var P=n.getBoundingClientRect();v+P.width>o&&(v=v-P.width-l),x+P.height>s&&(x=x-P.height-f),(0,Hn.Z)(n,{left:v+"px",top:x+"px",visibility:"visible"})},e.prototype.hide=function(){this.onMouseLeave()},e.prototype.destroy=function(){var t=this.get("tooltip");if(t){var r=this.get("container");r||(r=this.get("graph").get("container")),r.removeChild(t)}},e}(Xa),s6=o6,t1=d(89539);function l6(i){return(0,u.map)(i,function(e,t){var r=t===0?"M":"L",n=e[0],a=e[1];return[r,n,a]})}function e1(i){return l6(i)}function u6(i){if(i.length<=2)return e1(i);var e=[];(0,u.each)(i,function(o){(0,u.isEqual)(o,e.slice(e.length-2))||e.push(o[0],o[1])});var t=Ws.catmullRom2Bezier(e,!1),r=(0,u.head)(i),n=r[0],a=r[1];return t.unshift(["M",n,a]),t}function f6(i,e,t,r){r===void 0&&(r=!0);var n=new jr.Linear({values:i}),a=new jr.Category({values:(0,u.map)(i,function(s,l){return l})}),o=(0,u.map)(i,function(s,l){return[a.scale(l)*e,t-n.scale(s)*t]});return r?u6(o):e1(o)}function h6(i,e,t){for(var r=new jr.Linear({values:i}),n=new jr.Category({values:(0,u.map)(i,function(c,v){return v})}),a=(0,u.map)(i,function(c,v){return[n.scale(v)*e,t-r.scale(c)*t]}),o=[],s=0;s<a.length;s++){var l=a[s],f={x:l[0],y:l[1],y0:t,size:5},h=d6(f);o.push.apply(o,h)}return p6(o)}function c6(i,e){var t=new jr.Linear({values:i}),r=Math.max(0,t.min);return e-t.scale(r)*e}function v6(i,e,t,r){var n=Ss(i),a=c6(r,t);return n.push(["L",e,a]),n.push(["L",0,a]),n.push(["Z"]),n}function d6(i){var e=i.x,t=i.y,r=i.y0,n=i.size,a,o;(0,t1.isArray)(t)?(a=t[0],o=t[1]):(a=r,o=t);var s,l;(0,t1.isArray)(e)?(s=e[0],l=e[1]):(s=e-n/2,l=e+n/2);var f=[{x:s,y:a},{x:s,y:o}];return f.push({x:l,y:o},{x:l,y:a}),f}function p6(i,e){e===void 0&&(e=!0);var t=[],r=i[0];t.push(["M",r.x,r.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return e&&(t.push(["L",r.x,r.y]),t.push(["z"])),t}var YG={opacity:.5},g6={stroke:"#C5C5C5",strokeOpacity:.85},y6={fill:"#CACED4",opacity:.85},m6=function(){function i(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,o=e.width,s=o===void 0?200:o,l=e.height,f=l===void 0?26:l,h=e.smooth,c=h===void 0?!0:h,v=e.isArea,x=v===void 0?!1:v,P=e.data,D=P===void 0?[]:P,X=e.lineStyle,K=e.areaStyle,Z=e.group,gt=e.interval,mt=gt===void 0?null:gt;this.group=Z,this.x=r,this.y=a,this.width=s,this.height=f,this.data=D,this.smooth=c,this.isArea=x,this.lineStyle=Object.assign({},g6,X),this.areaStyle=Object.assign({},y6,K),this.intervalConfig=mt,this.renderLine()}return i.prototype.renderLine=function(){var e=this,t=e.x,r=e.y,n=e.width,a=e.height,o=e.data,s=e.smooth,l=e.isArea,f=e.backgroundStyle,h=e.lineStyle,c=e.areaStyle,v=this.group.addGroup({name:"trend-group"});if(o){var x=f6(o,n,a,s);if(v.addShape("path",{attrs:ce({path:x},h)}),l){var P=v6(x,n,a,o);v.addShape("path",{attrs:ce({path:P},c)})}}this.intervalConfig&&v.addShape("path",{attrs:ce({path:h6(this.intervalConfig.data,n,a)},this.intervalConfig.style)}),v.move(t,r)},i.prototype.destory=function(){this.group.destroy()},i}(),x6=m6,b6={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},w6={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},S6=function(){function i(e){var t=e.group,r=e.name,n=e.type,a=e.x,o=a===void 0?0:a,s=e.y,l=s===void 0?0:s,f=e.width,h=f===void 0?2:f,c=e.height,v=c===void 0?24:c,x=e.style,P=x===void 0?{}:x;this.group=t,this.name=r,this.handleType=n,this.x=o,this.y=l,this.width=h,this.height=v,n==="trend"?this.style=ce(ce({},b6),P):n==="simple"&&(this.style=ce(ce({},w6),P)),this.renderHandle()}return i.prototype.setX=function(e){this.setXY(e,void 0)},i.prototype.setY=function(e){this.setXY(void 0,e)},i.prototype.setXY=function(e,t){(0,u.isNumber)(e)&&(this.x=e),(0,u.isNumber)(t)&&(this.y=t),this.updateXY()},i.prototype.renderHandle=function(){var e=this,t=e.width,r=e.height,n=e.style,a=e.name,o=n.fill,s=n.stroke,l=n.radius,f=n.opacity,h=n.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.background=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:r,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:r,r:2*t,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"})):this.handleType==="simple"&&(this.handleGroup.addShape("circle",{attrs:{x:t/2,y:r/2,r:2*t,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:r/2,r:2*t,fill:o,stroke:s,radius:l,opacity:f,cursor:h},name:a+"-handler"})),this.updateXY(),this.handleType==="trend"&&this.bindEvents()},i.prototype.bindEvents=function(){var e=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var r=e.style.highLightFill;e.background.attr("fill",r)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var r=e.style.fill;e.background.attr("fill",r)})},i.prototype.show=function(){this.handleGroup.show()},i.prototype.hide=function(){this.handleGroup.hide()},i.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},i}(),r1=S6,M6=function(){function i(e){this.config=(0,u.deepMix)({},e),this.init()}return i.prototype.update=function(e){this.config=(0,u.deepMix)({},this.config,e),this.updateElement(),this.renderMarker()},i.prototype.init=function(){this.initElement(),this.renderMarker()},i.prototype.initElement=function(){var e=this.config,t=e.group,r=e.style;this.circle=t.addShape("circle",{attrs:ce({x:this.config.x,y:this.config.y,r:this.config.r},r)}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ccc"},name:"playPauseBtn"}),this.pauseGroupMarker=t.addGroup();var n=1/4*this.config.r,a=.5*this.config.r*Math.sqrt(3);this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n*2.5,height:a,fill:"#fff"},name:"playPauseBtn"}),this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"})},i.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var e=1/4*this.config.r,t=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-t/2),this.pauseLeftMarker.attr("width",e),this.pauseLeftMarker.attr("height",t),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-t/2),this.pauseRightMarker.attr("width",e),this.pauseRightMarker.attr("height",t)},i.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},i.prototype.getStartMarkerPath=function(){var e=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-e/Math.sqrt(3)/2,this.config.y-e/2],["L",this.config.x+e/Math.sqrt(3),this.config.y],["L",this.config.x-e/Math.sqrt(3)/2,this.config.y+e/2]]},i}(),C6=M6,E6="#ccc",A6="green",T6={fill:"#607889",stroke:"#607889"},P6={fill:"#fff"},_6={fill:"green"},O6={speed:2,loop:!1,fill:"#fff",stroke:"#fff",hiddleToggle:!1,preBtnStyle:{fill:"#ccc",stroke:"#ccc"},nextBtnStyle:{fill:"#ccc",stroke:"#ccc"},playBtnStyle:{fill:"#fff",stroke:"#ccc"}},Fs=110,Ha=50,L6=function(){function i(e){this.controllerCfg=(0,u.deepMix)({},O6,e),this.group=e.group,this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.init()}return i.prototype.init=function(){this.renderPlayButton()},i.prototype.getNextMarkerPath=function(e,t,r){return[["M",e,t-r],["L",e+r,t],["L",e,t+r]]},i.prototype.getPreMarkerPath=function(e,t,r){return[["M",e,t-r],["L",e-r,t],["L",e,t+r]]},i.prototype.renderPlayButton=function(){var e=this.controllerCfg,t=e.width,r=e.height,n=e.x,a=e.y,o=e.hiddleToggle,s=e.fill,l=s===void 0?E6:s,f=e.stroke,h=f===void 0?A6:f,c=e.playBtnStyle,v=c===void 0?T6:c,x=e.preBtnStyle,P=x===void 0?P6:x,D=e.nextBtnStyle,X=D===void 0?_6:D,K=r/2-5,Z=a+10,gt=this.group.addShape("rect",{attrs:{x:n,y:Z,width:t,height:r,stroke:h,fill:l},name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:Z,r:K}):this.playButton=new C6({group:this.group,x:t/2,y:Z+K+5,r:K,isPlay:this.isPlay,style:v}),this.group.addShape("path",{attrs:ce({path:this.getPreMarkerPath(t/2-5*K,Z+K+5,K*.5)},P),name:"preStepBtn"}),this.group.addShape("path",{attrs:ce({path:this.getPreMarkerPath(t/2-4.5*K,Z+K+5,K*.5)},P),name:"preStepBtn"}),this.group.addShape("path",{attrs:ce({path:this.getNextMarkerPath(t/2+5*K,Z+K+5,K*.5)},X),name:"nextStepBtn"}),this.group.addShape("path",{attrs:ce({path:this.getNextMarkerPath(t/2+4.5*K,Z+K+5,K*.5)},X),name:"nextStepBtn"}),gt.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent()},i.prototype.renderSpeedBtn=function(){var e=this.controllerCfg,t=e.y,r=e.width,n=e.hiddleToggle,a=this.group.addGroup({name:"speed-group"});this.speedGroup=a;for(var o=1,s=[],l=9,f=0;f<5;f++){var h=t+15+f*(f+1)+o;a.addShape("rect",{attrs:{x:r-(n?Ha:Fs),y:h,width:15,height:2,fill:"#ccc"},speed:l,name:"speed-rect"}),this.speedAxisY.push(h),s.push(l),l=l-2,o++}for(var f=0;f<4;f++)a.addShape("rect",{attrs:{x:r-(n?Ha:Fs),y:this.speedAxisY[f]+2,width:15,height:2*f+1,fill:"#fff",opacity:.3},speed:s[f]-1,name:"speed-rect"});this.speedText=a.addShape("text",{attrs:{x:r-(n?Ha:Fs)+20,y:this.speedAxisY[1]+15,text:"1.0X",fill:"#ccc"}}),this.speedPoint=a.addShape("path",{attrs:{path:this.getPath(r-(n?Ha:Fs),this.speedAxisY[4]),fill:"#ccc"}})},i.prototype.getPath=function(e,t){return[["M",e,t],["L",e-12,t-6],["L",e-12,t+6],["Z"]]},i.prototype.renderToggleTime=function(){var e=this.controllerCfg.width;this.toggleGroup=this.group.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:{width:14,height:14,x:e-Ha,y:this.speedAxisY[1],fill:"#fff",stroke:"#ccc",lineWidth:2,radius:3},isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:{path:[["M",e-Ha+3,this.speedAxisY[1]+6],["L",e-Ha+7,this.speedAxisY[1]+10],["L",e-Ha+12,this.speedAxisY[1]+4]],stroke:"green",lineWidth:3},capture:!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:{text:"\u5355\u4E00\u65F6\u95F4",x:e-Ha+20,y:this.speedAxisY[1]+15,fill:"#ccc"}})},i.prototype.bindEvent=function(){var e=this,t=this.controllerCfg,r=t.width,n=t.hiddleToggle;this.speedGroup.on("speed-rect:click",function(a){e.speedPoint.attr("path",e.getPath(r-(n?Ha:Fs),a.y)),e.currentSpeed=a.target.get("speed"),e.speedText.attr("text",e.currentSpeed+".0X"),e.group.emit("timebarConfigChanged",{speed:e.currentSpeed,type:e.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(a){var o=a.target.get("isChecked");o?(e.checkedIcon.hide(),e.checkedText.attr("text","\u5355\u4E00\u65F6\u95F4"),e.currentType="range"):(e.checkedIcon.show(),e.checkedText.attr("text","\u65F6\u95F4\u8303\u56F4"),e.currentType="single"),a.target.set("isChecked",!o),e.group.emit("timebarConfigChanged",{type:e.currentType,speed:e.currentSpeed})})},i.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},i}(),n1=L6,i1="timelinestart",a1="timelineend",Wa="valueChange",Tu="timebarConfigChanged",Pu="playPauseBtn",_u="nextStepBtn",Ou="preStepBtn",I6={fill:"#416180",opacity:.05},k6={fill:"#416180",opacity:.15,radius:5},B6={fill:"#5B8FF9",opacity:.3,cursor:"move"},sc=2,D6={width:sc,height:24},F6={textBaseline:"middle",fill:"#000",opacity:.45},R6=function(){function i(e){var t=this;this.prevX=0,this.onMouseDown=function(fr){return function(Yr){t.currentHandler=fr;var _r=Yr.originalEvent;_r.stopPropagation(),_r.preventDefault(),t.prevX=(0,u.get)(_r,"touches.0.pageX",_r.pageX);var Fr=t.canvas.get("container");Fr.addEventListener("mousemove",t.onMouseMove),Fr.addEventListener("mouseup",t.onMouseUp),Fr.addEventListener("mouseleave",t.onMouseUp),Fr.addEventListener("touchmove",t.onMouseMove),Fr.addEventListener("touchend",t.onMouseUp),Fr.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(fr){fr.stopPropagation(),fr.preventDefault();var Yr=(0,u.get)(fr,"touches.0.pageX",fr.pageX),_r=Yr-t.prevX,Fr=t.adjustOffsetRange(_r/t.width);t.updateStartEnd(Fr),t.updateUI(),t.prevX=Yr},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var fr=t.canvas.get("container");fr&&(fr.removeEventListener("mousemove",t.onMouseMove),fr.removeEventListener("mouseup",t.onMouseUp),fr.removeEventListener("mouseleave",t.onMouseUp),fr.removeEventListener("touchmove",t.onMouseMove),fr.removeEventListener("touchend",t.onMouseUp),fr.removeEventListener("touchcancel",t.onMouseUp))};var r=e.x,n=r===void 0?0:r,a=e.y,o=a===void 0?0:a,s=e.width,l=s===void 0?100:s,f=e.height,h=e.padding,c=h===void 0?10:h,v=e.trendCfg,x=e.controllerCfg,P=x===void 0?{speed:1}:x,D=e.backgroundStyle,X=D===void 0?{}:D,K=e.foregroundStyle,Z=K===void 0?{}:K,gt=e.handlerStyle,mt=gt===void 0?{}:gt,Nt=e.textStyle,Zt=Nt===void 0?{}:Nt,ee=e.start,ue=ee===void 0?0:ee,ne=e.end,xe=ne===void 0?1:ne,Pe=e.minText,Ye=Pe===void 0?"":Pe,He=e.maxText,Ze=He===void 0?"":He,Ue=e.group,ur=e.graph,wr=e.canvas,mr=e.ticks,pr=e.type;this.graph=ur,this.canvas=wr,this.group=Ue,this.timeBarType=pr,this.x=n,this.y=o,this.width=l,this.height=f,this.padding=c,this.ticks=mr,this.trendCfg=v,this.controllerCfg=P,this.currentSpeed=P.speed,pr==="trend"?this.backgroundStyle=ce(ce({},I6),X):pr==="simple"&&(this.backgroundStyle=ce(ce({},k6),X)),this.foregroundStyle=ce(ce({},B6),Z),this.handlerStyle=ce(ce({},D6),mt),this.textStyle=ce(ce({},F6),Zt),this.currentMode="range",this.start=ue,this.end=xe,this.minText=Ye,this.maxText=Ze,this.renderSlider()}return i.prototype.update=function(e){var t=e.x,r=e.y,n=e.width,a=e.height,o=e.minText,s=e.maxText,l=e.start,f=e.end;this.start=Math.min(1,Math.max(l,0)),this.end=Math.min(1,Math.max(f,0)),(0,u.assign)(this,{x:t,y:r,width:n,height:a,minText:o,maxText:s}),this.updateUI()},i.prototype.setText=function(e,t){this.minTextShape.attr("text",e),this.maxTextShape.attr("text",t)},i.prototype.renderSlider=function(){var e=this,t=this,r=t.width,n=t.height,a=t.timeBarType;if(a==="trend"&&(0,u.size)((0,u.get)(this.trendCfg,"data"))){var o=new x6(ce(ce({x:this.x,y:this.y,width:r,height:n},this.trendCfg),{group:this.group}));this.trendComponent=o}var s=this.group.addGroup({name:"slider-group"});s.addShape("rect",{attrs:ce({x:0,y:0,width:r,height:n},this.backgroundStyle)});var l=this.group.addGroup();a==="trend"?(this.minTextShape=l.addShape("text",{attrs:ce({x:0,y:n/2+this.y,textAlign:"right",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:ce({y:n/2+this.y,textAlign:"left",text:this.maxText,silent:!1},this.textStyle),capture:!1})):(this.minTextShape=l.addShape("text",{attrs:ce({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:ce({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1},this.textStyle),capture:!1})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:ce({x:0,y:this.y,height:n},this.foregroundStyle)});var f=(0,u.get)(this.handlerStyle,"width",2),h=(0,u.get)(this.handlerStyle,"height",24),c=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new r1(ce({name:"minHandlerShape",group:c,type:a,x:this.x,y:this.y,width:f,height:h,cursor:"ew-resize"},this.handlerStyle));var v=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new r1(ce({name:"maxHandlerShape",group:v,type:a,x:this.x,y:this.y,width:f,height:h,cursor:"ew-resize"},this.handlerStyle));var x=this.ticks,P=r/(x.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(X){X.destroy()});var D=-Infinity;this.textList=x.map(function(X,K){e.tickPosList.push(e.x+K*P);var Z=e.group.addShape("text",{attrs:{x:e.x+K*P,y:e.y+n+5,text:X,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),gt=e.group.addShape("line",{attrs:{x1:e.x+K*P,y1:e.y+n+2,x2:e.x+K*P,y2:e.y+n+6,lineWidth:1,stroke:"#ccc"}}),mt=Z.getBBox();return mt.minX>D?(Z.show(),gt.show(),D=mt.minX+mt.width+10):(Z.hide(),gt.hide()),Z}),this.controllerBtnGroup=new n1({group:this.group,x:this.x,y:this.y+n+25,width:r,height:40}),this.updateUI(),s.move(this.x,this.y),this.bindEvents()},i.prototype.bindEvents=function(){var e=this,t=this.group.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var r=this.group.find(function(n){return n.get("name")==="maxHandlerShape"});r&&(r.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),r.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on(Pu+":click",function(){e.isPlay=!e.isPlay,e.currentHandler=e.maxHandlerShape,e.changePlayStatus()}),this.group.on(_u+":click",function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(.01),e.updateUI()}),this.group.on(Ou+":click",function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(-.01),e.updateUI()}),this.group.on(Tu,function(n){var a=n.type,o=n.speed;e.currentSpeed=o,e.currentMode=a,a==="single"?(e.minHandlerShape.hide(),e.foregroundShape.hide(),e.minTextShape.hide()):a==="range"&&(e.minHandlerShape.show(),e.foregroundShape.show(),e.minTextShape.show())})},i.prototype.adjustTickIndex=function(e){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=e&&e<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-e)<Math.abs(e-this.tickPosList[t+1])?t:t+1},i.prototype.adjustOffsetRange=function(e){switch(this.currentHandler){case this.minHandlerShape:{var t=0-this.start,r=1-this.start;return Math.min(r,Math.max(t,e))}case this.maxHandlerShape:{var t=0-this.end,r=1-this.end;return Math.min(r,Math.max(t,e))}case this.foregroundShape:{var t=0-this.start,r=1-this.end;return Math.min(r,Math.max(t,e))}default:return 0}},i.prototype.updateStartEnd=function(e){switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=e,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)];break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=e,this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;case this.foregroundShape:this.start+=e,this.end+=e,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)],this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;default:break}},i.prototype.updateUI=function(){var e=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.start*this.width,r=this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",r-t);var n=(0,u.get)(this.handlerStyle,"width",sc);this.setText(this.minText,this.maxText);var a=this.dodgeText([t,r]),o=a[0],s=a[1];this.minHandlerShape.setX(t-n/2),(0,u.each)(o,function(l,f){return e.minTextShape.attr(f,l)}),this.maxHandlerShape.setX(r-n/2),(0,u.each)(s,function(l,f){return e.maxTextShape.attr(f,l)}),this.currentMode==="range"?this.graph.emit(Wa,{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit(Wa,{value:[this.end,this.end]})},i.prototype.dodgeText=function(e){var t,r,n=2,a=(0,u.get)(this.handlerStyle,"width",sc),o=this.minTextShape,s=this.maxTextShape,l=e[0],f=e[1],h=!1;l>f&&(t=[f,l],l=t[0],f=t[1],r=[s,o],o=r[0],s=r[1],h=!0);var c=o.getBBox(),v=s.getBBox(),x=null,P=null;return this.timeBarType==="trend"?(x=c.width>l-n?{x:l+a/2+n,textAlign:"left"}:{x:l-a/2-n,textAlign:"right"},P=v.width>this.width-f-n?{x:f-a/2-n,textAlign:"right"}:{x:f+a/2+n,textAlign:"left"}):this.timeBarType==="simple"&&(x=c.width>l-n?{x:l+a/2+n,textAlign:"center"}:{x:l-a/2-n,textAlign:"center"},P=v.width>this.width-f-n?{x:f-a/2-n,textAlign:"center"}:{x:f+a/2+n,textAlign:"center"}),h?[P,x]:[x,P]},i.prototype.startPlay=function(){var e=this;return window.requestAnimationFrame(function(){var t=e,r=t.ticks,n=t.width,a=e.currentSpeed,o=n/r.length,s=o/((10-a)*1e3/60),l=e.adjustOffsetRange(s/e.width);e.updateStartEnd(l),e.updateUI(),e.isPlay&&(e.playHandler=e.startPlay())})},i.prototype.changePlayStatus=function(e){e===void 0&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(i1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(a1,null))},i.prototype.destory=function(){this.graph.off(Wa);var e=this.group,t=e.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var r=e.find(function(n){return n.get("name")==="maxHandlerShape"});r&&(r.off("maxHandlerShape-handler:mousedown"),r.off("maxHandlerShape-handler:touchstart"),r.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),e.off(Pu+":click"),e.off(_u+":click"),e.off(Ou+":click"),e.off(Tu),e.destroy(),this.trendComponent&&this.trendComponent.destory()},i}(),N6=R6,GG={opacity:.5,fill:"#000"},zG={opacity:.5,fill:"#000",r:5},XG={fill:"#fff",fontSize:12},Y6=function(){function i(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,o=e.container,s=e.text,l=e.padding,f=l===void 0?[4,4,4,4]:l,h=e.className,c=h===void 0?"g6-component-timebar-tooltip":h,v=e.backgroundColor,x=v===void 0?"#000":v,P=e.textColor,D=P===void 0?"#fff":P,X=e.opacity,K=X===void 0?.8:X,Z=e.fontSize,gt=Z===void 0?12:Z;this.container=o,this.className=c,this.backgroundColor=x,this.textColor=D,this.x=r,this.y=a,this.text=s,this.padding=f,this.opacity=K,this.fontSize=gt,this.render()}return i.prototype.render=function(){var e=this,t=e.className,r=e.x,n=e.y,a=e.backgroundColor,o=e.textColor,s=e.text,l=e.padding,f=e.opacity,h=e.fontSize,c=e.container,v=(0,wi.Z)("<div class='"+t+`' style="position: absolute; width: fit-content; height: fit-content; opacity: `+f+'"></div>');(0,u.isString)(c)&&(c=document.getElementById(c)),c.appendChild(v),e.parentHeight=c.offsetHeight,e.parentWidth=c.offsetWidth,(0,Hn.Z)(v,{visibility:"hidden",top:0,left:0});var x=(0,wi.Z)(`
      <div style='position: absolute; white-space:nowrap; background-color: `+a+"; font-size: "+h+"px; border-radius: 4px; width: fit-content; height: fit-content; color: "+o+"; padding: "+l[0]+"px "+l[1]+"px "+l[2]+"px "+l[3]+"px'></div>");x.innerHTML=s,v.appendChild(x),e.backgroundDOM=x;var P=(0,wi.Z)("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid "+a+"'></div>");v.appendChild(P),e.arrowDOM=P,e.container=v},i.prototype.show=function(e){var t=this,r=e.text,n=e.x,a=e.y,o=e.clientX,s=e.clientY;t.backgroundDOM.innerHTML=r;var l=t.backgroundDOM.offsetWidth,f=t.backgroundDOM.offsetHeight,h=t.arrowDOM.offsetWidth,c=t.arrowDOM.offsetHeight;(0,Hn.Z)(t.container,{top:-f-c+"px",left:n+"px",visibility:"visible"}),(0,Hn.Z)(t.backgroundDOM,{marginLeft:-l/2+"px"}),(0,Hn.Z)(t.arrowDOM,{marginLeft:-h/2+"px",top:f+"px"});var v=n-l/2,x=n+l/2;v<0?(0,Hn.Z)(t.backgroundDOM,{marginLeft:-l/2-v+"px"}):x>t.parentWidth&&(0,Hn.Z)(t.backgroundDOM,{marginLeft:-l/2-x+t.parentWidth+12+"px"})},i.prototype.hide=function(){(0,Hn.Z)(this.container,{top:0,left:0,visibility:"hidden"})},i}(),G6=Y6,z6={fill:"#5B8FF9"},X6={fill:"#e6e8e9"},V6=function(){function i(e){this.frameCount=0;var t=e.graph,r=e.canvas,n=e.group,a=e.width,o=e.height,s=e.padding,l=e.data,f=e.start,h=e.end,c=e.x,v=c===void 0?0:c,x=e.y,P=x===void 0?0:x,D=e.tickLabelFormatter,X=e.selectedTickStyle,K=X===void 0?z6:X,Z=e.unselectedTickStyle,gt=Z===void 0?X6:Z,mt=e.tooltipBackgroundColor,Nt=e.tooltipFomatter;this.graph=t,this.group=n,this.sliceGroup=n.addGroup({name:"slice-group"}),this.canvas=r,this.width=a,this.height=o,this.padding=s,this.data=l,this.start=f,this.end=h,this.tickLabelFormatter=D,this.selectedTickStyle=K,this.unselectedTickStyle=gt,this.x=v,this.y=P,this.tooltipBackgroundColor=mt,this.tooltipFomatter=Nt,this.renderSlices(),this.initEvent()}return i.prototype.renderSlices=function(){var e=this,t=e.width,r=e.height,n=e.padding,a=e.data,o=e.start,s=e.end,l=e.tickLabelFormatter,f=e.selectedTickStyle,h=e.unselectedTickStyle,c=t-2*n,v=10,x=4,P=3*n+x+v,D=r-P-2*n,X=2,K=a.length,Z=(c-X*(K-1))/K;this.tickWidth=Z;var gt=this.sliceGroup,mt=[],Nt=[],Zt=Math.round(K*o),ee=Math.round(K*s);this.startTickRectId=Zt,this.endTickRectId=ee,a.forEach(function(ne,xe){var Pe=xe>=Zt&&xe<=ee,Ye=Pe?f:h,He=gt.addShape("rect",{attrs:ce({x:n+xe*(Z+X),y:n,width:Z,height:D},Ye),draggable:!0,name:"tick-rect-"+xe}),Ze=gt.addShape("rect",{attrs:{x:n+xe*Z+X*(2*xe-1)/2,y:n,width:xe===0||xe===K-1?Z+X/2:Z+X,height:D,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-"+xe});Ze.toFront();var Ue=He.getBBox(),ur=(Ue.minX+Ue.maxX)/2;mt.push({rect:He,pickRect:Ze,value:ne.date,x:ur,y:Ue.minY});var wr;if(l?(wr=l(ne),!(0,u.isString)(wr)&&wr&&(wr=ne.date)):xe%Math.round(K/10)==0&&(wr=ne.date),wr){Nt.push(wr);var mr=Ue.maxY+n*2;gt.addShape("line",{attrs:{stroke:"#BFBFBF",x1:ur,y1:mr,x2:ur,y2:mr+x}});var pr=mr+x+n,fr=gt.addShape("text",{attrs:{fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:ur,y:pr,textAlign:"center",text:wr,textBaseline:"top",fontSize:10},capture:!1}),Yr=fr.getBBox();Yr.maxX>t?fr.attr("textAlign","right"):Yr.minX<0&&fr.attr("textAlign","left")}}),this.tickRects=mt;var ue=this.group;this.currentSpeed=1,this.controllerBtnGroup=new n1({group:ue,x:this.x,y:this.y+r+5,width:t,height:40,hiddleToggle:!0,speed:this.currentSpeed})},i.prototype.initEvent=function(){var e=this,t=this.sliceGroup;t.on("click",function(h){var c=h.target;if(!(c.get("type")!=="rect"||!c.get("name"))){var v=parseInt(c.get("name").split("-")[2],10);if(!isNaN(v)){var x=e.tickRects,P=e.unselectedTickStyle;x.forEach(function(Z){Z.rect.attr(P)});var D=e.selectedTickStyle;x[v].rect.attr(D),e.startTickRectId=v,e.endTickRectId=v;var X=x.length,K=v/X;e.graph.emit(Wa,{value:[K,K]})}}}),t.on("dragstart",function(h){var c=e.tickRects,v=e.unselectedTickStyle;c.forEach(function(Z){Z.rect.attr(v)});var x=h.target,P=parseInt(x.get("name").split("-")[2],10),D=e.selectedTickStyle;c[P].rect.attr(D),e.startTickRectId=P;var X=c.length,K=P/X;e.graph.emit(Wa,{value:[K,K]}),e.dragging=!0}),t.on("dragover",function(h){if(!!e.dragging&&h.target.get("type")==="rect"){for(var c=parseInt(h.target.get("name").split("-")[2],10),v=e.startTickRectId,x=e.tickRects,P=e.selectedTickStyle,D=e.unselectedTickStyle,X=0;X<x.length;X++){var K=X>=v&&X<=c?P:D;x[X].rect.attr(K)}var Z=x.length;e.endTickRectId=c;var gt=v/Z,mt=c/Z;e.graph.emit(Wa,{value:[gt,mt]})}}),t.on("drop",function(h){if(!!e.dragging&&(e.dragging=!1,h.target.get("type")==="rect")){var c=e.startTickRectId,v=parseInt(h.target.get("name").split("-")[2],10);if(!(v<c)){var x=e.selectedTickStyle,P=e.tickRects;P[v].rect.attr(x),e.endTickRectId=v;var D=P.length,X=c/D,K=v/D;e.graph.emit(Wa,{value:[X,K]})}}});var r=this,n=r.tooltipBackgroundColor,a=r.tooltipFomatter,o=r.canvas,s=new G6({container:o.get("container"),backgroundColor:n}),l=this.tickRects;l.forEach(function(h){var c=h.pickRect;c.on("mouseenter",function(v){var x=v.target;if(x.get("type")==="rect"){var P=parseInt(x.get("name").split("-")[2],10),D=o.getClientByPoint(l[P].x,l[P].y);s.show({x:l[P].x,y:l[P].y,clientX:D.x,clientY:D.y,text:a?a(l[P].value):l[P].value})}}),c.on("mouseleave",function(v){s.hide()})});var f=this.group;f.on(Pu+":click",function(){e.isPlay=!e.isPlay,e.changePlayStatus()}),f.on(_u+":click",function(){e.updateStartEnd(1)}),f.on(Ou+":click",function(){e.updateStartEnd(-1)}),f.on(Tu,function(h){var c=h.type,v=h.speed;e.currentSpeed=v})},i.prototype.changePlayStatus=function(e){e===void 0&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(i1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(a1,null))},i.prototype.startPlay=function(){var e=this;return window.requestAnimationFrame(function(){var t=e.currentSpeed;e.frameCount%(60/t)==0&&(e.frameCount=0,e.updateStartEnd(1)),e.frameCount++,e.isPlay&&(e.playHandler=e.startPlay())})},i.prototype.updateStartEnd=function(e){var t=this,r=this.tickRects,n=r.length,a=this.unselectedTickStyle,o=this.selectedTickStyle,s=t.endTickRectId;if(e>0?t.endTickRectId++:(r[t.endTickRectId].rect.attr(a),t.endTickRectId--),s!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var l=t.startTickRectId;l<=t.endTickRectId-1;l++)r[l].rect.attr(a);t.startTickRectId=t.endTickRectId}if(r[t.endTickRectId]){r[t.endTickRectId].rect.attr(o);var f=t.startTickRectId/n,h=t.endTickRectId/n;this.graph.emit(Wa,{value:[f,h]})}},i.prototype.destory=function(){this.graph.off(Wa);var e=this.sliceGroup;e.off("click"),e.off("dragstart"),e.off("dragover"),e.off("drop"),this.tickRects.forEach(function(t){var r=t.pickRect;r.off("mouseenter"),r.off("mouseleave")}),this.tickRects.length=0,e.off(Pu+":click"),e.off(_u+":click"),e.off(Ou+":click"),e.off(Tu),this.sliceGroup.destroy()},i}(),H6=V6,W6=8,j6=26,U6=function(i){Kn(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:2,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]}}},e.prototype.initContainer=function(){var t=this.get("graph"),r=this._cfgs,n=r.width,a=r.height,o=this.get("className")||"g6-component-timebar",s=this.get("container"),l=this.get("graph").get("container"),f;s?f=s:(f=(0,wi.Z)("<div class='"+o+"'></div>"),(0,Hn.Z)(f,{position:"relative"})),l.appendChild(f),this.set("timeBarContainer",f);var h,c=t.get("renderer");c==="SVG"?h=new Ts.Z({container:f,width:n,height:a}):h=new Fo.Z({container:f,width:n,height:a}),this.set("canvas",h)},e.prototype.init=function(){this.initContainer();var t=this.get("canvas"),r=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",r),this.renderTrend(),this.initEvent()},e.prototype.renderTrend=function(){var t=this._cfgs,r=t.width,n=t.x,a=t.y,o=t.padding,s=t.type,l=t.trend,f=t.slider,h=t.controllerCfg,c=l.data,v=Qi(l,["data"]),x=r-2*o,P=s==="trend"?j6:W6,D=this.get("graph"),X=this.get("timeBarGroup"),K=this.get("canvas"),Z=null;if(s==="trend"||s==="simple")Z=new N6(ce(ce({graph:D,canvas:K,group:X,type:s,x:n+o,y:s==="trend"?a+o:a+o+15,width:x,height:P,padding:o,trendCfg:ce(ce({},v),{data:c.map(function(mt){return mt.value})})},f),{ticks:c.map(function(mt){return mt.date}),handlerStyle:ce(ce({},f.handlerStyle),{height:f.height||P}),controllerCfg:h}));else if(s==="tick"){var gt=this._cfgs.tick;Z=new H6(ce({graph:D,canvas:K,group:X,x:n+o,y:a+o},gt))}this.set("timebar",Z)},e.prototype.filterData=function(t){var r=t.value,n=null,a=this._cfgs.type;if(a==="trend"||a==="simple"?n=this._cfgs.trend.data:a==="tick"&&(n=this._cfgs.tick.data),!n||n.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var o=this.get("rangeChange"),s=this.get("graph"),l=Math.round(n.length*r[0]),f=Math.round(n.length*r[1]);f=f>=n.length?n.length-1:f;var h=n[l].date,c=n[f].date;if(a!=="tick"){var v=this.get("timebar");v.setText(h,c)}if(o)o(s,h,c);else{var x=s.save();(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=x);var P=this.cacheGraphData.nodes.filter(function(K){return K.date>=h&&K.date<=c}),D=P.map(function(K){return K.id}),X=this.cacheGraphData.edges.filter(function(K){return D.includes(K.source)&&D.includes(K.target)});s.changeData({nodes:P,edges:X})}},e.prototype.initEvent=function(){var t=this,r=0,n=0,a=this._cfgs.type;!a||a==="trend"||a==="simple"?(r=this._cfgs.slider.start,n=this._cfgs.slider.end):a==="tick"&&(r=this._cfgs.tick.start,n=this._cfgs.tick.end);var o=this.get("graph");o.on("afterrender",function(){t.filterData({value:[r,n]})}),o.on(Wa,function(s){t.filterData(s)})},e.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),i.prototype.destroy.call(this);var r=this.get("timeBarContainer");if(r){var n=this.get("container");n||(n=this.get("graph").get("container")),n.removeChild(r)}},e}(Xa),Z6=U6;function K6(i,e){var t,r;if(i.naturalWidth)t=i.naturalWidth,r=i.naturalHeight;else{var n=new Image;n.src=i.src,n.onload=function(){e==null||e(n.width,n.height)}}return[t,r]}var $6=function(i){Kn(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,r=this._cfgs,n=r.graph;if(!this.destroyed){var a=this.get("container"),o=(0,wi.Z)("<div class="+r.viewportClassName+`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`),s=0,l=0,f=!1,h=0,c=0,v=0,x=0,P=0,D=0;a.addEventListener("mousedown",function(X){if(r.refresh=!1,X.target===o){var K=o.style;v=parseInt(K.width,10),x=parseInt(K.height,10);var Z=t.get("width"),gt=t.get("height");v>Z||x>gt||(D=n.getZoom(),P=t.get("ratio"),f=!0,s=X.clientX,l=X.clientY)}},!1),a.addEventListener("mousemove",function(X){if(!(!f||(0,Di.default)(X.clientX)||(0,Di.default)(X.clientY))){var K=t.get("width"),Z=t.get("height"),gt=o.style;h=parseInt(gt.left,10),c=parseInt(gt.top,10),v=parseInt(gt.width,10),x=parseInt(gt.height,10);var mt=s-X.clientX,Nt=l-X.clientY;h-mt<0?mt=h:h-mt+v>=K&&(mt=0),c-Nt<0?Nt=c:c-Nt+x>=Z&&(Nt=0),h-=mt,c-=Nt,(0,Hn.Z)(o,{left:h+"px",top:c+"px"}),n.translate(mt*D/P,Nt*D/P),s=X.clientX,l=X.clientY}},!1),a.addEventListener("mouseleave",function(){f=!1,r.refresh=!0},!1),a.addEventListener("mouseup",function(){f=!1,r.refresh=!0},!1),this.set("viewport",o),a.appendChild(o)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),r=this.get("width"),n=this.get("height"),a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=o/s,f=a.getGroup(),h=f.getCanvasBBox(),c=[(h.minX+h.maxX)/2,(h.minY+h.maxY)/2],v=[h.maxX-h.minX,h.maxY-h.minY],x={centerX:c[0],centerY:c[1],width:0,height:0,minX:0,minY:0};h[0]/h[1]>l?(x.width=v[0],x.height=x.width/l):(x.height=v[1],x.width=x.height*l),x.minX=c[0]-x.width/2,x.minY=c[1]-x.height/2;var P=f.getMatrix();P||(P=[1,0,0,0,1,0,0,0,1]);var D=ro.invert([],P),X=Cs({x:x.minX,y:x.minY},D),K=a.getCanvasByPoint(X.x,X.y),Z=this.get("viewport");Z||this.initViewport();var gt=o/x.width,mt=gt*r,Nt=gt*n,Zt=r*-K.x/x.width,ee=n*-K.y/x.height,ue=Zt+mt,ne=ee+Nt;Zt<0&&(mt+=Zt,Zt=0),ue>r&&(mt=mt-(ue-r)),ee<0&&(Nt+=ee,ee=0),ne>n&&(Nt=Nt-(ne-n)),this.set("ratio",t);var xe=Zt+"px",Pe=ee+"px";(0,Hn.Z)(Z,{left:xe,top:Pe,width:mt+"px",height:Nt+"px"})}},e.prototype.init=function(){this.initContainer()},e.prototype.initContainer=function(){var t=this,r=t.get("graph"),n=r.get("width"),a=r.get("height"),o=a/n,s=t.get("className"),l=t.get("container"),f=t.get("width"),h=t.get("height");!f&&!h&&(f=200),f?(h=o*f,t.set("height",h)):(f=1/o*h,t.set("width",f));var c=(0,wi.Z)("<div class='"+s+"' style='width: "+f+"px; height: "+h+"px; overflow: hidden; position: relative;'></div>");(0,Tn.default)(l)&&(l=document.getElementById(l)),l?l.appendChild(c):r.get("container").appendChild(c),t.set("container",c);var v=(0,wi.Z)('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');c.appendChild(v);var x=(0,wi.Z)('<span style="display: table-cell; vertical-align: middle; "></span>');v.appendChild(x),t.set("containerDOM",v),t.set("containerSpan",x);var P=(0,wi.Z)('<img alt="" src="'+this.get("graphImg")+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');t.set("imgDOM",P),t.updateImgSize(),x.appendChild(P),t.updateCanvas()},e.prototype.updateImgSize=function(){var t=this,r=t.get("imgDOM"),n=t.get("width"),a=t.get("height");r.onload=function(){var o=K6(r);o[0]>o[1]?r.width=n:r.height=a}},e.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var r=this.get("graph");if(!r.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("width"),a=r.get("canvas").getCanvasBBox(),o=a.width,s=n/o;this.set("ratio",s),this.updateViewport()}}},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateGraphImg=function(t){var r=this,n=r.get("imgDOM");n.remove(),r.set("graphImg",t);var a=(0,wi.Z)('<img alt="" src="'+t+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');r.set("imgDOM",a),a.src=t,r.updateImgSize();var o=r.get("containerSpan");o.appendChild(a),r.updateCanvas()},e.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},e}(Xa),Q6=$6,o1=.05,s1={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},J6=function(i){Kn(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return e.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,si.d9)(s1),showLabel:"edge",scaleRBy:"wheel"}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},e.prototype.init=function(){var t=this,r=t.get("showLabel"),n=r==="node"||r==="both",a=r==="edge"||r==="both";t.set("showNodeLabel",n),t.set("showEdgeLabel",a);var o=t.get("shouldShow");o||t.set("shouldShow",function(){return!0})},e.prototype.createDelegate=function(t){var r=this,n=r.get("delegate");(!n||n.destroyed)&&(r.filter(t),n=r.get("delegate"),n.on("dragstart",function(a){}),n.on("drag",function(a){r.filter(a)}),this.get("scaleRBy")==="wheel"&&n.on("mousewheel",function(a){r.scaleRByWheel(a)}))},e.prototype.scaleRByWheel=function(t){var r=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=r.get("graph"),a,o=r.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-o1:a=1/(1-o1);var f=r.get("maxR"),h=r.get("minR"),c=r.get("r");(c>(f||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,r.set("r",c),r.filter(t)}},e.prototype.filter=function(t){var r=this,n=r.get("graph"),a=n.getNodes(),o={},s=r.get("r"),l=r.get("type"),f={x:t.x,y:t.y};r.updateDelegate(f,s);var h=r.get("shouldShow"),c=r.get("vShapes");c&&c.forEach(function(K){K.remove(),K.destroy()}),c=[],a.forEach(function(K){var Z=K.getModel(),gt=Z.x,mt=Z.y;Es({x:gt,y:mt},f)<s&&(o[Z.id]=K)});var v=n.getEdges(),x=[];v.forEach(function(K){var Z=K.getModel(),gt=Z.source,mt=Z.target;h(Z)&&(l==="only-source"||l==="one"?o[gt]&&!o[mt]&&x.push(K):l==="only-target"||l==="one"?o[mt]&&!o[gt]&&x.push(K):l==="both"&&o[gt]&&o[mt]&&x.push(K))});var P=r.get("showNodeLabel"),D=r.get("showEdgelabel"),X=n.get("group");x.forEach(function(K){var Z=K.get("group").get("children");Z.forEach(function(gt){var mt=gt.get("type"),Nt=X.addShape(mt,{attrs:gt.attr()});c.push(Nt),P&&mt==="text"&&Nt.set("visible",!0)})}),Object.keys(o).forEach(function(K){var Z=o[K],gt=Z.get("group").clone();if(X.add(gt),c.push(gt),D)for(var mt=gt.get("children"),Nt=0;Nt<mt.length;Nt++){var Zt=mt[Nt];Zt.get("type")==="text"&&Zt.set("visible",!0)}}),r.set("vShapes",c)},e.prototype.updateParams=function(t){var r=this,n=t.r,a=t.trigger,o=t.minR,s=t.maxR,l=t.scaleRBy,f=t.showLabel,h=t.shouldShow;if(isNaN(t.r)||r.set("r",n),isNaN(s)||r.set("maxR",s),isNaN(o)||r.set("minR",o),(a==="mousemove"||a==="click")&&r.set("trigger",a),l==="wheel"||l==="unset"){r.set("scaleRBy",l),r.get("delegate").remove(),r.get("delegate").destroy();var c=r.get("dPercentText");c&&(c.remove(),c.destroy())}(f==="node"||f==="both")&&r.set("showNodeLabel",!0),(f==="edge"||f==="both")&&r.set("showEdgeLabel",!0),h&&r.set("shouldShow",h)},e.prototype.updateDelegate=function(t,r){var n=this,a=n.get("graph"),o=n.get("delegate");if(!o||o.destroyed){var s=a.get("group"),l=n.get("delegateStyle")||s1;o=s.addShape("circle",{attrs:ce({r,x:t.x,y:t.y},l),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&o.on("mousewheel",function(f){n.scaleRByWheel(f)})}else o.attr({x:t.x,y:t.y,r});n.set("delegate",o)},e.prototype.clear=function(){var t=this,r=t.get("vShapes");r&&r.forEach(function(a){a.remove(),a.destroy()}),r=[],t.set("vShapes",r);var n=t.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},e.prototype.destroy=function(){this.clear()},e}(Xa),q6=J6,ta={Menu:U4,Grid:H4,Minimap:J4,Bundling:e6,ToolBar:a6,Tooltip:s6,Fisheye:n6,TimeBar:Z6,ImageMinimap:Q6,EdgeFilterLens:q6};function t8(i){i===void 0&&(i={});var e=i,t=function(){},r=function(){var n={};return function(a){var o=a.next;return n[o.get("id")]?!1:(n[o.get("id")]=!0,!0)}}();return e.allowTraversal=i.allowTraversal||r,e.enter=i.enter||t,e.leave=i.leave||t,e}function l1(i,e,t,r){r.enter({current:e,previous:t}),i.getNeighbors(e,"target").forEach(function(n){r.allowTraversal({previous:t,current:e,next:n})&&l1(i,n,e,r)}),r.leave({current:e,previous:t})}function u1(i,e,t){var r=null,n=i.findById(e);l1(i,n,r,t8(t))}var e8=function(){function i(){this.linkedList=new Lx}return i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},i.prototype.enqueue=function(e){this.linkedList.append(e)},i.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},i.prototype.toString=function(e){return this.linkedList.toString(e)},i}(),r8=e8;function n8(i){i===void 0&&(i={});var e=i,t=function(){},r=function(){var n={};return function(a){var o=a.next,s=o.get("id");return n[s]?!1:(n[s]=!0,!0)}}();return e.allowTraversal=i.allowTraversal||r,e.enter=i.enter||t,e.leave=i.leave||t,e}var i8=function(e,t,r){var n=n8(r),a=new r8,o=e.findById(t);a.enqueue(o);for(var s=null,l=function(){var h=a.dequeue();n.enter({current:h,previous:s}),e.getNeighbors(h,"target").forEach(function(c){n.allowTraversal({previous:s,current:h,next:c})&&a.enqueue(c)}),n.leave({current:h,previous:s}),s=h};!a.isEmpty();)l()},a8=i8;function o8(i){for(var e=[],t={},r=[],n=function l(f){r.push(f),t[f.get("id")]=!0;for(var h=f.getNeighbors(),c=0;c<h.length;++c){var v=h[c];t[v.get("id")]||l(v)}},a=0;a<i.length;a++){var o=i[a];if(!t[o.get("id")]){n(o);for(var s=[];r.length>0;)s.push(r.pop());e.push(s)}}return e}function f1(i){for(var e=[],t={},r={},n={},a=[],o=0,s=function c(v){r[v.get("id")]=o,n[v.get("id")]=o,o+=1,e.push(v),t[v.get("id")]=!0;for(var x=v.getNeighbors("target").filter(function(Z){return i.indexOf(Z)>-1}),P=0;P<x.length;P++){var D=x[P];!r[D.get("id")]&&r[D.get("id")]!==0?(c(D),n[v.get("id")]=Math.min(n[v.get("id")],n[D.get("id")])):t[D.get("id")]&&(n[v.get("id")]=Math.min(n[v.get("id")],r[D.get("id")]))}if(n[v.get("id")]===r[v.get("id")]){for(var X=[];e.length>0;){var K=e.pop();if(t[K.get("id")]=!1,X.push(K),K===v)break}X.length>0&&a.push(X)}},l=0,f=i;l<f.length;l++){var h=f[l];!r[h.get("id")]&&r[h.get("id")]!==0&&s(h)}return a}function h1(i,e){var t=e===void 0?i.get("directed"):e,r=i.getNodes();return t?f1(r):o8(r)}var s8=function(e){var t=null,r={},n={},a={},o={};e.getNodes().forEach(function(f){n[f.getID()]=f});for(var s={enter:function(h){var c=h.current,v=h.previous;if(a[c.getID()]){t={};for(var x=c,P=v;P.getID()!==c.getID();)t[x.getID()]=P,x=P,P=r[P.getID()];t[x.getID()]=P}else a[c.getID()]=c,delete n[c.getID()],r[c.getID()]=v},leave:function(h){var c=h.current;o[c.getID()]=c,delete a[c.getID()]},allowTraversal:function(h){var c=h.next;return t?!1:!o[c.getID()]}};Object.keys(n).length;){var l=Object.keys(n)[0];u1(e,l,s)}return t},c1=function(e,t,r){var n,a,o;r===void 0&&(r=!0);for(var s=[],l=h1(e,!1),f=0,h=l;f<h.length;f++){var c=h[f];if(!!c.length)for(var v=c[0],x=v.get("id"),P=[v],D=(n={},n[x]=v,n),X=(a={},a[x]=new Set,a);P.length>0;)for(var K=P.pop(),Z=K.get("id"),gt=K.getNeighbors(),mt=0;mt<gt.length;mt+=1){var Nt=gt[mt],Zt=Nt.get("id");if(Zt===Z)s.push((o={},o[Nt.getID()]=K,o));else if(!(Zt in X))D[Zt]=K,P.push(Nt),X[Zt]=new Set([K]);else if(!X[Z].has(Nt)){for(var ee=!0,ue=[Nt,K],ne=D[Z];X[Zt].size&&!X[Zt].has(ne)&&(ue.push(ne),ne!==D[ne.getID()]);)ne=D[ne.getID()];if(ue.push(ne),t&&r?(ee=!1,ue.findIndex(function(Ye){return t.indexOf(Ye.get("id"))>-1})>-1&&(ee=!0)):t&&!r&&ue.findIndex(function(Ye){return t.indexOf(Ye.get("id"))>-1})>-1&&(ee=!1),ee){for(var xe={},Pe=1;Pe<ue.length;Pe+=1)xe[ue[Pe-1].getID()]=ue[Pe];ue.length&&(xe[ue[ue.length-1].getID()]=ue[0]),s.push(xe)}X[Zt].add(K)}}}return s},v1=function(e,t,r){r===void 0&&(r=!0);for(var n=[],a=new Set,o=[],s=[],l={},f={},h=function(xe){for(var Pe=[xe];Pe.length>0;){var Ye=Pe.pop();a.has(Ye)&&(a.delete(Ye),o[Ye.get("id")].forEach(function(He){Pe.push(He)}),o[Ye.get("id")].clear())}},c=function ne(xe,Pe,Ye){var He=!1;if(t&&r===!1&&t.indexOf(xe.get("id"))>-1)return He;n.push(xe),a.add(xe);for(var Ze=Ye[xe.getID()],Ue=0;Ue<Ze.length;Ue+=1){var ur=l[Ze[Ue]];if(ur===Pe){for(var wr={},mr=1;mr<n.length;mr+=1)wr[n[mr-1].getID()]=n[mr];n.length&&(wr[n[n.length-1].getID()]=n[0]),s.push(wr),He=!0}else a.has(ur)||ne(ur,Pe,Ye)&&(He=!0)}if(He)h(xe);else for(var Ue=0;Ue<Ze.length;Ue+=1){var ur=l[Ze[Ue]];o[ur.get("id")].has(xe)||o[ur.get("id")].add(xe)}return n.pop(),He},v=e.getNodes(),x=0;x<v.length;x+=1){var P=v[x],D=P.getID();f[D]=x,l[x]=P}if(t&&r)for(var x=0;x<t.length;x++){var D=t[x];f[v[x].getID()]=f[D],f[D]=0,l[0]=e.findById(D),l[f[v[x].getID()]]=v[x]}for(var X=function(xe){for(var Pe,Ye,He=Infinity,Ze=0;Ze<xe.length;Ze+=1)for(var Ue=xe[Ze],ur=0;ur<Ue.length;ur++){var wr=f[Ue[ur].getID()];wr<He&&(He=wr,Ye=Ze)}for(var mr=xe[Ye],pr=[],Ze=0;Ze<mr.length;Ze+=1){var fr=mr[Ze];pr[fr.getID()]=[];for(var Yr=0,_r=fr.getNeighbors("target").filter(function(Ir){return mr.indexOf(Ir)>-1});Yr<_r.length;Yr++){var Fr=_r[Yr];Fr===fr&&!(r===!1&&t.indexOf(fr.getId())>-1)?s.push((Pe={},Pe[fr.getID()]=fr,Pe)):pr[fr.getID()].push(f[Fr.getID()])}}return{component:mr,adjList:pr,minIdx:He}},K=0;K<v.length;){var Z=v.filter(function(ne){return f[ne.getID()]>=K}),gt=f1(Z).filter(function(ne){return ne.length>1});if(gt.length===0)break;var mt=X(gt),Nt=mt.minIdx,Zt=mt.adjList,ee=mt.component;if(ee.length>1){ee.forEach(function(ne){o[ne.get("id")]=new Set});var ue=l[Nt];if(t&&r&&t.indexOf(ue.get("id"))===-1)return s;c(ue,ue,Zt),K=Nt+1}else break}return s},l8=function(e,t,r,n){return n===void 0&&(n=!0),t===void 0&&(t=e.get("directed")),t?v1(e,r,n):c1(e,r,n)},u8=s8,f8=function(e,t,r,n){var a=e.getNodes(),o=[],s={},l={},f={};a.forEach(function(X,K){var Z=X.getID();o.push(Z),l[Z]=Infinity,Z===t&&(l[Z]=0)});for(var h=a.length,c=function(K){var Z=h8(l,a,s),gt=Z.get("id");if(s[gt]=!0,l[gt]===Infinity)return"continue";var mt=[];r?mt=Z.getOutEdges():mt=Z.getEdges(),mt.forEach(function(Nt){var Zt=Nt.getTarget().getID(),ee=Nt.getSource().getID(),ue=Zt===gt?ee:Zt,ne=n&&Nt.getModel()[n]?Nt.getModel()[n]:1;l[ue]>l[Z.get("id")]+ne&&(l[ue]=l[Z.get("id")]+ne,f[ue]=Z.get("id"))})},v=0;v<h;v++)c(v);var x={};for(var P in l){x[P]=[P];for(var D=f[P];D!==void 0;)x[P].unshift(D),D=f[D]}return{length:l,path:x}};function h8(i,e,t){for(var r=Infinity,n,a=0;a<e.length;a++){var o=e[a].get("id");!t[o]&&i[o]<=r&&(r=i[o],n=e[a])}return n}var c8=f8,v8=function(e,t,r,n,a){(0,u.isString)(t)&&(t=e.findById(t)),(0,u.isString)(r)&&(r=e.findById(r));var o=c8(e,t.get("id"),n,a),s=o.length,l=o.path;return{length:s[r.get("id")],path:l[r.get("id")]}},d8=function(e,t,r,n){var a;if((0,u.isString)(t)&&(t=e.findById(t)),(0,u.isString)(r)&&(r=e.findById(r)),n===void 0&&(n=e.get("directed")),t===r)return[[t.get("id")]];var o=[t],s=(a={},a[t.get("id")]=!0,a),l=[],f=[],h=n?t.getNeighbors("target"):t.getNeighbors();for(l.push(h);o.length>0&&l.length>0;){var c=l[l.length-1];if(c.length){var v=c.shift();v&&(o.push(v),s[v.get("id")]=!0,h=n?v.getNeighbors("target"):v.getNeighbors(),l.push(h.filter(function(D){return!s[D.get("id")]})))}else{var x=o.pop();s[x.get("id")]=!1,l.pop();continue}if(o[o.length-1]===r){var P=o.map(function(X){return X.get("id")});f.push(P);var x=o.pop();s[x.get("id")]=!1,l.pop()}}return f},p8=function(){function i(e){this.count=e.length,this.parent={};for(var t=0,r=e;t<r.length;t++){var n=r[t];this.parent[n]=n}}return i.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},i.prototype.union=function(e,t){var r=this.find(e),n=this.find(t);r!==n&&(r<n?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},i.prototype.connected=function(e,t){return this.find(e)===this.find(t)},i}(),g8=p8,y8=function(e,t){return e-t},m8=function(){function i(e){e===void 0&&(e=y8),this.compareFn=e,this.list=[]}return i.prototype.getLeft=function(e){return 2*e+1},i.prototype.getRight=function(e){return 2*e+2},i.prototype.getParent=function(e){return e===0?null:Math.floor((e-1)/2)},i.prototype.isEmpty=function(){return this.list.length<=0},i.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},i.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},i.prototype.insert=function(e){if(e!==null){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},i.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var r=this.list[t];this.list[t]=this.list[e],this.list[e]=r,e=t,t=this.getParent(e)}},i.prototype.moveDown=function(e){var t,r=e,n=this.getLeft(e),a=this.getRight(e),o=this.list.length;n!==null&&n<o&&this.compareFn(this.list[r],this.list[n])>0?r=n:a!==null&&a<o&&this.compareFn(this.list[r],this.list[a])>0&&(r=a),e!==r&&(t=[this.list[r],this.list[e]],this.list[e]=t[0],this.list[r]=t[1],this.moveDown(r))},i}(),x8=m8,b8=function(e,t){var r=[],n=e.getNodes();if(n.length===0)return r;var a=n[0],o=new Set;o.add(a);var s=function(x,P){return t?x.getModel()[t]-P.getModel()[t]:0},l=new x8(s);for(a.getEdges().forEach(function(v){l.insert(v)});!l.isEmpty();){var f=l.delMin(),h=f.getSource(),c=f.getTarget();o.has(h)&&o.has(c)||(r.push(f),o.has(h)||(o.add(h),h.getEdges().forEach(function(v){l.insert(v)})),o.has(c)||(o.add(c),c.getEdges().forEach(function(v){l.insert(v)})))}return r},d1=function(e,t){var r=[];if(e.getNodes().length===0)return r;var n=e.getEdges().map(function(f){return f});t&&n.sort(function(f,h){return f.getModel()[t]-h.getModel()[t]});for(var a=new g8(e.getNodes().map(function(f){return f.get("id")}));n.length>0;){var o=n.shift(),s=o.getSource().get("id"),l=o.getTarget().get("id");a.connected(s,l)||(r.push(o),a.union(s,l))}return r};function w8(i,e,t){var r={prim:b8,kruskal:d1};return t?r[t](i,e):d1(i,e)}var S8=function(e,t,r){typeof t!="number"&&(t=1e-6),typeof r!="number"&&(r=.85);for(var n=1,a=0,o=1e3,s=e.getNodes(),l=s.length,f,h={},c={},v=0;v<l;++v){var x=s[v],P=x.get("id");h[P]=1/l,c[P]=1/l}for(;o>0&&n>t;){a=0;for(var v=0;v<l;++v){var x=s[v],P=x.get("id");if(f=0,e.getNodeDegree(x,"in")===0)h[P]=0;else{for(var D=x.getNeighbors("source"),X=0;X<D.length;++X){var K=D[X],Z=e.getNodeDegree(K,"out");Z>0&&(f+=c[K.get("id")]/Z)}h[P]=r*f,a+=h[P]}}a=(1-a)/l,n=0;for(var v=0;v<l;++v){var x=s[v],P=x.get("id");f=h[P]+a,n+=Math.abs(f-c[P]),c[P]=f}o-=1}return c},M8=S8,VG=es.registerNode,HG=es.registerEdge,WG=es.registerCombo,jG=Xm.registerBehavior,UG=Bs.registerLayout,ZG=ta.Minimap,KG=ta.Grid,$G=ta.Bundling,QG=ta.Menu,C8=ta.Fisheye,JG=ta.ToolBar,qG=ta.Tooltip,E8=ta.TimeBar,A8=ta.ImageMinimap,T8=ta.EdgeFilterLens,Ui={version:IF.i8,Graph:Nx,TreeGraph:u4,Util:z4,registerNode:es.registerNode,registerEdge:es.registerEdge,registerCombo:es.registerCombo,registerBehavior:Xm.registerBehavior,registerLayout:Bs.registerLayout,Layout:Bs,Global:er,Minimap:ta.Minimap,Grid:ta.Grid,Bundling:ta.Bundling,Menu:ta.Menu,ToolBar:ta.ToolBar,Tooltip:ta.Tooltip,TimeBar:E8,Fisheye:C8,ImageMinimap:A8,EdgeFilterLens:T8,Algorithm:jt,Arrow:R4,Marker:N4};function p1(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function ja(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?p1(Object(t),!0).forEach(function(r){P8(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):p1(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function P8(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}Ui.registerNode("card-node",{draw:function(e,t){var r=e&&e.color?e.color:"#5B8FF9",n=e&&e.size?e.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=e&&e.style?e.style:{};a=Object.assign({radius:2,fill:"#fff"},a),r=a.stroke||"#5B8FF9";var o=a.radius||0,s=t.addShape("rect",{attrs:ja({x:-n[0]/2,y:-n[1]/2,width:n[0],height:n[1],stroke:r},a),name:"main-box",draggable:!0}),l=e.title||e.label,f,h=e&&e.labelCfg&&e.labelCfg.style?e.labelCfg.style:{};if(l){var c=Object.assign({fill:"#fff"},h);f=t.addShape("text",{attrs:ja(ja({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+2,text:l},c),{},{fill:"#fff"}),name:"title"})}var v=f?f.getBBox():{height:n[1]/2},x=t.addShape("rect",{attrs:{x:-n[0]/2,y:-n[1]/2,width:n[0],height:v.height+4,fill:r,radius:[o,o,0,0]},name:"title-rect",draggable:!0});f&&f.toFront();var P;e.children&&(P=t.addShape("marker",{attrs:{x:n[0]/2,y:0,r:6,cursor:"pointer",symbol:e.collapsed?Ui.Marker.expand:Ui.Marker.collapse,stroke:r,lineWidth:1,fill:"#fff"},name:"collapse-icon"}));var D=e&&e.description?e.description:void 0,X=x.getBBox(),K;if(D&&(K=t.addShape("text",{attrs:ja({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+X.height+8,text:D},h),name:"description"})),K){var Z,gt=K.getBBox(),mt=X.height+16+gt.height,Nt=n[0]>gt.width+16?n[0]:gt.width+16;s.attr({width:Nt,height:mt}),x==null||x.attr("width",Nt),(Z=P)===null||Z===void 0||Z.attr({x:Nt-n[0]/2,y:mt/2-n[1]/2})}return s},update:void 0},"single-node"),Ui.registerNode("round-rect",{drawShape:function(e,t){var r=e&&e.color?e.color:"#5B8FF9",n=e&&e.size?e.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=e&&e.style?e.style:{};a.stroke&&(r=a.stroke);var o=a&&a.fill?a.fill:"#fff";a=Object.assign({width:n[0],height:n[1],radius:n[1]/2,fill:o,lineWidth:1.2,stroke:r},a);var s=t.addShape("rect",{attrs:ja({x:-n[0]/2,y:-n[1]/2},a),name:"rect-shape"});return t.addShape("circle",{attrs:{x:-n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape"}),t.addShape("circle",{attrs:{x:n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape2"}),s},getAnchorPoints:function(){return[[0,.5],[1,.5]]},update:function(e,t){var r=t.getContainer(),n=r.get("children"),a=n[0],o=n[1],s=n[2],l=e.style&&e.style.stroke?e.style.stroke:"#5B8FF9";l&&(a.attr("stroke",l),o.attr("fill",l),s.attr("fill",l))}},"single-node");var _8=function(e){Ui.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(r,n){var a=this.getShapeStyle(r),o=r.labelCfg,s=o===void 0?{}:o,l=n.addShape("rect",{attrs:ja(ja({},a),{},{x:0,y:0})}),f={fill:"#e6fffb"},h="https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png";return r.leftIcon&&(f=Object.assign({},f,r.leftIcon.style),h=r.leftIcon.img),n.addShape("rect",{attrs:ja({x:1,y:1,width:38,height:a.height-2},f)}),n.addShape("image",{attrs:{x:8,y:8,width:24,height:24,img:h},name:"image-shape"}),e.enableEdit&&(n.addShape("marker",{attrs:{x:a.width/3,y:a.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:Ui.Marker.expand},name:"add-item"}),n.addShape("marker",{attrs:{x:a.width*2/3,y:a.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:Ui.Marker.collapse},name:"remove-item"})),r.label&&n.addShape("text",{attrs:ja(ja({},s.style),{},{text:r.label,x:a.width/2,y:a.height/1.5})}),l}},"rect")};Ui.registerEdge("fund-polyline",{draw:function(e,t){var r=e.startPoint,n=e.endPoint,a=n.y-r.y,o=a!==0?500/Math.abs(a):0,s=16,l=a<0?s:-s,f={x:r.x+o,y:n.y+l},h={x:f.x+s,y:n.y},c={x:(f.x-r.x)*(n.y-r.y)/(f.y-r.y)+r.x,y:n.y},v=[["M",r.x,r.y],["L",f.x,f.y],["Q",c.x,c.y,h.x,h.y],["L",n.x,n.y]];a===0&&(v=[["M",r.x,r.y],["L",n.x,n.y]]);var x=e||{},P=x.style,D=t.addShape("path",{attrs:{path:v,stroke:P.stroke||e.colorMap&&e.colorMap[e.dataType]?e.colorMap[e.dataType]:"#5B8FF9",lineWidth:P.lineWidth||1.2,endArrow:!1},name:"path-shape"}),X=0,K=8,Z;if(e.label&&(Z=t.addShape("text",{attrs:{text:e.label,x:h.x+X,y:n.y-K-2,fontSize:14,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-label"})),e.dataType){var gt=Z?Z.getBBox():{height:0};t.addShape("text",{attrs:{text:e.dataType,x:h.x+X,y:n.y-K-gt.height-2,fontSize:10,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-type"})}return e.subLabel&&t.addShape("text",{attrs:{text:e.subLabel,x:h.x+X,y:n.y+K+4,fontSize:12,fontWeight:300,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-sub-label"}),D},update:void 0},"single-edge"),Ui.registerEdge("flow-line",{draw:function(e,t){var r=e.startPoint,n=e.endPoint,a=e.style,o=a===void 0?{}:a,s=t.addShape("path",{attrs:{stroke:o.stroke,endArrow:o.endArrow,path:[["M",r.x,r.y],["L",r.x,(r.y+n.y)/2],["L",n.x,(r.y+n.y)/2],["L",n.x,n.y]]}});return s}});function g1(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function O8(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?g1(Object(t),!0).forEach(function(r){L8(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):g1(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function L8(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var I8={show:!1,size:[150,100],type:"keyShape"},Rs=function(e,t,r){var n,a;return r&&r.current&&(n=r.current.offsetWidth,a=r.current.offsetHeight||500),console.log("graph size",n,a,t,e,r,r.current),!e&&!n||!t&&!a?(console.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[e||n||500,t||a||500]},Ns=function(e,t){if(!(!t||t.destroyed)&&e&&e.show){var r=Object.assign(I8,e),n=new Ui.Minimap(O8({},r));return t.addPlugin(n),n}};function Lu(i,e,t){var r=(0,Mt.useRef)(),n=e.data,a=e.nodeStyle,o=e.nodeAnchorPoints,s=e.nodeType,l=e.edgeType,f=e.edgeStyle,h=e.width,c=e.height,v=e.layout,x=e.minimapCfg,P=e.behaviors,D=e.nodeLabelCfg,X=e.edgeLabelCfg,K;return(0,Mt.useEffect)(function(){i&&!i.destroyed&&(i.changeData(n),i.layout())},[n]),(0,Mt.useEffect)(function(){i&&!i.destroyed&&i.getNodes().forEach(function(Z){i.updateItem(Z,{type:s,style:a,anchorPoints:o,labelCfg:D})})},[a,o,s]),(0,Mt.useEffect)(function(){i&&!i.destroyed&&i.getEdges().forEach(function(Z){i.updateItem(Z,{type:l,style:f,labelCfg:X})})},[f,l]),(0,Mt.useEffect)(function(){if(i&&!i.destroyed){var Z=Rs(h,c,t);i.changeSize(Z[0],Z[1])}},[t,h,c]),(0,Mt.useEffect)(function(){i&&!i.destroyed&&i.updateLayout(v)},[v]),(0,Mt.useEffect)(function(){if(!(!x||!i||i.destroyed))if(x.show)K=Ns(x,i),K&&K.updateCanvas();else{var Z=i.get("plugins")[0];Z&&i.removePlugin(Z)}},[x]),(0,Mt.useEffect)(function(){if(i&&!i.destroyed){var Z=i.get("modes"),gt=Z.default,mt=[];gt.forEach(function(Nt){(0,u.isObject)(Nt)?mt.push(Nt.type):(0,u.isString)(Nt)&&mt.push(Nt)}),i.removeBehaviors(mt,"default"),i.addBehaviors(P,"default")}},[P]),(0,Mt.useEffect)(function(){if(r.current=i,i&&!i.destroyed)return function(){i.destroy(),i=void 0}},[]),{graphHook:r}}var y1={hover:{stroke:"#1890ff",lineWidth:2}},k8={fill:"#91d5ff",stroke:"#40a9ff",radius:5},B8={stroke:"#91d5ff",endArrow:{path:"M 0,0 L 12, 6 L 9,0 L 12, -6 Z",fill:"#91d5ff",d:-20}},D8={type:"compactBox",direction:"TB",getId:function(e){return e.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},m1={style:{fill:"#000",fontSize:12}},Gn,F8=function(e){var t=e.data,r=e.className,n=e.style,a=e.width,o=e.height,s=e.nodeType,l=s===void 0?"rect":s,f=e.edgeType,h=f===void 0?"flow-line":f,c=e.collapseExpand,v=c===void 0?!1:c,x=e.nodeSize,P=x===void 0?[120,40]:x,D=e.nodeLabelCfg,X=D===void 0?m1:D,K=e.edgeLabelCfg,Z=K===void 0?m1:K,gt=e.layout,mt=gt===void 0?D8:gt,Nt=e.enableEdit,Zt=Nt===void 0?!1:Nt,ee=e.minimapCfg,ue=e.nodeStyle,ne=ue===void 0?k8:ue,xe=e.edgeStyle,Pe=xe===void 0?B8:xe,Ye=e.nodeStateStyles,He=Ye===void 0?y1:Ye,Ze=e.edgeStateStyles,Ue=Ze===void 0?y1:Ze,ur=e.handleNodeClick,wr=e.handleEdgeClick,mr=e.handleNodeHover,pr=e.handleNodeUnHover,fr=e.handleEdgeHover,Yr=e.handleEdgeUnHover,_r=e.handleCanvasClick,Fr=e.graphRef,yr={data:t,className:r,style:n,width:a,height:o,nodeType:l,edgeType:h,collapseExpand:v,nodeSize:P,nodeLabelCfg:X,edgeLabelCfg:Z,layout:mt,enableEdit:Zt,minimapCfg:ee,nodeStyle:ne,edgeStyle:Pe,nodeStateStyles:He,edgeStateStyles:Ue,handleNodeClick:ur,handleEdgeClick:wr,handleNodeHover:mr,handleNodeUnHover:pr,handleEdgeHover:fr,handleEdgeUnHover:Yr,handleCanvasClick:_r,graphRef:Fr},Ir=Mt.useRef(null);return Lu(Gn,yr,Ir),(0,Mt.useEffect)(function(){var Vr=Rs(a,o,Ir);return(!Gn||Gn.destroyed)&&(l==="icon-node"&&_8({enableEdit:Zt}),Gn=new Ui.TreeGraph({container:Ir.current,width:Vr[0],height:Vr[1],linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas"]},defaultNode:{type:l,size:P,style:ne,labelCfg:X},defaultEdge:{type:h,style:Pe,labelCfg:Z},nodeStateStyles:He,edgeStateStyles:Ue,layout:mt}),Fr&&(Fr.current=Gn)),Ns(ee,Gn),Gn.data(t),Gn.render(),Gn.fitView(),v&&Gn.addBehaviors({type:"collapse-expand",onChange:function(kr,_n){if(!kr)return!1;var mn=kr.get("model").data;return mn.collapsed=_n,!0}},"default"),Gn.on("node:mouseenter",function(Br){var kr=Br.item;Gn.setItemState(kr,"hover",!0),mr&&mr(kr,Gn)}),Gn.on("node:mouseleave",function(Br){var kr=Br.item;Gn.setItemState(kr,"hover",!1),pr&&pr(kr,Gn)}),Gn.on("node:click",function(Br){var kr=Br.item,_n=Br.target,mn=_n.get("type"),Nr=_n.get("name");if(mn==="marker"){var lr=kr.getModel();if(Nr==="add-item"){lr.children||(lr.children=[]);var xr=Math.random().toString(36).slice(-8);lr.children.push({id:xr,label:xr}),Gn.updateChild(lr,lr.id)}else Nr==="remove-item"&&Gn.removeChild(lr.id)}else ur&&ur(kr,Gn)}),Gn.on("edge:mouseenter",function(Br){var kr=Br.item;Gn.setItemState(kr,"hover",!0),fr&&fr(kr,Gn)}),Gn.on("edge:mouseleave",function(Br){var kr=Br.item;Gn.setItemState(kr,"hover",!1),Yr&&Yr(kr,Gn)}),Gn.on("edge:click",function(Br){var kr=Br.item;wr&&wr(kr,Gn)}),Gn.on("canvas:click",function(Br){_r&&_r(Gn)}),function(){return Gn.destroy()}},[]),Mt.createElement(nn,null,Mt.createElement("div",{className:r,style:n,ref:Ir}))},R8=F8,x1={hover:{stroke:"#1890ff",lineWidth:2}},N8=[120,40],Y8={stroke:"#40a9ff"},G8=[[.5,0],[.5,1]],z8={stroke:"#91d5ff",endArrow:{path:Ui.Arrow.vee(10,10),fill:"#91d5ff"}},X8={type:"dagre",rankdir:"TB",nodesepFunc:function(e){return 0},ranksepFunc:function(e){return 0},controlPoints:!0},b1={style:{fill:"#000",fontSize:12}},Qn,V8=function(e){var t=e.data,r=e.className,n=e.style,a=e.width,o=e.height,s=e.nodeType,l=s===void 0?"modelRect":s,f=e.edgeType,h=f===void 0?"polyline":f,c=e.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,x=e.nodeSize,P=x===void 0?N8:x,D=e.nodeLabelCfg,X=D===void 0?b1:D,K=e.edgeLabelCfg,Z=K===void 0?b1:K,gt=e.nodeAnchorPoints,mt=gt===void 0?G8:gt,Nt=e.layout,Zt=Nt===void 0?X8:Nt,ee=e.minimapCfg,ue=e.nodeStyle,ne=ue===void 0?Y8:ue,xe=e.edgeStyle,Pe=xe===void 0?z8:xe,Ye=e.nodeStateStyles,He=Ye===void 0?x1:Ye,Ze=e.edgeStateStyles,Ue=Ze===void 0?x1:Ze,ur=e.handleEdgeClick,wr=e.handleEdgeHover,mr=e.handleEdgeUnHover,pr=e.handleNodeClick,fr=e.handleNodeHover,Yr=e.handleNodeUnHover,_r=e.handleCanvasClick,Fr=e.graphRef,yr={data:t,className:r,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:P,nodeLabelCfg:X,edgeLabelCfg:Z,nodeAnchorPoints:mt,layout:Zt,minimapCfg:ee,nodeStyle:ne,edgeStyle:Pe,nodeStateStyles:He,edgeStateStyles:Ue,handleEdgeClick:ur,handleEdgeHover:wr,handleEdgeUnHover:mr,handleNodeClick:pr,handleNodeHover:fr,handleNodeUnHover:Yr,handleCanvasClick:_r,graphRef:Fr},Ir=Mt.useRef(null);return Lu(Qn,yr,Ir),(0,Mt.useEffect)(function(){var Vr=Rs(a,o,Ir);return(!Qn||Qn.destroyed)&&(Qn=new Ui.Graph({container:Ir.current,width:Vr[0],height:Vr[1],modes:{default:v},defaultNode:{type:l,size:P,style:ne,anchorPoints:mt,labelCfg:X},defaultEdge:{type:h,style:Pe,labelCfg:Z},nodeStateStyles:He,edgeStateStyles:Ue,layout:Zt}),Fr&&(Fr.current=Qn)),Ns(ee,Qn),Qn.data(t),Qn.render(),Qn.fitView(),Qn.on("edge:mouseenter",function(Br){var kr=Br.item;Qn.setItemState(kr,"hover",!0),wr&&wr(kr,Qn)}),Qn.on("node:mouseenter",function(Br){var kr=Br.item;Qn.setItemState(kr,"hover",!1),fr&&fr(kr,Qn)}),Qn.on("edge:mouseleave",function(Br){var kr=Br.item;Qn.setItemState(kr,"hover",!1),mr&&mr(kr,Qn)}),Qn.on("node:mouseleave",function(Br){var kr=Br.item;Qn.setItemState(kr,"hover",!1),Yr&&Yr(kr,Qn)}),Qn.on("edge:click",function(Br){var kr=Br.item;ur&&ur(kr,Qn)}),Qn.on("node:click",function(Br){var kr=Br.item;pr&&pr(kr,Qn)}),Qn.on("canvas:click",function(Br){_r&&_r(Qn)}),function(){return Qn.destroy()}},[]),Mt.createElement(nn,null,Mt.createElement("div",{className:r,style:n,ref:Ir}))},H8=V8,w1={hover:{stroke:"#1890ff",lineWidth:2}},W8=[150,30],j8={stroke:"#72CC4A",fill:"#f00"},U8=[[.5,0],[.5,1]],Z8={stroke:"#91d5ff",endArrow:{path:Ui.Arrow.vee(10,10),fill:"#91d5ff"}},K8={type:"dagre",rankdir:"LR",nodesep:30,ranksep:50},S1={style:{fill:"#000000A6",fontSize:10}},Un,$8=function(e){var t=e.data,r=e.className,n=e.style,a=e.width,o=e.height,s=e.nodeType,l=s===void 0?"round-rect":s,f=e.edgeType,h=f===void 0?"fund-polyline":f,c=e.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,x=e.nodeSize,P=x===void 0?W8:x,D=e.nodeLabelCfg,X=D===void 0?S1:D,K=e.edgeLabelCfg,Z=K===void 0?S1:K,gt=e.nodeAnchorPoints,mt=gt===void 0?U8:gt,Nt=e.layout,Zt=Nt===void 0?K8:Nt,ee=e.minimapCfg,ue=e.nodeStyle,ne=ue===void 0?j8:ue,xe=e.edgeStyle,Pe=xe===void 0?Z8:xe,Ye=e.nodeStateStyles,He=Ye===void 0?w1:Ye,Ze=e.edgeStateStyles,Ue=Ze===void 0?w1:Ze,ur=e.colorMap,wr=ur===void 0?{}:ur,mr=e.handleEdgeClick,pr=e.handleEdgeHover,fr=e.handleEdgeUnHover,Yr=e.handleNodeClick,_r=e.handleNodeHover,Fr=e.handleNodeUnHover,yr=e.handleCanvasClick,Ir=e.graphRef,Vr=Mt.useRef(null),Br={data:t,className:r,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:P,nodeLabelCfg:X,edgeLabelCfg:Z,nodeAnchorPoints:mt,layout:Zt,minimapCfg:ee,nodeStyle:ne,edgeStyle:Pe,nodeStateStyles:He,edgeStateStyles:Ue,colorMap:wr,handleEdgeClick:mr,handleEdgeHover:pr,handleEdgeUnHover:fr,handleNodeClick:Yr,handleNodeHover:_r,handleNodeUnHover:Fr,handleCanvasClick:yr,graphRef:Ir};return Lu(Un,Br,Vr),(0,Mt.useEffect)(function(){var kr=Rs(a,o,Vr);(!Un||Un.destroyed)&&(Un=new Ui.Graph({container:Vr.current,width:kr[0],height:kr[1],modes:{default:v},defaultNode:{type:l,size:P,style:ne,anchorPoints:mt,labelCfg:X},defaultEdge:{type:h,style:Pe,colorMap:wr,labelCfg:Z},nodeStateStyles:He,edgeStateStyles:Ue,layout:Zt}),Ir&&(Ir.current=Un)),Ns(ee,Un),Un.data(t),Un.render();var _n=Un.getEdges();return _n.forEach(function(mn){var Nr=mn.getKeyShape(),lr=Nr.attr("stroke"),xr=mn.getTarget();xr.update({style:{stroke:lr}})}),Un.fitView(),Un.on("edge:mouseenter",function(mn){var Nr=mn.item;Un.setItemState(Nr,"hover",!0),pr&&pr(Nr,Un)}),Un.on("edge:mouseleave",function(mn){var Nr=mn.item;Un.setItemState(Nr,"hover",!1),fr&&fr(Nr,Un)}),Un.on("edge:click",function(mn){var Nr=mn.item;mr&&mr(Nr,Un)}),Un.on("node:mouseenter",function(mn){var Nr=mn.item;Un.setItemState(Nr,"hover",!1),_r&&_r(Nr,Un)}),Un.on("node:mouseleave",function(mn){var Nr=mn.item;Un.setItemState(Nr,"hover",!1),Fr&&Fr(Nr,Un)}),Un.on("node:click",function(mn){var Nr=mn.item;Yr&&Yr(Nr,Un)}),Un.on("canvas:click",function(mn){yr&&yr(Un)}),function(){return Un.destroy()}},[]),Mt.createElement(nn,null,Mt.createElement("div",{className:r,style:n,ref:Vr}))},Q8=$8,M1={hover:{stroke:"#1890ff",lineWidth:2}},J8=[120,40],q8={stroke:"#40a9ff"},t9=[[0,.5],[1,.5]],e9={stroke:"#ccc",endArrow:{path:Ui.Arrow.vee(10,10),fill:"#ccc"}},r9={type:"indented",direction:"LR",dropCap:!1,indent:250,getHeight:function(){return 60},getWidth:function(e){return 100}},n9={style:{fill:"#000",fontSize:12}},Wn,i9=function(e){var t=e.data,r=e.className,n=e.style,a=e.width,o=e.height,s=e.nodeType,l=s===void 0?"card-node":s,f=e.edgeType,h=f===void 0?"cubic-horizontal":f,c=e.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,x=e.nodeSize,P=x===void 0?J8:x,D=e.nodeLabelCfg,X=D===void 0?n9:D,K=e.nodeAnchorPoints,Z=K===void 0?t9:K,gt=e.layout,mt=gt===void 0?r9:gt,Nt=e.minimapCfg,Zt=e.nodeStyle,ee=Zt===void 0?q8:Zt,ue=e.edgeStyle,ne=ue===void 0?e9:ue,xe=e.nodeStateStyles,Pe=xe===void 0?M1:xe,Ye=e.edgeStateStyles,He=Ye===void 0?M1:Ye,Ze=e.collapseExpand,Ue=Ze===void 0?!0:Ze,ur=e.handleEdgeClick,wr=e.handleEdgeHover,mr=e.handleEdgeUnHover,pr=e.handleNodeClick,fr=e.handleNodeHover,Yr=e.handleNodeUnHover,_r=e.handleCanvasClick,Fr=e.graphRef,yr=Mt.useRef(null),Ir={data:t,className:r,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:P,nodeLabelCfg:X,nodeAnchorPoints:Z,layout:mt,minimapCfg:Nt,nodeStyle:ee,edgeStyle:ne,nodeStateStyles:Pe,edgeStateStyles:He,collapseExpand:Ue,handleEdgeClick:ur,handleEdgeHover:wr,handleEdgeUnHover:mr,handleNodeClick:pr,handleNodeHover:fr,handleNodeUnHover:Yr,handleCanvasClick:_r,graphRef:Fr};return Lu(Wn,Ir,yr),(0,Mt.useEffect)(function(){var Vr=Rs(a,o,yr);return(!Wn||Wn.destroyed)&&(Wn=new Ui.TreeGraph({container:yr.current,width:Vr[0],height:Vr[1],modes:{default:v},defaultNode:{type:l,size:P,style:ee,anchorPoints:Z,labelCfg:X},defaultEdge:{type:h,style:ne},nodeStateStyles:Pe,edgeStateStyles:He,layout:mt}),Fr&&(Fr.current=Wn)),Ns(Nt,Wn),Wn.data(t),Wn.render(),Wn.fitView(),Ue&&Wn.on("node:click",function(Br){var kr=Br.item;Br.target.get("name")==="collapse-icon"?(Wn.updateItem(kr,{collapsed:!kr.getModel().collapsed}),Wn.layout()):pr&&pr(kr,Wn)}),Wn.on("edge:mouseenter",function(Br){var kr=Br.item;Wn.setItemState(kr,"hover",!0),wr&&wr(kr,Wn)}),Wn.on("edge:mouseleave",function(Br){var kr=Br.item;Wn.setItemState(kr,"hover",!1),mr&&mr(kr,Wn)}),Wn.on("edge:click",function(Br){var kr=Br.item;ur&&ur(kr,Wn)}),Wn.on("node:mouseenter",function(Br){var kr=Br.item;Wn.setItemState(kr,"hover",!1),fr&&fr(kr,Wn)}),Wn.on("node:mouseleave",function(Br){var kr=Br.item;Wn.setItemState(kr,"hover",!1),Yr&&Yr(kr,Wn)}),Wn.on("canvas:click",function(Br){_r&&_r(Wn)}),function(){return Wn.destroy()}},[]),Mt.createElement(nn,null,Mt.createElement("div",{className:r,style:n,ref:yr}))},a9=i9,t7={Area:oD,Bar:uD,Bubble:cD,Bullet:pD,Calendar:xD,Column:SD,ColumnLine:ED,DensityHeatmap:PD,Donut:LD,DualLine:BD,FanGauge:RD,Funnel:zD,Gauge:HD,GroupedBar:UD,GroupedColumn:$D,GroupedColumnLine:qD,GroupedRose:r5,Heatmap:a5,Histogram:l5,Line:C0,Liquid:v5,MeterGauge:g5,PercentStackedArea:x5,PercentStackedBar:S5,PercentStackedColumn:E5,Pie:P5,Progress:L5,Radar:k0,RangeBar:F5,RangeColumn:Y5,RingProgress:X5,Rose:W5,Scatter:Z5,StackedArea:Q5,StackedBar:tF,StackedColumn:nF,StackedColumnLine:oF,StackedRose:uF,StepLine:cF,TinyArea:pF,TinyColumn:mF,TinyLine:wF,Treemap:CF,Waterfall:TF,WordCloud:LF,OrganizationTreeGraph:R8,DagreGraph:H8,IndentedTree:a9,DagreFundFlowGraph:Q8,G2:T}},3935:function(dt,S,d){"use strict";var b=d(38251),O=d(90494),I=d(91241),_=function(T){(0,b.ZT)(A,T);function A(C){var E=T.call(this)||this;E.destroyed=!1;var p=E.getDefaultCfg();return E.cfg=(0,I.CD)(p,C),E}return A.prototype.getDefaultCfg=function(){return{}},A.prototype.get=function(C){return this.cfg[C]},A.prototype.set=function(C,E){this.cfg[C]=E},A.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},A}(O.default);S.Z=_},28190:function(dt,S,d){"use strict";d.d(S,{Z:function(){return Mn}});var b=d(38251),O=d(43631),I=d(36540),_=d(91241),T=d(49242),A=0,C=0,E=0,p=1e3,w,y,m=0,g=0,M=0,L=typeof performance=="object"&&performance.now?performance:Date,B=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(de){setTimeout(de,17)};function N(){return g||(B(j),g=L.now()+M)}function j(){g=0}function tt(){this._call=this._time=this._next=null}tt.prototype=H.prototype={constructor:tt,restart:function(de,Wt,ve){if(typeof de!="function")throw new TypeError("callback is not a function");ve=(ve==null?N():+ve)+(Wt==null?0:+Wt),!this._next&&y!==this&&(y?y._next=this:w=this,y=this),this._call=de,this._time=ve,St()},stop:function(){this._call&&(this._call=null,this._time=Infinity,St())}};function H(de,Wt,ve){var Ee=new tt;return Ee.restart(de,Wt,ve),Ee}function J(){N(),++A;for(var de=w,Wt;de;)(Wt=g-de._time)>=0&&de._call.call(null,Wt),de=de._next;--A}function ct(){g=(m=L.now())+M,A=C=0;try{J()}finally{A=0,At(),g=0}}function ut(){var de=L.now(),Wt=de-m;Wt>p&&(M-=Wt,m=de)}function At(){for(var de,Wt=w,ve,Ee=Infinity;Wt;)Wt._call?(Ee>Wt._time&&(Ee=Wt._time),de=Wt,Wt=Wt._next):(ve=Wt._next,Wt._next=null,Wt=de?de._next=ve:w=ve);y=de,St(Ee)}function St(de){if(!A){C&&(C=clearTimeout(C));var Wt=de-g;Wt>24?(de<Infinity&&(C=setTimeout(ct,de-L.now()-M)),E&&(E=clearInterval(E))):(E||(m=L.now(),E=setInterval(ut,p)),A=1,B(ct))}}function Yt(de,Wt,ve){de.prototype=Wt.prototype=ve,ve.constructor=de}function Tt(de,Wt){var ve=Object.create(de.prototype);for(var Ee in Wt)ve[Ee]=Wt[Ee];return ve}function Dt(){}var Bt=.7,Et=1/Bt,zt="\\s*([+-]?\\d+)\\s*",jt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pt=/^#([0-9a-f]{3,8})$/,k=new RegExp("^rgb\\(".concat(zt,",").concat(zt,",").concat(zt,"\\)$")),u=new RegExp("^rgb\\(".concat(Mt,",").concat(Mt,",").concat(Mt,"\\)$")),G=new RegExp("^rgba\\(".concat(zt,",").concat(zt,",").concat(zt,",").concat(jt,"\\)$")),Y=new RegExp("^rgba\\(".concat(Mt,",").concat(Mt,",").concat(Mt,",").concat(jt,"\\)$")),V=new RegExp("^hsl\\(".concat(jt,",").concat(Mt,",").concat(Mt,"\\)$")),U=new RegExp("^hsla\\(".concat(jt,",").concat(Mt,",").concat(Mt,",").concat(jt,"\\)$")),et={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yt(Dt,xt,{copy:function(Wt){return Object.assign(new this.constructor,this,Wt)},displayable:function(){return this.rgb().displayable()},hex:ht,formatHex:ht,formatHex8:Ft,formatHsl:bt,formatRgb:at,toString:at});function ht(){return this.rgb().formatHex()}function Ft(){return this.rgb().formatHex8()}function bt(){return Re(this).formatHsl()}function at(){return this.rgb().formatRgb()}function xt(de){var Wt,ve;return de=(de+"").trim().toLowerCase(),(Wt=pt.exec(de))?(ve=Wt[1].length,Wt=parseInt(Wt[1],16),ve===6?lt(Wt):ve===3?new st(Wt>>8&15|Wt>>4&240,Wt>>4&15|Wt&240,(Wt&15)<<4|Wt&15,1):ve===8?it(Wt>>24&255,Wt>>16&255,Wt>>8&255,(Wt&255)/255):ve===4?it(Wt>>12&15|Wt>>8&240,Wt>>8&15|Wt>>4&240,Wt>>4&15|Wt&240,((Wt&15)<<4|Wt&15)/255):null):(Wt=k.exec(de))?new st(Wt[1],Wt[2],Wt[3],1):(Wt=u.exec(de))?new st(Wt[1]*255/100,Wt[2]*255/100,Wt[3]*255/100,1):(Wt=G.exec(de))?it(Wt[1],Wt[2],Wt[3],Wt[4]):(Wt=Y.exec(de))?it(Wt[1]*255/100,Wt[2]*255/100,Wt[3]*255/100,Wt[4]):(Wt=V.exec(de))?Be(Wt[1],Wt[2]/100,Wt[3]/100,1):(Wt=U.exec(de))?Be(Wt[1],Wt[2]/100,Wt[3]/100,Wt[4]):et.hasOwnProperty(de)?lt(et[de]):de==="transparent"?new st(NaN,NaN,NaN,0):null}function lt(de){return new st(de>>16&255,de>>8&255,de&255,1)}function it(de,Wt,ve,Ee){return Ee<=0&&(de=Wt=ve=NaN),new st(de,Wt,ve,Ee)}function yt(de){return de instanceof Dt||(de=xt(de)),de?(de=de.rgb(),new st(de.r,de.g,de.b,de.opacity)):new st}function ft(de,Wt,ve,Ee){return arguments.length===1?yt(de):new st(de,Wt,ve,Ee==null?1:Ee)}function st(de,Wt,ve,Ee){this.r=+de,this.g=+Wt,this.b=+ve,this.opacity=+Ee}Yt(st,ft,Tt(Dt,{brighter:function(Wt){return Wt=Wt==null?Et:Math.pow(Et,Wt),new st(this.r*Wt,this.g*Wt,this.b*Wt,this.opacity)},darker:function(Wt){return Wt=Wt==null?Bt:Math.pow(Bt,Wt),new st(this.r*Wt,this.g*Wt,this.b*Wt,this.opacity)},rgb:function(){return this},clamp:function(){return new st(Me(this.r),Me(this.g),Me(this.b),pe(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ct,formatHex:Ct,formatHex8:Rt,formatRgb:re,toString:re}));function Ct(){return"#".concat(Xe(this.r)).concat(Xe(this.g)).concat(Xe(this.b))}function Rt(){return"#".concat(Xe(this.r)).concat(Xe(this.g)).concat(Xe(this.b)).concat(Xe((isNaN(this.opacity)?1:this.opacity)*255))}function re(){var de=pe(this.opacity);return"".concat(de===1?"rgb(":"rgba(").concat(Me(this.r),", ").concat(Me(this.g),", ").concat(Me(this.b)).concat(de===1?")":", ".concat(de,")"))}function pe(de){return isNaN(de)?1:Math.max(0,Math.min(1,de))}function Me(de){return Math.max(0,Math.min(255,Math.round(de)||0))}function Xe(de){return de=Me(de),(de<16?"0":"")+de.toString(16)}function Be(de,Wt,ve,Ee){return Ee<=0?de=Wt=ve=NaN:ve<=0||ve>=1?de=Wt=NaN:Wt<=0&&(de=NaN),new ar(de,Wt,ve,Ee)}function Re(de){if(de instanceof ar)return new ar(de.h,de.s,de.l,de.opacity);if(de instanceof Dt||(de=xt(de)),!de)return new ar;if(de instanceof ar)return de;de=de.rgb();var Wt=de.r/255,ve=de.g/255,Ee=de.b/255,Ge=Math.min(Wt,ve,Ee),tr=Math.max(Wt,ve,Ee),vr=NaN,cr=tr-Ge,Gr=(tr+Ge)/2;return cr?(Wt===tr?vr=(ve-Ee)/cr+(ve<Ee)*6:ve===tr?vr=(Ee-Wt)/cr+2:vr=(Wt-ve)/cr+4,cr/=Gr<.5?tr+Ge:2-tr-Ge,vr*=60):cr=Gr>0&&Gr<1?0:vr,new ar(vr,cr,Gr,de.opacity)}function Ke(de,Wt,ve,Ee){return arguments.length===1?Re(de):new ar(de,Wt,ve,Ee==null?1:Ee)}function ar(de,Wt,ve,Ee){this.h=+de,this.s=+Wt,this.l=+ve,this.opacity=+Ee}Yt(ar,Ke,Tt(Dt,{brighter:function(Wt){return Wt=Wt==null?Et:Math.pow(Et,Wt),new ar(this.h,this.s,this.l*Wt,this.opacity)},darker:function(Wt){return Wt=Wt==null?Bt:Math.pow(Bt,Wt),new ar(this.h,this.s,this.l*Wt,this.opacity)},rgb:function(){var Wt=this.h%360+(this.h<0)*360,ve=isNaN(Wt)||isNaN(this.s)?0:this.s,Ee=this.l,Ge=Ee+(Ee<.5?Ee:1-Ee)*ve,tr=2*Ee-Ge;return new st(Xr(Wt>=240?Wt-240:Wt+120,tr,Ge),Xr(Wt,tr,Ge),Xr(Wt<120?Wt+240:Wt-120,tr,Ge),this.opacity)},clamp:function(){return new ar(Mr(this.h),sr(this.s),sr(this.l),pe(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Wt=pe(this.opacity);return"".concat(Wt===1?"hsl(":"hsla(").concat(Mr(this.h),", ").concat(sr(this.s)*100,"%, ").concat(sr(this.l)*100,"%").concat(Wt===1?")":", ".concat(Wt,")"))}}));function Mr(de){return de=(de||0)%360,de<0?de+360:de}function sr(de){return Math.max(0,Math.min(1,de||0))}function Xr(de,Wt,ve){return(de<60?Wt+(ve-Wt)*de/60:de<180?ve:de<240?Wt+(ve-Wt)*(240-de)/60:Wt)*255}function pn(de,Wt,ve,Ee,Ge){var tr=de*de,vr=tr*de;return((1-3*de+3*tr-vr)*Wt+(4-6*tr+3*vr)*ve+(1+3*de+3*tr-3*vr)*Ee+vr*Ge)/6}function jr(de){var Wt=de.length-1;return function(ve){var Ee=ve<=0?ve=0:ve>=1?(ve=1,Wt-1):Math.floor(ve*Wt),Ge=de[Ee],tr=de[Ee+1],vr=Ee>0?de[Ee-1]:2*Ge-tr,cr=Ee<Wt-1?de[Ee+2]:2*tr-Ge;return pn((ve-Ee/Wt)*Wt,vr,Ge,tr,cr)}}function en(de){var Wt=de.length;return function(ve){var Ee=Math.floor(((ve%=1)<0?++ve:ve)*Wt),Ge=de[(Ee+Wt-1)%Wt],tr=de[Ee%Wt],vr=de[(Ee+1)%Wt],cr=de[(Ee+2)%Wt];return pn((ve-Ee/Wt)*Wt,Ge,tr,vr,cr)}}var Xn=function(de){return function(){return de}};function ni(de,Wt){return function(ve){return de+ve*Wt}}function gi(de,Wt,ve){return de=Math.pow(de,ve),Wt=Math.pow(Wt,ve)-de,ve=1/ve,function(Ee){return Math.pow(de+Ee*Wt,ve)}}function yi(de,Wt){var ve=Wt-de;return ve?ni(de,ve>180||ve<-180?ve-360*Math.round(ve/360):ve):constant(isNaN(de)?Wt:de)}function te(de){return(de=+de)==1?he:function(Wt,ve){return ve-Wt?gi(Wt,ve,de):Xn(isNaN(Wt)?ve:Wt)}}function he(de,Wt){var ve=Wt-de;return ve?ni(de,ve):Xn(isNaN(de)?Wt:de)}var be=function de(Wt){var ve=te(Wt);function Ee(Ge,tr){var vr=ve((Ge=ft(Ge)).r,(tr=ft(tr)).r),cr=ve(Ge.g,tr.g),Gr=ve(Ge.b,tr.b),rn=he(Ge.opacity,tr.opacity);return function(Vn){return Ge.r=vr(Vn),Ge.g=cr(Vn),Ge.b=Gr(Vn),Ge.opacity=rn(Vn),Ge+""}}return Ee.gamma=de,Ee}(1);function Se(de){return function(Wt){var ve=Wt.length,Ee=new Array(ve),Ge=new Array(ve),tr=new Array(ve),vr,cr;for(vr=0;vr<ve;++vr)cr=ft(Wt[vr]),Ee[vr]=cr.r||0,Ge[vr]=cr.g||0,tr[vr]=cr.b||0;return Ee=de(Ee),Ge=de(Ge),tr=de(tr),cr.opacity=1,function(Gr){return cr.r=Ee(Gr),cr.g=Ge(Gr),cr.b=tr(Gr),cr+""}}}var Le=Se(jr),Ne=Se(en);function Fe(de,Wt){Wt||(Wt=[]);var ve=de?Math.min(Wt.length,de.length):0,Ee=Wt.slice(),Ge;return function(tr){for(Ge=0;Ge<ve;++Ge)Ee[Ge]=de[Ge]*(1-tr)+Wt[Ge]*tr;return Ee}}function Ve(de){return ArrayBuffer.isView(de)&&!(de instanceof DataView)}function Ae(de,Wt){return(Ve(Wt)?Fe:rr)(de,Wt)}function rr(de,Wt){var ve=Wt?Wt.length:0,Ee=de?Math.min(ve,de.length):0,Ge=new Array(Ee),tr=new Array(ve),vr;for(vr=0;vr<Ee;++vr)Ge[vr]=Vt(de[vr],Wt[vr]);for(;vr<ve;++vr)tr[vr]=Wt[vr];return function(cr){for(vr=0;vr<Ee;++vr)tr[vr]=Ge[vr](cr);return tr}}function Qe(de,Wt){var ve=new Date;return de=+de,Wt=+Wt,function(Ee){return ve.setTime(de*(1-Ee)+Wt*Ee),ve}}function Pt(de,Wt){return de=+de,Wt=+Wt,function(ve){return de*(1-ve)+Wt*ve}}function Ot(de,Wt){var ve={},Ee={},Ge;(de===null||typeof de!="object")&&(de={}),(Wt===null||typeof Wt!="object")&&(Wt={});for(Ge in Wt)Ge in de?ve[Ge]=Vt(de[Ge],Wt[Ge]):Ee[Ge]=Wt[Ge];return function(tr){for(Ge in ve)Ee[Ge]=ve[Ge](tr);return Ee}}var W=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,R=new RegExp(W.source,"g");function F(de){return function(){return de}}function rt(de){return function(Wt){return de(Wt)+""}}function kt(de,Wt){var ve=W.lastIndex=R.lastIndex=0,Ee,Ge,tr,vr=-1,cr=[],Gr=[];for(de=de+"",Wt=Wt+"";(Ee=W.exec(de))&&(Ge=R.exec(Wt));)(tr=Ge.index)>ve&&(tr=Wt.slice(ve,tr),cr[vr]?cr[vr]+=tr:cr[++vr]=tr),(Ee=Ee[0])===(Ge=Ge[0])?cr[vr]?cr[vr]+=Ge:cr[++vr]=Ge:(cr[++vr]=null,Gr.push({i:vr,x:Pt(Ee,Ge)})),ve=R.lastIndex;return ve<Wt.length&&(tr=Wt.slice(ve),cr[vr]?cr[vr]+=tr:cr[++vr]=tr),cr.length<2?Gr[0]?rt(Gr[0].x):F(Wt):(Wt=Gr.length,function(rn){for(var Vn=0,Ut;Vn<Wt;++Vn)cr[(Ut=Gr[Vn]).i]=Ut.x(rn);return cr.join("")})}function Vt(de,Wt){var ve=typeof Wt,Ee;return Wt==null||ve==="boolean"?Xn(Wt):(ve==="number"?Pt:ve==="string"?(Ee=xt(Wt))?(Wt=Ee,be):kt:Wt instanceof xt?be:Wt instanceof Date?Qe:Ve(Wt)?Fe:Array.isArray(Wt)?rr:typeof Wt.valueOf!="function"&&typeof Wt.toString!="function"||isNaN(Wt)?Ot:Pt)(de,Wt)}var Gt=d(8364),Kt=d(80234),we=function(de){return["fill","stroke","fillStyle","strokeStyle"].includes(de)},me=function(de){return/^[r,R,L,l]{1}[\s]*\(/.test(de)},_e=[1,0,0,0,1,0,0,0,1];function qe(de,Wt,ve){var Ee={},Ge=Wt.fromAttrs,tr=Wt.toAttrs;if(!de.destroyed){var vr;for(var cr in tr)if(!(0,T.isEqual)(Ge[cr],tr[cr]))if(cr==="path"){var Gr=tr[cr],rn=Ge[cr];Gr.length>rn.length?(Gr=Kt.parsePathString(tr[cr]),rn=Kt.parsePathString(Ge[cr]),rn=Kt.fillPathByDiff(rn,Gr),rn=Kt.formatPath(rn,Gr),Wt.fromAttrs.path=rn,Wt.toAttrs.path=Gr):Wt.pathFormatted||(Gr=Kt.parsePathString(tr[cr]),rn=Kt.parsePathString(Ge[cr]),rn=Kt.formatPath(rn,Gr),Wt.fromAttrs.path=rn,Wt.toAttrs.path=Gr,Wt.pathFormatted=!0),Ee[cr]=[];for(var Vn=0;Vn<Gr.length;Vn++){for(var Ut=Gr[Vn],ie=rn[Vn],se=[],Ce=0;Ce<Ut.length;Ce++)(0,T.isNumber)(Ut[Ce])&&ie&&(0,T.isNumber)(ie[Ce])?(vr=Vt(ie[Ce],Ut[Ce]),se.push(vr(ve))):se.push(Ut[Ce]);Ee[cr].push(se)}}else if(cr==="matrix"){var Te=Ae(Ge[cr]||_e,tr[cr]||_e),ke=Te(ve);Ee[cr]=ke}else we(cr)&&me(tr[cr])?Ee[cr]=tr[cr]:(0,T.isFunction)(tr[cr])||(vr=Vt(Ge[cr],tr[cr]),Ee[cr]=vr(ve));de.attr(Ee)}}function De(de,Wt,ve){var Ee=Wt.startTime,Ge=Wt.delay;if(ve<Ee+Ge||Wt._paused)return!1;var tr,vr=Wt.duration,cr=Wt.easing,Gr=(0,Gt._)(cr);if(ve=ve-Ee-Wt.delay,Wt.repeat)tr=ve%vr/vr,tr=Gr(tr);else if(tr=ve/vr,tr<1)tr=Gr(tr);else return Wt.onFrame?de.attr(Wt.onFrame(1)):de.attr(Wt.toAttrs),!0;if(Wt.onFrame){var rn=Wt.onFrame(tr);de.attr(rn)}else qe(de,Wt,tr);return!1}var dr=function(){function de(Wt){this.animators=[],this.current=0,this.timer=null,this.canvas=Wt}return de.prototype.initTimer=function(){var Wt=this,ve=!1,Ee,Ge,tr;this.timer=H(function(vr){if(Wt.current=vr,Wt.animators.length>0){for(var cr=Wt.animators.length-1;cr>=0;cr--){if(Ee=Wt.animators[cr],Ee.destroyed){Wt.removeAnimator(cr);continue}if(!Ee.isAnimatePaused()){Ge=Ee.get("animations");for(var Gr=Ge.length-1;Gr>=0;Gr--)tr=Ge[Gr],ve=De(Ee,tr,vr),ve&&(Ge.splice(Gr,1),ve=!1,tr.callback&&tr.callback())}Ge.length===0&&Wt.removeAnimator(cr)}var rn=Wt.canvas.get("autoDraw");rn||Wt.canvas.draw()}})},de.prototype.addAnimator=function(Wt){this.animators.push(Wt)},de.prototype.removeAnimator=function(Wt){this.animators.splice(Wt,1)},de.prototype.isAnimating=function(){return!!this.animators.length},de.prototype.stop=function(){this.timer&&this.timer.stop()},de.prototype.stopAllAnimations=function(Wt){Wt===void 0&&(Wt=!0),this.animators.forEach(function(ve){ve.stopAnimate(Wt)}),this.animators=[],this.canvas.draw()},de.prototype.getTime=function(){return this.current},de}(),Rr=dr,Oe=d(65608),je=40,nr=0,Je=":",hr=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function un(de,Wt){for(var ve in de)if(de.hasOwnProperty(ve)&&ve.indexOf(Je+Wt)>=0)return!0;return!1}function Qr(de,Wt,ve){ve.name=Wt,ve.target=de,ve.currentTarget=de,ve.delegateTarget=de,de.emit(Wt,ve)}function Pr(de,Wt,ve){if(ve.bubbles){var Ee=void 0,Ge=!1;if(Wt==="mouseenter"?(Ee=ve.fromShape,Ge=!0):Wt==="mouseleave"&&(Ge=!0,Ee=ve.toShape),de.isCanvas()&&Ge)return;if(Ee&&(0,_.UY)(de,Ee)){ve.bubbles=!1;return}ve.name=Wt,ve.currentTarget=de,ve.delegateTarget=de,de.emit(Wt,ve)}}var Hr=function(){function de(Wt){var ve=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(Ee){var Ge=Ee.type;ve._triggerEvent(Ge,Ee)},this._onDocumentMove=function(Ee){var Ge=ve.canvas,tr=Ge.get("el");if(tr!==Ee.target&&(ve.dragging||ve.currentShape)){var vr=ve._getPointInfo(Ee);ve.dragging&&ve._emitEvent("drag",Ee,vr,ve.draggingShape)}},this._onDocumentMouseUp=function(Ee){var Ge=ve.canvas,tr=Ge.get("el");if(tr!==Ee.target&&ve.dragging){var vr=ve._getPointInfo(Ee);ve.draggingShape&&ve._emitEvent("drop",Ee,vr,null),ve._emitEvent("dragend",Ee,vr,ve.draggingShape),ve._afterDrag(ve.draggingShape,vr,Ee)}},this.canvas=Wt.canvas}return de.prototype.init=function(){this._bindEvents()},de.prototype._bindEvents=function(){var Wt=this,ve=this.canvas.get("el");(0,_.S6)(hr,function(Ee){ve.addEventListener(Ee,Wt._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},de.prototype._clearEvents=function(){var Wt=this,ve=this.canvas.get("el");(0,_.S6)(hr,function(Ee){ve.removeEventListener(Ee,Wt._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},de.prototype._getEventObj=function(Wt,ve,Ee,Ge,tr,vr){var cr=new Oe.Z(Wt,ve);return cr.fromShape=tr,cr.toShape=vr,cr.x=Ee.x,cr.y=Ee.y,cr.clientX=Ee.clientX,cr.clientY=Ee.clientY,cr.propagationPath.push(Ge),cr},de.prototype._getShape=function(Wt,ve){return this.canvas.getShape(Wt.x,Wt.y,ve)},de.prototype._getPointInfo=function(Wt){var ve=this.canvas,Ee=ve.getClientByEvent(Wt),Ge=ve.getPointByEvent(Wt);return{x:Ge.x,y:Ge.y,clientX:Ee.x,clientY:Ee.y}},de.prototype._triggerEvent=function(Wt,ve){var Ee=this._getPointInfo(ve),Ge=this._getShape(Ee,ve),tr=this["_on"+Wt],vr=!1;if(tr)tr.call(this,Ee,Ge,ve);else{var cr=this.currentShape;Wt==="mouseenter"||Wt==="dragenter"||Wt==="mouseover"?(this._emitEvent(Wt,ve,Ee,null,null,Ge),Ge&&this._emitEvent(Wt,ve,Ee,Ge,null,Ge),Wt==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",ve,Ee,null)):Wt==="mouseleave"||Wt==="dragleave"||Wt==="mouseout"?(vr=!0,cr&&this._emitEvent(Wt,ve,Ee,cr,cr,null),this._emitEvent(Wt,ve,Ee,null,cr,null),Wt==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",ve,Ee,null)):this._emitEvent(Wt,ve,Ee,Ge,null,null)}if(vr||(this.currentShape=Ge),Ge&&!Ge.get("destroyed")){var Gr=this.canvas,rn=Gr.get("el");rn.style.cursor=Ge.attr("cursor")||Gr.get("cursor")}},de.prototype._onmousedown=function(Wt,ve,Ee){Ee.button===nr&&(this.mousedownShape=ve,this.mousedownPoint=Wt,this.mousedownTimeStamp=Ee.timeStamp),this._emitEvent("mousedown",Ee,Wt,ve,null,null)},de.prototype._emitMouseoverEvents=function(Wt,ve,Ee,Ge){var tr=this.canvas.get("el");Ee!==Ge&&(Ee&&(this._emitEvent("mouseout",Wt,ve,Ee,Ee,Ge),this._emitEvent("mouseleave",Wt,ve,Ee,Ee,Ge),(!Ge||Ge.get("destroyed"))&&(tr.style.cursor=this.canvas.get("cursor"))),Ge&&(this._emitEvent("mouseover",Wt,ve,Ge,Ee,Ge),this._emitEvent("mouseenter",Wt,ve,Ge,Ee,Ge)))},de.prototype._emitDragoverEvents=function(Wt,ve,Ee,Ge,tr){Ge?(Ge!==Ee&&(Ee&&this._emitEvent("dragleave",Wt,ve,Ee,Ee,Ge),this._emitEvent("dragenter",Wt,ve,Ge,Ee,Ge)),tr||this._emitEvent("dragover",Wt,ve,Ge)):Ee&&this._emitEvent("dragleave",Wt,ve,Ee,Ee,Ge),tr&&this._emitEvent("dragover",Wt,ve,Ge)},de.prototype._afterDrag=function(Wt,ve,Ee){Wt&&(Wt.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Ge=this._getShape(ve,Ee);Ge!==Wt&&this._emitMouseoverEvents(Ee,ve,Wt,Ge),this.currentShape=Ge},de.prototype._onmouseup=function(Wt,ve,Ee){if(Ee.button===nr){var Ge=this.draggingShape;this.dragging?(Ge&&this._emitEvent("drop",Ee,Wt,ve),this._emitEvent("dragend",Ee,Wt,Ge),this._afterDrag(Ge,Wt,Ee)):(this._emitEvent("mouseup",Ee,Wt,ve),ve===this.mousedownShape&&this._emitEvent("click",Ee,Wt,ve),this.mousedownShape=null,this.mousedownPoint=null)}},de.prototype._ondragover=function(Wt,ve,Ee){Ee.preventDefault();var Ge=this.currentShape;this._emitDragoverEvents(Ee,Wt,Ge,ve,!0)},de.prototype._onmousemove=function(Wt,ve,Ee){var Ge=this.canvas,tr=this.currentShape,vr=this.draggingShape;if(this.dragging)vr&&this._emitDragoverEvents(Ee,Wt,tr,ve,!1),this._emitEvent("drag",Ee,Wt,vr);else{var cr=this.mousedownPoint;if(cr){var Gr=this.mousedownShape,rn=Ee.timeStamp,Vn=rn-this.mousedownTimeStamp,Ut=cr.clientX-Wt.clientX,ie=cr.clientY-Wt.clientY,se=Ut*Ut+ie*ie;Vn>120||se>je?Gr&&Gr.get("draggable")?(vr=this.mousedownShape,vr.set("capture",!1),this.draggingShape=vr,this.dragging=!0,this._emitEvent("dragstart",Ee,Wt,vr),this.mousedownShape=null,this.mousedownPoint=null):!Gr&&Ge.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",Ee,Wt,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(Ee,Wt,tr,ve),this._emitEvent("mousemove",Ee,Wt,ve)):(this._emitMouseoverEvents(Ee,Wt,tr,ve),this._emitEvent("mousemove",Ee,Wt,ve))}else this._emitMouseoverEvents(Ee,Wt,tr,ve),this._emitEvent("mousemove",Ee,Wt,ve)}},de.prototype._emitEvent=function(Wt,ve,Ee,Ge,tr,vr){var cr=this._getEventObj(Wt,ve,Ee,Ge,tr,vr);if(Ge){cr.shape=Ge,Qr(Ge,Wt,cr);for(var Gr=Ge.getParent();Gr;)Gr.emitDelegation(Wt,cr),cr.propagationStopped||Pr(Gr,Wt,cr),cr.propagationPath.push(Gr),Gr=Gr.getParent()}else{var rn=this.canvas;Qr(rn,Wt,cr)}},de.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},de}(),wn=Hr,fn="px",Er=(0,O.detect)(),on=Er&&Er.name==="firefox",Dn=function(de){(0,b.ZT)(Wt,de);function Wt(ve){var Ee=de.call(this,ve)||this;return Ee.initContainer(),Ee.initDom(),Ee.initEvents(),Ee.initTimeline(),Ee}return Wt.prototype.getDefaultCfg=function(){var ve=de.prototype.getDefaultCfg.call(this);return ve.cursor="default",ve.supportCSSTransform=!1,ve},Wt.prototype.initContainer=function(){var ve=this.get("container");(0,_.HD)(ve)&&(ve=document.getElementById(ve),this.set("container",ve))},Wt.prototype.initDom=function(){var ve=this.createDom();this.set("el",ve);var Ee=this.get("container");Ee.appendChild(ve),this.setDOMSize(this.get("width"),this.get("height"))},Wt.prototype.initEvents=function(){var ve=new wn({canvas:this});ve.init(),this.set("eventController",ve)},Wt.prototype.initTimeline=function(){var ve=new Rr(this);this.set("timeline",ve)},Wt.prototype.setDOMSize=function(ve,Ee){var Ge=this.get("el");_.jU&&(Ge.style.width=ve+fn,Ge.style.height=Ee+fn)},Wt.prototype.changeSize=function(ve,Ee){this.setDOMSize(ve,Ee),this.set("width",ve),this.set("height",Ee),this.onCanvasChange("changeSize")},Wt.prototype.getRenderer=function(){return this.get("renderer")},Wt.prototype.getCursor=function(){return this.get("cursor")},Wt.prototype.setCursor=function(ve){this.set("cursor",ve);var Ee=this.get("el");_.jU&&Ee&&(Ee.style.cursor=ve)},Wt.prototype.getPointByEvent=function(ve){var Ee=this.get("supportCSSTransform");if(Ee){if(on&&!(0,_.kK)(ve.layerX)&&ve.layerX!==ve.offsetX)return{x:ve.layerX,y:ve.layerY};if(!(0,_.kK)(ve.offsetX))return{x:ve.offsetX,y:ve.offsetY}}var Ge=this.getClientByEvent(ve),tr=Ge.x,vr=Ge.y;return this.getPointByClient(tr,vr)},Wt.prototype.getClientByEvent=function(ve){var Ee=ve;return ve.touches&&(ve.type==="touchend"?Ee=ve.changedTouches[0]:Ee=ve.touches[0]),{x:Ee.clientX,y:Ee.clientY}},Wt.prototype.getPointByClient=function(ve,Ee){var Ge=this.get("el"),tr=Ge.getBoundingClientRect();return{x:ve-tr.left,y:Ee-tr.top}},Wt.prototype.getClientByPoint=function(ve,Ee){var Ge=this.get("el"),tr=Ge.getBoundingClientRect();return{x:ve+tr.left,y:Ee+tr.top}},Wt.prototype.draw=function(){},Wt.prototype.removeDom=function(){var ve=this.get("el");ve.parentNode.removeChild(ve)},Wt.prototype.clearEvents=function(){var ve=this.get("eventController");ve.destroy()},Wt.prototype.isCanvas=function(){return!0},Wt.prototype.getParent=function(){return null},Wt.prototype.destroy=function(){var ve=this.get("timeline");this.get("destroyed")||(this.clear(),ve&&ve.stop(),this.clearEvents(),this.removeDom(),de.prototype.destroy.call(this))},Wt}(I.Z),Mn=Dn},36540:function(dt,S,d){"use strict";var b=d(38251),O=d(94638),I=d(91241),_={},T="_INDEX";function A(m,g){if(m.set("canvas",g),m.isGroup()){var M=m.get("children");M.length&&M.forEach(function(L){A(L,g)})}}function C(m,g){if(m.set("timeline",g),m.isGroup()){var M=m.get("children");M.length&&M.forEach(function(L){C(L,g)})}}function E(m,g){var M=m.getChildren();return M.indexOf(g)>=0}function p(m,g,M){M===void 0&&(M=!0),M?g.destroy():(g.set("parent",null),g.set("canvas",null)),(0,I.As)(m.getChildren(),g)}function w(m){return function(g,M){var L=m(g,M);return L===0?g[T]-M[T]:L}}var y=function(m){(0,b.ZT)(g,m);function g(){return m!==null&&m.apply(this,arguments)||this}return g.prototype.isCanvas=function(){return!1},g.prototype.getBBox=function(){var M=Infinity,L=-Infinity,B=Infinity,N=-Infinity,j=this.getChildren().filter(function(H){return H.get("visible")&&(!H.isGroup()||H.isGroup()&&H.getChildren().length>0)});j.length>0?(0,I.S6)(j,function(H){var J=H.getBBox(),ct=J.minX,ut=J.maxX,At=J.minY,St=J.maxY;ct<M&&(M=ct),ut>L&&(L=ut),At<B&&(B=At),St>N&&(N=St)}):(M=0,L=0,B=0,N=0);var tt={x:M,y:B,minX:M,minY:B,maxX:L,maxY:N,width:L-M,height:N-B};return tt},g.prototype.getCanvasBBox=function(){var M=Infinity,L=-Infinity,B=Infinity,N=-Infinity,j=this.getChildren().filter(function(H){return H.get("visible")&&(!H.isGroup()||H.isGroup()&&H.getChildren().length>0)});j.length>0?(0,I.S6)(j,function(H){var J=H.getCanvasBBox(),ct=J.minX,ut=J.maxX,At=J.minY,St=J.maxY;ct<M&&(M=ct),ut>L&&(L=ut),At<B&&(B=At),St>N&&(N=St)}):(M=0,L=0,B=0,N=0);var tt={x:M,y:B,minX:M,minY:B,maxX:L,maxY:N,width:L-M,height:N-B};return tt},g.prototype.getDefaultCfg=function(){var M=m.prototype.getDefaultCfg.call(this);return M.children=[],M},g.prototype.onAttrChange=function(M,L,B){if(m.prototype.onAttrChange.call(this,M,L,B),M==="matrix"){var N=this.getTotalMatrix();this._applyChildrenMarix(N)}},g.prototype.applyMatrix=function(M){var L=this.getTotalMatrix();m.prototype.applyMatrix.call(this,M);var B=this.getTotalMatrix();B!==L&&this._applyChildrenMarix(B)},g.prototype._applyChildrenMarix=function(M){var L=this.getChildren();(0,I.S6)(L,function(B){B.applyMatrix(M)})},g.prototype.addShape=function(){for(var M=[],L=0;L<arguments.length;L++)M[L]=arguments[L];var B=M[0],N=M[1];(0,I.Kn)(B)?N=B:N.type=B;var j=_[N.type];j||(j=(0,I.jC)(N.type),_[N.type]=j);var tt=this.getShapeBase(),H=new tt[j](N);return this.add(H),H},g.prototype.addGroup=function(){for(var M=[],L=0;L<arguments.length;L++)M[L]=arguments[L];var B=M[0],N=M[1],j;if((0,I.mf)(B))N?j=new B(N):j=new B({parent:this});else{var tt=B||{},H=this.getGroupBase();j=new H(tt)}return this.add(j),j},g.prototype.getCanvas=function(){var M;return this.isCanvas()?M=this:M=this.get("canvas"),M},g.prototype.getShape=function(M,L,B){if(!(0,I.pP)(this))return null;var N=this.getChildren(),j;if(this.isCanvas())j=this._findShape(N,M,L,B);else{var tt=[M,L,1];tt=this.invertFromMatrix(tt),this.isClipped(tt[0],tt[1])||(j=this._findShape(N,tt[0],tt[1],B))}return j},g.prototype._findShape=function(M,L,B,N){for(var j=null,tt=M.length-1;tt>=0;tt--){var H=M[tt];if((0,I.pP)(H)&&(H.isGroup()?j=H.getShape(L,B,N):H.isHit(L,B)&&(j=H)),j)break}return j},g.prototype.add=function(M){var L=this.getCanvas(),B=this.getChildren(),N=this.get("timeline"),j=M.getParent();j&&p(j,M,!1),M.set("parent",this),L&&A(M,L),N&&C(M,N),B.push(M),M.onCanvasChange("add"),this._applyElementMatrix(M)},g.prototype._applyElementMatrix=function(M){var L=this.getTotalMatrix();L&&M.applyMatrix(L)},g.prototype.getChildren=function(){return this.get("children")},g.prototype.sort=function(){var M=this.getChildren();(0,I.S6)(M,function(L,B){return L[T]=B,L}),M.sort(w(function(L,B){return L.get("zIndex")-B.get("zIndex")})),this.onCanvasChange("sort")},g.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var M=this.getChildren(),L=M.length-1;L>=0;L--)M[L].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},g.prototype.destroy=function(){this.get("destroyed")||(this.clear(),m.prototype.destroy.call(this))},g.prototype.getFirst=function(){return this.getChildByIndex(0)},g.prototype.getLast=function(){var M=this.getChildren();return this.getChildByIndex(M.length-1)},g.prototype.getChildByIndex=function(M){var L=this.getChildren();return L[M]},g.prototype.getCount=function(){var M=this.getChildren();return M.length},g.prototype.contain=function(M){var L=this.getChildren();return L.indexOf(M)>-1},g.prototype.removeChild=function(M,L){L===void 0&&(L=!0),this.contain(M)&&M.remove(L)},g.prototype.findAll=function(M){var L=[],B=this.getChildren();return(0,I.S6)(B,function(N){M(N)&&L.push(N),N.isGroup()&&(L=L.concat(N.findAll(M)))}),L},g.prototype.find=function(M){var L=null,B=this.getChildren();return(0,I.S6)(B,function(N){if(M(N)?L=N:N.isGroup()&&(L=N.find(M)),L)return!1}),L},g.prototype.findById=function(M){return this.find(function(L){return L.get("id")===M})},g.prototype.findByClassName=function(M){return this.find(function(L){return L.get("className")===M})},g.prototype.findAllByName=function(M){return this.findAll(function(L){return L.get("name")===M})},g}(O.Z);S.Z=y},94638:function(dt,S,d){"use strict";d.d(S,{Z:function(){return Yt}});var b=d(38251),O=d(49242),I=d(35600);function _(Tt,Dt,Bt){var Et=[0,0,0,0,0,0,0,0,0];return I.fromTranslation(Et,Bt),I.multiply(Tt,Et,Dt)}function T(Tt,Dt,Bt){var Et=[0,0,0,0,0,0,0,0,0];return I.fromRotation(Et,Bt),I.multiply(Tt,Et,Dt)}function A(Tt,Dt,Bt){var Et=[0,0,0,0,0,0,0,0,0];return I.fromScaling(Et,Bt),I.multiply(Tt,Et,Dt)}function C(Tt,Dt,Bt){return I.multiply(Tt,Bt,Dt)}function E(Tt,Dt){for(var Bt=Tt?[].concat(Tt):[1,0,0,0,1,0,0,0,1],Et=0,zt=Dt.length;Et<zt;Et++){var jt=Dt[Et];switch(jt[0]){case"t":_(Bt,Bt,[jt[1],jt[2]]);break;case"s":A(Bt,Bt,[jt[1],jt[2]]);break;case"r":T(Bt,Bt,jt[1]);break;case"m":C(Bt,Bt,jt[1]);break;default:break}}return Bt}function p(Tt,Dt){return Tt[0]*Dt[1]-Dt[0]*Tt[1]}function w(Tt,Dt,Bt){var Et=vec2.angle(Tt,Dt),zt=p(Tt,Dt)>=0;return Bt?zt?Math.PI*2-Et:Et:zt?Et:Math.PI*2-Et}function y(Tt,Dt,Bt){return Bt?(Tt[0]=Dt[1],Tt[1]=-1*Dt[0]):(Tt[0]=-1*Dt[1],Tt[1]=Dt[0]),Tt}var m=d(91241),g=d(93557),M=d(3935),L=E,B="matrix",N=["zIndex","capture","visible","type"],j=["repeat"],tt=":",H="*";function J(Tt){for(var Dt=[],Bt=0;Bt<Tt.length;Bt++)(0,O.isArray)(Tt[Bt])?Dt.push([].concat(Tt[Bt])):Dt.push(Tt[Bt]);return Dt}function ct(Tt,Dt){var Bt={},Et=Dt.attrs;for(var zt in Tt)Bt[zt]=Et[zt];return Bt}function ut(Tt,Dt){var Bt={},Et=Dt.attr();return(0,O.each)(Tt,function(zt,jt){j.indexOf(jt)===-1&&!(0,O.isEqual)(Et[jt],zt)&&(Bt[jt]=zt)}),Bt}function At(Tt,Dt){if(Dt.onFrame)return Tt;var Bt=Dt.startTime,Et=Dt.delay,zt=Dt.duration,jt=Object.prototype.hasOwnProperty;return(0,O.each)(Tt,function(Mt){Bt+Et<Mt.startTime+Mt.delay+Mt.duration&&zt>Mt.delay&&(0,O.each)(Dt.toAttrs,function(pt,k){jt.call(Mt.toAttrs,k)&&(delete Mt.toAttrs[k],delete Mt.fromAttrs[k])})}),Tt}var St=function(Tt){(0,b.ZT)(Dt,Tt);function Dt(Bt){var Et=Tt.call(this,Bt)||this;Et.attrs={};var zt=Et.getDefaultAttrs();return(0,O.mix)(zt,Bt.attrs),Et.attrs=zt,Et.initAttrs(zt),Et.initAnimate(),Et}return Dt.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},Dt.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},Dt.prototype.onCanvasChange=function(Bt){},Dt.prototype.initAttrs=function(Bt){},Dt.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},Dt.prototype.isGroup=function(){return!1},Dt.prototype.getParent=function(){return this.get("parent")},Dt.prototype.getCanvas=function(){return this.get("canvas")},Dt.prototype.attr=function(){for(var Bt,Et=[],zt=0;zt<arguments.length;zt++)Et[zt]=arguments[zt];var jt=Et[0],Mt=Et[1];if(!jt)return this.attrs;if((0,O.isObject)(jt)){for(var pt in jt)this.setAttr(pt,jt[pt]);return this.afterAttrsChange(jt),this}return Et.length===2?(this.setAttr(jt,Mt),this.afterAttrsChange((Bt={},Bt[jt]=Mt,Bt)),this):this.attrs[jt]},Dt.prototype.isClipped=function(Bt,Et){var zt=this.getClip();return zt&&!zt.isHit(Bt,Et)},Dt.prototype.setAttr=function(Bt,Et){var zt=this.attrs[Bt];zt!==Et&&(this.attrs[Bt]=Et,this.onAttrChange(Bt,Et,zt))},Dt.prototype.onAttrChange=function(Bt,Et,zt){Bt==="matrix"&&this.set("totalMatrix",null)},Dt.prototype.afterAttrsChange=function(Bt){if(this.cfg.isClipShape){var Et=this.cfg.applyTo;Et&&Et.onCanvasChange("clip")}else this.onCanvasChange("attr")},Dt.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},Dt.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},Dt.prototype.setZIndex=function(Bt){this.set("zIndex",Bt);var Et=this.getParent();return Et&&Et.sort(),this},Dt.prototype.toFront=function(){var Bt=this.getParent();if(!!Bt){var Et=Bt.getChildren(),zt=this.get("el"),jt=Et.indexOf(this);Et.splice(jt,1),Et.push(this),this.onCanvasChange("zIndex")}},Dt.prototype.toBack=function(){var Bt=this.getParent();if(!!Bt){var Et=Bt.getChildren(),zt=this.get("el"),jt=Et.indexOf(this);Et.splice(jt,1),Et.unshift(this),this.onCanvasChange("zIndex")}},Dt.prototype.remove=function(Bt){Bt===void 0&&(Bt=!0);var Et=this.getParent();Et?((0,m.As)(Et.getChildren(),this),Et.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),Bt&&this.destroy()},Dt.prototype.resetMatrix=function(){this.attr(B,this.getDefaultMatrix()),this.onCanvasChange("matrix")},Dt.prototype.getMatrix=function(){return this.attr(B)},Dt.prototype.setMatrix=function(Bt){this.attr(B,Bt),this.onCanvasChange("matrix")},Dt.prototype.getTotalMatrix=function(){var Bt=this.cfg.totalMatrix;if(!Bt){var Et=this.attr("matrix"),zt=this.cfg.parentMatrix;zt&&Et?Bt=(0,g.xq)(zt,Et):Bt=Et||zt,this.set("totalMatrix",Bt)}return Bt},Dt.prototype.applyMatrix=function(Bt){var Et=this.attr("matrix"),zt=null;Bt&&Et?zt=(0,g.xq)(Bt,Et):zt=Et||Bt,this.set("totalMatrix",zt),this.set("parentMatrix",Bt)},Dt.prototype.getDefaultMatrix=function(){return null},Dt.prototype.applyToMatrix=function(Bt){var Et=this.attr("matrix");return Et?(0,g.rG)(Et,Bt):Bt},Dt.prototype.invertFromMatrix=function(Bt){var Et=this.attr("matrix");if(Et){var zt=(0,g.U_)(Et);if(zt)return(0,g.rG)(zt,Bt)}return Bt},Dt.prototype.setClip=function(Bt){var Et=this.getCanvas(),zt=null;if(Bt){var jt=this.getShapeBase(),Mt=(0,O.upperFirst)(Bt.type),pt=jt[Mt];pt&&(zt=new pt({type:Bt.type,isClipShape:!0,applyTo:this,attrs:Bt.attrs,canvas:Et}))}return this.set("clipShape",zt),this.onCanvasChange("clip"),zt},Dt.prototype.getClip=function(){var Bt=this.cfg.clipShape;return Bt||null},Dt.prototype.clone=function(){var Bt=this,Et=this.attrs,zt={};(0,O.each)(Et,function(pt,k){(0,O.isArray)(Et[k])?zt[k]=J(Et[k]):zt[k]=Et[k]});var jt=this.constructor,Mt=new jt({attrs:zt});return(0,O.each)(N,function(pt){Mt.set(pt,Bt.get(pt))}),Mt},Dt.prototype.destroy=function(){var Bt=this.destroyed;Bt||(this.attrs={},Tt.prototype.destroy.call(this))},Dt.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},Dt.prototype.animate=function(){for(var Bt=[],Et=0;Et<arguments.length;Et++)Bt[Et]=arguments[Et];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var zt=this.get("timeline");zt||(zt=this.get("canvas").get("timeline"),this.set("timeline",zt));var jt=this.get("animations")||[];zt.timer||zt.initTimer();var Mt=Bt[0],pt=Bt[1],k=Bt[2],u=k===void 0?"easeLinear":k,G=Bt[3],Y=G===void 0?O.noop:G,V=Bt[4],U=V===void 0?0:V,et,ht,Ft,bt,at;(0,O.isFunction)(Mt)?(et=Mt,Mt={}):(0,O.isObject)(Mt)&&Mt.onFrame&&(et=Mt.onFrame,ht=Mt.repeat),(0,O.isObject)(pt)?(at=pt,pt=at.duration,u=at.easing||"easeLinear",U=at.delay||0,ht=at.repeat||ht||!1,Y=at.callback||O.noop,Ft=at.pauseCallback||O.noop,bt=at.resumeCallback||O.noop):((0,O.isNumber)(Y)&&(U=Y,Y=null),(0,O.isFunction)(u)?(Y=u,u="easeLinear"):u=u||"easeLinear");var xt=ut(Mt,this),lt={fromAttrs:ct(xt,this),toAttrs:xt,duration:pt,easing:u,repeat:ht,callback:Y,pauseCallback:Ft,resumeCallback:bt,delay:U,startTime:zt.getTime(),id:(0,O.uniqueId)(),onFrame:et,pathFormatted:!1};jt.length>0?jt=At(jt,lt):zt.addAnimator(this),jt.push(lt),this.set("animations",jt),this.set("_pause",{isPaused:!1})}},Dt.prototype.stopAnimate=function(Bt){var Et=this;Bt===void 0&&(Bt=!0);var zt=this.get("animations");(0,O.each)(zt,function(jt){Bt&&(jt.onFrame?Et.attr(jt.onFrame(1)):Et.attr(jt.toAttrs)),jt.callback&&jt.callback()}),this.set("animating",!1),this.set("animations",[])},Dt.prototype.pauseAnimate=function(){var Bt=this.get("timeline"),Et=this.get("animations"),zt=Bt.getTime();return(0,O.each)(Et,function(jt){jt._paused=!0,jt._pauseTime=zt,jt.pauseCallback&&jt.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:zt}),this},Dt.prototype.resumeAnimate=function(){var Bt=this.get("timeline"),Et=Bt.getTime(),zt=this.get("animations"),jt=this.get("_pause").pauseTime;return(0,O.each)(zt,function(Mt){Mt.startTime=Mt.startTime+(Et-jt),Mt._paused=!1,Mt._pauseTime=null,Mt.resumeCallback&&Mt.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",zt),this},Dt.prototype.emitDelegation=function(Bt,Et){var zt=this,jt=Et.propagationPath,Mt=this.getEvents(),pt;Bt==="mouseenter"?pt=Et.fromShape:Bt==="mouseleave"&&(pt=Et.toShape);for(var k=function(V){var U=jt[V],et=U.get("name");if(et){if((U.isGroup()||U.isCanvas&&U.isCanvas())&&pt&&(0,m.UY)(U,pt))return"break";(0,O.isArray)(et)?(0,O.each)(et,function(ht){zt.emitDelegateEvent(U,ht,Et)}):u.emitDelegateEvent(U,et,Et)}},u=this,G=0;G<jt.length;G++){var Y=k(G);if(Y==="break")break}},Dt.prototype.emitDelegateEvent=function(Bt,Et,zt){var jt=this.getEvents(),Mt=Et+tt+zt.type;(jt[Mt]||jt[H])&&(zt.name=Mt,zt.currentTarget=Bt,zt.delegateTarget=this,zt.delegateObject=Bt.get("delegateObject"),this.emit(Mt,zt))},Dt.prototype.translate=function(Bt,Et){Bt===void 0&&(Bt=0),Et===void 0&&(Et=0);var zt=this.getMatrix(),jt=L(zt,[["t",Bt,Et]]);return this.setMatrix(jt),this},Dt.prototype.move=function(Bt,Et){var zt=this.attr("x")||0,jt=this.attr("y")||0;return this.translate(Bt-zt,Et-jt),this},Dt.prototype.moveTo=function(Bt,Et){return this.move(Bt,Et)},Dt.prototype.scale=function(Bt,Et){var zt=this.getMatrix(),jt=L(zt,[["s",Bt,Et||Bt]]);return this.setMatrix(jt),this},Dt.prototype.rotate=function(Bt){var Et=this.getMatrix(),zt=L(Et,[["r",Bt]]);return this.setMatrix(zt),this},Dt.prototype.rotateAtStart=function(Bt){var Et=this.attr(),zt=Et.x,jt=Et.y,Mt=this.getMatrix(),pt=L(Mt,[["t",-zt,-jt],["r",Bt],["t",zt,jt]]);return this.setMatrix(pt),this},Dt.prototype.rotateAtPoint=function(Bt,Et,zt){var jt=this.getMatrix(),Mt=L(jt,[["t",-Bt,-Et],["r",zt],["t",Bt,Et]]);return this.setMatrix(Mt),this},Dt}(M.Z),Yt=St},1756:function(dt,S,d){"use strict";var b=d(38251),O=d(36540),I=function(_){(0,b.ZT)(T,_);function T(){return _!==null&&_.apply(this,arguments)||this}return T.prototype.isGroup=function(){return!0},T.prototype.isEntityGroup=function(){return!1},T.prototype.clone=function(){for(var A=_.prototype.clone.call(this),C=this.getChildren(),E=0;E<C.length;E++){var p=C[E];A.add(p.clone())}return A},T}(O.Z);S.Z=I},51995:function(dt,S,d){"use strict";var b=d(38251),O=d(94638),I=d(93557),_=function(T){(0,b.ZT)(A,T);function A(C){return T.call(this,C)||this}return A.prototype._isInBBox=function(C,E){var p=this.getBBox();return p.minX<=C&&p.maxX>=C&&p.minY<=E&&p.maxY>=E},A.prototype.afterAttrsChange=function(C){T.prototype.afterAttrsChange.call(this,C),this.clearCacheBBox()},A.prototype.getBBox=function(){var C=this.cfg.bbox;return C||(C=this.calculateBBox(),this.set("bbox",C)),C},A.prototype.getCanvasBBox=function(){var C=this.cfg.canvasBBox;return C||(C=this.calculateCanvasBBox(),this.set("canvasBBox",C)),C},A.prototype.applyMatrix=function(C){T.prototype.applyMatrix.call(this,C),this.set("canvasBBox",null)},A.prototype.calculateCanvasBBox=function(){var C=this.getBBox(),E=this.getTotalMatrix(),p=C.minX,w=C.minY,y=C.maxX,m=C.maxY;if(E){var g=(0,I.rG)(E,[C.minX,C.minY]),M=(0,I.rG)(E,[C.maxX,C.minY]),L=(0,I.rG)(E,[C.minX,C.maxY]),B=(0,I.rG)(E,[C.maxX,C.maxY]);p=Math.min(g[0],M[0],L[0],B[0]),y=Math.max(g[0],M[0],L[0],B[0]),w=Math.min(g[1],M[1],L[1],B[1]),m=Math.max(g[1],M[1],L[1],B[1])}var N=this.attrs;if(N.shadowColor){var j=N.shadowBlur,tt=j===void 0?0:j,H=N.shadowOffsetX,J=H===void 0?0:H,ct=N.shadowOffsetY,ut=ct===void 0?0:ct,At=p-tt+J,St=y+tt+J,Yt=w-tt+ut,Tt=m+tt+ut;p=Math.min(p,At),y=Math.max(y,St),w=Math.min(w,Yt),m=Math.max(m,Tt)}return{x:p,y:w,minX:p,minY:w,maxX:y,maxY:m,width:y-p,height:m-w}},A.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},A.prototype.isClipShape=function(){return this.get("isClipShape")},A.prototype.isInShape=function(C,E){return!1},A.prototype.isOnlyHitBox=function(){return!1},A.prototype.isHit=function(C,E){var p=this.get("startArrowShape"),w=this.get("endArrowShape"),y=[C,E,1];y=this.invertFromMatrix(y);var m=y[0],g=y[1],M=this._isInBBox(m,g);return this.isOnlyHitBox()?M:!!(M&&!this.isClipped(m,g)&&(this.isInShape(m,g)||p&&p.isHit(m,g)||w&&w.isHit(m,g)))},A}(O.Z);S.Z=_},8364:function(dt,S,d){"use strict";d.d(S,{_:function(){return I},C:function(){return _}});var b=d(13681),O={};function I(T){return O[T.toLowerCase()]||b[T]}function _(T,A){O[T.toLowerCase()]=A}},95802:function(dt,S,d){"use strict";d.d(S,{b:function(){return I},W:function(){return O}});var b=new Map;function O(H,J){b.set(H,J)}function I(H){return b.get(H)}function _(H){var J=H.attr(),ct=J.x,ut=J.y,At=J.width,St=J.height;return{x:ct,y:ut,width:At,height:St}}function T(H){var J=H.attr(),ct=J.x,ut=J.y,At=J.r;return{x:ct-At,y:ut-At,width:At*2,height:At*2}}var A=d(89838);function C(H,J){return!H||!J?H||J:{minX:Math.min(H.minX,J.minX),minY:Math.min(H.minY,J.minY),maxX:Math.max(H.maxX,J.maxX),maxY:Math.max(H.maxY,J.maxY)}}function E(H,J){var ct=H.get("startArrowShape"),ut=H.get("endArrowShape"),At=null,St=null;return ct&&(At=ct.getCanvasBBox(),J=C(J,At)),ut&&(St=ut.getCanvasBBox(),J=C(J,St)),J}function p(H){for(var J=H.attr(),ct=J.points,ut=[],At=[],St=0;St<ct.length;St++){var Yt=ct[St];ut.push(Yt[0]),At.push(Yt[1])}var Tt=A.Util.getBBoxByArray(ut,At),Dt=Tt.x,Bt=Tt.y,Et=Tt.width,zt=Tt.height,jt={minX:Dt,minY:Bt,maxX:Dt+Et,maxY:Bt+zt};return jt=E(H,jt),{x:jt.minX,y:jt.minY,width:jt.maxX-jt.minX,height:jt.maxY-jt.minY}}function w(H){for(var J=H.attr(),ct=J.points,ut=[],At=[],St=0;St<ct.length;St++){var Yt=ct[St];ut.push(Yt[0]),At.push(Yt[1])}return A.Util.getBBoxByArray(ut,At)}var y=d(93323);function m(H){var J=H.attr(),ct=J.x,ut=J.y,At=J.text,St=J.fontSize,Yt=J.lineHeight,Tt=J.font;Tt||(Tt=(0,y.$O)(J));var Dt=(0,y.mY)(At,Tt),Bt;if(!Dt)Bt={x:ct,y:ut,width:0,height:0};else{var Et=J.textAlign,zt=J.textBaseline,jt=(0,y.FE)(At,St,Yt),Mt={x:ct,y:ut-jt};Et&&(Et==="end"||Et==="right"?Mt.x-=Dt:Et==="center"&&(Mt.x-=Dt/2)),zt&&(zt==="top"?Mt.y+=jt:zt==="middle"&&(Mt.y+=jt/2)),Bt={x:Mt.x,y:Mt.y,width:Dt,height:jt}}return Bt}var g=d(57350),M=d(49242);function L(H,J){for(var ct=[],ut=[],At=[],St=0;St<H.length;St++){var Yt=H[St],Tt=Yt.currentPoint,Dt=Yt.params,Bt=Yt.prePoint,Et=void 0;switch(Yt.command){case"Q":Et=A.Quad.box(Bt[0],Bt[1],Dt[1],Dt[2],Dt[3],Dt[4]);break;case"C":Et=A.Cubic.box(Bt[0],Bt[1],Dt[1],Dt[2],Dt[3],Dt[4],Dt[5],Dt[6]);break;case"A":var zt=Yt.arcParams;Et=A.Arc.box(zt.cx,zt.cy,zt.rx,zt.ry,zt.xRotation,zt.startAngle,zt.endAngle);break;default:ct.push(Tt[0]),ut.push(Tt[1]);break}Et&&(Yt.box=Et,ct.push(Et.x,Et.x+Et.width),ut.push(Et.y,Et.y+Et.height)),J&&(Yt.command==="L"||Yt.command==="M")&&Yt.prePoint&&Yt.nextPoint&&At.push(Yt)}ct=ct.filter(function(G){return!Number.isNaN(G)&&G!==Infinity&&G!==-Infinity}),ut=ut.filter(function(G){return!Number.isNaN(G)&&G!==Infinity&&G!==-Infinity});var jt=(0,M.min)(ct),Mt=(0,M.min)(ut),pt=(0,M.max)(ct),k=(0,M.max)(ut);if(At.length===0)return{x:jt,y:Mt,width:pt-jt,height:k-Mt};for(var St=0;St<At.length;St++){var Yt=At[St],Tt=Yt.currentPoint,u=void 0;Tt[0]===jt?(u=B(Yt,J),jt=jt-u.xExtra):Tt[0]===pt&&(u=B(Yt,J),pt=pt+u.xExtra),Tt[1]===Mt?(u=B(Yt,J),Mt=Mt-u.yExtra):Tt[1]===k&&(u=B(Yt,J),k=k+u.yExtra)}return{x:jt,y:Mt,width:pt-jt,height:k-Mt}}function B(H,J){var ct=H.prePoint,ut=H.currentPoint,At=H.nextPoint,St=Math.pow(ut[0]-ct[0],2)+Math.pow(ut[1]-ct[1],2),Yt=Math.pow(ut[0]-At[0],2)+Math.pow(ut[1]-At[1],2),Tt=Math.pow(ct[0]-At[0],2)+Math.pow(ct[1]-At[1],2),Dt=Math.acos((St+Yt-Tt)/(2*Math.sqrt(St)*Math.sqrt(Yt)));if(!Dt||Math.sin(Dt)===0||(0,M.isNumberEqual)(Dt,0))return{xExtra:0,yExtra:0};var Bt=Math.abs(Math.atan2(At[1]-ut[1],At[0]-ut[0])),Et=Math.abs(Math.atan2(At[0]-ut[0],At[1]-ut[1]));Bt=Bt>Math.PI/2?Math.PI-Bt:Bt,Et=Et>Math.PI/2?Math.PI-Et:Et;var zt={xExtra:Math.cos(Dt/2-Bt)*(J/2*(1/Math.sin(Dt/2)))-J/2||0,yExtra:Math.cos(Et-Dt/2)*(J/2*(1/Math.sin(Dt/2)))-J/2||0};return zt}function N(H){var J=H.attr(),ct=J.path,ut=J.stroke,At=ut?J.lineWidth:0,St=H.get("segments")||(0,g.path2Segments)(ct),Yt=L(St,At),Tt=Yt.x,Dt=Yt.y,Bt=Yt.width,Et=Yt.height,zt={minX:Tt,minY:Dt,maxX:Tt+Bt,maxY:Dt+Et};return zt=E(H,zt),{x:zt.minX,y:zt.minY,width:zt.maxX-zt.minX,height:zt.maxY-zt.minY}}function j(H){var J=H.attr(),ct=J.x1,ut=J.y1,At=J.x2,St=J.y2,Yt=Math.min(ct,At),Tt=Math.max(ct,At),Dt=Math.min(ut,St),Bt=Math.max(ut,St),Et={minX:Yt,maxX:Tt,minY:Dt,maxY:Bt};return Et=E(H,Et),{x:Et.minX,y:Et.minY,width:Et.maxX-Et.minX,height:Et.maxY-Et.minY}}function tt(H){var J=H.attr(),ct=J.x,ut=J.y,At=J.rx,St=J.ry;return{x:ct-At,y:ut-St,width:At*2,height:St*2}}O("rect",_),O("image",_),O("circle",T),O("marker",T),O("polyline",p),O("polygon",w),O("text",m),O("path",N),O("line",j),O("ellipse",tt)},65608:function(dt,S){"use strict";var d=function(){function b(O,I){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=O,this.name=O,this.originalEvent=I,this.timeStamp=I.timeStamp}return b.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},b.prototype.stopPropagation=function(){this.propagationStopped=!0},b.prototype.toString=function(){var O=this.type;return"[Event (type="+O+")]"},b.prototype.save=function(){},b.prototype.restore=function(){},b}();S.Z=d},85622:function(dt,S,d){"use strict";d.r(S),d.d(S,{Event:function(){return E.Z},Base:function(){return p.Z},AbstractCanvas:function(){return w.Z},AbstractGroup:function(){return y.Z},AbstractShape:function(){return m.Z},PathUtil:function(){return b},getBBoxMethod:function(){return g.b},registerBBox:function(){return g.W},getTextHeight:function(){return M.FE},assembleFont:function(){return M.$O},isAllowCapture:function(){return L.pP},multiplyVec2:function(){return B.rG},invert:function(){return B.U_},getOffScreenContext:function(){return N.L},registerEasing:function(){return j.C},version:function(){return tt}});var b=d(80234),O=d(82723),I=d.n(O),_={};for(var T in O)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(T)<0&&(_[T]=function(H){return O[H]}.bind(0,T));d.d(S,_);var A=d(12548),C=d.n(A),_={};for(var T in A)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(T)<0&&(_[T]=function(J){return A[J]}.bind(0,T));d.d(S,_);var E=d(65608),p=d(3935),w=d(28190),y=d(1756),m=d(51995),g=d(95802),M=d(93323),L=d(91241),B=d(93557),N=d(40897),j=d(8364),tt="0.5.11"},12548:function(){},82723:function(){},93557:function(dt,S,d){"use strict";d.d(S,{xq:function(){return b},rG:function(){return O},U_:function(){return I}});function b(_,T){var A=[],C=_[0],E=_[1],p=_[2],w=_[3],y=_[4],m=_[5],g=_[6],M=_[7],L=_[8],B=T[0],N=T[1],j=T[2],tt=T[3],H=T[4],J=T[5],ct=T[6],ut=T[7],At=T[8];return A[0]=B*C+N*w+j*g,A[1]=B*E+N*y+j*M,A[2]=B*p+N*m+j*L,A[3]=tt*C+H*w+J*g,A[4]=tt*E+H*y+J*M,A[5]=tt*p+H*m+J*L,A[6]=ct*C+ut*w+At*g,A[7]=ct*E+ut*y+At*M,A[8]=ct*p+ut*m+At*L,A}function O(_,T){var A=[],C=T[0],E=T[1];return A[0]=_[0]*C+_[3]*E+_[6],A[1]=_[1]*C+_[4]*E+_[7],A}function I(_){var T=[],A=_[0],C=_[1],E=_[2],p=_[3],w=_[4],y=_[5],m=_[6],g=_[7],M=_[8],L=M*w-y*g,B=-M*p+y*m,N=g*p-w*m,j=A*L+C*B+E*N;return j?(j=1/j,T[0]=L*j,T[1]=(-M*C+E*g)*j,T[2]=(y*C-E*w)*j,T[3]=B*j,T[4]=(M*A-E*m)*j,T[5]=(-y*A+E*p)*j,T[6]=N*j,T[7]=(-g*A+C*m)*j,T[8]=(w*A-C*p)*j,T):null}},40897:function(dt,S,d){"use strict";d.d(S,{L:function(){return O}});var b=null;function O(){if(!b){var I=document.createElement("canvas");I.width=1,I.height=1,b=I.getContext("2d")}return b}},80234:function(dt,S,d){"use strict";d.r(S),d.d(S,{catmullRomToBezier:function(){return A},fillPath:function(){return zt},fillPathByDiff:function(){return k},formatPath:function(){return Y},intersection:function(){return Tt},parsePathArray:function(){return M},parsePathString:function(){return T},pathToAbsolute:function(){return E},pathToCurve:function(){return m},rectPath:function(){return H}});var b=d(49242),O=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,I=new RegExp("([a-z])["+O+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+O+"]*,?["+O+"]*)+)","ig"),_=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+O+"]*,?["+O+"]*","ig"),T=function(V){if(!V)return null;if((0,b.isArray)(V))return V;var U={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},et=[];return String(V).replace(I,function(ht,Ft,bt){var at=[],xt=Ft.toLowerCase();if(bt.replace(_,function(lt,it){it&&at.push(+it)}),xt==="m"&&at.length>2&&(et.push([Ft].concat(at.splice(0,2))),xt="l",Ft=Ft==="m"?"l":"L"),xt==="o"&&at.length===1&&et.push([Ft,at[0]]),xt==="r")et.push([Ft].concat(at));else for(;at.length>=U[xt]&&(et.push([Ft].concat(at.splice(0,U[xt]))),!!U[xt]););return V}),et},A=function(V,U){for(var et=[],ht=0,Ft=V.length;Ft-2*!U>ht;ht+=2){var bt=[{x:+V[ht-2],y:+V[ht-1]},{x:+V[ht],y:+V[ht+1]},{x:+V[ht+2],y:+V[ht+3]},{x:+V[ht+4],y:+V[ht+5]}];U?ht?Ft-4===ht?bt[3]={x:+V[0],y:+V[1]}:Ft-2===ht&&(bt[2]={x:+V[0],y:+V[1]},bt[3]={x:+V[2],y:+V[3]}):bt[0]={x:+V[Ft-2],y:+V[Ft-1]}:Ft-4===ht?bt[3]=bt[2]:ht||(bt[0]={x:+V[ht],y:+V[ht+1]}),et.push(["C",(-bt[0].x+6*bt[1].x+bt[2].x)/6,(-bt[0].y+6*bt[1].y+bt[2].y)/6,(bt[1].x+6*bt[2].x-bt[3].x)/6,(bt[1].y+6*bt[2].y-bt[3].y)/6,bt[2].x,bt[2].y])}return et},C=function(V,U,et,ht,Ft){var bt=[];if(Ft===null&&ht===null&&(ht=et),V=+V,U=+U,et=+et,ht=+ht,Ft!==null){var at=Math.PI/180,xt=V+et*Math.cos(-ht*at),lt=V+et*Math.cos(-Ft*at),it=U+et*Math.sin(-ht*at),yt=U+et*Math.sin(-Ft*at);bt=[["M",xt,it],["A",et,et,0,+(Ft-ht>180),0,lt,yt]]}else bt=[["M",V,U],["m",0,-ht],["a",et,ht,0,1,1,0,2*ht],["a",et,ht,0,1,1,0,-2*ht],["z"]];return bt},E=function(V){if(V=T(V),!V||!V.length)return[["M",0,0]];var U=[],et=0,ht=0,Ft=0,bt=0,at=0,xt,lt;V[0][0]==="M"&&(et=+V[0][1],ht=+V[0][2],Ft=et,bt=ht,at++,U[0]=["M",et,ht]);for(var it=V.length===3&&V[0][0]==="M"&&V[1][0].toUpperCase()==="R"&&V[2][0].toUpperCase()==="Z",yt=void 0,ft=void 0,st=at,Ct=V.length;st<Ct;st++){if(U.push(yt=[]),ft=V[st],xt=ft[0],xt!==xt.toUpperCase())switch(yt[0]=xt.toUpperCase(),yt[0]){case"A":yt[1]=ft[1],yt[2]=ft[2],yt[3]=ft[3],yt[4]=ft[4],yt[5]=ft[5],yt[6]=+ft[6]+et,yt[7]=+ft[7]+ht;break;case"V":yt[1]=+ft[1]+ht;break;case"H":yt[1]=+ft[1]+et;break;case"R":lt=[et,ht].concat(ft.slice(1));for(var Rt=2,re=lt.length;Rt<re;Rt++)lt[Rt]=+lt[Rt]+et,lt[++Rt]=+lt[Rt]+ht;U.pop(),U=U.concat(A(lt,it));break;case"O":U.pop(),lt=C(et,ht,ft[1],ft[2]),lt.push(lt[0]),U=U.concat(lt);break;case"U":U.pop(),U=U.concat(C(et,ht,ft[1],ft[2],ft[3])),yt=["U"].concat(U[U.length-1].slice(-2));break;case"M":Ft=+ft[1]+et,bt=+ft[2]+ht;break;default:for(var Rt=1,re=ft.length;Rt<re;Rt++)yt[Rt]=+ft[Rt]+(Rt%2?et:ht)}else if(xt==="R")lt=[et,ht].concat(ft.slice(1)),U.pop(),U=U.concat(A(lt,it)),yt=["R"].concat(ft.slice(-2));else if(xt==="O")U.pop(),lt=C(et,ht,ft[1],ft[2]),lt.push(lt[0]),U=U.concat(lt);else if(xt==="U")U.pop(),U=U.concat(C(et,ht,ft[1],ft[2],ft[3])),yt=["U"].concat(U[U.length-1].slice(-2));else for(var pe=0,Me=ft.length;pe<Me;pe++)yt[pe]=ft[pe];if(xt=xt.toUpperCase(),xt!=="O")switch(yt[0]){case"Z":et=+Ft,ht=+bt;break;case"H":et=yt[1];break;case"V":ht=yt[1];break;case"M":Ft=yt[yt.length-2],bt=yt[yt.length-1];break;default:et=yt[yt.length-2],ht=yt[yt.length-1]}}return U},p=function(V,U,et,ht){return[V,U,et,ht,et,ht]},w=function(V,U,et,ht,Ft,bt){var at=1/3,xt=2/3;return[at*V+xt*et,at*U+xt*ht,at*Ft+xt*et,at*bt+xt*ht,Ft,bt]},y=function(V,U,et,ht,Ft,bt,at,xt,lt,it){et===ht&&(et+=1);var yt=Math.PI*120/180,ft=Math.PI/180*(+Ft||0),st=[],Ct,Rt,re,pe,Me,Xe=function(Qe,Pt,Ot){var W=Qe*Math.cos(Ot)-Pt*Math.sin(Ot),R=Qe*Math.sin(Ot)+Pt*Math.cos(Ot);return{x:W,y:R}};if(it)Rt=it[0],re=it[1],pe=it[2],Me=it[3];else{Ct=Xe(V,U,-ft),V=Ct.x,U=Ct.y,Ct=Xe(xt,lt,-ft),xt=Ct.x,lt=Ct.y,V===xt&&U===lt&&(xt+=1,lt+=1);var Be=(V-xt)/2,Re=(U-lt)/2,Ke=Be*Be/(et*et)+Re*Re/(ht*ht);Ke>1&&(Ke=Math.sqrt(Ke),et=Ke*et,ht=Ke*ht);var ar=et*et,Mr=ht*ht,sr=(bt===at?-1:1)*Math.sqrt(Math.abs((ar*Mr-ar*Re*Re-Mr*Be*Be)/(ar*Re*Re+Mr*Be*Be)));pe=sr*et*Re/ht+(V+xt)/2,Me=sr*-ht*Be/et+(U+lt)/2,Rt=Math.asin(((U-Me)/ht).toFixed(9)),re=Math.asin(((lt-Me)/ht).toFixed(9)),Rt=V<pe?Math.PI-Rt:Rt,re=xt<pe?Math.PI-re:re,Rt<0&&(Rt=Math.PI*2+Rt),re<0&&(re=Math.PI*2+re),at&&Rt>re&&(Rt=Rt-Math.PI*2),!at&&re>Rt&&(re=re-Math.PI*2)}var Xr=re-Rt;if(Math.abs(Xr)>yt){var pn=re,jr=xt,en=lt;re=Rt+yt*(at&&re>Rt?1:-1),xt=pe+et*Math.cos(re),lt=Me+ht*Math.sin(re),st=y(xt,lt,et,ht,Ft,0,at,jr,en,[re,pn,pe,Me])}Xr=re-Rt;var Xn=Math.cos(Rt),ni=Math.sin(Rt),gi=Math.cos(re),yi=Math.sin(re),te=Math.tan(Xr/4),he=4/3*et*te,be=4/3*ht*te,Se=[V,U],Le=[V+he*ni,U-be*Xn],Ne=[xt+he*yi,lt-be*gi],Fe=[xt,lt];if(Le[0]=2*Se[0]-Le[0],Le[1]=2*Se[1]-Le[1],it)return[Le,Ne,Fe].concat(st);st=[Le,Ne,Fe].concat(st).join().split(",");for(var Ve=[],Ae=0,rr=st.length;Ae<rr;Ae++)Ve[Ae]=Ae%2?Xe(st[Ae-1],st[Ae],ft).y:Xe(st[Ae],st[Ae+1],ft).x;return Ve},m=function(V,U){var et=E(V),ht=U&&E(U),Ft={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},bt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},at=[],xt=[],lt="",it="",yt,ft=function(Be,Re,Ke){var ar,Mr;if(!Be)return["C",Re.x,Re.y,Re.x,Re.y,Re.x,Re.y];switch(!(Be[0]in{T:1,Q:1})&&(Re.qx=Re.qy=null),Be[0]){case"M":Re.X=Be[1],Re.Y=Be[2];break;case"A":Be=["C"].concat(y.apply(0,[Re.x,Re.y].concat(Be.slice(1))));break;case"S":Ke==="C"||Ke==="S"?(ar=Re.x*2-Re.bx,Mr=Re.y*2-Re.by):(ar=Re.x,Mr=Re.y),Be=["C",ar,Mr].concat(Be.slice(1));break;case"T":Ke==="Q"||Ke==="T"?(Re.qx=Re.x*2-Re.qx,Re.qy=Re.y*2-Re.qy):(Re.qx=Re.x,Re.qy=Re.y),Be=["C"].concat(w(Re.x,Re.y,Re.qx,Re.qy,Be[1],Be[2]));break;case"Q":Re.qx=Be[1],Re.qy=Be[2],Be=["C"].concat(w(Re.x,Re.y,Be[1],Be[2],Be[3],Be[4]));break;case"L":Be=["C"].concat(p(Re.x,Re.y,Be[1],Be[2]));break;case"H":Be=["C"].concat(p(Re.x,Re.y,Be[1],Re.y));break;case"V":Be=["C"].concat(p(Re.x,Re.y,Re.x,Be[1]));break;case"Z":Be=["C"].concat(p(Re.x,Re.y,Re.X,Re.Y));break;default:break}return Be},st=function(Be,Re){if(Be[Re].length>7){Be[Re].shift();for(var Ke=Be[Re];Ke.length;)at[Re]="A",ht&&(xt[Re]="A"),Be.splice(Re++,0,["C"].concat(Ke.splice(0,6)));Be.splice(Re,1),yt=Math.max(et.length,ht&&ht.length||0)}},Ct=function(Be,Re,Ke,ar,Mr){Be&&Re&&Be[Mr][0]==="M"&&Re[Mr][0]!=="M"&&(Re.splice(Mr,0,["M",ar.x,ar.y]),Ke.bx=0,Ke.by=0,Ke.x=Be[Mr][1],Ke.y=Be[Mr][2],yt=Math.max(et.length,ht&&ht.length||0))};yt=Math.max(et.length,ht&&ht.length||0);for(var Rt=0;Rt<yt;Rt++){et[Rt]&&(lt=et[Rt][0]),lt!=="C"&&(at[Rt]=lt,Rt&&(it=at[Rt-1])),et[Rt]=ft(et[Rt],Ft,it),at[Rt]!=="A"&&lt==="C"&&(at[Rt]="C"),st(et,Rt),ht&&(ht[Rt]&&(lt=ht[Rt][0]),lt!=="C"&&(xt[Rt]=lt,Rt&&(it=xt[Rt-1])),ht[Rt]=ft(ht[Rt],bt,it),xt[Rt]!=="A"&&lt==="C"&&(xt[Rt]="C"),st(ht,Rt)),Ct(et,ht,Ft,bt,Rt),Ct(ht,et,bt,Ft,Rt);var re=et[Rt],pe=ht&&ht[Rt],Me=re.length,Xe=ht&&pe.length;Ft.x=re[Me-2],Ft.y=re[Me-1],Ft.bx=parseFloat(re[Me-4])||Ft.x,Ft.by=parseFloat(re[Me-3])||Ft.y,bt.bx=ht&&(parseFloat(pe[Xe-4])||bt.x),bt.by=ht&&(parseFloat(pe[Xe-3])||bt.y),bt.x=ht&&pe[Xe-2],bt.y=ht&&pe[Xe-1]}return ht?[et,ht]:et},g=/,?([a-z]),?/gi,M=function(V){return V.join(",").replace(g,"$1")},L=function(V,U,et,ht,Ft){var bt=-3*U+9*et-9*ht+3*Ft,at=V*bt+6*U-12*et+6*ht;return V*at-3*U+3*et},B=function(V,U,et,ht,Ft,bt,at,xt,lt){lt===null&&(lt=1),lt=lt>1?1:lt<0?0:lt;for(var it=lt/2,yt=12,ft=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],st=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Ct=0,Rt=0;Rt<yt;Rt++){var re=it*ft[Rt]+it,pe=L(re,V,et,Ft,at),Me=L(re,U,ht,bt,xt),Xe=pe*pe+Me*Me;Ct+=st[Rt]*Math.sqrt(Xe)}return it*Ct},N=function(V,U,et,ht,Ft,bt,at,xt){for(var lt=[],it=[[],[]],yt,ft,st,Ct,Rt=0;Rt<2;++Rt){if(Rt===0?(ft=6*V-12*et+6*Ft,yt=-3*V+9*et-9*Ft+3*at,st=3*et-3*V):(ft=6*U-12*ht+6*bt,yt=-3*U+9*ht-9*bt+3*xt,st=3*ht-3*U),Math.abs(yt)<1e-12){if(Math.abs(ft)<1e-12)continue;Ct=-st/ft,Ct>0&&Ct<1&&lt.push(Ct);continue}var re=ft*ft-4*st*yt,pe=Math.sqrt(re);if(!(re<0)){var Me=(-ft+pe)/(2*yt);Me>0&&Me<1&&lt.push(Me);var Xe=(-ft-pe)/(2*yt);Xe>0&&Xe<1&&lt.push(Xe)}}for(var Be=lt.length,Re=Be,Ke;Be--;)Ct=lt[Be],Ke=1-Ct,it[0][Be]=Ke*Ke*Ke*V+3*Ke*Ke*Ct*et+3*Ke*Ct*Ct*Ft+Ct*Ct*Ct*at,it[1][Be]=Ke*Ke*Ke*U+3*Ke*Ke*Ct*ht+3*Ke*Ct*Ct*bt+Ct*Ct*Ct*xt;return it[0][Re]=V,it[1][Re]=U,it[0][Re+1]=at,it[1][Re+1]=xt,it[0].length=it[1].length=Re+2,{min:{x:Math.min.apply(0,it[0]),y:Math.min.apply(0,it[1])},max:{x:Math.max.apply(0,it[0]),y:Math.max.apply(0,it[1])}}},j=function(V,U,et,ht,Ft,bt,at,xt){if(!(Math.max(V,et)<Math.min(Ft,at)||Math.min(V,et)>Math.max(Ft,at)||Math.max(U,ht)<Math.min(bt,xt)||Math.min(U,ht)>Math.max(bt,xt))){var lt=(V*ht-U*et)*(Ft-at)-(V-et)*(Ft*xt-bt*at),it=(V*ht-U*et)*(bt-xt)-(U-ht)*(Ft*xt-bt*at),yt=(V-et)*(bt-xt)-(U-ht)*(Ft-at);if(!!yt){var ft=lt/yt,st=it/yt,Ct=+ft.toFixed(2),Rt=+st.toFixed(2);if(!(Ct<+Math.min(V,et).toFixed(2)||Ct>+Math.max(V,et).toFixed(2)||Ct<+Math.min(Ft,at).toFixed(2)||Ct>+Math.max(Ft,at).toFixed(2)||Rt<+Math.min(U,ht).toFixed(2)||Rt>+Math.max(U,ht).toFixed(2)||Rt<+Math.min(bt,xt).toFixed(2)||Rt>+Math.max(bt,xt).toFixed(2)))return{x:ft,y:st}}}},tt=function(V,U,et){return U>=V.x&&U<=V.x+V.width&&et>=V.y&&et<=V.y+V.height},H=function(V,U,et,ht,Ft){if(Ft)return[["M",+V+ +Ft,U],["l",et-Ft*2,0],["a",Ft,Ft,0,0,1,Ft,Ft],["l",0,ht-Ft*2],["a",Ft,Ft,0,0,1,-Ft,Ft],["l",Ft*2-et,0],["a",Ft,Ft,0,0,1,-Ft,-Ft],["l",0,Ft*2-ht],["a",Ft,Ft,0,0,1,Ft,-Ft],["z"]];var bt=[["M",V,U],["l",et,0],["l",0,ht],["l",-et,0],["z"]];return bt.parsePathArray=M,bt},J=function(V,U,et,ht){return V===null&&(V=U=et=ht=0),U===null&&(U=V.y,et=V.width,ht=V.height,V=V.x),{x:V,y:U,width:et,w:et,height:ht,h:ht,x2:V+et,y2:U+ht,cx:V+et/2,cy:U+ht/2,r1:Math.min(et,ht)/2,r2:Math.max(et,ht)/2,r0:Math.sqrt(et*et+ht*ht)/2,path:H(V,U,et,ht),vb:[V,U,et,ht].join(" ")}},ct=function(V,U){return V=J(V),U=J(U),tt(U,V.x,V.y)||tt(U,V.x2,V.y)||tt(U,V.x,V.y2)||tt(U,V.x2,V.y2)||tt(V,U.x,U.y)||tt(V,U.x2,U.y)||tt(V,U.x,U.y2)||tt(V,U.x2,U.y2)||(V.x<U.x2&&V.x>U.x||U.x<V.x2&&U.x>V.x)&&(V.y<U.y2&&V.y>U.y||U.y<V.y2&&U.y>V.y)},ut=function(V,U,et,ht,Ft,bt,at,xt){(0,b.isArray)(V)||(V=[V,U,et,ht,Ft,bt,at,xt]);var lt=N.apply(null,V);return J(lt.min.x,lt.min.y,lt.max.x-lt.min.x,lt.max.y-lt.min.y)},At=function(V,U,et,ht,Ft,bt,at,xt,lt){var it=1-lt,yt=Math.pow(it,3),ft=Math.pow(it,2),st=lt*lt,Ct=st*lt,Rt=yt*V+ft*3*lt*et+it*3*lt*lt*Ft+Ct*at,re=yt*U+ft*3*lt*ht+it*3*lt*lt*bt+Ct*xt,pe=V+2*lt*(et-V)+st*(Ft-2*et+V),Me=U+2*lt*(ht-U)+st*(bt-2*ht+U),Xe=et+2*lt*(Ft-et)+st*(at-2*Ft+et),Be=ht+2*lt*(bt-ht)+st*(xt-2*bt+ht),Re=it*V+lt*et,Ke=it*U+lt*ht,ar=it*Ft+lt*at,Mr=it*bt+lt*xt,sr=90-Math.atan2(pe-Xe,Me-Be)*180/Math.PI;return{x:Rt,y:re,m:{x:pe,y:Me},n:{x:Xe,y:Be},start:{x:Re,y:Ke},end:{x:ar,y:Mr},alpha:sr}},St=function(V,U,et){var ht=ut(V),Ft=ut(U);if(!ct(ht,Ft))return et?0:[];for(var bt=B.apply(0,V),at=B.apply(0,U),xt=~~(bt/8),lt=~~(at/8),it=[],yt=[],ft={},st=et?0:[],Ct=0;Ct<xt+1;Ct++){var Rt=At.apply(0,V.concat(Ct/xt));it.push({x:Rt.x,y:Rt.y,t:Ct/xt})}for(var Ct=0;Ct<lt+1;Ct++){var Rt=At.apply(0,U.concat(Ct/lt));yt.push({x:Rt.x,y:Rt.y,t:Ct/lt})}for(var Ct=0;Ct<xt;Ct++)for(var re=0;re<lt;re++){var pe=it[Ct],Me=it[Ct+1],Xe=yt[re],Be=yt[re+1],Re=Math.abs(Me.x-pe.x)<.001?"y":"x",Ke=Math.abs(Be.x-Xe.x)<.001?"y":"x",ar=j(pe.x,pe.y,Me.x,Me.y,Xe.x,Xe.y,Be.x,Be.y);if(ar){if(ft[ar.x.toFixed(4)]===ar.y.toFixed(4))continue;ft[ar.x.toFixed(4)]=ar.y.toFixed(4);var Mr=pe.t+Math.abs((ar[Re]-pe[Re])/(Me[Re]-pe[Re]))*(Me.t-pe.t),sr=Xe.t+Math.abs((ar[Ke]-Xe[Ke])/(Be[Ke]-Xe[Ke]))*(Be.t-Xe.t);Mr>=0&&Mr<=1&&sr>=0&&sr<=1&&(et?st+=1:st.push({x:ar.x,y:ar.y,t1:Mr,t2:sr}))}}return st},Yt=function(V,U,et){V=m(V),U=m(U);for(var ht,Ft,bt,at,xt,lt,it,yt,ft,st,Ct=et?0:[],Rt=0,re=V.length;Rt<re;Rt++){var pe=V[Rt];if(pe[0]==="M")ht=xt=pe[1],Ft=lt=pe[2];else{pe[0]==="C"?(ft=[ht,Ft].concat(pe.slice(1)),ht=ft[6],Ft=ft[7]):(ft=[ht,Ft,ht,Ft,xt,lt,xt,lt],ht=xt,Ft=lt);for(var Me=0,Xe=U.length;Me<Xe;Me++){var Be=U[Me];if(Be[0]==="M")bt=it=Be[1],at=yt=Be[2];else{Be[0]==="C"?(st=[bt,at].concat(Be.slice(1)),bt=st[6],at=st[7]):(st=[bt,at,bt,at,it,yt,it,yt],bt=it,at=yt);var Re=St(ft,st,et);if(et)Ct+=Re;else{for(var Ke=0,ar=Re.length;Ke<ar;Ke++)Re[Ke].segment1=Rt,Re[Ke].segment2=Me,Re[Ke].bez1=ft,Re[Ke].bez2=st;Ct=Ct.concat(Re)}}}}}return Ct},Tt=function(V,U){return Yt(V,U)};function Dt(V,U){var et=[],ht=[];function Ft(bt,at){if(bt.length===1)et.push(bt[0]),ht.push(bt[0]);else{for(var xt=[],lt=0;lt<bt.length-1;lt++)lt===0&&et.push(bt[0]),lt===bt.length-2&&ht.push(bt[lt+1]),xt[lt]=[(1-at)*bt[lt][0]+at*bt[lt+1][0],(1-at)*bt[lt][1]+at*bt[lt+1][1]];Ft(xt,at)}}return V.length&&Ft(V,U),{left:et,right:ht.reverse()}}function Bt(V,U,et){var ht=[[V[1],V[2]]];et=et||2;var Ft=[];U[0]==="A"?(ht.push(U[6]),ht.push(U[7])):U[0]==="C"?(ht.push([U[1],U[2]]),ht.push([U[3],U[4]]),ht.push([U[5],U[6]])):U[0]==="S"||U[0]==="Q"?(ht.push([U[1],U[2]]),ht.push([U[3],U[4]])):ht.push([U[1],U[2]]);for(var bt=ht,at=1/et,xt=0;xt<et-1;xt++){var lt=at/(1-at*xt),it=Dt(bt,lt);Ft.push(it.left),bt=it.right}Ft.push(bt);var yt=Ft.map(function(ft){var st=[];return ft.length===4&&(st.push("C"),st=st.concat(ft[2])),ft.length>=3&&(ft.length===3&&st.push("Q"),st=st.concat(ft[1])),ft.length===2&&st.push("L"),st=st.concat(ft[ft.length-1]),st});return yt}var Et=function(V,U,et){if(et===1)return[[].concat(V)];var ht=[];if(U[0]==="L"||U[0]==="C"||U[0]==="Q")ht=ht.concat(Bt(V,U,et));else{var Ft=[].concat(V);Ft[0]==="M"&&(Ft[0]="L");for(var bt=0;bt<=et-1;bt++)ht.push(Ft)}return ht},zt=function(V,U){if(V.length===1)return V;var et=V.length-1,ht=U.length-1,Ft=et/ht,bt=[];if(V.length===1&&V[0][0]==="M"){for(var at=0;at<ht-et;at++)V.push(V[0]);return V}for(var at=0;at<ht;at++){var xt=Math.floor(Ft*at);bt[xt]=(bt[xt]||0)+1}var lt=bt.reduce(function(it,yt,ft){return ft===et?it.concat(V[et]):it.concat(Et(V[ft],V[ft+1],yt))},[]);return lt.unshift(V[0]),(U[ht]==="Z"||U[ht]==="z")&&lt.push("Z"),lt},jt=function(V,U){if(V.length!==U.length)return!1;var et=!0;return(0,b.each)(V,function(ht,Ft){if(ht!==U[Ft])return et=!1,!1}),et};function Mt(V,U,et){var ht=null,Ft=et;return U<Ft&&(Ft=U,ht="add"),V<Ft&&(Ft=V,ht="del"),{type:ht,min:Ft}}var pt=function(V,U){var et=V.length,ht=U.length,Ft,bt,at=0;if(et===0||ht===0)return null;for(var xt=[],lt=0;lt<=et;lt++)xt[lt]=[],xt[lt][0]={min:lt};for(var it=0;it<=ht;it++)xt[0][it]={min:it};for(var lt=1;lt<=et;lt++){Ft=V[lt-1];for(var it=1;it<=ht;it++){bt=U[it-1],jt(Ft,bt)?at=0:at=1;var yt=xt[lt-1][it].min+1,ft=xt[lt][it-1].min+1,st=xt[lt-1][it-1].min+at;xt[lt][it]=Mt(yt,ft,st)}}return xt},k=function(V,U){var et=pt(V,U),ht=V.length,Ft=U.length,bt=[],at=1,xt=1;if(et[ht][Ft].min!==ht){for(var lt=1;lt<=ht;lt++){var it=et[lt][lt].min;xt=lt;for(var yt=at;yt<=Ft;yt++)et[lt][yt].min<it&&(it=et[lt][yt].min,xt=yt);at=xt,et[lt][at].type&&bt.push({index:lt-1,type:et[lt][at].type})}for(var lt=bt.length-1;lt>=0;lt--)at=bt[lt].index,bt[lt].type==="add"?V.splice(at,0,[].concat(V[at])):V.splice(at,1)}ht=V.length;var ft=Ft-ht;if(ht<Ft)for(var lt=0;lt<ft;lt++)V[ht-1][0]==="z"||V[ht-1][0]==="Z"?V.splice(ht-2,0,V[ht-2]):V.push(V[ht-1]),ht+=1;return V};function u(V,U,et){for(var ht=[].concat(V),Ft,bt=1/(et+1),at=G(U)[0],xt=1;xt<=et;xt++)bt*=xt,Ft=Math.floor(V.length*bt),Ft===0?ht.unshift([at[0]*bt+V[Ft][0]*(1-bt),at[1]*bt+V[Ft][1]*(1-bt)]):ht.splice(Ft,0,[at[0]*bt+V[Ft][0]*(1-bt),at[1]*bt+V[Ft][1]*(1-bt)]);return ht}function G(V){var U=[];switch(V[0]){case"M":U.push([V[1],V[2]]);break;case"L":U.push([V[1],V[2]]);break;case"A":U.push([V[6],V[7]]);break;case"Q":U.push([V[3],V[4]]),U.push([V[1],V[2]]);break;case"T":U.push([V[1],V[2]]);break;case"C":U.push([V[5],V[6]]),U.push([V[1],V[2]]),U.push([V[3],V[4]]);break;case"S":U.push([V[3],V[4]]),U.push([V[1],V[2]]);break;case"H":U.push([V[1],V[1]]);break;case"V":U.push([V[1],V[1]]);break;default:}return U}var Y=function(V,U){if(V.length<=1)return V;for(var et,ht=0;ht<U.length;ht++)if(V[ht][0]!==U[ht][0])switch(et=G(V[ht]),U[ht][0]){case"M":V[ht]=["M"].concat(et[0]);break;case"L":V[ht]=["L"].concat(et[0]);break;case"A":V[ht]=[].concat(U[ht]),V[ht][6]=et[0][0],V[ht][7]=et[0][1];break;case"Q":if(et.length<2)if(ht>0)et=u(et,V[ht-1],1);else{V[ht]=U[ht];break}V[ht]=["Q"].concat(et.reduce(function(Ft,bt){return Ft.concat(bt)},[]));break;case"T":V[ht]=["T"].concat(et[0]);break;case"C":if(et.length<3)if(ht>0)et=u(et,V[ht-1],2);else{V[ht]=U[ht];break}V[ht]=["C"].concat(et.reduce(function(Ft,bt){return Ft.concat(bt)},[]));break;case"S":if(et.length<2)if(ht>0)et=u(et,V[ht-1],1);else{V[ht]=U[ht];break}V[ht]=["S"].concat(et.reduce(function(Ft,bt){return Ft.concat(bt)},[]));break;default:V[ht]=U[ht]}return V}},93323:function(dt,S,d){"use strict";d.d(S,{FE:function(){return I},mY:function(){return T},$O:function(){return A}});var b=d(91241),O=d(40897);function I(C,E,p){var w=1;if((0,b.HD)(C)&&(w=C.split(`
`).length),w>1){var y=_(E,p);return E*w+y*(w-1)}return E}function _(C,E){return E?E-C:C*.14}function T(C,E){var p=(0,O.L)(),w=0;if((0,b.kK)(C)||C==="")return w;if(p.save(),p.font=E,(0,b.HD)(C)&&C.includes(`
`)){var y=C.split(`
`);(0,b.S6)(y,function(m){var g=p.measureText(m).width;w<g&&(w=g)})}else w=p.measureText(C).width;return p.restore(),w}function A(C){var E=C.fontSize,p=C.fontFamily,w=C.fontWeight,y=C.fontStyle,m=C.fontVariant;return[y,m,w,E+"px",p].join(" ").trim()}},91241:function(dt,S,d){"use strict";d.d(S,{As:function(){return O},jU:function(){return I},kK:function(){return b.isNil},mf:function(){return b.isFunction},HD:function(){return b.isString},Kn:function(){return b.isObject},CD:function(){return b.mix},S6:function(){return b.each},jC:function(){return b.upperFirst},UY:function(){return _},pP:function(){return T}});var b=d(49242);function O(A,C){var E=A.indexOf(C);E!==-1&&A.splice(E,1)}var I=typeof window!="undefined"&&typeof window.document!="undefined";function _(A,C){if(A.isCanvas())return!0;for(var E=C.getParent(),p=!1;E;){if(E===A){p=!0;break}E=E.getParent()}return p}function T(A){return A.cfg.visible&&A.cfg.capture}},30490:function(dt,S){"use strict";var d;d={value:!0};var b=function(){function O(I,_){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=I,this.name=I,this.originalEvent=_,this.timeStamp=_.timeStamp}return O.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},O.prototype.stopPropagation=function(){this.propagationStopped=!0},O.prototype.toString=function(){var I=this.type;return"[Event (type="+I+")]"},O.prototype.save=function(){},O.prototype.restore=function(){},O}();S.Z=b},38251:function(dt,S,d){"use strict";d.d(S,{ZT:function(){return O}});var b=function(u,G){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,V){Y.__proto__=V}||function(Y,V){for(var U in V)Object.prototype.hasOwnProperty.call(V,U)&&(Y[U]=V[U])},b(u,G)};function O(u,G){if(typeof G!="function"&&G!==null)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");b(u,G);function Y(){this.constructor=u}u.prototype=G===null?Object.create(G):(Y.prototype=G.prototype,new Y)}var I=function(){return I=Object.assign||function(G){for(var Y,V=1,U=arguments.length;V<U;V++){Y=arguments[V];for(var et in Y)Object.prototype.hasOwnProperty.call(Y,et)&&(G[et]=Y[et])}return G},I.apply(this,arguments)};function _(u,G){var Y={};for(var V in u)Object.prototype.hasOwnProperty.call(u,V)&&G.indexOf(V)<0&&(Y[V]=u[V]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,V=Object.getOwnPropertySymbols(u);U<V.length;U++)G.indexOf(V[U])<0&&Object.prototype.propertyIsEnumerable.call(u,V[U])&&(Y[V[U]]=u[V[U]]);return Y}function T(u,G,Y,V){var U=arguments.length,et=U<3?G:V===null?V=Object.getOwnPropertyDescriptor(G,Y):V,ht;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")et=Reflect.decorate(u,G,Y,V);else for(var Ft=u.length-1;Ft>=0;Ft--)(ht=u[Ft])&&(et=(U<3?ht(et):U>3?ht(G,Y,et):ht(G,Y))||et);return U>3&&et&&Object.defineProperty(G,Y,et),et}function A(u,G){return function(Y,V){G(Y,V,u)}}function C(u,G,Y,V,U,et){function ht(Rt){if(Rt!==void 0&&typeof Rt!="function")throw new TypeError("Function expected");return Rt}for(var Ft=V.kind,bt=Ft==="getter"?"get":Ft==="setter"?"set":"value",at=!G&&u?V.static?u:u.prototype:null,xt=G||(at?Object.getOwnPropertyDescriptor(at,V.name):{}),lt,it=!1,yt=Y.length-1;yt>=0;yt--){var ft={};for(var st in V)ft[st]=st==="access"?{}:V[st];for(var st in V.access)ft.access[st]=V.access[st];ft.addInitializer=function(Rt){if(it)throw new TypeError("Cannot add initializers after decoration has completed");et.push(ht(Rt||null))};var Ct=(0,Y[yt])(Ft==="accessor"?{get:xt.get,set:xt.set}:xt[bt],ft);if(Ft==="accessor"){if(Ct===void 0)continue;if(Ct===null||typeof Ct!="object")throw new TypeError("Object expected");(lt=ht(Ct.get))&&(xt.get=lt),(lt=ht(Ct.set))&&(xt.set=lt),(lt=ht(Ct.init))&&U.unshift(lt)}else(lt=ht(Ct))&&(Ft==="field"?U.unshift(lt):xt[bt]=lt)}at&&Object.defineProperty(at,V.name,xt),it=!0}function E(u,G,Y){for(var V=arguments.length>2,U=0;U<G.length;U++)Y=V?G[U].call(u,Y):G[U].call(u);return V?Y:void 0}function p(u){return typeof u=="symbol"?u:"".concat(u)}function w(u,G,Y){return typeof G=="symbol"&&(G=G.description?"[".concat(G.description,"]"):""),Object.defineProperty(u,"name",{configurable:!0,value:Y?"".concat(Y," ",G):G})}function y(u,G){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,G)}function m(u,G,Y,V){function U(et){return et instanceof Y?et:new Y(function(ht){ht(et)})}return new(Y||(Y=Promise))(function(et,ht){function Ft(xt){try{at(V.next(xt))}catch(lt){ht(lt)}}function bt(xt){try{at(V.throw(xt))}catch(lt){ht(lt)}}function at(xt){xt.done?et(xt.value):U(xt.value).then(Ft,bt)}at((V=V.apply(u,G||[])).next())})}function g(u,G){var Y={label:0,sent:function(){if(et[0]&1)throw et[1];return et[1]},trys:[],ops:[]},V,U,et,ht;return ht={next:Ft(0),throw:Ft(1),return:Ft(2)},typeof Symbol=="function"&&(ht[Symbol.iterator]=function(){return this}),ht;function Ft(at){return function(xt){return bt([at,xt])}}function bt(at){if(V)throw new TypeError("Generator is already executing.");for(;ht&&(ht=0,at[0]&&(Y=0)),Y;)try{if(V=1,U&&(et=at[0]&2?U.return:at[0]?U.throw||((et=U.return)&&et.call(U),0):U.next)&&!(et=et.call(U,at[1])).done)return et;switch(U=0,et&&(at=[at[0]&2,et.value]),at[0]){case 0:case 1:et=at;break;case 4:return Y.label++,{value:at[1],done:!1};case 5:Y.label++,U=at[1],at=[0];continue;case 7:at=Y.ops.pop(),Y.trys.pop();continue;default:if(et=Y.trys,!(et=et.length>0&&et[et.length-1])&&(at[0]===6||at[0]===2)){Y=0;continue}if(at[0]===3&&(!et||at[1]>et[0]&&at[1]<et[3])){Y.label=at[1];break}if(at[0]===6&&Y.label<et[1]){Y.label=et[1],et=at;break}if(et&&Y.label<et[2]){Y.label=et[2],Y.ops.push(at);break}et[2]&&Y.ops.pop(),Y.trys.pop();continue}at=G.call(u,Y)}catch(xt){at=[6,xt],U=0}finally{V=et=0}if(at[0]&5)throw at[1];return{value:at[0]?at[1]:void 0,done:!0}}}var M=Object.create?function(u,G,Y,V){V===void 0&&(V=Y);var U=Object.getOwnPropertyDescriptor(G,Y);(!U||("get"in U?!G.__esModule:U.writable||U.configurable))&&(U={enumerable:!0,get:function(){return G[Y]}}),Object.defineProperty(u,V,U)}:function(u,G,Y,V){V===void 0&&(V=Y),u[V]=G[Y]};function L(u,G){for(var Y in u)Y!=="default"&&!Object.prototype.hasOwnProperty.call(G,Y)&&M(G,u,Y)}function B(u){var G=typeof Symbol=="function"&&Symbol.iterator,Y=G&&u[G],V=0;if(Y)return Y.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&V>=u.length&&(u=void 0),{value:u&&u[V++],done:!u}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}function N(u,G){var Y=typeof Symbol=="function"&&u[Symbol.iterator];if(!Y)return u;var V=Y.call(u),U,et=[],ht;try{for(;(G===void 0||G-- >0)&&!(U=V.next()).done;)et.push(U.value)}catch(Ft){ht={error:Ft}}finally{try{U&&!U.done&&(Y=V.return)&&Y.call(V)}finally{if(ht)throw ht.error}}return et}function j(){for(var u=[],G=0;G<arguments.length;G++)u=u.concat(N(arguments[G]));return u}function tt(){for(var u=0,G=0,Y=arguments.length;G<Y;G++)u+=arguments[G].length;for(var V=Array(u),U=0,G=0;G<Y;G++)for(var et=arguments[G],ht=0,Ft=et.length;ht<Ft;ht++,U++)V[U]=et[ht];return V}function H(u,G,Y){if(Y||arguments.length===2)for(var V=0,U=G.length,et;V<U;V++)(et||!(V in G))&&(et||(et=Array.prototype.slice.call(G,0,V)),et[V]=G[V]);return u.concat(et||Array.prototype.slice.call(G))}function J(u){return this instanceof J?(this.v=u,this):new J(u)}function ct(u,G,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var V=Y.apply(u,G||[]),U,et=[];return U={},ht("next"),ht("throw"),ht("return"),U[Symbol.asyncIterator]=function(){return this},U;function ht(it){V[it]&&(U[it]=function(yt){return new Promise(function(ft,st){et.push([it,yt,ft,st])>1||Ft(it,yt)})})}function Ft(it,yt){try{bt(V[it](yt))}catch(ft){lt(et[0][3],ft)}}function bt(it){it.value instanceof J?Promise.resolve(it.value.v).then(at,xt):lt(et[0][2],it)}function at(it){Ft("next",it)}function xt(it){Ft("throw",it)}function lt(it,yt){it(yt),et.shift(),et.length&&Ft(et[0][0],et[0][1])}}function ut(u){var G,Y;return G={},V("next"),V("throw",function(U){throw U}),V("return"),G[Symbol.iterator]=function(){return this},G;function V(U,et){G[U]=u[U]?function(ht){return(Y=!Y)?{value:J(u[U](ht)),done:!1}:et?et(ht):ht}:et}}function At(u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G=u[Symbol.asyncIterator],Y;return G?G.call(u):(u=typeof B=="function"?B(u):u[Symbol.iterator](),Y={},V("next"),V("throw"),V("return"),Y[Symbol.asyncIterator]=function(){return this},Y);function V(et){Y[et]=u[et]&&function(ht){return new Promise(function(Ft,bt){ht=u[et](ht),U(Ft,bt,ht.done,ht.value)})}}function U(et,ht,Ft,bt){Promise.resolve(bt).then(function(at){et({value:at,done:Ft})},ht)}}function St(u,G){return Object.defineProperty?Object.defineProperty(u,"raw",{value:G}):u.raw=G,u}var Yt=Object.create?function(u,G){Object.defineProperty(u,"default",{enumerable:!0,value:G})}:function(u,G){u.default=G};function Tt(u){if(u&&u.__esModule)return u;var G={};if(u!=null)for(var Y in u)Y!=="default"&&Object.prototype.hasOwnProperty.call(u,Y)&&M(G,u,Y);return Yt(G,u),G}function Dt(u){return u&&u.__esModule?u:{default:u}}function Bt(u,G,Y,V){if(Y==="a"&&!V)throw new TypeError("Private accessor was defined without a getter");if(typeof G=="function"?u!==G||!V:!G.has(u))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Y==="m"?V:Y==="a"?V.call(u):V?V.value:G.get(u)}function Et(u,G,Y,V,U){if(V==="m")throw new TypeError("Private method is not writable");if(V==="a"&&!U)throw new TypeError("Private accessor was defined without a setter");if(typeof G=="function"?u!==G||!U:!G.has(u))throw new TypeError("Cannot write private member to an object whose class did not declare it");return V==="a"?U.call(u,Y):U?U.value=Y:G.set(u,Y),Y}function zt(u,G){if(G===null||typeof G!="object"&&typeof G!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof u=="function"?G===u:u.has(G)}function jt(u,G,Y){if(G!=null){if(typeof G!="object"&&typeof G!="function")throw new TypeError("Object expected.");var V;if(Y){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");V=G[Symbol.asyncDispose]}if(V===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");V=G[Symbol.dispose]}if(typeof V!="function")throw new TypeError("Object not disposable.");u.stack.push({value:G,dispose:V,async:Y})}else Y&&u.stack.push({async:!0});return G}var Mt=typeof SuppressedError=="function"?SuppressedError:function(u,G,Y){var V=new Error(Y);return V.name="SuppressedError",V.error=u,V.suppressed=G,V};function pt(u){function G(V){u.error=u.hasError?new Mt(V,u.error,"An error was suppressed during disposal."):V,u.hasError=!0}function Y(){for(;u.stack.length;){var V=u.stack.pop();try{var U=V.dispose&&V.dispose.call(V.value);if(V.async)return Promise.resolve(U).then(Y,function(et){return G(et),Y()})}catch(et){G(et)}}if(u.hasError)throw u.error}return Y()}var k={__extends:O,__assign:I,__rest:_,__decorate:T,__param:A,__metadata:y,__awaiter:m,__generator:g,__createBinding:M,__exportStar:L,__values:B,__read:N,__spread:j,__spreadArrays:tt,__spreadArray:H,__await:J,__asyncGenerator:ct,__asyncDelegator:ut,__asyncValues:At,__makeTemplateObject:St,__importStar:Tt,__importDefault:Dt,__classPrivateFieldGet:Bt,__classPrivateFieldSet:Et,__classPrivateFieldIn:zt,__addDisposableResource:jt,__disposeResources:pt}},14563:function(dt,S,d){"use strict";var b;b={value:!0};var O=d(93470),I=d(85622),_=d(77096),T=d(63528),A=d(64830),C=d(21927),E=d(70530),p=function(w){O.__extends(y,w);function y(){return w!==null&&w.apply(this,arguments)||this}return y.prototype.getDefaultCfg=function(){var m=w.prototype.getDefaultCfg.call(this);return m.renderer="canvas",m.autoDraw=!0,m.localRefresh=!0,m.refreshElements=[],m.clipView=!0,m.quickHit=!1,m},y.prototype.onCanvasChange=function(m){(m==="attr"||m==="sort"||m==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},y.prototype.getShapeBase=function(){return T},y.prototype.getGroupBase=function(){return A.default},y.prototype.getPixelRatio=function(){var m=this.get("pixelRatio")||C.getPixelRatio();return m>=1?Math.ceil(m):1},y.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},y.prototype.createDom=function(){var m=document.createElement("canvas"),g=m.getContext("2d");return this.set("context",g),m},y.prototype.setDOMSize=function(m,g){w.prototype.setDOMSize.call(this,m,g);var M=this.get("context"),L=this.get("el"),B=this.getPixelRatio();L.width=B*m,L.height=B*g,B>1&&M.scale(B,B)},y.prototype.clear=function(){w.prototype.clear.call(this),this._clearFrame();var m=this.get("context"),g=this.get("el");m.clearRect(0,0,g.width,g.height)},y.prototype.getShape=function(m,g){var M;return this.get("quickHit")?M=_.getShape(this,m,g):M=w.prototype.getShape.call(this,m,g,null),M},y.prototype._getRefreshRegion=function(){var m=this.get("refreshElements"),g=this.getViewRange(),M;if(m.length&&m[0]===this)M=g;else if(M=E.getMergedRegion(m),M){M.minX=Math.floor(M.minX),M.minY=Math.floor(M.minY),M.maxX=Math.ceil(M.maxX),M.maxY=Math.ceil(M.maxY),M.maxY+=1;var L=this.get("clipView");L&&(M=E.mergeView(M,g))}return M},y.prototype.refreshElement=function(m){var g=this.get("refreshElements");g.push(m)},y.prototype._clearFrame=function(){var m=this.get("drawFrame");m&&(C.clearAnimationFrame(m),this.set("drawFrame",null),this.set("refreshElements",[]))},y.prototype.draw=function(){var m=this.get("drawFrame");this.get("autoDraw")&&m||this._startDraw()},y.prototype._drawAll=function(){var m=this.get("context"),g=this.get("el"),M=this.getChildren();m.clearRect(0,0,g.width,g.height),E.applyAttrsToContext(m,this),E.drawChildren(m,M),this.set("refreshElements",[])},y.prototype._drawRegion=function(){var m=this.get("context"),g=this.get("refreshElements"),M=this.getChildren(),L=this._getRefreshRegion();L?(m.clearRect(L.minX,L.minY,L.maxX-L.minX,L.maxY-L.minY),m.save(),m.beginPath(),m.rect(L.minX,L.minY,L.maxX-L.minX,L.maxY-L.minY),m.clip(),E.applyAttrsToContext(m,this),E.checkRefresh(this,M,L),E.drawChildren(m,M,L),m.restore()):g.length&&E.clearChanged(g),C.each(g,function(B){B.get("hasChanged")&&B.set("hasChanged",!1)}),this.set("refreshElements",[])},y.prototype._startDraw=function(){var m=this,g=this.get("drawFrame");g||(g=C.requestAnimationFrame(function(){m.get("localRefresh")?m._drawRegion():m._drawAll(),m.set("drawFrame",null)}),this.set("drawFrame",g))},y.prototype.skipDraw=function(){},y.prototype.removeDom=function(){var m=this.get("el");m.width=0,m.height=0,m.parentNode.removeChild(m)},y}(I.AbstractCanvas);S.Z=p},64830:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(93470),O=d(85622),I=d(63528),_=d(70530),T=d(49242),A=d(21927),C=function(E){b.__extends(p,E);function p(){return E!==null&&E.apply(this,arguments)||this}return p.prototype.onCanvasChange=function(w){_.refreshElement(this,w)},p.prototype.getShapeBase=function(){return I},p.prototype.getGroupBase=function(){return p},p.prototype._applyClip=function(w,y){y&&(w.save(),_.applyAttrsToContext(w,y),y.createPath(w),w.restore(),w.clip(),y._afterDraw())},p.prototype.cacheCanvasBBox=function(){var w=this.cfg.children,y=[],m=[];T.each(w,function(H){var J=H.cfg.cacheCanvasBBox;J&&H.cfg.isInView&&(y.push(J.minX,J.maxX),m.push(J.minY,J.maxY))});var g=null;if(y.length){var M=T.min(y),L=T.max(y),B=T.min(m),N=T.max(m);g={minX:M,minY:B,x:M,y:B,maxX:L,maxY:N,width:L-M,height:N-B};var j=this.cfg.canvas;if(j){var tt=j.getViewRange();this.set("isInView",A.intersectRect(g,tt))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",g)},p.prototype.draw=function(w,y){var m=this.cfg.children,g=y?this.cfg.refresh:!0;m.length&&g&&(w.save(),_.applyAttrsToContext(w,this),this._applyClip(w,this.getClip()),_.drawChildren(w,m,y),w.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},p.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},p}(O.AbstractGroup);S.default=C},41310:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(93470),O=d(85622),I=d(21927),_=d(70530),T=d(85622),A=d(63528),C=d(64830),E=function(p){b.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.getDefaultAttrs=function(){var y=p.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},y),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},w.prototype.getShapeBase=function(){return A},w.prototype.getGroupBase=function(){return C.default},w.prototype.onCanvasChange=function(y){_.refreshElement(this,y)},w.prototype.calculateBBox=function(){var y=this.get("type"),m=this.getHitLineWidth(),g=T.getBBoxMethod(y),M=g(this),L=m/2,B=M.x-L,N=M.y-L,j=M.x+M.width+L,tt=M.y+M.height+L;return{x:B,minX:B,y:N,minY:N,width:M.width+m,height:M.height+m,maxX:j,maxY:tt}},w.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},w.prototype.isStroke=function(){return!!this.attrs.stroke},w.prototype._applyClip=function(y,m){m&&(y.save(),_.applyAttrsToContext(y,m),m.createPath(y),y.restore(),y.clip(),m._afterDraw())},w.prototype.draw=function(y,m){var g=this.cfg.clipShape;if(m){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var M=this.getCanvasBBox();if(!I.intersectRect(m,M)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}y.save(),_.applyAttrsToContext(y,this),this._applyClip(y,g),this.drawPath(y),y.restore(),this._afterDraw()},w.prototype.getCanvasViewBox=function(){var y=this.cfg.canvas;return y?y.getViewRange():null},w.prototype.cacheCanvasBBox=function(){var y=this.getCanvasViewBox();if(y){var m=this.getCanvasBBox(),g=I.intersectRect(m,y);this.set("isInView",g),g?this.set("cacheCanvasBBox",m):this.set("cacheCanvasBBox",null)}},w.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},w.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},w.prototype.drawPath=function(y){this.createPath(y),this.strokeAndFill(y),this.afterDrawPath(y)},w.prototype.fill=function(y){y.fill()},w.prototype.stroke=function(y){y.stroke()},w.prototype.strokeAndFill=function(y){var m=this.attrs,g=m.lineWidth,M=m.opacity,L=m.strokeOpacity,B=m.fillOpacity;this.isFill()&&(!I.isNil(B)&&B!==1?(y.globalAlpha=B,this.fill(y),y.globalAlpha=M):this.fill(y)),this.isStroke()&&g>0&&(!I.isNil(L)&&L!==1&&(y.globalAlpha=L),this.stroke(y)),this.afterDrawPath(y)},w.prototype.createPath=function(y){},w.prototype.afterDrawPath=function(y){},w.prototype.isInShape=function(y,m){var g=this.isStroke(),M=this.isFill(),L=this.getHitLineWidth();return this.isInStrokeOrPath(y,m,g,M,L)},w.prototype.isInStrokeOrPath=function(y,m,g,M,L){return!1},w.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var y=this.attrs;return y.lineWidth+y.lineAppendWidth},w}(O.AbstractShape);S.default=E},22925:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(93470),O=d(41310),I=d(21927),_=function(T){b.__extends(A,T);function A(){return T!==null&&T.apply(this,arguments)||this}return A.prototype.getDefaultAttrs=function(){var C=T.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},C),{x:0,y:0,r:0})},A.prototype.isInStrokeOrPath=function(C,E,p,w,y){var m=this.attr(),g=m.x,M=m.y,L=m.r,B=y/2,N=I.distance(g,M,C,E);return w&&p?N<=L+B:w?N<=L:p?N>=L-B&&N<=L+B:!1},A.prototype.createPath=function(C){var E=this.attr(),p=E.x,w=E.y,y=E.r;C.beginPath(),C.arc(p,w,y,0,Math.PI*2,!1),C.closePath()},A}(O.default);S.default=_},21287:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(93470),O=d(41310);function I(T,A,C,E){return T/(C*C)+A/(E*E)}var _=function(T){b.__extends(A,T);function A(){return T!==null&&T.apply(this,arguments)||this}return A.prototype.getDefaultAttrs=function(){var C=T.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},C),{x:0,y:0,rx:0,ry:0})},A.prototype.isInStrokeOrPath=function(C,E,p,w,y){var m=this.attr(),g=y/2,M=m.x,L=m.y,B=m.rx,N=m.ry,j=(C-M)*(C-M),tt=(E-L)*(E-L);return w&&p?I(j,tt,B+g,N+g)<=1:w?I(j,tt,B,N)<=1:p?I(j,tt,B-g,N-g)>=1&&I(j,tt,B+g,N+g)<=1:!1},A.prototype.createPath=function(C){var E=this.attr(),p=E.x,w=E.y,y=E.rx,m=E.ry;if(C.beginPath(),C.ellipse)C.ellipse(p,w,y,m,0,0,Math.PI*2,!1);else{var g=y>m?y:m,M=y>m?1:y/m,L=y>m?m/y:1;C.save(),C.translate(p,w),C.scale(M,L),C.arc(0,0,g,0,Math.PI*2),C.restore(),C.closePath()}},A}(O.default);S.default=_},55303:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(93470),O=d(41310),I=d(21927);function _(A){return A instanceof HTMLElement&&I.isString(A.nodeName)&&A.nodeName.toUpperCase()==="CANVAS"}var T=function(A){b.__extends(C,A);function C(){return A!==null&&A.apply(this,arguments)||this}return C.prototype.getDefaultAttrs=function(){var E=A.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},E),{x:0,y:0,width:0,height:0})},C.prototype.initAttrs=function(E){this._setImage(E.img)},C.prototype.isStroke=function(){return!1},C.prototype.isOnlyHitBox=function(){return!0},C.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var E=this.get("canvas");E?E.draw():this.createPath(this.get("context"))}},C.prototype._setImage=function(E){var p=this,w=this.attrs;if(I.isString(E)){var y=new Image;y.onload=function(){if(p.destroyed)return!1;p.attr("img",y),p.set("loading",!1),p._afterLoading();var m=p.get("callback");m&&m.call(p)},y.crossOrigin="Anonymous",y.src=E,this.set("loading",!0)}else E instanceof Image?(w.width||(w.width=E.width),w.height||(w.height=E.height)):_(E)&&(w.width||(w.width=Number(E.getAttribute("width"))),w.height||(w.height,Number(E.getAttribute("height"))))},C.prototype.onAttrChange=function(E,p,w){A.prototype.onAttrChange.call(this,E,p,w),E==="img"&&this._setImage(p)},C.prototype.createPath=function(E){if(this.get("loading")){this.set("toDraw",!0),this.set("context",E);return}var p=this.attr(),w=p.x,y=p.y,m=p.width,g=p.height,M=p.sx,L=p.sy,B=p.swidth,N=p.sheight,j=p.img;(j instanceof Image||_(j))&&(!I.isNil(M)&&!I.isNil(L)&&!I.isNil(B)&&!I.isNil(N)?E.drawImage(j,M,L,B,N,w,y,m,g):E.drawImage(j,w,y,m,g))},C}(O.default);S.default=T},63528:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(41310);Object.defineProperty(S,"Base",{enumerable:!0,get:function(){return b.default}});var O=d(22925);Object.defineProperty(S,"Circle",{enumerable:!0,get:function(){return O.default}});var I=d(21287);Object.defineProperty(S,"Ellipse",{enumerable:!0,get:function(){return I.default}});var _=d(55303);Object.defineProperty(S,"Image",{enumerable:!0,get:function(){return _.default}});var T=d(65159);Object.defineProperty(S,"Line",{enumerable:!0,get:function(){return T.default}});var A=d(22034);Object.defineProperty(S,"Marker",{enumerable:!0,get:function(){return A.default}});var C=d(55263);Object.defineProperty(S,"Path",{enumerable:!0,get:function(){return C.default}});var E=d(69324);Object.defineProperty(S,"Polygon",{enumerable:!0,get:function(){return E.default}});var p=d(49067);Object.defineProperty(S,"Polyline",{enumerable:!0,get:function(){return p.default}});var w=d(9558);Object.defineProperty(S,"Rect",{enumerable:!0,get:function(){return w.default}});var y=d(17310);Object.defineProperty(S,"Text",{enumerable:!0,get:function(){return y.default}})},65159:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(93470),O=d(89838),I=d(41310),_=d(63161),T=d(27836),A=function(C){b.__extends(E,C);function E(){return C!==null&&C.apply(this,arguments)||this}return E.prototype.getDefaultAttrs=function(){var p=C.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},p),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},E.prototype.initAttrs=function(p){this.setArrow()},E.prototype.onAttrChange=function(p,w,y){C.prototype.onAttrChange.call(this,p,w,y),this.setArrow()},E.prototype.setArrow=function(){var p=this.attr(),w=p.x1,y=p.y1,m=p.x2,g=p.y2,M=p.startArrow,L=p.endArrow;M&&T.addStartArrow(this,p,m,g,w,y),L&&T.addEndArrow(this,p,w,y,m,g)},E.prototype.isInStrokeOrPath=function(p,w,y,m,g){if(!y||!g)return!1;var M=this.attr(),L=M.x1,B=M.y1,N=M.x2,j=M.y2;return _.default(L,B,N,j,g,p,w)},E.prototype.createPath=function(p){var w=this.attr(),y=w.x1,m=w.y1,g=w.x2,M=w.y2,L=w.startArrow,B=w.endArrow,N={dx:0,dy:0},j={dx:0,dy:0};L&&L.d&&(N=T.getShortenOffset(y,m,g,M,w.startArrow.d)),B&&B.d&&(j=T.getShortenOffset(y,m,g,M,w.endArrow.d)),p.beginPath(),p.moveTo(y+N.dx,m+N.dy),p.lineTo(g-j.dx,M-j.dy)},E.prototype.afterDrawPath=function(p){var w=this.get("startArrowShape"),y=this.get("endArrowShape");w&&w.draw(p),y&&y.draw(p)},E.prototype.getTotalLength=function(){var p=this.attr(),w=p.x1,y=p.y1,m=p.x2,g=p.y2;return O.Line.length(w,y,m,g)},E.prototype.getPoint=function(p){var w=this.attr(),y=w.x1,m=w.y1,g=w.x2,M=w.y2;return O.Line.pointAt(y,m,g,M,p)},E}(I.default);S.default=A},22034:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(93470),O=d(49242),I=d(57350),_=d(41310),T=d(21927),A=d(70530),C={circle:function(p,w,y){return[["M",p-y,w],["A",y,y,0,1,0,p+y,w],["A",y,y,0,1,0,p-y,w]]},square:function(p,w,y){return[["M",p-y,w-y],["L",p+y,w-y],["L",p+y,w+y],["L",p-y,w+y],["Z"]]},diamond:function(p,w,y){return[["M",p-y,w],["L",p,w-y],["L",p+y,w],["L",p,w+y],["Z"]]},triangle:function(p,w,y){var m=y*Math.sin(1/3*Math.PI);return[["M",p-y,w+m],["L",p,w-m],["L",p+y,w+m],["Z"]]},"triangle-down":function(p,w,y){var m=y*Math.sin(1/3*Math.PI);return[["M",p-y,w-m],["L",p+y,w-m],["L",p,w+m],["Z"]]}},E=function(p){b.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.initAttrs=function(y){this._resetParamsCache()},w.prototype._resetParamsCache=function(){this.set("paramsCache",{})},w.prototype.onAttrChange=function(y,m,g){p.prototype.onAttrChange.call(this,y,m,g),["symbol","x","y","r","radius"].indexOf(y)!==-1&&this._resetParamsCache()},w.prototype.isOnlyHitBox=function(){return!0},w.prototype._getR=function(y){return O.isNil(y.r)?y.radius:y.r},w.prototype._getPath=function(){var y=this.attr(),m=y.x,g=y.y,M=y.symbol||"circle",L=this._getR(y),B,N;if(T.isFunction(M))B=M,N=B(m,g,L),N=I.path2Absolute(N);else{if(B=w.Symbols[M],!B)return console.warn(M+" marker is not supported."),null;N=B(m,g,L)}return N},w.prototype.createPath=function(y){var m=this._getPath(),g=this.get("paramsCache");A.drawPath(this,y,{path:m},g)},w.Symbols=C,w}(_.default);S.default=E},55263:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(93470),O=d(89838),I=d(49242),_=d(41310),T=d(57350),A=d(70530),C=d(31977),E=d(50970),p=d(55531),w=d(27836);function y(g,M,L){for(var B=!1,N=0;N<g.length;N++){var j=g[N];if(B=E.default(j,M,L),B)break}return B}var m=function(g){b.__extends(M,g);function M(){return g!==null&&g.apply(this,arguments)||this}return M.prototype.getDefaultAttrs=function(){var L=g.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},L),{startArrow:!1,endArrow:!1})},M.prototype.initAttrs=function(L){this._setPathArr(L.path),this.setArrow()},M.prototype.onAttrChange=function(L,B,N){g.prototype.onAttrChange.call(this,L,B,N),L==="path"&&this._setPathArr(B),this.setArrow()},M.prototype._setPathArr=function(L){this.attrs.path=T.path2Absolute(L);var B=p.default.hasArc(L);this.set("hasArc",B),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},M.prototype.getSegments=function(){var L=this.get("segements");return L||(L=T.path2Segments(this.attr("path")),this.set("segments",L)),L},M.prototype.setArrow=function(){var L=this.attr(),B=L.startArrow,N=L.endArrow;if(B){var j=this.getStartTangent();w.addStartArrow(this,L,j[0][0],j[0][1],j[1][0],j[1][1])}if(N){var j=this.getEndTangent();w.addEndArrow(this,L,j[0][0],j[0][1],j[1][0],j[1][1])}},M.prototype.isInStrokeOrPath=function(L,B,N,j,tt){var H=this.getSegments(),J=this.get("hasArc"),ct=!1;if(N){var ut=this.getTotalLength();ct=p.default.isPointInStroke(H,tt,L,B,ut)}if(!ct&&j)if(J)ct=C.default(this,L,B);else{var At=this.attr("path"),St=p.default.extractPolygons(At);ct=y(St.polygons,L,B)||y(St.polylines,L,B)}return ct},M.prototype.createPath=function(L){var B=this.attr(),N=this.get("paramsCache");A.drawPath(this,L,B,N)},M.prototype.afterDrawPath=function(L){var B=this.get("startArrowShape"),N=this.get("endArrowShape");B&&B.draw(L),N&&N.draw(L)},M.prototype.getTotalLength=function(){var L=this.get("totalLength");return I.isNil(L)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):L},M.prototype.getPoint=function(L){var B=this.get("tCache");B||(this._calculateCurve(),this._setTcache(),B=this.get("tCache"));var N,j,tt=this.get("curve");if(!B||B.length===0)return tt?{x:tt[0][1],y:tt[0][2]}:null;I.each(B,function(ut,At){L>=ut[0]&&L<=ut[1]&&(N=(L-ut[0])/(ut[1]-ut[0]),j=At)});var H=tt[j];if(I.isNil(H)||I.isNil(j))return null;var J=H.length,ct=tt[j+1];return O.Cubic.pointAt(H[J-2],H[J-1],ct[1],ct[2],ct[3],ct[4],ct[5],ct[6],N)},M.prototype._calculateCurve=function(){var L=this.attr().path;this.set("curve",p.default.pathToCurve(L))},M.prototype._setTcache=function(){var L=0,B=0,N=[],j,tt,H,J,ct=this.get("curve");if(!!ct){if(I.each(ct,function(ut,At){H=ct[At+1],J=ut.length,H&&(L+=O.Cubic.length(ut[J-2],ut[J-1],H[1],H[2],H[3],H[4],H[5],H[6])||0)}),this.set("totalLength",L),L===0){this.set("tCache",[]);return}I.each(ct,function(ut,At){H=ct[At+1],J=ut.length,H&&(j=[],j[0]=B/L,tt=O.Cubic.length(ut[J-2],ut[J-1],H[1],H[2],H[3],H[4],H[5],H[6]),B+=tt||0,j[1]=B/L,N.push(j))}),this.set("tCache",N)}},M.prototype.getStartTangent=function(){var L=this.getSegments(),B;if(L.length>1){var N=L[0].currentPoint,j=L[1].currentPoint,tt=L[1].startTangent;B=[],tt?(B.push([N[0]-tt[0],N[1]-tt[1]]),B.push([N[0],N[1]])):(B.push([j[0],j[1]]),B.push([N[0],N[1]]))}return B},M.prototype.getEndTangent=function(){var L=this.getSegments(),B=L.length,N;if(B>1){var j=L[B-2].currentPoint,tt=L[B-1].currentPoint,H=L[B-1].endTangent;N=[],H?(N.push([tt[0]-H[0],tt[1]-H[1]]),N.push([tt[0],tt[1]])):(N.push([j[0],j[1]]),N.push([tt[0],tt[1]]))}return N},M}(_.default);S.default=m},69324:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(93470),O=d(41310),I=d(39761),_=d(50970),T=function(A){b.__extends(C,A);function C(){return A!==null&&A.apply(this,arguments)||this}return C.prototype.isInStrokeOrPath=function(E,p,w,y,m){var g=this.attr().points,M=!1;return w&&(M=I.default(g,m,E,p,!0)),!M&&y&&(M=_.default(g,E,p)),M},C.prototype.createPath=function(E){var p=this.attr(),w=p.points;if(!(w.length<2)){E.beginPath();for(var y=0;y<w.length;y++){var m=w[y];y===0?E.moveTo(m[0],m[1]):E.lineTo(m[0],m[1])}E.closePath()}},C}(O.default);S.default=T},49067:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(93470),O=d(89838),I=d(89838),_=d(49242),T=d(41310),A=d(39761),C=d(27836),E=function(p){b.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.getDefaultAttrs=function(){var y=p.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},y),{startArrow:!1,endArrow:!1})},w.prototype.initAttrs=function(y){this.setArrow()},w.prototype.onAttrChange=function(y,m,g){p.prototype.onAttrChange.call(this,y,m,g),this.setArrow(),["points"].indexOf(y)!==-1&&this._resetCache()},w.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},w.prototype.setArrow=function(){var y=this.attr(),m=this.attrs,g=m.points,M=m.startArrow,L=m.endArrow,B=g.length,N=g[0][0],j=g[0][1],tt=g[B-1][0],H=g[B-1][1];M&&C.addStartArrow(this,y,g[1][0],g[1][1],N,j),L&&C.addEndArrow(this,y,g[B-2][0],g[B-2][1],tt,H)},w.prototype.isFill=function(){return!1},w.prototype.isInStrokeOrPath=function(y,m,g,M,L){if(!g||!L)return!1;var B=this.attr().points;return A.default(B,L,y,m,!1)},w.prototype.isStroke=function(){return!0},w.prototype.createPath=function(y){var m=this.attr(),g=m.points,M=m.startArrow,L=m.endArrow,B=g.length;if(!(g.length<2)){var N=g[0][0],j=g[0][1],tt=g[B-1][0],H=g[B-1][1];if(M&&M.d){var J=C.getShortenOffset(N,j,g[1][0],g[1][1],M.d);N+=J.dx,j+=J.dy}if(L&&L.d){var J=C.getShortenOffset(g[B-2][0],g[B-2][1],tt,H,L.d);tt-=J.dx,H-=J.dy}y.beginPath(),y.moveTo(N,j);for(var ct=0;ct<B-1;ct++){var ut=g[ct];y.lineTo(ut[0],ut[1])}y.lineTo(tt,H)}},w.prototype.afterDrawPath=function(y){var m=this.get("startArrowShape"),g=this.get("endArrowShape");m&&m.draw(y),g&&g.draw(y)},w.prototype.getTotalLength=function(){var y=this.attr().points,m=this.get("totalLength");return _.isNil(m)?(this.set("totalLength",I.Polyline.length(y)),this.get("totalLength")):m},w.prototype.getPoint=function(y){var m=this.attr().points,g=this.get("tCache");g||(this._setTcache(),g=this.get("tCache"));var M,L;return _.each(g,function(B,N){y>=B[0]&&y<=B[1]&&(M=(y-B[0])/(B[1]-B[0]),L=N)}),O.Line.pointAt(m[L][0],m[L][1],m[L+1][0],m[L+1][1],M)},w.prototype._setTcache=function(){var y=this.attr().points;if(!(!y||y.length===0)){var m=this.getTotalLength();if(!(m<=0)){var g=0,M=[],L,B;_.each(y,function(N,j){y[j+1]&&(L=[],L[0]=g/m,B=O.Line.length(N[0],N[1],y[j+1][0],y[j+1][1]),g+=B,L[1]=g/m,M.push(L))}),this.set("tCache",M)}}},w.prototype.getStartTangent=function(){var y=this.attr().points,m=[];return m.push([y[1][0],y[1][1]]),m.push([y[0][0],y[0][1]]),m},w.prototype.getEndTangent=function(){var y=this.attr().points,m=y.length-1,g=[];return g.push([y[m-1][0],y[m-1][1]]),g.push([y[m][0],y[m][1]]),g},w}(T.default);S.default=E},9558:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(93470),O=d(41310),I=d(93377),_=d(21927),T=d(21897),A=d(46647),C=d(31977),E=function(p){b.__extends(w,p);function w(){return p!==null&&p.apply(this,arguments)||this}return w.prototype.getDefaultAttrs=function(){var y=p.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},y),{x:0,y:0,width:0,height:0,radius:0})},w.prototype.isInStrokeOrPath=function(y,m,g,M,L){var B=this.attr(),N=B.x,j=B.y,tt=B.width,H=B.height,J=B.radius;if(J){var ut=!1;return g&&(ut=A.default(N,j,tt,H,J,L,y,m)),!ut&&M&&(ut=C.default(this,y,m)),ut}else{var ct=L/2;if(M&&g)return _.inBox(N-ct,j-ct,tt+ct,H+ct,y,m);if(M)return _.inBox(N,j,tt,H,y,m);if(g)return T.default(N,j,tt,H,L,y,m)}},w.prototype.createPath=function(y){var m=this.attr(),g=m.x,M=m.y,L=m.width,B=m.height,N=m.radius;if(y.beginPath(),N===0)y.rect(g,M,L,B);else{var j=I.parseRadius(N),tt=j[0],H=j[1],J=j[2],ct=j[3];y.moveTo(g+tt,M),y.lineTo(g+L-H,M),H!==0&&y.arc(g+L-H,M+H,H,-Math.PI/2,0),y.lineTo(g+L,M+B-J),J!==0&&y.arc(g+L-J,M+B-J,J,0,Math.PI/2),y.lineTo(g+ct,M+B),ct!==0&&y.arc(g+ct,M+B-ct,ct,Math.PI/2,Math.PI),y.lineTo(g,M+tt),tt!==0&&y.arc(g+tt,M+tt,tt,Math.PI,Math.PI*1.5),y.closePath()}},w}(O.default);S.default=E},17310:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(93470),O=d(41310),I=d(21927),_=d(85622),T=function(A){b.__extends(C,A);function C(){return A!==null&&A.apply(this,arguments)||this}return C.prototype.getDefaultAttrs=function(){var E=A.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},E),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},C.prototype.isOnlyHitBox=function(){return!0},C.prototype.initAttrs=function(E){this._assembleFont(),E.text&&this._setText(E.text)},C.prototype._assembleFont=function(){var E=this.attrs;E.font=_.assembleFont(E)},C.prototype._setText=function(E){var p=null;I.isString(E)&&E.indexOf(`
`)!==-1&&(p=E.split(`
`)),this.set("textArr",p)},C.prototype.onAttrChange=function(E,p,w){A.prototype.onAttrChange.call(this,E,p,w),E.startsWith("font")&&this._assembleFont(),E==="text"&&this._setText(p)},C.prototype._getSpaceingY=function(){var E=this.attrs,p=E.lineHeight,w=E.fontSize*1;return p?p-w:w*.14},C.prototype._drawTextArr=function(E,p,w){var y=this.attrs,m=y.textBaseline,g=y.x,M=y.y,L=y.fontSize*1,B=this._getSpaceingY(),N=_.getTextHeight(y.text,y.fontSize,y.lineHeight),j;I.each(p,function(tt,H){j=M+H*(B+L)-N+L,m==="middle"&&(j+=N-L-(N-L)/2),m==="top"&&(j+=N-L),I.isNil(tt)||(w?E.fillText(tt,g,j):E.strokeText(tt,g,j))})},C.prototype._drawText=function(E,p){var w=this.attr(),y=w.x,m=w.y,g=this.get("textArr");if(g)this._drawTextArr(E,g,p);else{var M=w.text;I.isNil(M)||(p?E.fillText(M,y,m):E.strokeText(M,y,m))}},C.prototype.strokeAndFill=function(E){var p=this.attrs,w=p.lineWidth,y=p.opacity,m=p.strokeOpacity,g=p.fillOpacity;this.isStroke()&&w>0&&(!I.isNil(m)&&m!==1&&(E.globalAlpha=y),this.stroke(E)),this.isFill()&&(!I.isNil(g)&&g!==1?(E.globalAlpha=g,this.fill(E),E.globalAlpha=y):this.fill(E)),this.afterDrawPath(E)},C.prototype.fill=function(E){this._drawText(E,!0)},C.prototype.stroke=function(E){this._drawText(E,!1)},C}(O.default);S.default=T},44706:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(21927);function O(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1])}function I(A,C){return O(A)*O(C)?(A[0]*C[0]+A[1]*C[1])/(O(A)*O(C)):1}function _(A,C){return(A[0]*C[1]<A[1]*C[0]?-1:1)*Math.acos(I(A,C))}function T(A,C){var E=C[1],p=C[2],w=b.mod(b.toRadian(C[3]),Math.PI*2),y=C[4],m=C[5],g=A[0],M=A[1],L=C[6],B=C[7],N=Math.cos(w)*(g-L)/2+Math.sin(w)*(M-B)/2,j=-1*Math.sin(w)*(g-L)/2+Math.cos(w)*(M-B)/2,tt=N*N/(E*E)+j*j/(p*p);tt>1&&(E*=Math.sqrt(tt),p*=Math.sqrt(tt));var H=E*E*(j*j)+p*p*(N*N),J=H?Math.sqrt((E*E*(p*p)-H)/H):1;y===m&&(J*=-1),isNaN(J)&&(J=0);var ct=p?J*E*j/p:0,ut=E?J*-p*N/E:0,At=(g+L)/2+Math.cos(w)*ct-Math.sin(w)*ut,St=(M+B)/2+Math.sin(w)*ct+Math.cos(w)*ut,Yt=[(N-ct)/E,(j-ut)/p],Tt=[(-1*N-ct)/E,(-1*j-ut)/p],Dt=_([1,0],Yt),Bt=_(Yt,Tt);return I(Yt,Tt)<=-1&&(Bt=Math.PI),I(Yt,Tt)>=1&&(Bt=0),m===0&&Bt>0&&(Bt=Bt-2*Math.PI),m===1&&Bt<0&&(Bt=Bt+2*Math.PI),{cx:At,cy:St,rx:b.isSamePoint(A,[L,B])?0:E,ry:b.isSamePoint(A,[L,B])?0:p,startAngle:Dt,endAngle:Dt+Bt,xRotation:w,arcFlag:y,sweepFlag:m}}S.default=T},27836:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.addEndArrow=S.addStartArrow=S.getShortenOffset=void 0;var b=d(93470),O=d(63528),I=Math.sin,_=Math.cos,T=Math.atan2,A=Math.PI;function C(m,g,M,L,B,N,j){var tt=g.stroke,H=g.lineWidth,J=M-B,ct=L-N,ut=T(ct,J),At=new O.Path({type:"path",canvas:m.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*_(A/6)+","+10*I(A/6)+" L0,0 L"+10*_(A/6)+",-"+10*I(A/6),stroke:tt,lineWidth:H}});At.translate(B,N),At.rotateAtPoint(B,N,ut),m.set(j?"startArrowShape":"endArrowShape",At)}function E(m,g,M,L,B,N,j){var tt=g.startArrow,H=g.endArrow,J=g.stroke,ct=g.lineWidth,ut=j?tt:H,At=ut.d,St=ut.fill,Yt=ut.stroke,Tt=ut.lineWidth,Dt=b.__rest(ut,["d","fill","stroke","lineWidth"]),Bt=M-B,Et=L-N,zt=T(Et,Bt);At&&(B=B-_(zt)*At,N=N-I(zt)*At);var jt=new O.Path({type:"path",canvas:m.get("canvas"),isArrowShape:!0,attrs:b.__assign(b.__assign({},Dt),{stroke:Yt||J,lineWidth:Tt||ct,fill:St})});jt.translate(B,N),jt.rotateAtPoint(B,N,zt),m.set(j?"startArrowShape":"endArrowShape",jt)}function p(m,g,M,L,B){var N=T(L-g,M-m);return{dx:_(N)*B,dy:I(N)*B}}S.getShortenOffset=p;function w(m,g,M,L,B,N){typeof g.startArrow=="object"?E(m,g,M,L,B,N,!0):g.startArrow?C(m,g,M,L,B,N,!0):m.set("startArrowShape",null)}S.addStartArrow=w;function y(m,g,M,L,B,N){typeof g.endArrow=="object"?E(m,g,M,L,B,N,!1):g.endArrow?C(m,g,M,L,B,N,!1):m.set("startArrowShape",null)}S.addEndArrow=y},70530:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.mergeView=S.getMergedRegion=S.getRefreshRegion=S.refreshElement=S.drawPath=S.clearChanged=S.checkChildrenRefresh=S.checkRefresh=S.drawChildren=S.applyAttrsToContext=void 0;var b=d(49242),O=d(93377),I=d(44706),_=d(21927),T=d(27836),A={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function C(tt,H){var J=H.attr();for(var ct in J){var ut=J[ct],At=A[ct]?A[ct]:ct;At==="matrix"&&ut?tt.transform(ut[0],ut[1],ut[3],ut[4],ut[6],ut[7]):At==="lineDash"&&tt.setLineDash?b.isArray(ut)&&tt.setLineDash(ut):(At==="strokeStyle"||At==="fillStyle"?ut=O.parseStyle(tt,H,ut):At==="globalAlpha"&&(ut=ut*tt.globalAlpha),tt[At]=ut)}}S.applyAttrsToContext=C;function E(tt,H,J){for(var ct=0;ct<H.length;ct++){var ut=H[ct];ut.cfg.visible?ut.draw(tt,J):ut.skipDraw()}}S.drawChildren=E;function p(tt,H,J){var ct=tt.get("refreshElements");b.each(ct,function(ut){if(ut!==tt)for(var At=ut.cfg.parent;At&&At!==tt&&!At.cfg.refresh;)At.cfg.refresh=!0,At=At.cfg.parent}),ct[0]===tt?m(H,J):w(H,J)}S.checkRefresh=p;function w(tt,H){for(var J=0;J<tt.length;J++){var ct=tt[J];if(ct.cfg.visible)if(ct.cfg.hasChanged)ct.cfg.refresh=!0,ct.isGroup()&&m(ct.cfg.children,H);else if(ct.cfg.refresh)ct.isGroup()&&w(ct.cfg.children,H);else{var ut=g(ct,H);ct.cfg.refresh=ut,ut&&ct.isGroup()&&w(ct.cfg.children,H)}}}S.checkChildrenRefresh=w;function y(tt){for(var H=0;H<tt.length;H++){var J=tt[H];J.cfg.hasChanged=!1,J.isGroup()&&!J.destroyed&&y(J.cfg.children)}}S.clearChanged=y;function m(tt,H){for(var J=0;J<tt.length;J++){var ct=tt[J];!ct.cfg.visible||(ct.cfg.refresh=!0,ct.isGroup()&&m(ct.get("children"),H))}}function g(tt,H){var J=tt.cfg.cacheCanvasBBox,ct=tt.cfg.isInView&&J&&_.intersectRect(J,H);return ct}function M(tt,H,J,ct){var ut=J.path,At=J.startArrow,St=J.endArrow;if(!!ut){var Yt=[0,0],Tt=[0,0],Dt={dx:0,dy:0};H.beginPath();for(var Bt=0;Bt<ut.length;Bt++){var Et=ut[Bt],zt=Et[0];if(Bt===0&&At&&At.d){var jt=tt.getStartTangent();Dt=T.getShortenOffset(jt[0][0],jt[0][1],jt[1][0],jt[1][1],At.d)}else if(Bt===ut.length-2&&ut[Bt+1][0]==="Z"&&St&&St.d){var Mt=ut[Bt+1];if(Mt[0]==="Z"){var jt=tt.getEndTangent();Dt=T.getShortenOffset(jt[0][0],jt[0][1],jt[1][0],jt[1][1],St.d)}}else if(Bt===ut.length-1&&St&&St.d&&ut[0]!=="Z"){var jt=tt.getEndTangent();Dt=T.getShortenOffset(jt[0][0],jt[0][1],jt[1][0],jt[1][1],St.d)}var pt=Dt.dx,k=Dt.dy;switch(zt){case"M":H.moveTo(Et[1]-pt,Et[2]-k),Tt=[Et[1],Et[2]];break;case"L":H.lineTo(Et[1]-pt,Et[2]-k);break;case"Q":H.quadraticCurveTo(Et[1],Et[2],Et[3]-pt,Et[4]-k);break;case"C":H.bezierCurveTo(Et[1],Et[2],Et[3],Et[4],Et[5]-pt,Et[6]-k);break;case"A":{var u=void 0;ct?(u=ct[Bt],u||(u=I.default(Yt,Et),ct[Bt]=u)):u=I.default(Yt,Et);var G=u.cx,Y=u.cy,V=u.rx,U=u.ry,et=u.startAngle,ht=u.endAngle,Ft=u.xRotation,bt=u.sweepFlag;if(H.ellipse)H.ellipse(G,Y,V,U,Ft,et,ht,1-bt);else{var at=V>U?V:U,xt=V>U?1:V/U,lt=V>U?U/V:1;H.translate(G,Y),H.rotate(Ft),H.scale(xt,lt),H.arc(0,0,at,et,ht,1-bt),H.scale(1/xt,1/lt),H.rotate(-Ft),H.translate(-G,-Y)}break}case"Z":H.closePath();break;default:break}if(zt==="Z")Yt=Tt;else{var it=Et.length;Yt=[Et[it-2],Et[it-1]]}}}}S.drawPath=M;function L(tt,H){var J=tt.get("canvas");J&&(H==="remove"&&(tt._cacheCanvasBBox=tt.get("cacheCanvasBBox")),tt.get("hasChanged")||(tt.set("hasChanged",!0),tt.cfg.parent&&tt.cfg.parent.get("hasChanged")||(J.refreshElement(tt,H,J),J.get("autoDraw")&&J.draw())))}S.refreshElement=L;function B(tt){var H;if(tt.destroyed)H=tt._cacheCanvasBBox;else{var J=tt.get("cacheCanvasBBox"),ct=J&&!!(J.width&&J.height),ut=tt.getCanvasBBox(),At=ut&&!!(ut.width&&ut.height);ct&&At?H=_.mergeRegion(J,ut):ct?H=J:At&&(H=ut)}return H}S.getRefreshRegion=B;function N(tt){if(!tt.length)return null;var H=[],J=[],ct=[],ut=[];return b.each(tt,function(At){var St=B(At);St&&(H.push(St.minX),J.push(St.minY),ct.push(St.maxX),ut.push(St.maxY))}),{minX:b.min(H),minY:b.min(J),maxX:b.max(ct),maxY:b.max(ut)}}S.getMergedRegion=N;function j(tt,H){return!tt||!H||!_.intersectRect(tt,H)?null:{minX:Math.max(tt.minX,H.minX),minY:Math.max(tt.minY,H.minY),maxX:Math.min(tt.maxX,H.maxX),maxY:Math.min(tt.maxY,H.maxY)}}S.mergeView=j},77096:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getShape=void 0;var b=d(85622);function O(A,C){if(C){var E=b.invert(C);return b.multiplyVec2(E,A)}return A}function I(A,C,E){var p=A.getTotalMatrix();if(p){var w=O([C,E,1],p),y=w[0],m=w[1];return[y,m]}return[C,E]}function _(A,C,E){if(A.isCanvas&&A.isCanvas())return!0;if(!b.isAllowCapture(A)||A.cfg.isInView===!1)return!1;if(A.cfg.clipShape){var p=I(A,C,E),w=p[0],y=p[1];if(A.isClipped(w,y))return!1}var m=A.cfg.cacheCanvasBBox||A.getCanvasBBox();return C>=m.minX&&C<=m.maxX&&E>=m.minY&&E<=m.maxY}function T(A,C,E){if(!_(A,C,E))return null;for(var p=null,w=A.getChildren(),y=w.length,m=y-1;m>=0;m--){var g=w[m];if(g.isGroup())p=T(g,C,E);else if(_(g,C,E)){var M=g,L=I(g,C,E),B=L[0],N=L[1];M.isInShape(B,N)&&(p=g)}if(p)break}return p}S.getShape=T},31977:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(85622);function O(I,_,T){var A=b.getOffScreenContext();return I.createPath(A),A.isPointInPath(_,T)}S.default=O},50970:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-6;function b(_){return Math.abs(_)<d?0:_<0?-1:1}function O(_,T,A){return(A[0]-_[0])*(T[1]-_[1])==(T[0]-_[0])*(A[1]-_[1])&&Math.min(_[0],T[0])<=A[0]&&A[0]<=Math.max(_[0],T[0])&&Math.min(_[1],T[1])<=A[1]&&A[1]<=Math.max(_[1],T[1])}function I(_,T,A){var C=!1,E=_.length;if(E<=2)return!1;for(var p=0;p<E;p++){var w=_[p],y=_[(p+1)%E];if(O(w,y,[T,A]))return!0;b(w[1]-A)>0!=b(y[1]-A)>0&&b(T-(A-w[1])*(w[0]-y[0])/(w[1]-y[1])-w[0])<0&&(C=!C)}return C}S.default=I},70122:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(21927);function O(I,_,T,A,C,E,p,w){var y=(Math.atan2(w-_,p-I)+Math.PI*2)%(Math.PI*2);if(y<A||y>C)return!1;var m={x:I+T*Math.cos(y),y:_+T*Math.sin(y)};return b.distance(m.x,m.y,p,w)<=E/2}S.default=O},63161:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(89838);function O(I,_,T,A,C,E,p){var w=Math.min(I,T),y=Math.max(I,T),m=Math.min(_,A),g=Math.max(_,A),M=C/2;return E>=w-M&&E<=y+M&&p>=m-M&&p<=g+M?b.Line.pointToLine(I,_,T,A,E,p)<=C/2:!1}S.default=O},39761:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(63161);function O(I,_,T,A,C){var E=I.length;if(E<2)return!1;for(var p=0;p<E-1;p++){var w=I[p][0],y=I[p][1],m=I[p+1][0],g=I[p+1][1];if(b.default(w,y,m,g,_,T,A))return!0}if(C){var M=I[0],L=I[E-1];if(b.default(M[0],M[1],L[0],L[1],_,T,A))return!0}return!1}S.default=O},46647:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(63161),O=d(70122);function I(_,T,A,C,E,p,w,y){var m=p/2;return b.default(_+E,T,_+A-E,T,p,w,y)||b.default(_+A,T+E,_+A,T+C-E,p,w,y)||b.default(_+A-E,T+C,_+E,T+C,p,w,y)||b.default(_,T+C-E,_,T+E,p,w,y)||O.default(_+A-E,T+E,E,1.5*Math.PI,2*Math.PI,p,w,y)||O.default(_+A-E,T+C-E,E,0,.5*Math.PI,p,w,y)||O.default(_+E,T+C-E,E,.5*Math.PI,Math.PI,p,w,y)||O.default(_+E,T+E,E,Math.PI,1.5*Math.PI,p,w,y)}S.default=I},21897:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(21927);function O(I,_,T,A,C,E,p){var w=C/2;return b.inBox(I-w,_-w,T,C,E,p)||b.inBox(I+T-w,_-w,C,A,E,p)||b.inBox(I+w,_+A-w,T,C,E,p)||b.inBox(I-w,_+w,C,A,E,p)}S.default=O},93377:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parseRadius=S.parseStyle=S.parsePattern=S.parseRadialGradient=S.parseLineGradient=void 0;var b=d(21927),O=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,I=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,_=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,T=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function A(m,g){var M=m.match(T);b.each(M,function(L){var B=L.split(":");g.addColorStop(B[0],B[1])})}function C(m,g,M){var L=O.exec(M),B=parseFloat(L[1])%360*(Math.PI/180),N=L[2],j=g.getBBox(),tt,H;B>=0&&B<1/2*Math.PI?(tt={x:j.minX,y:j.minY},H={x:j.maxX,y:j.maxY}):1/2*Math.PI<=B&&B<Math.PI?(tt={x:j.maxX,y:j.minY},H={x:j.minX,y:j.maxY}):Math.PI<=B&&B<3/2*Math.PI?(tt={x:j.maxX,y:j.maxY},H={x:j.minX,y:j.minY}):(tt={x:j.minX,y:j.maxY},H={x:j.maxX,y:j.minY});var J=Math.tan(B),ct=J*J,ut=(H.x-tt.x+J*(H.y-tt.y))/(ct+1)+tt.x,At=J*(H.x-tt.x+J*(H.y-tt.y))/(ct+1)+tt.y,St=m.createLinearGradient(tt.x,tt.y,ut,At);return A(N,St),St}S.parseLineGradient=C;function E(m,g,M){var L=I.exec(M),B=parseFloat(L[1]),N=parseFloat(L[2]),j=parseFloat(L[3]),tt=L[4];if(j===0){var H=tt.match(T);return H[H.length-1].split(":")[1]}var J=g.getBBox(),ct=J.maxX-J.minX,ut=J.maxY-J.minY,At=Math.sqrt(ct*ct+ut*ut)/2,St=m.createRadialGradient(J.minX+ct*B,J.minY+ut*N,0,J.minX+ct/2,J.minY+ut/2,j*At);return A(tt,St),St}S.parseRadialGradient=E;function p(m,g,M){if(g.get("patternSource")&&g.get("patternSource")===M)return g.get("pattern");var L,B,N=_.exec(M),j=N[1],tt=N[2];function H(){L=m.createPattern(B,j),g.set("pattern",L),g.set("patternSource",M)}switch(j){case"a":j="repeat";break;case"x":j="repeat-x";break;case"y":j="repeat-y";break;case"n":j="no-repeat";break;default:j="no-repeat"}return B=new Image,tt.match(/^data:/i)||(B.crossOrigin="Anonymous"),B.src=tt,B.complete?H():(B.onload=H,B.src=B.src),L}S.parsePattern=p;function w(m,g,M){var L=g.getBBox();if(isNaN(L.x)||isNaN(L.y)||isNaN(L.width)||isNaN(L.height))return M;if(b.isString(M)){if(M[1]==="("||M[2]==="("){if(M[0]==="l")return C(m,g,M);if(M[0]==="r")return E(m,g,M);if(M[0]==="p")return p(m,g,M)}return M}if(M instanceof CanvasPattern)return M}S.parseStyle=w;function y(m){var g=0,M=0,L=0,B=0;return b.isArray(m)?m.length===1?g=M=L=B=m[0]:m.length===2?(g=L=m[0],M=B=m[1]):m.length===3?(g=m[0],M=B=m[1],L=m[2]):(g=m[0],M=m[1],L=m[2],B=m[3]):g=M=L=B=m,[g,M,L,B]}S.parseRadius=y},55531:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(93470),O=d(85622),I=d(89838),_=d(89838),T=d(77788),A=d(77160),C=d(21927),E=d(63161),p=d(70122),w=T.ext.transform;function y(M){for(var L=!1,B=M.length,N=0;N<B;N++){var j=M[N],tt=j[0];if(tt==="C"||tt==="A"||tt==="Q"){L=!0;break}}return L}function m(M,L,B,N,j){for(var tt=!1,H=L/2,J=0;J<M.length;J++){var ct=M[J],ut=ct.currentPoint,At=ct.params,St=ct.prePoint,Yt=ct.box;if(!(Yt&&!C.inBox(Yt.x-H,Yt.y-H,Yt.width+L,Yt.height+L,B,N))){switch(ct.command){case"L":case"Z":tt=E.default(St[0],St[1],ut[0],ut[1],L,B,N);break;case"Q":var Tt=I.Quad.pointDistance(St[0],St[1],At[1],At[2],At[3],At[4],B,N);tt=Tt<=L/2;break;case"C":var Dt=_.Cubic.pointDistance(St[0],St[1],At[1],At[2],At[3],At[4],At[5],At[6],B,N,j);tt=Dt<=L/2;break;case"A":var Bt=ct.arcParams,Et=Bt.cx,zt=Bt.cy,jt=Bt.rx,Mt=Bt.ry,pt=Bt.startAngle,k=Bt.endAngle,u=Bt.xRotation,G=[B,N,1],Y=jt>Mt?jt:Mt,V=jt>Mt?1:jt/Mt,U=jt>Mt?Mt/jt:1,et=w(null,[["t",-Et,-zt],["r",-u],["s",1/V,1/U]]);A.transformMat3(G,G,et),tt=p.default(0,0,Y,pt,k,L,G[0],G[1]);break;default:break}if(tt)break}}return tt}function g(M){for(var L=M.length,B=[],N=[],j=[],tt=0;tt<L;tt++){var H=M[tt],J=H[0];J==="M"?(j.length&&(N.push(j),j=[]),j.push([H[1],H[2]])):J==="Z"?j.length&&(B.push(j),j=[]):j.push([H[1],H[2]])}return j.length>0&&N.push(j),{polygons:B,polylines:N}}S.default=b.__assign({hasArc:y,extractPolygons:g,isPointInStroke:m},O.PathUtil)},21927:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.isSamePoint=S.mergeRegion=S.intersectRect=S.inBox=S.distance=S.getPixelRatio=void 0;function b(){return window?window.devicePixelRatio:1}S.getPixelRatio=b;function O(E,p,w,y){var m=E-w,g=p-y;return Math.sqrt(m*m+g*g)}S.distance=O;function I(E,p,w,y,m,g){return m>=E&&m<=E+w&&g>=p&&g<=p+y}S.inBox=I;function _(E,p){return!(p.minX>E.maxX||p.maxX<E.minX||p.minY>E.maxY||p.maxY<E.minY)}S.intersectRect=_;function T(E,p){return!E||!p?E||p:{minX:Math.min(E.minX,p.minX),minY:Math.min(E.minY,p.minY),maxX:Math.max(E.maxX,p.maxX),maxY:Math.max(E.maxY,p.maxY)}}S.mergeRegion=T;function A(E,p){return E[0]===p[0]&&E[1]===p[1]}S.isSamePoint=A;var C=d(49242);Object.defineProperty(S,"isNil",{enumerable:!0,get:function(){return C.isNil}}),Object.defineProperty(S,"isString",{enumerable:!0,get:function(){return C.isString}}),Object.defineProperty(S,"isFunction",{enumerable:!0,get:function(){return C.isFunction}}),Object.defineProperty(S,"isArray",{enumerable:!0,get:function(){return C.isArray}}),Object.defineProperty(S,"each",{enumerable:!0,get:function(){return C.each}}),Object.defineProperty(S,"toRadian",{enumerable:!0,get:function(){return C.toRadian}}),Object.defineProperty(S,"mod",{enumerable:!0,get:function(){return C.mod}}),Object.defineProperty(S,"isNumberEqual",{enumerable:!0,get:function(){return C.isNumberEqual}}),Object.defineProperty(S,"requestAnimationFrame",{enumerable:!0,get:function(){return C.requestAnimationFrame}}),Object.defineProperty(S,"clearAnimationFrame",{enumerable:!0,get:function(){return C.clearAnimationFrame}})},77788:function(dt,S,d){"use strict";d.r(S),d.d(S,{ext:function(){return b},mat3:function(){return O},vec2:function(){return I},vec3:function(){return _}});var b={};d.r(b),d.d(b,{angleTo:function(){return y},direction:function(){return w},leftRotate:function(){return A},leftScale:function(){return C},leftTranslate:function(){return T},transform:function(){return p},vertical:function(){return m}});var O=d(35600),I=d(31437),_=d(77160);function T(g,M,L){var B=[0,0,0,0,0,0,0,0,0];return O.fromTranslation(B,L),O.multiply(g,B,M)}function A(g,M,L){var B=[0,0,0,0,0,0,0,0,0];return O.fromRotation(B,L),O.multiply(g,B,M)}function C(g,M,L){var B=[0,0,0,0,0,0,0,0,0];return O.fromScaling(B,L),O.multiply(g,B,M)}function E(g,M,L){return O.multiply(g,L,M)}function p(g,M){for(var L=g?[].concat(g):[1,0,0,0,1,0,0,0,1],B=0,N=M.length;B<N;B++){var j=M[B];switch(j[0]){case"t":T(L,L,[j[1],j[2]]);break;case"s":C(L,L,[j[1],j[2]]);break;case"r":A(L,L,j[1]);break;case"m":E(L,L,j[1]);break;default:break}}return L}function w(g,M){return g[0]*M[1]-M[0]*g[1]}function y(g,M,L){var B=I.angle(g,M),N=w(g,M)>=0;return L?N?Math.PI*2-B:B:N?B:Math.PI*2-B}function m(g,M,L){return L?(g[0]=M[1],g[1]=-1*M[0]):(g[0]=-1*M[1],g[1]=M[0]),g}},93470:function(dt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return O},__assign:function(){return I},__rest:function(){return _},__decorate:function(){return T},__param:function(){return A},__esDecorate:function(){return C},__runInitializers:function(){return E},__propKey:function(){return p},__setFunctionName:function(){return w},__metadata:function(){return y},__awaiter:function(){return m},__generator:function(){return g},__createBinding:function(){return M},__exportStar:function(){return L},__values:function(){return B},__read:function(){return N},__spread:function(){return j},__spreadArrays:function(){return tt},__spreadArray:function(){return H},__await:function(){return J},__asyncGenerator:function(){return ct},__asyncDelegator:function(){return ut},__asyncValues:function(){return At},__makeTemplateObject:function(){return St},__importStar:function(){return Tt},__importDefault:function(){return Dt},__classPrivateFieldGet:function(){return Bt},__classPrivateFieldSet:function(){return Et},__classPrivateFieldIn:function(){return zt},__addDisposableResource:function(){return jt},__disposeResources:function(){return pt}});var b=function(k,u){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,Y){G.__proto__=Y}||function(G,Y){for(var V in Y)Object.prototype.hasOwnProperty.call(Y,V)&&(G[V]=Y[V])},b(k,u)};function O(k,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");b(k,u);function G(){this.constructor=k}k.prototype=u===null?Object.create(u):(G.prototype=u.prototype,new G)}var I=function(){return I=Object.assign||function(u){for(var G,Y=1,V=arguments.length;Y<V;Y++){G=arguments[Y];for(var U in G)Object.prototype.hasOwnProperty.call(G,U)&&(u[U]=G[U])}return u},I.apply(this,arguments)};function _(k,u){var G={};for(var Y in k)Object.prototype.hasOwnProperty.call(k,Y)&&u.indexOf(Y)<0&&(G[Y]=k[Y]);if(k!=null&&typeof Object.getOwnPropertySymbols=="function")for(var V=0,Y=Object.getOwnPropertySymbols(k);V<Y.length;V++)u.indexOf(Y[V])<0&&Object.prototype.propertyIsEnumerable.call(k,Y[V])&&(G[Y[V]]=k[Y[V]]);return G}function T(k,u,G,Y){var V=arguments.length,U=V<3?u:Y===null?Y=Object.getOwnPropertyDescriptor(u,G):Y,et;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(k,u,G,Y);else for(var ht=k.length-1;ht>=0;ht--)(et=k[ht])&&(U=(V<3?et(U):V>3?et(u,G,U):et(u,G))||U);return V>3&&U&&Object.defineProperty(u,G,U),U}function A(k,u){return function(G,Y){u(G,Y,k)}}function C(k,u,G,Y,V,U){function et(Ct){if(Ct!==void 0&&typeof Ct!="function")throw new TypeError("Function expected");return Ct}for(var ht=Y.kind,Ft=ht==="getter"?"get":ht==="setter"?"set":"value",bt=!u&&k?Y.static?k:k.prototype:null,at=u||(bt?Object.getOwnPropertyDescriptor(bt,Y.name):{}),xt,lt=!1,it=G.length-1;it>=0;it--){var yt={};for(var ft in Y)yt[ft]=ft==="access"?{}:Y[ft];for(var ft in Y.access)yt.access[ft]=Y.access[ft];yt.addInitializer=function(Ct){if(lt)throw new TypeError("Cannot add initializers after decoration has completed");U.push(et(Ct||null))};var st=(0,G[it])(ht==="accessor"?{get:at.get,set:at.set}:at[Ft],yt);if(ht==="accessor"){if(st===void 0)continue;if(st===null||typeof st!="object")throw new TypeError("Object expected");(xt=et(st.get))&&(at.get=xt),(xt=et(st.set))&&(at.set=xt),(xt=et(st.init))&&V.unshift(xt)}else(xt=et(st))&&(ht==="field"?V.unshift(xt):at[Ft]=xt)}bt&&Object.defineProperty(bt,Y.name,at),lt=!0}function E(k,u,G){for(var Y=arguments.length>2,V=0;V<u.length;V++)G=Y?u[V].call(k,G):u[V].call(k);return Y?G:void 0}function p(k){return typeof k=="symbol"?k:"".concat(k)}function w(k,u,G){return typeof u=="symbol"&&(u=u.description?"[".concat(u.description,"]"):""),Object.defineProperty(k,"name",{configurable:!0,value:G?"".concat(G," ",u):u})}function y(k,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(k,u)}function m(k,u,G,Y){function V(U){return U instanceof G?U:new G(function(et){et(U)})}return new(G||(G=Promise))(function(U,et){function ht(at){try{bt(Y.next(at))}catch(xt){et(xt)}}function Ft(at){try{bt(Y.throw(at))}catch(xt){et(xt)}}function bt(at){at.done?U(at.value):V(at.value).then(ht,Ft)}bt((Y=Y.apply(k,u||[])).next())})}function g(k,u){var G={label:0,sent:function(){if(U[0]&1)throw U[1];return U[1]},trys:[],ops:[]},Y,V,U,et;return et={next:ht(0),throw:ht(1),return:ht(2)},typeof Symbol=="function"&&(et[Symbol.iterator]=function(){return this}),et;function ht(bt){return function(at){return Ft([bt,at])}}function Ft(bt){if(Y)throw new TypeError("Generator is already executing.");for(;et&&(et=0,bt[0]&&(G=0)),G;)try{if(Y=1,V&&(U=bt[0]&2?V.return:bt[0]?V.throw||((U=V.return)&&U.call(V),0):V.next)&&!(U=U.call(V,bt[1])).done)return U;switch(V=0,U&&(bt=[bt[0]&2,U.value]),bt[0]){case 0:case 1:U=bt;break;case 4:return G.label++,{value:bt[1],done:!1};case 5:G.label++,V=bt[1],bt=[0];continue;case 7:bt=G.ops.pop(),G.trys.pop();continue;default:if(U=G.trys,!(U=U.length>0&&U[U.length-1])&&(bt[0]===6||bt[0]===2)){G=0;continue}if(bt[0]===3&&(!U||bt[1]>U[0]&&bt[1]<U[3])){G.label=bt[1];break}if(bt[0]===6&&G.label<U[1]){G.label=U[1],U=bt;break}if(U&&G.label<U[2]){G.label=U[2],G.ops.push(bt);break}U[2]&&G.ops.pop(),G.trys.pop();continue}bt=u.call(k,G)}catch(at){bt=[6,at],V=0}finally{Y=U=0}if(bt[0]&5)throw bt[1];return{value:bt[0]?bt[1]:void 0,done:!0}}}var M=Object.create?function(k,u,G,Y){Y===void 0&&(Y=G);var V=Object.getOwnPropertyDescriptor(u,G);(!V||("get"in V?!u.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return u[G]}}),Object.defineProperty(k,Y,V)}:function(k,u,G,Y){Y===void 0&&(Y=G),k[Y]=u[G]};function L(k,u){for(var G in k)G!=="default"&&!Object.prototype.hasOwnProperty.call(u,G)&&M(u,k,G)}function B(k){var u=typeof Symbol=="function"&&Symbol.iterator,G=u&&k[u],Y=0;if(G)return G.call(k);if(k&&typeof k.length=="number")return{next:function(){return k&&Y>=k.length&&(k=void 0),{value:k&&k[Y++],done:!k}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}function N(k,u){var G=typeof Symbol=="function"&&k[Symbol.iterator];if(!G)return k;var Y=G.call(k),V,U=[],et;try{for(;(u===void 0||u-- >0)&&!(V=Y.next()).done;)U.push(V.value)}catch(ht){et={error:ht}}finally{try{V&&!V.done&&(G=Y.return)&&G.call(Y)}finally{if(et)throw et.error}}return U}function j(){for(var k=[],u=0;u<arguments.length;u++)k=k.concat(N(arguments[u]));return k}function tt(){for(var k=0,u=0,G=arguments.length;u<G;u++)k+=arguments[u].length;for(var Y=Array(k),V=0,u=0;u<G;u++)for(var U=arguments[u],et=0,ht=U.length;et<ht;et++,V++)Y[V]=U[et];return Y}function H(k,u,G){if(G||arguments.length===2)for(var Y=0,V=u.length,U;Y<V;Y++)(U||!(Y in u))&&(U||(U=Array.prototype.slice.call(u,0,Y)),U[Y]=u[Y]);return k.concat(U||Array.prototype.slice.call(u))}function J(k){return this instanceof J?(this.v=k,this):new J(k)}function ct(k,u,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y=G.apply(k,u||[]),V,U=[];return V={},et("next"),et("throw"),et("return"),V[Symbol.asyncIterator]=function(){return this},V;function et(lt){Y[lt]&&(V[lt]=function(it){return new Promise(function(yt,ft){U.push([lt,it,yt,ft])>1||ht(lt,it)})})}function ht(lt,it){try{Ft(Y[lt](it))}catch(yt){xt(U[0][3],yt)}}function Ft(lt){lt.value instanceof J?Promise.resolve(lt.value.v).then(bt,at):xt(U[0][2],lt)}function bt(lt){ht("next",lt)}function at(lt){ht("throw",lt)}function xt(lt,it){lt(it),U.shift(),U.length&&ht(U[0][0],U[0][1])}}function ut(k){var u,G;return u={},Y("next"),Y("throw",function(V){throw V}),Y("return"),u[Symbol.iterator]=function(){return this},u;function Y(V,U){u[V]=k[V]?function(et){return(G=!G)?{value:J(k[V](et)),done:!1}:U?U(et):et}:U}}function At(k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=k[Symbol.asyncIterator],G;return u?u.call(k):(k=typeof B=="function"?B(k):k[Symbol.iterator](),G={},Y("next"),Y("throw"),Y("return"),G[Symbol.asyncIterator]=function(){return this},G);function Y(U){G[U]=k[U]&&function(et){return new Promise(function(ht,Ft){et=k[U](et),V(ht,Ft,et.done,et.value)})}}function V(U,et,ht,Ft){Promise.resolve(Ft).then(function(bt){U({value:bt,done:ht})},et)}}function St(k,u){return Object.defineProperty?Object.defineProperty(k,"raw",{value:u}):k.raw=u,k}var Yt=Object.create?function(k,u){Object.defineProperty(k,"default",{enumerable:!0,value:u})}:function(k,u){k.default=u};function Tt(k){if(k&&k.__esModule)return k;var u={};if(k!=null)for(var G in k)G!=="default"&&Object.prototype.hasOwnProperty.call(k,G)&&M(u,k,G);return Yt(u,k),u}function Dt(k){return k&&k.__esModule?k:{default:k}}function Bt(k,u,G,Y){if(G==="a"&&!Y)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?k!==u||!Y:!u.has(k))throw new TypeError("Cannot read private member from an object whose class did not declare it");return G==="m"?Y:G==="a"?Y.call(k):Y?Y.value:u.get(k)}function Et(k,u,G,Y,V){if(Y==="m")throw new TypeError("Private method is not writable");if(Y==="a"&&!V)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?k!==u||!V:!u.has(k))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Y==="a"?V.call(k,G):V?V.value=G:u.set(k,G),G}function zt(k,u){if(u===null||typeof u!="object"&&typeof u!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof k=="function"?u===k:k.has(u)}function jt(k,u,G){if(u!=null){if(typeof u!="object"&&typeof u!="function")throw new TypeError("Object expected.");var Y;if(G){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");Y=u[Symbol.asyncDispose]}if(Y===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");Y=u[Symbol.dispose]}if(typeof Y!="function")throw new TypeError("Object not disposable.");k.stack.push({value:u,dispose:Y,async:G})}else G&&k.stack.push({async:!0});return u}var Mt=typeof SuppressedError=="function"?SuppressedError:function(k,u,G){var Y=new Error(G);return Y.name="SuppressedError",Y.error=k,Y.suppressed=u,Y};function pt(k){function u(Y){k.error=k.hasError?new Mt(Y,k.error,"An error was suppressed during disposal."):Y,k.hasError=!0}function G(){for(;k.stack.length;){var Y=k.stack.pop();try{var V=Y.dispose&&Y.dispose.call(Y.value);if(Y.async)return Promise.resolve(V).then(G,function(U){return u(U),G()})}catch(U){u(U)}}if(k.hasError)throw k.error}return G()}S.default={__extends:O,__assign:I,__rest:_,__decorate:T,__param:A,__metadata:y,__awaiter:m,__generator:g,__createBinding:M,__exportStar:L,__values:B,__read:N,__spread:j,__spreadArrays:tt,__spreadArray:H,__await:J,__asyncGenerator:ct,__asyncDelegator:ut,__asyncValues:At,__makeTemplateObject:St,__importStar:Tt,__importDefault:Dt,__classPrivateFieldGet:Bt,__classPrivateFieldSet:Et,__classPrivateFieldIn:zt,__addDisposableResource:jt,__disposeResources:pt}},70673:function(dt,S,d){"use strict";var b;b={value:!0};var O=d(58977),I=d(85622),_=d(65712),T=d(98820),A=d(50063),C=d(87596),E=d(4206),p=d(11694),w=d(21318),y=function(m){O.__extends(g,m);function g(M){return m.call(this,O.__assign(O.__assign({},M),{autoDraw:!0,renderer:"svg"}))||this}return g.prototype.getShapeBase=function(){return E},g.prototype.getGroupBase=function(){return p.default},g.prototype.getShape=function(M,L,B){var N=B.target||B.srcElement;if(!_.SHAPE_TO_TAGS[N.tagName]){for(var j=N.parentNode;j&&!_.SHAPE_TO_TAGS[j.tagName];)j=j.parentNode;N=j}return this.find(function(tt){return tt.get("el")===N})},g.prototype.createDom=function(){var M=C.createSVGElement("svg"),L=new w.default(M);return M.setAttribute("width",""+this.get("width")),M.setAttribute("height",""+this.get("height")),this.set("context",L),M},g.prototype.onCanvasChange=function(M){var L=this.get("context"),B=this.get("el");if(M==="sort"){var N=this.get("children");N&&N.length&&C.sortDom(this,function(tt,H){return N.indexOf(tt)-N.indexOf(H)?1:0})}else if(M==="clear"){if(B){B.innerHTML="";var j=L.el;j.innerHTML="",B.appendChild(j)}}else M==="matrix"?A.setTransform(this):M==="clip"?A.setClip(this,L):M==="changeSize"&&(B.setAttribute("width",""+this.get("width")),B.setAttribute("height",""+this.get("height")))},g.prototype.draw=function(){var M=this.get("context"),L=this.getChildren();A.setClip(this,M),L.length&&T.drawChildren(M,L)},g}(I.AbstractCanvas);S.Z=y},65712:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.EVENTS=S.SVG_ATTR_MAP=S.SHAPE_TO_TAGS=void 0,S.SHAPE_TO_TAGS={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},S.SVG_ATTR_MAP={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},S.EVENTS=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},9353:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),O=d(87596),I=function(){function _(T,A){this.cfg={};var C=O.createSVGElement("marker"),E=b.uniqueId("marker_");C.setAttribute("id",E);var p=O.createSVGElement("path");p.setAttribute("stroke",T.stroke||"none"),p.setAttribute("fill",T.fill||"none"),C.appendChild(p),C.setAttribute("overflow","visible"),C.setAttribute("orient","auto-start-reverse"),this.el=C,this.child=p,this.id=E;var w=T[A==="marker-start"?"startArrow":"endArrow"];return this.stroke=T.stroke||"#000",w===!0?this._setDefaultPath(A,p):(this.cfg=w,this._setMarker(T.lineWidth,p)),this}return _.prototype.match=function(){return!1},_.prototype._setDefaultPath=function(T,A){var C=this.el;A.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),C.setAttribute("refX",""+10*Math.cos(Math.PI/6)),C.setAttribute("refY",""+5)},_.prototype._setMarker=function(T,A){var C=this.el,E=this.cfg.path,p=this.cfg.d;b.isArray(E)&&(E=E.map(function(w){return w.join(" ")}).join("")),A.setAttribute("d",E),C.appendChild(A),p&&C.setAttribute("refX",""+p/T)},_.prototype.update=function(T){var A=this.child;A.attr?A.attr("fill",T):A.setAttribute("fill",T)},_}();S.default=I},67926:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),O=d(87596),I=function(){function _(T){this.type="clip",this.cfg={};var A=O.createSVGElement("clipPath");this.el=A,this.id=b.uniqueId("clip_"),A.id=this.id;var C=T.cfg.el;return A.appendChild(C),this.cfg=T,this}return _.prototype.match=function(){return!1},_.prototype.remove=function(){var T=this.el;T.parentNode.removeChild(T)},_}();S.default=I},10052:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),O=d(87596),I=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,_=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,T=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function A(w){var y=w.match(T);if(!y)return"";var m="";return y.sort(function(g,M){return g=g.split(":"),M=M.split(":"),Number(g[0])-Number(M[0])}),b.each(y,function(g){g=g.split(":"),m+='<stop offset="'+g[0]+'" stop-color="'+g[1]+'"></stop>'}),m}function C(w,y){var m=I.exec(w),g=b.mod(b.toRadian(parseFloat(m[1])),Math.PI*2),M=m[2],L,B;g>=0&&g<.5*Math.PI?(L={x:0,y:0},B={x:1,y:1}):.5*Math.PI<=g&&g<Math.PI?(L={x:1,y:0},B={x:0,y:1}):Math.PI<=g&&g<1.5*Math.PI?(L={x:1,y:1},B={x:0,y:0}):(L={x:0,y:1},B={x:1,y:0});var N=Math.tan(g),j=N*N,tt=(B.x-L.x+N*(B.y-L.y))/(j+1)+L.x,H=N*(B.x-L.x+N*(B.y-L.y))/(j+1)+L.y;y.setAttribute("x1",L.x),y.setAttribute("y1",L.y),y.setAttribute("x2",tt),y.setAttribute("y2",H),y.innerHTML=A(M)}function E(w,y){var m=_.exec(w),g=parseFloat(m[1]),M=parseFloat(m[2]),L=parseFloat(m[3]),B=m[4];y.setAttribute("cx",g),y.setAttribute("cy",M),y.setAttribute("r",L),y.innerHTML=A(B)}var p=function(){function w(y){this.cfg={};var m=null,g=b.uniqueId("gradient_");return y.toLowerCase()[0]==="l"?(m=O.createSVGElement("linearGradient"),C(y,m)):(m=O.createSVGElement("radialGradient"),E(y,m)),m.setAttribute("id",g),this.el=m,this.id=g,this.cfg=y,this}return w.prototype.match=function(y,m){return this.cfg===m},w}();S.default=p},21318:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),O=d(10052),I=d(96526),_=d(9353),T=d(67926),A=d(10011),C=d(87596),E=function(){function p(w){var y=C.createSVGElement("defs"),m=b.uniqueId("defs_");y.id=m,w.appendChild(y),this.children=[],this.defaultArrow={},this.el=y,this.canvas=w}return p.prototype.find=function(w,y){for(var m=this.children,g=null,M=0;M<m.length;M++)if(m[M].match(w,y)){g=m[M].id;break}return g},p.prototype.findById=function(w){for(var y=this.children,m=null,g=0;g<y.length;g++)if(y[g].id===w){m=y[g];break}return m},p.prototype.add=function(w){this.children.push(w),w.canvas=this.canvas,w.parent=this},p.prototype.getDefaultArrow=function(w,y){var m=w.stroke||w.strokeStyle;if(this.defaultArrow[m])return this.defaultArrow[m].id;var g=new _.default(w,y);return this.defaultArrow[m]=g,this.el.appendChild(g.el),this.add(g),g.id},p.prototype.addGradient=function(w){var y=new O.default(w);return this.el.appendChild(y.el),this.add(y),y.id},p.prototype.addArrow=function(w,y){var m=new _.default(w,y);return this.el.appendChild(m.el),this.add(m),m.id},p.prototype.addShadow=function(w){var y=new I.default(w);return this.el.appendChild(y.el),this.add(y),y.id},p.prototype.addPattern=function(w){var y=new A.default(w);return this.el.appendChild(y.el),this.add(y),y.id},p.prototype.addClip=function(w){var y=new T.default(w);return this.el.appendChild(y.el),this.add(y),y.id},p}();S.default=E},10011:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),O=d(87596),I=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,_=function(){function T(A){this.cfg={};var C=O.createSVGElement("pattern");C.setAttribute("patternUnits","userSpaceOnUse");var E=O.createSVGElement("image");C.appendChild(E);var p=b.uniqueId("pattern_");C.id=p,this.el=C,this.id=p,this.cfg=A;var w=I.exec(A),y=w[2];E.setAttribute("href",y);var m=new Image;y.match(/^data:/i)||(m.crossOrigin="Anonymous"),m.src=y;function g(){C.setAttribute("width",""+m.width),C.setAttribute("height",""+m.height)}return m.complete?g():(m.onload=g,m.src=m.src),this}return T.prototype.match=function(A,C){return this.cfg===C},T}();S.default=_},96526:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),O=d(87596),I={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},_={x:"-40%",y:"-40%",width:"200%",height:"200%"},T=function(){function A(C){this.type="filter",this.cfg={},this.type="filter";var E=O.createSVGElement("filter");return b.each(_,function(p,w){E.setAttribute(w,p)}),this.el=E,this.id=b.uniqueId("filter_"),this.el.id=this.id,this.cfg=C,this._parseShadow(C,E),this}return A.prototype.match=function(C,E){if(this.type!==C)return!1;var p=!0,w=this.cfg;return b.each(Object.keys(w),function(y){if(w[y]!==E[y])return p=!1,!1}),p},A.prototype.update=function(C,E){var p=this.cfg;return p[I[C]]=E,this._parseShadow(p,this.el),this},A.prototype._parseShadow=function(C,E){var p=`<feDropShadow
      dx="`+(C.dx||0)+`"
      dy="`+(C.dy||0)+`"
      stdDeviation="`+(C.blur?C.blur/10:0)+`"
      flood-color="`+(C.color?C.color:"#000")+`"
      flood-opacity="`+(C.opacity?C.opacity:1)+`"
      />`;E.innerHTML=p},A}();S.default=T},11694:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(58977),O=d(85622),I=d(49242),_=d(4206),T=d(98820),A=d(50063),C=d(65712),E=d(87596),p=function(w){b.__extends(y,w);function y(){return w!==null&&w.apply(this,arguments)||this}return y.prototype.isEntityGroup=function(){return!0},y.prototype.createDom=function(){var m=E.createSVGElement("g");this.set("el",m);var g=this.getParent();if(g){var M=g.get("el");M||(M=g.createDom(),g.set("el",M)),M.appendChild(m)}return m},y.prototype.afterAttrsChange=function(m){w.prototype.afterAttrsChange.call(this,m);var g=this.get("canvas");if(g&&g.get("autoDraw")){var M=g.get("context");this.createPath(M,m)}},y.prototype.onCanvasChange=function(m){T.refreshElement(this,m)},y.prototype.getShapeBase=function(){return _},y.prototype.getGroupBase=function(){return y},y.prototype.draw=function(m){var g=this.getChildren(),M=this.get("el");this.get("destroyed")?M&&M.parentNode.removeChild(M):(M||this.createDom(),A.setClip(this,m),this.createPath(m),g.length&&T.drawChildren(m,g))},y.prototype.createPath=function(m,g){var M=this.attr(),L=this.get("el");I.each(g||M,function(B,N){C.SVG_ATTR_MAP[N]&&L.setAttribute(C.SVG_ATTR_MAP[N],B)}),A.setTransform(this)},y}(O.AbstractGroup);S.default=p},4050:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(58977),O=d(85622),I=d(50063),_=d(87596),T=d(98820),A=d(65712),C=d(4206),E=d(11694),p=d(85622),w=function(y){b.__extends(m,y);function m(){var g=y!==null&&y.apply(this,arguments)||this;return g.type="svg",g.canFill=!1,g.canStroke=!1,g}return m.prototype.getDefaultAttrs=function(){var g=y.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},g),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},m.prototype.afterAttrsChange=function(g){y.prototype.afterAttrsChange.call(this,g);var M=this.get("canvas");if(M&&M.get("autoDraw")){var L=M.get("context");this.draw(L,g)}},m.prototype.getShapeBase=function(){return C},m.prototype.getGroupBase=function(){return E.default},m.prototype.onCanvasChange=function(g){T.refreshElement(this,g)},m.prototype.calculateBBox=function(){var g=this.get("el"),M=null;if(g)M=g.getBBox();else{var L=p.getBBoxMethod(this.get("type"));L&&(M=L(this))}if(M){var B=M.x,N=M.y,j=M.width,tt=M.height,H=this.getHitLineWidth(),J=H/2,ct=B-J,ut=N-J,At=B+j+J,St=N+tt+J;return{x:ct,y:ut,minX:ct,minY:ut,maxX:At,maxY:St,width:j+H,height:tt+H}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},m.prototype.isFill=function(){var g=this.attr(),M=g.fill,L=g.fillStyle;return(M||L||this.isClipShape())&&this.canFill},m.prototype.isStroke=function(){var g=this.attr(),M=g.stroke,L=g.strokeStyle;return(M||L)&&this.canStroke},m.prototype.draw=function(g,M){var L=this.get("el");this.get("destroyed")?L&&L.parentNode.removeChild(L):(L||_.createDom(this),I.setClip(this,g),this.createPath(g,M),this.shadow(g,M),this.strokeAndFill(g,M),this.transform(M))},m.prototype.createPath=function(g,M){},m.prototype.strokeAndFill=function(g,M){var L=M||this.attr(),B=L.fill,N=L.fillStyle,j=L.stroke,tt=L.strokeStyle,H=L.fillOpacity,J=L.strokeOpacity,ct=L.lineWidth,ut=this.get("el");this.canFill&&(M?"fill"in L?this._setColor(g,"fill",B):"fillStyle"in L&&this._setColor(g,"fill",N):this._setColor(g,"fill",B||N),H&&ut.setAttribute(A.SVG_ATTR_MAP.fillOpacity,H)),this.canStroke&&ct>0&&(M?"stroke"in L?this._setColor(g,"stroke",j):"strokeStyle"in L&&this._setColor(g,"stroke",tt):this._setColor(g,"stroke",j||tt),J&&ut.setAttribute(A.SVG_ATTR_MAP.strokeOpacity,J),ct&&ut.setAttribute(A.SVG_ATTR_MAP.lineWidth,ct))},m.prototype._setColor=function(g,M,L){var B=this.get("el");if(!L){B.setAttribute(A.SVG_ATTR_MAP[M],"none");return}if(L=L.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(L)){var N=g.find("gradient",L);N||(N=g.addGradient(L)),B.setAttribute(A.SVG_ATTR_MAP[M],"url(#"+N+")")}else if(/^[p,P]{1}[\s]*\(/.test(L)){var N=g.find("pattern",L);N||(N=g.addPattern(L)),B.setAttribute(A.SVG_ATTR_MAP[M],"url(#"+N+")")}else B.setAttribute(A.SVG_ATTR_MAP[M],L)},m.prototype.shadow=function(g,M){var L=this.attr(),B=M||L,N=B.shadowOffsetX,j=B.shadowOffsetY,tt=B.shadowBlur,H=B.shadowColor;(N||j||tt||H)&&I.setShadow(this,g)},m.prototype.transform=function(g){var M=this.attr(),L=(g||M).matrix;L&&I.setTransform(this)},m.prototype.isInShape=function(g,M){return this.isPointInPath(g,M)},m.prototype.isPointInPath=function(g,M){var L=this.get("el"),B=this.get("canvas"),N=B.get("el").getBoundingClientRect(),j=g+N.left,tt=M+N.top,H=document.elementFromPoint(j,tt);return!!(H&&H.isEqualNode(L))},m.prototype.getHitLineWidth=function(){var g=this.attrs,M=g.lineWidth,L=g.lineAppendWidth;return this.isStroke()?M+L:0},m}(O.AbstractShape);S.default=w},14661:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(58977),O=d(49242),I=d(65712),_=d(4050),T=function(A){b.__extends(C,A);function C(){var E=A!==null&&A.apply(this,arguments)||this;return E.type="circle",E.canFill=!0,E.canStroke=!0,E}return C.prototype.getDefaultAttrs=function(){var E=A.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},E),{x:0,y:0,r:0})},C.prototype.createPath=function(E,p){var w=this.attr(),y=this.get("el");O.each(p||w,function(m,g){g==="x"||g==="y"?y.setAttribute("c"+g,m):I.SVG_ATTR_MAP[g]&&y.setAttribute(I.SVG_ATTR_MAP[g],m)})},C}(_.default);S.default=T},55504:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(58977),O=d(49242),I=d(65712),_=d(4050),T=function(A){b.__extends(C,A);function C(){var E=A!==null&&A.apply(this,arguments)||this;return E.type="dom",E.canFill=!1,E.canStroke=!1,E}return C.prototype.createPath=function(E,p){var w=this.attr(),y=this.get("el");if(O.each(p||w,function(L,B){I.SVG_ATTR_MAP[B]&&y.setAttribute(I.SVG_ATTR_MAP[B],L)}),typeof w.html=="function"){var m=w.html.call(this,w);if(m instanceof Element||m instanceof HTMLDocument){for(var g=y.childNodes,M=g.length-1;M>=0;M--)y.removeChild(g[M]);y.appendChild(m)}else y.innerHTML=m}else y.innerHTML=w.html},C}(_.default);S.default=T},92502:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(58977),O=d(49242),I=d(65712),_=d(4050),T=function(A){b.__extends(C,A);function C(){var E=A!==null&&A.apply(this,arguments)||this;return E.type="ellipse",E.canFill=!0,E.canStroke=!0,E}return C.prototype.getDefaultAttrs=function(){var E=A.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},E),{x:0,y:0,rx:0,ry:0})},C.prototype.createPath=function(E,p){var w=this.attr(),y=this.get("el");O.each(p||w,function(m,g){g==="x"||g==="y"?y.setAttribute("c"+g,m):I.SVG_ATTR_MAP[g]&&y.setAttribute(I.SVG_ATTR_MAP[g],m)})},C}(_.default);S.default=T},74729:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(58977),O=d(49242),I=d(65712),_=d(4050),T=function(A){b.__extends(C,A);function C(){var E=A!==null&&A.apply(this,arguments)||this;return E.type="image",E.canFill=!1,E.canStroke=!1,E}return C.prototype.getDefaultAttrs=function(){var E=A.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},E),{x:0,y:0,width:0,height:0})},C.prototype.createPath=function(E,p){var w=this,y=this.attr(),m=this.get("el");O.each(p||y,function(g,M){M==="img"?w._setImage(y.img):I.SVG_ATTR_MAP[M]&&m.setAttribute(I.SVG_ATTR_MAP[M],g)})},C.prototype.setAttr=function(E,p){this.attrs[E]=p,E==="img"&&this._setImage(p)},C.prototype._setImage=function(E){var p=this.attr(),w=this.get("el");if(O.isString(E))w.setAttribute("href",E);else if(E instanceof window.Image)p.width||(w.setAttribute("width",E.width),this.attr("width",E.width)),p.height||(w.setAttribute("height",E.height),this.attr("height",E.height)),w.setAttribute("href",E.src);else if(E instanceof HTMLElement&&O.isString(E.nodeName)&&E.nodeName.toUpperCase()==="CANVAS")w.setAttribute("href",E.toDataURL());else if(E instanceof ImageData){var y=document.createElement("canvas");y.setAttribute("width",""+E.width),y.setAttribute("height",""+E.height),y.getContext("2d").putImageData(E,0,0),p.width||(w.setAttribute("width",""+E.width),this.attr("width",E.width)),p.height||(w.setAttribute("height",""+E.height),this.attr("height",E.height)),w.setAttribute("href",y.toDataURL())}},C}(_.default);S.default=T},4206:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(4050);Object.defineProperty(S,"Base",{enumerable:!0,get:function(){return b.default}});var O=d(14661);Object.defineProperty(S,"Circle",{enumerable:!0,get:function(){return O.default}});var I=d(55504);Object.defineProperty(S,"Dom",{enumerable:!0,get:function(){return I.default}});var _=d(92502);Object.defineProperty(S,"Ellipse",{enumerable:!0,get:function(){return _.default}});var T=d(74729);Object.defineProperty(S,"Image",{enumerable:!0,get:function(){return T.default}});var A=d(34870);Object.defineProperty(S,"Line",{enumerable:!0,get:function(){return A.default}});var C=d(59408);Object.defineProperty(S,"Marker",{enumerable:!0,get:function(){return C.default}});var E=d(51076);Object.defineProperty(S,"Path",{enumerable:!0,get:function(){return E.default}});var p=d(36361);Object.defineProperty(S,"Polygon",{enumerable:!0,get:function(){return p.default}});var w=d(46406);Object.defineProperty(S,"Polyline",{enumerable:!0,get:function(){return w.default}});var y=d(71320);Object.defineProperty(S,"Rect",{enumerable:!0,get:function(){return y.default}});var m=d(35726);Object.defineProperty(S,"Text",{enumerable:!0,get:function(){return m.default}})},34870:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(58977),O=d(89838),I=d(49242),_=d(65712),T=d(4050),A=function(C){b.__extends(E,C);function E(){var p=C!==null&&C.apply(this,arguments)||this;return p.type="line",p.canFill=!1,p.canStroke=!0,p}return E.prototype.getDefaultAttrs=function(){var p=C.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},p),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},E.prototype.createPath=function(p,w){var y=this.attr(),m=this.get("el");I.each(w||y,function(g,M){if(M==="startArrow"||M==="endArrow")if(g){var L=I.isObject(g)?p.addArrow(y,_.SVG_ATTR_MAP[M]):p.getDefaultArrow(y,_.SVG_ATTR_MAP[M]);m.setAttribute(_.SVG_ATTR_MAP[M],"url(#"+L+")")}else m.removeAttribute(_.SVG_ATTR_MAP[M]);else _.SVG_ATTR_MAP[M]&&m.setAttribute(_.SVG_ATTR_MAP[M],g)})},E.prototype.getTotalLength=function(){var p=this.attr(),w=p.x1,y=p.y1,m=p.x2,g=p.y2;return O.Line.length(w,y,m,g)},E.prototype.getPoint=function(p){var w=this.attr(),y=w.x1,m=w.y1,g=w.x2,M=w.y2;return O.Line.pointAt(y,m,g,M,p)},E}(T.default);S.default=A},59408:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(58977),O=d(49242),I=d(4050),_=d(22505),T=function(A){b.__extends(C,A);function C(){var E=A!==null&&A.apply(this,arguments)||this;return E.type="marker",E.canFill=!0,E.canStroke=!0,E}return C.prototype.createPath=function(E){var p=this.get("el");p.setAttribute("d",this._assembleMarker())},C.prototype._assembleMarker=function(){var E=this._getPath();return O.isArray(E)?E.map(function(p){return p.join(" ")}).join(""):E},C.prototype._getPath=function(){var E=this.attr(),p=E.x,w=E.y,y=E.r||E.radius,m=E.symbol||"circle",g;return O.isFunction(m)?g=m:g=_.default.get(m),g?g(p,w,y):(console.warn(g+" symbol is not exist."),null)},C.symbolsFactory=_.default,C}(I.default);S.default=T},22505:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={circle:function(b,O,I){return[["M",b,O],["m",-I,0],["a",I,I,0,1,0,I*2,0],["a",I,I,0,1,0,-I*2,0]]},square:function(b,O,I){return[["M",b-I,O-I],["L",b+I,O-I],["L",b+I,O+I],["L",b-I,O+I],["Z"]]},diamond:function(b,O,I){return[["M",b-I,O],["L",b,O-I],["L",b+I,O],["L",b,O+I],["Z"]]},triangle:function(b,O,I){var _=I*Math.sin(1/3*Math.PI);return[["M",b-I,O+_],["L",b,O-_],["L",b+I,O+_],["z"]]},triangleDown:function(b,O,I){var _=I*Math.sin(1/3*Math.PI);return[["M",b-I,O-_],["L",b+I,O-_],["L",b,O+_],["Z"]]}};S.default={get:function(b){return d[b]},register:function(b,O){d[b]=O},remove:function(b){delete d[b]},getAll:function(){return d}}},51076:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(58977),O=d(49242),I=d(65712),_=d(4050),T=function(A){b.__extends(C,A);function C(){var E=A!==null&&A.apply(this,arguments)||this;return E.type="path",E.canFill=!0,E.canStroke=!0,E}return C.prototype.getDefaultAttrs=function(){var E=A.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},E),{startArrow:!1,endArrow:!1})},C.prototype.createPath=function(E,p){var w=this,y=this.attr(),m=this.get("el");O.each(p||y,function(g,M){if(M==="path"&&O.isArray(g))m.setAttribute("d",w._formatPath(g));else if(M==="startArrow"||M==="endArrow")if(g){var L=O.isObject(g)?E.addArrow(y,I.SVG_ATTR_MAP[M]):E.getDefaultArrow(y,I.SVG_ATTR_MAP[M]);m.setAttribute(I.SVG_ATTR_MAP[M],"url(#"+L+")")}else m.removeAttribute(I.SVG_ATTR_MAP[M]);else I.SVG_ATTR_MAP[M]&&m.setAttribute(I.SVG_ATTR_MAP[M],g)})},C.prototype._formatPath=function(E){var p=E.map(function(w){return w.join(" ")}).join("");return~p.indexOf("NaN")?"":p},C.prototype.getTotalLength=function(){var E=this.get("el");return E?E.getTotalLength():null},C.prototype.getPoint=function(E){var p=this.get("el"),w=this.getTotalLength();if(w===0)return null;var y=p?p.getPointAtLength(E*w):null;return y?{x:y.x,y:y.y}:null},C}(_.default);S.default=T},36361:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(58977),O=d(49242),I=d(65712),_=d(4050),T=function(A){b.__extends(C,A);function C(){var E=A!==null&&A.apply(this,arguments)||this;return E.type="polygon",E.canFill=!0,E.canStroke=!0,E}return C.prototype.createPath=function(E,p){var w=this.attr(),y=this.get("el");O.each(p||w,function(m,g){g==="points"&&O.isArray(m)&&m.length>=2?y.setAttribute("points",m.map(function(M){return M[0]+","+M[1]}).join(" ")):I.SVG_ATTR_MAP[g]&&y.setAttribute(I.SVG_ATTR_MAP[g],m)})},C}(_.default);S.default=T},46406:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(58977),O=d(89838),I=d(89838),_=d(49242),T=d(65712),A=d(4050),C=function(E){b.__extends(p,E);function p(){var w=E!==null&&E.apply(this,arguments)||this;return w.type="polyline",w.canFill=!0,w.canStroke=!0,w}return p.prototype.getDefaultAttrs=function(){var w=E.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},w),{startArrow:!1,endArrow:!1})},p.prototype.onAttrChange=function(w,y,m){E.prototype.onAttrChange.call(this,w,y,m),["points"].indexOf(w)!==-1&&this._resetCache()},p.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},p.prototype.createPath=function(w,y){var m=this.attr(),g=this.get("el");_.each(y||m,function(M,L){L==="points"&&_.isArray(M)&&M.length>=2?g.setAttribute("points",M.map(function(B){return B[0]+","+B[1]}).join(" ")):T.SVG_ATTR_MAP[L]&&g.setAttribute(T.SVG_ATTR_MAP[L],M)})},p.prototype.getTotalLength=function(){var w=this.attr().points,y=this.get("totalLength");return _.isNil(y)?(this.set("totalLength",O.Polyline.length(w)),this.get("totalLength")):y},p.prototype.getPoint=function(w){var y=this.attr().points,m=this.get("tCache");m||(this._setTcache(),m=this.get("tCache"));var g,M;return _.each(m,function(L,B){w>=L[0]&&w<=L[1]&&(g=(w-L[0])/(L[1]-L[0]),M=B)}),I.Line.pointAt(y[M][0],y[M][1],y[M+1][0],y[M+1][1],g)},p.prototype._setTcache=function(){var w=this.attr().points;if(!(!w||w.length===0)){var y=this.getTotalLength();if(!(y<=0)){var m=0,g=[],M,L;_.each(w,function(B,N){w[N+1]&&(M=[],M[0]=m/y,L=I.Line.length(B[0],B[1],w[N+1][0],w[N+1][1]),m+=L,M[1]=m/y,g.push(M))}),this.set("tCache",g)}}},p.prototype.getStartTangent=function(){var w=this.attr().points,y=[];return y.push([w[1][0],w[1][1]]),y.push([w[0][0],w[0][1]]),y},p.prototype.getEndTangent=function(){var w=this.attr().points,y=w.length-1,m=[];return m.push([w[y-1][0],w[y-1][1]]),m.push([w[y][0],w[y][1]]),m},p}(A.default);S.default=C},71320:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(58977),O=d(49242),I=d(4050),_=d(65712),T=d(48490),A=function(C){b.__extends(E,C);function E(){var p=C!==null&&C.apply(this,arguments)||this;return p.type="rect",p.canFill=!0,p.canStroke=!0,p}return E.prototype.getDefaultAttrs=function(){var p=C.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},p),{x:0,y:0,width:0,height:0,radius:0})},E.prototype.createPath=function(p,w){var y=this,m=this.attr(),g=this.get("el"),M=!1,L=["x","y","width","height","radius"];O.each(w||m,function(B,N){L.indexOf(N)!==-1&&!M?(g.setAttribute("d",y._assembleRect(m)),M=!0):L.indexOf(N)===-1&&_.SVG_ATTR_MAP[N]&&g.setAttribute(_.SVG_ATTR_MAP[N],B)})},E.prototype._assembleRect=function(p){var w=p.x,y=p.y,m=p.width,g=p.height,M=p.radius;if(!M)return"M "+w+","+y+" l "+m+",0 l 0,"+g+" l"+-m+" 0 z";var L=T.parseRadius(M);O.isArray(M)?M.length===1?L.r1=L.r2=L.r3=L.r4=M[0]:M.length===2?(L.r1=L.r3=M[0],L.r2=L.r4=M[1]):M.length===3?(L.r1=M[0],L.r2=L.r4=M[1],L.r3=M[2]):(L.r1=M[0],L.r2=M[1],L.r3=M[2],L.r4=M[3]):L.r1=L.r2=L.r3=L.r4=M;var B=[["M "+(w+L.r1)+","+y],["l "+(m-L.r1-L.r2)+",0"],["a "+L.r2+","+L.r2+",0,0,1,"+L.r2+","+L.r2],["l 0,"+(g-L.r2-L.r3)],["a "+L.r3+","+L.r3+",0,0,1,"+-L.r3+","+L.r3],["l "+(L.r3+L.r4-m)+",0"],["a "+L.r4+","+L.r4+",0,0,1,"+-L.r4+","+-L.r4],["l 0,"+(L.r4+L.r1-g)],["a "+L.r1+","+L.r1+",0,0,1,"+L.r1+","+-L.r1],["z"]];return B.join(" ")},E}(I.default);S.default=A},35726:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(58977),O=d(49242),I=d(43631),_=d(50063),T=d(65712),A=d(4050),C=.3,E={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},p={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},w={left:"left",start:"left",center:"middle",right:"end",end:"end"},y=function(m){b.__extends(g,m);function g(){var M=m!==null&&m.apply(this,arguments)||this;return M.type="text",M.canFill=!0,M.canStroke=!0,M}return g.prototype.getDefaultAttrs=function(){var M=m.prototype.getDefaultAttrs.call(this);return b.__assign(b.__assign({},M),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},g.prototype.createPath=function(M,L){var B=this,N=this.attr(),j=this.get("el");this._setFont(),O.each(L||N,function(tt,H){H==="text"?B._setText(""+tt):H==="matrix"&&tt?_.setTransform(B):T.SVG_ATTR_MAP[H]&&j.setAttribute(T.SVG_ATTR_MAP[H],tt)}),j.setAttribute("paint-order","stroke"),j.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},g.prototype._setFont=function(){var M=this.get("el"),L=this.attr(),B=L.textBaseline,N=L.textAlign,j=I.detect();j&&j.name==="firefox"?M.setAttribute("dominant-baseline",p[B]||"alphabetic"):M.setAttribute("alignment-baseline",E[B]||"baseline"),M.setAttribute("text-anchor",w[N]||"left")},g.prototype._setText=function(M){var L=this.get("el"),B=this.attr(),N=B.x,j=B.textBaseline,tt=j===void 0?"bottom":j;if(!M)L.innerHTML="";else if(~M.indexOf(`
`)){var H=M.split(`
`),J=H.length-1,ct="";O.each(H,function(ut,At){At===0?tt==="alphabetic"?ct+='<tspan x="'+N+'" dy="'+-J+'em">'+ut+"</tspan>":tt==="top"?ct+='<tspan x="'+N+'" dy="0.9em">'+ut+"</tspan>":tt==="middle"?ct+='<tspan x="'+N+'" dy="'+-(J-1)/2+'em">'+ut+"</tspan>":tt==="bottom"?ct+='<tspan x="'+N+'" dy="-'+(J+C)+'em">'+ut+"</tspan>":tt==="hanging"&&(ct+='<tspan x="'+N+'" dy="'+(-(J-1)-C)+'em">'+ut+"</tspan>"):ct+='<tspan x="'+N+'" dy="1em">'+ut+"</tspan>"}),L.innerHTML=ct}else L.innerHTML=M},g}(A.default);S.default=y},87596:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.moveTo=S.sortDom=S.createDom=S.createSVGElement=void 0;var b=d(49242),O=d(65712);function I(C){return document.createElementNS("http://www.w3.org/2000/svg",C)}S.createSVGElement=I;function _(C){var E=O.SHAPE_TO_TAGS[C.type],p=C.getParent();if(!E)throw new Error("the type "+C.type+" is not supported by svg");var w=I(E);if(C.get("id")&&(w.id=C.get("id")),C.set("el",w),C.set("attrs",{}),p){var y=p.get("el");y||(y=p.createDom(),p.set("el",y)),y.appendChild(w)}return w}S.createDom=_;function T(C,E){var p=C.get("el"),w=b.toArray(p.children).sort(E),y=document.createDocumentFragment();w.forEach(function(m){y.appendChild(m)}),p.appendChild(y)}S.sortDom=T;function A(C,E){var p=C.parentNode,w=Array.from(p.childNodes).filter(function(M){return M.nodeType===1&&M.nodeName.toLowerCase()!=="defs"}),y=w[E],m=w.indexOf(C);if(y){if(m>E)p.insertBefore(C,y);else if(m<E){var g=w[E+1];g?p.insertBefore(C,g):p.appendChild(C)}}else p.appendChild(C)}S.moveTo=A},98820:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.refreshElement=S.drawChildren=void 0;var b=d(50063),O=d(87596);function I(T,A){A.forEach(function(C){C.draw(T)})}S.drawChildren=I;function _(T,A){var C=T.get("canvas");if(C&&C.get("autoDraw")){var E=C.get("context"),p=T.getParent(),w=p?p.getChildren():[C],y=T.get("el");if(A==="remove"){var m=T.get("isClipShape");if(m){var g=y&&y.parentNode,M=g&&g.parentNode;g&&M&&M.removeChild(g)}else y&&y.parentNode&&y.parentNode.removeChild(y)}else if(A==="show")y.setAttribute("visibility","visible");else if(A==="hide")y.setAttribute("visibility","hidden");else if(A==="zIndex")O.moveTo(y,w.indexOf(T));else if(A==="sort"){var L=T.get("children");L&&L.length&&O.sortDom(T,function(B,N){return L.indexOf(B)-L.indexOf(N)?1:0})}else A==="clear"?y&&(y.innerHTML=""):A==="matrix"?b.setTransform(T):A==="clip"?b.setClip(T,E):A==="attr"||A==="add"&&T.draw(E)}}S.refreshElement=_},48490:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parsePath=S.parseRadius=void 0;var b=d(49242),O=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,I=/[^\s,]+/gi;function _(A){var C=0,E=0,p=0,w=0;return b.isArray(A)?A.length===1?C=E=p=w=A[0]:A.length===2?(C=p=A[0],E=w=A[1]):A.length===3?(C=A[0],E=w=A[1],p=A[2]):(C=A[0],E=A[1],p=A[2],w=A[3]):C=E=p=w=A,{r1:C,r2:E,r3:p,r4:w}}S.parseRadius=_;function T(A){if(A=A||[],b.isArray(A))return A;if(b.isString(A))return A=A.match(O),b.each(A,function(C,E){if(C=C.match(I),C[0].length>1){var p=C[0].charAt(0);C.splice(1,0,C[0].substr(1)),C[0]=p}b.each(C,function(w,y){isNaN(w)||(C[y]=+w)}),A[E]=C}),A}S.parsePath=T},50063:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setClip=S.setTransform=S.setShadow=void 0;var b=d(87596);function O(T,A){var C=T.cfg.el,E=T.attr(),p={dx:E.shadowOffsetX,dy:E.shadowOffsetY,blur:E.shadowBlur,color:E.shadowColor};if(!p.dx&&!p.dy&&!p.blur&&!p.color)C.removeAttribute("filter");else{var w=A.find("filter",p);w||(w=A.addShadow(p)),C.setAttribute("filter","url(#"+w+")")}}S.setShadow=O;function I(T){var A=T.attr().matrix;if(A){for(var C=T.cfg.el,E=[],p=0;p<9;p+=3)E.push(A[p]+","+A[p+1]);E=E.join(","),E.indexOf("NaN")===-1?C.setAttribute("transform","matrix("+E+")"):console.warn("invalid matrix:",A)}}S.setTransform=I;function _(T,A){var C=T.getClip(),E=T.get("el");if(!C)E.removeAttribute("clip-path");else if(C&&!E.hasAttribute("clip-path")){b.createDom(C),C.createPath(A);var p=A.addClip(C);E.setAttribute("clip-path","url(#"+p+")")}}S.setClip=_},58977:function(dt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return O},__assign:function(){return I},__rest:function(){return _},__decorate:function(){return T},__param:function(){return A},__esDecorate:function(){return C},__runInitializers:function(){return E},__propKey:function(){return p},__setFunctionName:function(){return w},__metadata:function(){return y},__awaiter:function(){return m},__generator:function(){return g},__createBinding:function(){return M},__exportStar:function(){return L},__values:function(){return B},__read:function(){return N},__spread:function(){return j},__spreadArrays:function(){return tt},__spreadArray:function(){return H},__await:function(){return J},__asyncGenerator:function(){return ct},__asyncDelegator:function(){return ut},__asyncValues:function(){return At},__makeTemplateObject:function(){return St},__importStar:function(){return Tt},__importDefault:function(){return Dt},__classPrivateFieldGet:function(){return Bt},__classPrivateFieldSet:function(){return Et},__classPrivateFieldIn:function(){return zt},__addDisposableResource:function(){return jt},__disposeResources:function(){return pt}});var b=function(k,u){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,Y){G.__proto__=Y}||function(G,Y){for(var V in Y)Object.prototype.hasOwnProperty.call(Y,V)&&(G[V]=Y[V])},b(k,u)};function O(k,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");b(k,u);function G(){this.constructor=k}k.prototype=u===null?Object.create(u):(G.prototype=u.prototype,new G)}var I=function(){return I=Object.assign||function(u){for(var G,Y=1,V=arguments.length;Y<V;Y++){G=arguments[Y];for(var U in G)Object.prototype.hasOwnProperty.call(G,U)&&(u[U]=G[U])}return u},I.apply(this,arguments)};function _(k,u){var G={};for(var Y in k)Object.prototype.hasOwnProperty.call(k,Y)&&u.indexOf(Y)<0&&(G[Y]=k[Y]);if(k!=null&&typeof Object.getOwnPropertySymbols=="function")for(var V=0,Y=Object.getOwnPropertySymbols(k);V<Y.length;V++)u.indexOf(Y[V])<0&&Object.prototype.propertyIsEnumerable.call(k,Y[V])&&(G[Y[V]]=k[Y[V]]);return G}function T(k,u,G,Y){var V=arguments.length,U=V<3?u:Y===null?Y=Object.getOwnPropertyDescriptor(u,G):Y,et;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(k,u,G,Y);else for(var ht=k.length-1;ht>=0;ht--)(et=k[ht])&&(U=(V<3?et(U):V>3?et(u,G,U):et(u,G))||U);return V>3&&U&&Object.defineProperty(u,G,U),U}function A(k,u){return function(G,Y){u(G,Y,k)}}function C(k,u,G,Y,V,U){function et(Ct){if(Ct!==void 0&&typeof Ct!="function")throw new TypeError("Function expected");return Ct}for(var ht=Y.kind,Ft=ht==="getter"?"get":ht==="setter"?"set":"value",bt=!u&&k?Y.static?k:k.prototype:null,at=u||(bt?Object.getOwnPropertyDescriptor(bt,Y.name):{}),xt,lt=!1,it=G.length-1;it>=0;it--){var yt={};for(var ft in Y)yt[ft]=ft==="access"?{}:Y[ft];for(var ft in Y.access)yt.access[ft]=Y.access[ft];yt.addInitializer=function(Ct){if(lt)throw new TypeError("Cannot add initializers after decoration has completed");U.push(et(Ct||null))};var st=(0,G[it])(ht==="accessor"?{get:at.get,set:at.set}:at[Ft],yt);if(ht==="accessor"){if(st===void 0)continue;if(st===null||typeof st!="object")throw new TypeError("Object expected");(xt=et(st.get))&&(at.get=xt),(xt=et(st.set))&&(at.set=xt),(xt=et(st.init))&&V.unshift(xt)}else(xt=et(st))&&(ht==="field"?V.unshift(xt):at[Ft]=xt)}bt&&Object.defineProperty(bt,Y.name,at),lt=!0}function E(k,u,G){for(var Y=arguments.length>2,V=0;V<u.length;V++)G=Y?u[V].call(k,G):u[V].call(k);return Y?G:void 0}function p(k){return typeof k=="symbol"?k:"".concat(k)}function w(k,u,G){return typeof u=="symbol"&&(u=u.description?"[".concat(u.description,"]"):""),Object.defineProperty(k,"name",{configurable:!0,value:G?"".concat(G," ",u):u})}function y(k,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(k,u)}function m(k,u,G,Y){function V(U){return U instanceof G?U:new G(function(et){et(U)})}return new(G||(G=Promise))(function(U,et){function ht(at){try{bt(Y.next(at))}catch(xt){et(xt)}}function Ft(at){try{bt(Y.throw(at))}catch(xt){et(xt)}}function bt(at){at.done?U(at.value):V(at.value).then(ht,Ft)}bt((Y=Y.apply(k,u||[])).next())})}function g(k,u){var G={label:0,sent:function(){if(U[0]&1)throw U[1];return U[1]},trys:[],ops:[]},Y,V,U,et;return et={next:ht(0),throw:ht(1),return:ht(2)},typeof Symbol=="function"&&(et[Symbol.iterator]=function(){return this}),et;function ht(bt){return function(at){return Ft([bt,at])}}function Ft(bt){if(Y)throw new TypeError("Generator is already executing.");for(;et&&(et=0,bt[0]&&(G=0)),G;)try{if(Y=1,V&&(U=bt[0]&2?V.return:bt[0]?V.throw||((U=V.return)&&U.call(V),0):V.next)&&!(U=U.call(V,bt[1])).done)return U;switch(V=0,U&&(bt=[bt[0]&2,U.value]),bt[0]){case 0:case 1:U=bt;break;case 4:return G.label++,{value:bt[1],done:!1};case 5:G.label++,V=bt[1],bt=[0];continue;case 7:bt=G.ops.pop(),G.trys.pop();continue;default:if(U=G.trys,!(U=U.length>0&&U[U.length-1])&&(bt[0]===6||bt[0]===2)){G=0;continue}if(bt[0]===3&&(!U||bt[1]>U[0]&&bt[1]<U[3])){G.label=bt[1];break}if(bt[0]===6&&G.label<U[1]){G.label=U[1],U=bt;break}if(U&&G.label<U[2]){G.label=U[2],G.ops.push(bt);break}U[2]&&G.ops.pop(),G.trys.pop();continue}bt=u.call(k,G)}catch(at){bt=[6,at],V=0}finally{Y=U=0}if(bt[0]&5)throw bt[1];return{value:bt[0]?bt[1]:void 0,done:!0}}}var M=Object.create?function(k,u,G,Y){Y===void 0&&(Y=G);var V=Object.getOwnPropertyDescriptor(u,G);(!V||("get"in V?!u.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return u[G]}}),Object.defineProperty(k,Y,V)}:function(k,u,G,Y){Y===void 0&&(Y=G),k[Y]=u[G]};function L(k,u){for(var G in k)G!=="default"&&!Object.prototype.hasOwnProperty.call(u,G)&&M(u,k,G)}function B(k){var u=typeof Symbol=="function"&&Symbol.iterator,G=u&&k[u],Y=0;if(G)return G.call(k);if(k&&typeof k.length=="number")return{next:function(){return k&&Y>=k.length&&(k=void 0),{value:k&&k[Y++],done:!k}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}function N(k,u){var G=typeof Symbol=="function"&&k[Symbol.iterator];if(!G)return k;var Y=G.call(k),V,U=[],et;try{for(;(u===void 0||u-- >0)&&!(V=Y.next()).done;)U.push(V.value)}catch(ht){et={error:ht}}finally{try{V&&!V.done&&(G=Y.return)&&G.call(Y)}finally{if(et)throw et.error}}return U}function j(){for(var k=[],u=0;u<arguments.length;u++)k=k.concat(N(arguments[u]));return k}function tt(){for(var k=0,u=0,G=arguments.length;u<G;u++)k+=arguments[u].length;for(var Y=Array(k),V=0,u=0;u<G;u++)for(var U=arguments[u],et=0,ht=U.length;et<ht;et++,V++)Y[V]=U[et];return Y}function H(k,u,G){if(G||arguments.length===2)for(var Y=0,V=u.length,U;Y<V;Y++)(U||!(Y in u))&&(U||(U=Array.prototype.slice.call(u,0,Y)),U[Y]=u[Y]);return k.concat(U||Array.prototype.slice.call(u))}function J(k){return this instanceof J?(this.v=k,this):new J(k)}function ct(k,u,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y=G.apply(k,u||[]),V,U=[];return V={},et("next"),et("throw"),et("return"),V[Symbol.asyncIterator]=function(){return this},V;function et(lt){Y[lt]&&(V[lt]=function(it){return new Promise(function(yt,ft){U.push([lt,it,yt,ft])>1||ht(lt,it)})})}function ht(lt,it){try{Ft(Y[lt](it))}catch(yt){xt(U[0][3],yt)}}function Ft(lt){lt.value instanceof J?Promise.resolve(lt.value.v).then(bt,at):xt(U[0][2],lt)}function bt(lt){ht("next",lt)}function at(lt){ht("throw",lt)}function xt(lt,it){lt(it),U.shift(),U.length&&ht(U[0][0],U[0][1])}}function ut(k){var u,G;return u={},Y("next"),Y("throw",function(V){throw V}),Y("return"),u[Symbol.iterator]=function(){return this},u;function Y(V,U){u[V]=k[V]?function(et){return(G=!G)?{value:J(k[V](et)),done:!1}:U?U(et):et}:U}}function At(k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=k[Symbol.asyncIterator],G;return u?u.call(k):(k=typeof B=="function"?B(k):k[Symbol.iterator](),G={},Y("next"),Y("throw"),Y("return"),G[Symbol.asyncIterator]=function(){return this},G);function Y(U){G[U]=k[U]&&function(et){return new Promise(function(ht,Ft){et=k[U](et),V(ht,Ft,et.done,et.value)})}}function V(U,et,ht,Ft){Promise.resolve(Ft).then(function(bt){U({value:bt,done:ht})},et)}}function St(k,u){return Object.defineProperty?Object.defineProperty(k,"raw",{value:u}):k.raw=u,k}var Yt=Object.create?function(k,u){Object.defineProperty(k,"default",{enumerable:!0,value:u})}:function(k,u){k.default=u};function Tt(k){if(k&&k.__esModule)return k;var u={};if(k!=null)for(var G in k)G!=="default"&&Object.prototype.hasOwnProperty.call(k,G)&&M(u,k,G);return Yt(u,k),u}function Dt(k){return k&&k.__esModule?k:{default:k}}function Bt(k,u,G,Y){if(G==="a"&&!Y)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?k!==u||!Y:!u.has(k))throw new TypeError("Cannot read private member from an object whose class did not declare it");return G==="m"?Y:G==="a"?Y.call(k):Y?Y.value:u.get(k)}function Et(k,u,G,Y,V){if(Y==="m")throw new TypeError("Private method is not writable");if(Y==="a"&&!V)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?k!==u||!V:!u.has(k))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Y==="a"?V.call(k,G):V?V.value=G:u.set(k,G),G}function zt(k,u){if(u===null||typeof u!="object"&&typeof u!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof k=="function"?u===k:k.has(u)}function jt(k,u,G){if(u!=null){if(typeof u!="object"&&typeof u!="function")throw new TypeError("Object expected.");var Y;if(G){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");Y=u[Symbol.asyncDispose]}if(Y===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");Y=u[Symbol.dispose]}if(typeof Y!="function")throw new TypeError("Object not disposable.");k.stack.push({value:u,dispose:Y,async:G})}else G&&k.stack.push({async:!0});return u}var Mt=typeof SuppressedError=="function"?SuppressedError:function(k,u,G){var Y=new Error(G);return Y.name="SuppressedError",Y.error=k,Y.suppressed=u,Y};function pt(k){function u(Y){k.error=k.hasError?new Mt(Y,k.error,"An error was suppressed during disposal."):Y,k.hasError=!0}function G(){for(;k.stack.length;){var Y=k.stack.pop();try{var V=Y.dispose&&Y.dispose.call(Y.value);if(Y.async)return Promise.resolve(V).then(G,function(U){return u(U),G()})}catch(U){u(U)}}if(k.hasError)throw k.error}return G()}S.default={__extends:O,__assign:I,__rest:_,__decorate:T,__param:A,__metadata:y,__awaiter:m,__generator:g,__createBinding:M,__exportStar:L,__values:B,__read:N,__spread:j,__spreadArrays:tt,__spreadArray:H,__await:J,__asyncGenerator:ct,__asyncDelegator:ut,__asyncValues:At,__makeTemplateObject:St,__importStar:Tt,__importDefault:Dt,__classPrivateFieldGet:Bt,__classPrivateFieldSet:Et,__classPrivateFieldIn:zt,__addDisposableResource:jt,__disposeResources:pt}},83077:function(dt,S,d){"use strict";var b;b={value:!0};var O=d(16854);S.wO=O.default;var I=d(13841);b=I.default;var _=d(38269);b=_.default;var T=d(34302);S.vs=T.default},16854:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(31502);b.translate=function(O,I,_){var T=new Array(9);return b.fromTranslation(T,_),b.multiply(O,T,I)},b.rotate=function(O,I,_){var T=new Array(9);return b.fromRotation(T,_),b.multiply(O,T,I)},b.scale=function(O,I,_){var T=new Array(9);return b.fromScaling(T,_),b.multiply(O,T,I)},b.transform=function(O,I){for(var _=[].concat(O),T=0,A=I.length;T<A;T++){var C=I[T];switch(C[0]){case"t":b.translate(_,_,[C[1],C[2]]);break;case"s":b.scale(_,_,[C[1],C[2]]);break;case"r":b.rotate(_,_,C[1]);break;default:break}}return _},S.default=b},34302:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),O=d(16854);S.default=function(I,_){var T=I?b.clone(I):[1,0,0,0,1,0,0,0,1];return b.each(_,function(A){switch(A[0]){case"t":O.default.translate(T,T,[A[1],A[2]]);break;case"s":O.default.scale(T,T,[A[1],A[2]]);break;case"r":O.default.rotate(T,T,A[1]);break;case"m":O.default.multiply(T,T,A[1]);break;default:return!1}}),T}},13841:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(76172),O=d(49242);b.angle=function(I,_){var T=b.dot(I,_)/(b.length(I)*b.length(_));return Math.acos(O.clamp(T,-1,1))},b.direction=function(I,_){return I[0]*_[1]-_[0]*I[1]},b.angleTo=function(I,_,T){var A=b.angle(I,_),C=b.direction(I,_)>=0;return T?C?Math.PI*2-A:A:C?A:Math.PI*2-A},b.vertical=function(I,_,T){return T?(I[0]=_[1],I[1]=-1*_[0]):(I[0]=-1*_[1],I[1]=_[0]),I},S.default=b},38269:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(88395);S.default=b},55223:function(dt,S,d){"use strict";d.r(S);var b=d(49242),O=/rgba?\(([\s.,0-9]+)\)/,I=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,_=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,T=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,A=function(N){return/^[r,R,L,l]{1}[\s]*\(/.test(N)},C=function(){var N=document.createElement("i");return N.title="Web Colour Picker",N.style.display="none",document.body.appendChild(N),N},E=function(N,j,tt,H){return N[H]+(j[H]-N[H])*tt};function p(N){return"#"+y(N[0])+y(N[1])+y(N[2])}var w=function(N){return[parseInt(N.substr(1,2),16),parseInt(N.substr(3,2),16),parseInt(N.substr(5,2),16)]},y=function(N){var j=Math.round(N).toString(16);return j.length===1?"0"+j:j},m=function(N,j){var tt=isNaN(Number(j))||j<0?0:j>1?1:Number(j),H=N.length-1,J=Math.floor(H*tt),ct=H*tt-J,ut=N[J],At=J===H?ut:N[J+1];return p([E(ut,At,ct,0),E(ut,At,ct,1),E(ut,At,ct,2)])},g,M=function(N){if(N[0]==="#"&&N.length===7)return N;g||(g=C()),g.style.color=N;var j=document.defaultView.getComputedStyle(g,"").getPropertyValue("color"),tt=O.exec(j),H=tt[1].split(/\s*,\s*/).map(function(J){return Number(J)});return j=p(H),j},L=function(N){var j=(0,b.isString)(N)?N.split("-"):N,tt=(0,b.map)(j,function(H){return w(H.indexOf("#")===-1?M(H):H)});return function(H){return m(tt,H)}},B=function(N){if(A(N)){var j,tt=void 0;if(N[0]==="l"){var H=I.exec(N),J=+H[1]+90;tt=H[2],j="linear-gradient("+J+"deg, "}else if(N[0]==="r"){j="radial-gradient(";var H=_.exec(N);tt=H[4]}var ct=tt.match(T);return(0,b.each)(ct,function(ut,At){var St=ut.split(":");j+=St[1]+" "+St[0]*100+"%",At!==ct.length-1&&(j+=", ")}),j+=")",j}return N};S.default={rgb2arr:w,gradient:L,toRGB:(0,b.memoize)(M),toCSSGradient:B}},51441:function(dt,S,d){"use strict";d.r(S),d.d(S,{Annotation:function(){return b},Axis:function(){return A},Component:function(){return xt},Crosshair:function(){return C},Grid:function(){return E},GroupComponent:function(){return st},HtmlComponent:function(){return Mn},Legend:function(){return p},Scrollbar:function(){return Hi},Slider:function(){return ui},Tooltip:function(){return y}});var b={};d.r(b),d.d(b,{Arc:function(){return ni},DataMarker:function(){return Se},DataRegion:function(){return Ne},Image:function(){return he},Line:function(){return pn},Region:function(){return yi},RegionFilter:function(){return Ve},Text:function(){return en}});var O={};d.r(O),d.d(O,{ellipsisHead:function(){return W},ellipsisMiddle:function(){return F},ellipsisTail:function(){return R},getDefault:function(){return Ot}});var I={};d.r(I),d.d(I,{equidistance:function(){return _e},getDefault:function(){return Gt},reserveBoth:function(){return me},reserveFirst:function(){return Kt},reserveLast:function(){return we}});var _={};d.r(_),d.d(_,{fixedAngle:function(){return Rr},getDefault:function(){return dr},unfixedAngle:function(){return Oe}});var T={};d.r(T),d.d(T,{autoEllipsis:function(){return O},autoHide:function(){return I},autoRotate:function(){return _}});var A={};d.r(A),d.d(A,{Base:function(){return Qe},Circle:function(){return hr},Line:function(){return nr}});var C={};d.r(C),d.d(C,{Base:function(){return Qr},Circle:function(){return fn},Html:function(){return vr},Line:function(){return Hr}});var E={};d.r(E),d.d(E,{Base:function(){return Gr},Circle:function(){return Ut},Line:function(){return se}});var p={};d.r(p),d.d(p,{Base:function(){return Te},Category:function(){return ir},Continuous:function(){return Ar}});var w={};d.r(w),d.d(w,{CONTAINER_CLASS:function(){return sn},CROSSHAIR_X:function(){return Ai},CROSSHAIR_Y:function(){return ti},LIST_CLASS:function(){return ln},LIST_ITEM_CLASS:function(){return Fn},MARKER_CLASS:function(){return kn},NAME_CLASS:function(){return Rn},TITLE_CLASS:function(){return Jr},VALUE_CLASS:function(){return Jn}});var y={};d.r(y),d.d(y,{Html:function(){return Oi}});var m=d(62117),g=d(49242),M=d(66192);function L(Qt,wt,z){var nt=new M.default(wt,z);nt.target=Qt,nt.propagationPath.push(Qt),Qt.emitDelegation(wt,nt);for(var vt=Qt.getParent();vt;)vt.emitDelegation(wt,nt),nt.propagationPath.push(vt),vt=vt.getParent()}var B=d(31506),N=d(31437),j=[1,0,0,0,1,0,0,0,1];function tt(Qt,wt,z){if(z===void 0&&(z=j),!wt)return null;var nt=B.transform(z,[["t",-Qt.x,-Qt.y],["r",wt],["t",Qt.x,Qt.y]]);return nt}function H(Qt,wt){return!Qt.x&&!Qt.y?null:B.transform(wt||j,[["t",Qt.x,Qt.y]])}function J(Qt){var wt=[1,0,0],z=[0,0,0];return vec3.transformMat3(z,wt,Qt),Math.atan2(z[1],z[0])}function ct(Qt,wt){var z=[0,0];return N.transformMat3(z,wt,Qt),z}function ut(Qt,wt){var z=ct(Qt,[wt.minX,wt.minY]),nt=ct(Qt,[wt.maxX,wt.minY]),vt=ct(Qt,[wt.minX,wt.maxY]),Lt=ct(Qt,[wt.maxX,wt.maxY]),Ht=Math.min(z[0],nt[0],vt[0],Lt[0]),qt=Math.max(z[0],nt[0],vt[0],Lt[0]),ge=Math.min(z[1],nt[1],vt[1],Lt[1]),q=Math.max(z[1],nt[1],vt[1],Lt[1]);return{x:Ht,y:ge,minX:Ht,minY:ge,maxX:qt,maxY:q,width:qt-Ht,height:q-ge}}function At(Qt,wt,z,nt){if(wt){var vt=tt({x:z,y:nt},wt,Qt.getMatrix());Qt.setMatrix(vt)}}function St(Qt,wt,z){var nt=H({x:wt,y:z});Qt.attr("matrix",nt)}function Yt(Qt){var wt=0,z=0,nt=0,vt=0;return(0,g.isNumber)(Qt)?wt=z=nt=vt=Qt:(0,g.isArray)(Qt)&&(wt=Qt[0],nt=(0,g.isNil)(Qt[1])?Qt[0]:Qt[1],vt=(0,g.isNil)(Qt[2])?Qt[0]:Qt[2],z=(0,g.isNil)(Qt[3])?nt:Qt[3]),[wt,nt,vt,z]}function Tt(Qt){for(var wt=Qt.childNodes,z=wt.length,nt=z-1;nt>=0;nt--)Qt.removeChild(wt[nt])}function Dt(Qt,wt){return!!Qt.className.match(new RegExp("(\\s|^)"+wt+"(\\s|$)"))}function Bt(Qt){var wt=Qt.start,z=Qt.end,nt=Math.min(wt.x,z.x),vt=Math.min(wt.y,z.y),Lt=Math.max(wt.x,z.x),Ht=Math.max(wt.y,z.y);return{x:nt,y:vt,minX:nt,minY:vt,maxX:Lt,maxY:Ht,width:Lt-nt,height:Ht-vt}}function Et(Qt){var wt=Qt.map(function(qt){return qt.x}),z=Qt.map(function(qt){return qt.y}),nt=Math.min.apply(Math,wt),vt=Math.min.apply(Math,z),Lt=Math.max.apply(Math,wt),Ht=Math.max.apply(Math,z);return{x:nt,y:vt,minX:nt,minY:vt,maxX:Lt,maxY:Ht,width:Lt-nt,height:Ht-vt}}function zt(Qt,wt,z,nt){return{x:Qt,y:wt,width:z,height:nt,minX:Qt,minY:wt,maxX:Qt+z,maxY:wt+nt}}function jt(Qt,wt,z){return(1-z)*Qt+wt*z}function Mt(Qt,wt,z){return{x:Qt.x+Math.cos(z)*wt,y:Qt.y+Math.sin(z)*wt}}function pt(Qt,wt){var z=wt.x-Qt.x,nt=wt.y-Qt.y;return Math.sqrt(z*z+nt*nt)}var k=function(Qt){return new Promise(function(wt){setTimeout(wt,Qt)})},u=function(Qt,wt){return[Qt,wt].includes(Infinity)?Math.abs(Qt)===Math.abs(wt):Math.abs(Qt-wt)<Math.pow(Number.EPSILON,.5)};function G(Qt,wt){var z=Math.max(Qt.minX,wt.minX),nt=Math.max(Qt.minY,wt.minY),vt=Math.min(Qt.maxX,wt.maxX),Lt=Math.min(Qt.maxY,wt.maxY);return zt(z,nt,vt-z,Lt-nt)}function Y(Qt,wt){var z=Math.min(Qt.minX,wt.minX),nt=Math.min(Qt.minY,wt.minY),vt=Math.max(Qt.maxX,wt.maxX),Lt=Math.max(Qt.maxY,wt.maxY);return zt(z,nt,vt-z,Lt-nt)}function V(Qt){var wt=Qt.getClip(),z=wt&&wt.getBBox(),nt;if(!Qt.isGroup())nt=Qt.getBBox();else{var vt=Infinity,Lt=-Infinity,Ht=Infinity,qt=-Infinity,ge=Qt.getChildren();ge.length>0?(0,g.each)(ge,function(q){if(q.get("visible")){if(q.isGroup()&&q.get("children").length===0)return!0;var Q=V(q),$=q.applyToMatrix([Q.minX,Q.minY,1]),ot=q.applyToMatrix([Q.minX,Q.maxY,1]),_t=q.applyToMatrix([Q.maxX,Q.minY,1]),Xt=q.applyToMatrix([Q.maxX,Q.maxY,1]),ae=Math.min($[0],ot[0],_t[0],Xt[0]),oe=Math.max($[0],ot[0],_t[0],Xt[0]),ye=Math.min($[1],ot[1],_t[1],Xt[1]),ze=Math.max($[1],ot[1],_t[1],Xt[1]);ae<vt&&(vt=ae),oe>Lt&&(Lt=oe),ye<Ht&&(Ht=ye),ze>qt&&(qt=ze)}}):(vt=0,Lt=0,Ht=0,qt=0),nt=zt(vt,Ht,Lt-vt,qt-Ht)}return z?G(nt,z):nt}function U(Qt,wt){if(!(!Qt.getClip()&&!wt.getClip())){var z=wt.getClip();if(!z){Qt.setClip(null);return}var nt={type:z.get("type"),attrs:z.attr()};Qt.setClip(nt)}}function et(Qt){return Qt+"px"}function ht(Qt,wt,z,nt){var vt=pt(Qt,wt),Lt=nt/vt,Ht=0;return z==="start"?Ht=0-Lt:z==="end"&&(Ht=1+Lt),{x:jt(Qt.x,wt.x,Ht),y:jt(Qt.y,wt.y,Ht)}}var Ft=d(89790),bt={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},at=function(Qt){(0,m.__extends)(wt,Qt);function wt(z){var nt=Qt.call(this,z)||this;return nt.initCfg(),nt}return wt.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},wt.prototype.clear=function(){},wt.prototype.update=function(z){var nt=this,vt=this.get("defaultCfg");(0,g.each)(z,function(Lt,Ht){var qt=nt.get(Ht),ge=Lt;qt!==Lt&&((0,g.isObject)(Lt)&&vt[Ht]&&(ge=(0,g.deepMix)({},vt[Ht],Lt)),nt.set(Ht,ge))}),this.updateInner(z),this.afterUpdate(z)},wt.prototype.updateInner=function(z){},wt.prototype.afterUpdate=function(z){(0,g.hasKey)(z,"visible")&&(z.visible?this.show():this.hide()),(0,g.hasKey)(z,"capture")&&this.setCapture(z.capture)},wt.prototype.getLayoutBBox=function(){return this.getBBox()},wt.prototype.getLocationType=function(){return this.get("locationType")},wt.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},wt.prototype.setOffset=function(z,nt){this.update({offsetX:z,offsetY:nt})},wt.prototype.setLocation=function(z){var nt=(0,m.__assign)({},z);this.update(nt)},wt.prototype.getLocation=function(){var z=this,nt={},vt=this.get("locationType"),Lt=bt[vt];return(0,g.each)(Lt,function(Ht){nt[Ht]=z.get(Ht)}),nt},wt.prototype.isList=function(){return!1},wt.prototype.isSlider=function(){return!1},wt.prototype.init=function(){},wt.prototype.initCfg=function(){var z=this,nt=this.get("defaultCfg");(0,g.each)(nt,function(vt,Lt){var Ht=z.get(Lt);if((0,g.isObject)(Ht)){var qt=(0,g.deepMix)({},vt,Ht);z.set(Lt,qt)}})},wt}(Ft.Base),xt=at,lt="update_status",it=["visible","tip","delegateObject"],yt=["container","group","shapesMap","isRegister","isUpdating","destroyed"],ft=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},wt.prototype.remove=function(){this.clear();var z=this.get("group");z.remove()},wt.prototype.clear=function(){var z=this.get("group");z.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},wt.prototype.getChildComponentById=function(z){var nt=this.getElementById(z),vt=nt&&nt.get("component");return vt},wt.prototype.getElementById=function(z){return this.get("shapesMap")[z]},wt.prototype.getElementByLocalId=function(z){var nt=this.getElementId(z);return this.getElementById(nt)},wt.prototype.getElementsByName=function(z){var nt=[];return(0,g.each)(this.get("shapesMap"),function(vt){vt.get("name")===z&&nt.push(vt)}),nt},wt.prototype.getContainer=function(){return this.get("container")},wt.prototype.updateInner=function(z){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},wt.prototype.render=function(){var z=this.get("offScreenGroup");z||(z=this.offScreenRender());var nt=this.get("group");this.updateElements(z,nt),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},wt.prototype.show=function(){var z=this.get("group");z.show(),this.set("visible",!0)},wt.prototype.hide=function(){var z=this.get("group");z.hide(),this.set("visible",!1)},wt.prototype.setCapture=function(z){var nt=this.get("group");nt.set("capture",z),this.set("capture",z)},wt.prototype.destroy=function(){this.removeEvent(),this.remove(),Qt.prototype.destroy.call(this)},wt.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},wt.prototype.getLayoutBBox=function(){var z=this.get("group"),nt=this.getInnerLayoutBBox(),vt=z.getTotalMatrix();return vt&&(nt=ut(vt,nt)),nt},wt.prototype.on=function(z,nt,vt){var Lt=this.get("group");return Lt.on(z,nt,vt),this},wt.prototype.off=function(z,nt){var vt=this.get("group");return vt&&vt.off(z,nt),this},wt.prototype.emit=function(z,nt){var vt=this.get("group");vt.emit(z,nt)},wt.prototype.init=function(){Qt.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},wt.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},wt.prototype.delegateEmit=function(z,nt){var vt=this.get("group");nt.target=vt,vt.emit(z,nt),L(vt,z,nt)},wt.prototype.createOffScreenGroup=function(){var z=this.get("group"),nt=z.getGroupBase(),vt=new nt({delegateObject:this.getDelegateObject()});return vt},wt.prototype.applyOffset=function(){var z=this.get("offsetX"),nt=this.get("offsetY");this.moveElementTo(this.get("group"),{x:z,y:nt})},wt.prototype.initGroup=function(){var z=this.get("container");this.set("group",z.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},wt.prototype.offScreenRender=function(){this.clearOffScreenCache();var z=this.createOffScreenGroup();return this.renderInner(z),this.set("offScreenGroup",z),this.set("offScreenBBox",V(z)),z},wt.prototype.addGroup=function(z,nt){this.appendDelegateObject(z,nt);var vt=z.addGroup(nt);return this.get("isRegister")&&this.registerElement(vt),vt},wt.prototype.addShape=function(z,nt){this.appendDelegateObject(z,nt);var vt=z.addShape(nt);return this.get("isRegister")&&this.registerElement(vt),vt},wt.prototype.addComponent=function(z,nt){var vt=nt.id,Lt=nt.component,Ht=(0,m.__rest)(nt,["id","component"]),qt=new Lt((0,m.__assign)((0,m.__assign)({},Ht),{id:vt,container:z,updateAutoRender:this.get("updateAutoRender")}));return qt.init(),qt.render(),this.get("isRegister")&&this.registerElement(qt.get("group")),qt},wt.prototype.initEvent=function(){},wt.prototype.removeEvent=function(){var z=this.get("group");z.off()},wt.prototype.getElementId=function(z){var nt=this.get("id"),vt=this.get("name");return nt+"-"+vt+"-"+z},wt.prototype.registerElement=function(z){var nt=z.get("id");this.get("shapesMap")[nt]=z},wt.prototype.unregisterElement=function(z){var nt=z.get("id");delete this.get("shapesMap")[nt]},wt.prototype.moveElementTo=function(z,nt){var vt=H(nt);z.attr("matrix",vt)},wt.prototype.addAnimation=function(z,nt,vt){var Lt=nt.attr("opacity");(0,g.isNil)(Lt)&&(Lt=1),nt.attr("opacity",0),nt.animate({opacity:Lt},vt)},wt.prototype.removeAnimation=function(z,nt,vt){nt.animate({opacity:0},vt)},wt.prototype.updateAnimation=function(z,nt,vt,Lt){nt.animate(vt,Lt)},wt.prototype.updateElements=function(z,nt){var vt=this,Lt=this.get("animate"),Ht=this.get("animateOption"),qt=z.getChildren().slice(0),ge;(0,g.each)(qt,function(q){var Q=q.get("id"),$=vt.getElementById(Q),ot=q.get("name");if($)if(q.get("isComponent")){var _t=q.get("component"),Xt=$.get("component"),ae=(0,g.pick)(_t.cfg,(0,g.difference)((0,g.keys)(_t.cfg),yt));Xt.update(ae),$.set(lt,"update")}else{var oe=vt.getReplaceAttrs($,q);Lt&&Ht.update?vt.updateAnimation(ot,$,oe,Ht.update):$.attr(oe),q.isGroup()&&vt.updateElements(q,$),(0,g.each)(it,function(It){$.set(It,q.get(It))}),U($,q),ge=$,$.set(lt,"update")}else{nt.add(q);var ye=nt.getChildren();if(ye.splice(ye.length-1,1),ge){var ze=ye.indexOf(ge);ye.splice(ze+1,0,q)}else ye.unshift(q);if(vt.registerElement(q),q.set(lt,"add"),q.get("isComponent")){var _t=q.get("component");_t.set("container",nt)}else q.isGroup()&&vt.registerNewGroup(q);if(ge=q,Lt){var We=vt.get("isInit")?Ht.appear:Ht.enter;We&&vt.addAnimation(ot,q,We)}}})},wt.prototype.clearUpdateStatus=function(z){var nt=z.getChildren();(0,g.each)(nt,function(vt){vt.set(lt,null)})},wt.prototype.clearOffScreenCache=function(){var z=this.get("offScreenGroup");z&&z.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},wt.prototype.getDelegateObject=function(){var z,nt=this.get("name"),vt=(z={},z[nt]=this,z.component=this,z);return vt},wt.prototype.appendDelegateObject=function(z,nt){var vt=z.get("delegateObject");nt.delegateObject||(nt.delegateObject={}),(0,g.mix)(nt.delegateObject,vt)},wt.prototype.getReplaceAttrs=function(z,nt){var vt=z.attr(),Lt=nt.attr();return(0,g.each)(vt,function(Ht,qt){Lt[qt]===void 0&&(Lt[qt]=void 0)}),Lt},wt.prototype.registerNewGroup=function(z){var nt=this,vt=z.getChildren();(0,g.each)(vt,function(Lt){nt.registerElement(Lt),Lt.set(lt,"add"),Lt.isGroup()&&nt.registerNewGroup(Lt)})},wt.prototype.deleteElements=function(){var z=this,nt=this.get("shapesMap"),vt=[];(0,g.each)(nt,function(qt,ge){!qt.get(lt)||qt.destroyed?vt.push([ge,qt]):qt.set(lt,null)});var Lt=this.get("animate"),Ht=this.get("animateOption");(0,g.each)(vt,function(qt){var ge=qt[0],q=qt[1];if(!q.destroyed){var Q=q.get("name");if(Lt&&Ht.leave){var $=(0,g.mix)({callback:function(){z.removeElement(q)}},Ht.leave);z.removeAnimation(Q,q,$)}else z.removeElement(q)}delete nt[ge]})},wt.prototype.removeElement=function(z){if(z.get("isGroup")){var nt=z.get("component");nt&&nt.destroy()}z.remove()},wt}(xt),st=ft,Ct="\u2026";function Rt(Qt){for(var wt=0,z=0;z<Qt.length;z++)wt+=re(Qt,z);return wt}function re(Qt,wt){return Qt.charCodeAt(wt)>0&&Qt.charCodeAt(wt)<128?1:2}function pe(Qt,wt,z){z===void 0&&(z="tail");var nt=Qt.length,vt="";if(z==="tail"){for(var Lt=0,Ht=0;Lt<wt;){var qt=re(Qt,Ht);if(Lt+qt<=wt)vt+=Qt[Ht],Lt+=re(Qt,Ht),Ht++;else break}vt+=Ct}else if(z==="head"){for(var Lt=0,Ht=nt-1;Lt<wt;){var qt=re(Qt,Ht);if(Lt+qt<=wt)vt+=Qt[Ht],Lt+=re(Qt,Ht),Ht--;else break}vt=Ct+vt}else{for(var ge="",q="",Lt=0,Q=0,$=nt-1;Lt<wt;){var ot=re(Qt,Q),_t=!1;ot+Lt<=wt&&(ge+=Qt[Q],Q++,Lt+=ot,_t=!0);var Xt=re(Qt,$);if(Xt+Lt<=wt&&(q=Qt[$]+q,Lt+=Xt,$--,_t=!0),!_t)break}vt=ge+Ct+q}return vt}var Me="\u2026",Xe=2;function Be(Qt){var wt=0;return(0,g.each)(Qt,function(z){var nt=z.getBBox(),vt=nt.width;wt<vt&&(wt=vt)}),wt}function Re(Qt,wt){var z=wt.getCanvasBBox();return Qt?z.width:z.height}function Ke(Qt,wt){return Qt.getBBox().width<wt}function ar(Qt,wt,z,nt){nt===void 0&&(nt="tail");var vt=wt.attr("text"),Lt=Re(Qt,wt),Ht=Rt(vt),qt=!1;if(z<Lt){var ge=Math.floor(z/Lt*Ht)-Xe,q=void 0;ge>=0?q=pe(vt,ge,nt):q=Me,q&&(wt.attr("text",q),qt=!0)}return qt?wt.set("tip",vt):wt.set("tip",null),qt}function Mr(Qt,wt){var z=wt.x,nt=wt.y,vt=wt.content,Lt=wt.style,Ht=wt.id,qt=wt.name,ge=wt.rotate,q=wt.maxLength,Q=wt.autoEllipsis,$=wt.isVertical,ot=wt.ellipsisPosition,_t=wt.background,Xt=Qt.addGroup({id:Ht+"-group",name:qt+"-group",attrs:{x:z,y:nt}}),ae=Xt.addShape({type:"text",id:Ht,name:qt,attrs:(0,m.__assign)({x:0,y:0,text:vt},Lt)}),oe=Yt((0,g.get)(_t,"padding",0));if(q&&Q){var ye=q-(oe[1]+oe[3]);ar(!$,ae,ye,ot)}if(_t){var ze=(0,g.get)(_t,"style",{}),We=ae.getCanvasBBox(),It=We.minX,$t=We.minY,le=We.width,fe=We.height,Ie=Xt.addShape("rect",{id:Ht+"-bg",name:Ht+"-bg",attrs:(0,m.__assign)({x:It-oe[3],y:$t-oe[0],width:le+oe[1]+oe[3],height:fe+oe[0]+oe[2]},ze)});Ie.toBack()}St(Xt,z,nt),At(Xt,ge,z,nt)}var sr={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4},Xr=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:sr.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:sr.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:sr.lineColor,lineWidth:1}}}})},wt.prototype.renderInner=function(z){this.renderLine(z),this.get("text")&&this.renderLabel(z)},wt.prototype.renderLine=function(z){var nt=this.get("start"),vt=this.get("end"),Lt=this.get("style");this.addShape(z,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,m.__assign)({x1:nt.x,y1:nt.y,x2:vt.x,y2:vt.y},Lt)})},wt.prototype.getLabelPoint=function(z,nt,vt){var Lt;return vt==="start"?Lt=0:vt==="center"?Lt=.5:(0,g.isString)(vt)&&vt.indexOf("%")!==-1?Lt=parseInt(vt,10)/100:(0,g.isNumber)(vt)?Lt=vt:Lt=1,(Lt>1||Lt<0)&&(Lt=1),{x:jt(z.x,nt.x,Lt),y:jt(z.y,nt.y,Lt)}},wt.prototype.renderLabel=function(z){var nt=this.get("text"),vt=this.get("start"),Lt=this.get("end"),Ht=nt.position,qt=nt.content,ge=nt.style,q=nt.offsetX,Q=nt.offsetY,$=nt.autoRotate,ot=nt.maxLength,_t=nt.autoEllipsis,Xt=nt.ellipsisPosition,ae=nt.background,oe=nt.isVertical,ye=oe===void 0?!1:oe,ze=this.getLabelPoint(vt,Lt,Ht),We=ze.x+q,It=ze.y+Q,$t={id:this.getElementId("line-text"),name:"annotation-line-text",x:We,y:It,content:qt,style:ge,maxLength:ot,autoEllipsis:_t,ellipsisPosition:Xt,background:ae,isVertical:ye};if($){var le=[Lt.x-vt.x,Lt.y-vt.y];$t.rotate=Math.atan2(le[1],le[0])}Mr(z,$t)},wt}(st),pn=Xr,jr=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:sr.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:sr.fontFamily}}})},wt.prototype.setLocation=function(z){this.set("x",z.x),this.set("y",z.y),this.resetLocation()},wt.prototype.renderInner=function(z){var nt=this.getLocation(),vt=nt.x,Lt=nt.y,Ht=this.get("content"),qt=this.get("style"),ge=this.getElementId("text"),q=this.get("name")+"-text",Q=this.get("maxLength"),$=this.get("autoEllipsis"),ot=this.get("isVertical"),_t=this.get("ellipsisPosition"),Xt=this.get("background"),ae=this.get("rotate"),oe={id:ge,name:q,x:vt,y:Lt,content:Ht,style:qt,maxLength:Q,autoEllipsis:$,isVertical:ot,ellipsisPosition:_t,background:Xt,rotate:ae};Mr(z,oe)},wt.prototype.resetLocation=function(){var z=this.getElementByLocalId("text-group");if(z){var nt=this.getLocation(),vt=nt.x,Lt=nt.y,Ht=this.get("rotate");St(z,vt,Lt),At(z,Ht,vt,Lt)}},wt}(st),en=jr,Xn=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},wt.prototype.renderInner=function(z){this.renderArc(z)},wt.prototype.getArcPath=function(){var z=this.getLocation(),nt=z.center,vt=z.radius,Lt=z.startAngle,Ht=z.endAngle,qt=Mt(nt,vt,Lt),ge=Mt(nt,vt,Ht),q=Ht-Lt>Math.PI?1:0,Q=[["M",qt.x,qt.y]];if(Ht-Lt==Math.PI*2){var $=Mt(nt,vt,Lt+Math.PI);Q.push(["A",vt,vt,0,q,1,$.x,$.y]),Q.push(["A",vt,vt,0,q,1,ge.x,ge.y])}else Q.push(["A",vt,vt,0,q,1,ge.x,ge.y]);return Q},wt.prototype.renderArc=function(z){var nt=this.getArcPath(),vt=this.get("style");this.addShape(z,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,m.__assign)({path:nt},vt)})},wt}(st),ni=Xn,gi=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:sr.regionColor,opacity:.4}}})},wt.prototype.renderInner=function(z){this.renderRegion(z)},wt.prototype.renderRegion=function(z){var nt=this.get("start"),vt=this.get("end"),Lt=this.get("style"),Ht=Bt({start:nt,end:vt});this.addShape(z,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,m.__assign)({x:Ht.x,y:Ht.y,width:Ht.width,height:Ht.height},Lt)})},wt}(st),yi=gi,te=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},wt.prototype.renderInner=function(z){this.renderImage(z)},wt.prototype.getImageAttrs=function(){var z=this.get("start"),nt=this.get("end"),vt=this.get("style"),Lt=Bt({start:z,end:nt}),Ht=this.get("src");return(0,m.__assign)({x:Lt.x,y:Lt.y,img:Ht,width:Lt.width,height:Lt.height},vt)},wt.prototype.renderImage=function(z){this.addShape(z,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},wt}(st),he=te,be=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:sr.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:sr.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:sr.fontFamily}}}})},wt.prototype.renderInner=function(z){(0,g.get)(this.get("line"),"display")&&this.renderLine(z),(0,g.get)(this.get("text"),"display")&&this.renderText(z),(0,g.get)(this.get("point"),"display")&&this.renderPoint(z),this.get("autoAdjust")&&this.autoAdjust(z)},wt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},wt.prototype.renderPoint=function(z){var nt=this.getShapeAttrs().point;this.addShape(z,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:nt})},wt.prototype.renderLine=function(z){var nt=this.getShapeAttrs().line;this.addShape(z,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:nt})},wt.prototype.renderText=function(z){var nt=this.getShapeAttrs().text,vt=nt.x,Lt=nt.y,Ht=nt.text,qt=(0,m.__rest)(nt,["x","y","text"]),ge=this.get("text"),q=ge.background,Q=ge.maxLength,$=ge.autoEllipsis,ot=ge.isVertival,_t=ge.ellipsisPosition,Xt={x:vt,y:Lt,id:this.getElementId("text"),name:"annotation-text",content:Ht,style:qt,background:q,maxLength:Q,autoEllipsis:$,isVertival:ot,ellipsisPosition:_t};Mr(z,Xt)},wt.prototype.autoAdjust=function(z){var nt=this.get("direction"),vt=this.get("x"),Lt=this.get("y"),Ht=(0,g.get)(this.get("line"),"length",0),qt=this.get("coordinateBBox"),ge=z.getBBox(),q=ge.minX,Q=ge.maxX,$=ge.minY,ot=ge.maxY,_t=z.findById(this.getElementId("text-group")),Xt=z.findById(this.getElementId("text")),ae=z.findById(this.getElementId("line"));if(!!qt){if(_t){if(vt+q<=qt.minX){var oe=qt.minX-(vt+q);St(_t,_t.attr("x")+oe,_t.attr("y"))}if(vt+Q>=qt.maxX){var oe=vt+Q-qt.maxX;St(_t,_t.attr("x")-oe,_t.attr("y"))}}if(nt==="upward"&&Lt+$<=qt.minY||nt!=="upward"&&Lt+ot>=qt.maxY){var ye=void 0,ze=void 0;nt==="upward"&&Lt+$<=qt.minY?(ye="top",ze=1):(ye="bottom",ze=-1),Xt.attr("textBaseline",ye),ae&&ae.attr("path",[["M",0,0],["L",0,Ht*ze]]),St(_t,_t.attr("x"),(Ht+2)*ze)}}},wt.prototype.getShapeAttrs=function(){var z=(0,g.get)(this.get("line"),"display"),nt=(0,g.get)(this.get("point"),"style",{}),vt=(0,g.get)(this.get("line"),"style",{}),Lt=(0,g.get)(this.get("text"),"style",{}),Ht=this.get("direction"),qt=z?(0,g.get)(this.get("line"),"length",0):0,ge=Ht==="upward"?-1:1;return{point:(0,m.__assign)({x:0,y:0},nt),line:(0,m.__assign)({path:[["M",0,0],["L",0,qt*ge]]},vt),text:(0,m.__assign)({x:0,y:(qt+2)*ge,text:(0,g.get)(this.get("text"),"content",""),textBaseline:Ht==="upward"?"bottom":"top"},Lt)}},wt}(st),Se=be,Le=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:sr.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:sr.textColor,fontFamily:sr.fontFamily}}}})},wt.prototype.renderInner=function(z){var nt=(0,g.get)(this.get("region"),"style",{}),vt=(0,g.get)(this.get("text"),"style",{}),Lt=this.get("lineLength")||0,Ht=this.get("points");if(!!Ht.length){var qt=Et(Ht),ge=[];ge.push(["M",Ht[0].x,qt.minY-Lt]),Ht.forEach(function(Q){ge.push(["L",Q.x,Q.y])}),ge.push(["L",Ht[Ht.length-1].x,Ht[Ht.length-1].y-Lt]),this.addShape(z,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,m.__assign)({path:ge},nt)});var q=(0,m.__assign)({id:this.getElementId("text"),name:"annotation-text",x:(qt.minX+qt.maxX)/2,y:qt.minY-Lt},this.get("text"));Mr(z,q)}},wt}(st),Ne=Le,Fe=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},wt.prototype.renderInner=function(z){var nt=this,vt=this.get("start"),Lt=this.get("end"),Ht=this.addGroup(z,{id:this.getElementId("region-filter"),capture:!1});(0,g.each)(this.get("shapes"),function(ge,q){var Q=ge.get("type"),$=(0,g.clone)(ge.attr());nt.adjustShapeAttrs($),nt.addShape(Ht,{id:nt.getElementId("shape-"+Q+"-"+q),capture:!1,type:Q,attrs:$})});var qt=Bt({start:vt,end:Lt});Ht.setClip({type:"rect",attrs:{x:qt.minX,y:qt.minY,width:qt.width,height:qt.height}})},wt.prototype.adjustShapeAttrs=function(z){var nt=this.get("color");z.fill&&(z.fill=z.fillStyle=nt),z.stroke=z.strokeStyle=nt},wt}(st),Ve=Fe;function Ae(Qt,wt,z){var nt=wt+"Style",vt=null;return(0,g.each)(z,function(Lt,Ht){Qt[Ht]&&Lt[nt]&&(vt||(vt={}),(0,g.mix)(vt,Lt[nt]))}),vt}var rr=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},defaultCfg:{line:{style:{lineWidth:1,stroke:sr.lineColor}},tickLine:{style:{lineWidth:1,stroke:sr.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:sr.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:sr.textColor,textBaseline:"middle",fontFamily:sr.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:sr.textColor,textBaseline:"middle",fontFamily:sr.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:sr.uncheckedColor}}}}})},wt.prototype.renderInner=function(z){this.get("line")&&this.drawLine(z),this.drawTicks(z),this.get("title")&&this.drawTitle(z)},wt.prototype.isList=function(){return!0},wt.prototype.getItems=function(){return this.get("ticks")},wt.prototype.setItems=function(z){this.update({ticks:z})},wt.prototype.updateItem=function(z,nt){(0,g.mix)(z,nt),this.clear(),this.render()},wt.prototype.clearItems=function(){var z=this.getElementByLocalId("label-group");z&&z.clear()},wt.prototype.setItemState=function(z,nt,vt){z[nt]=vt,this.updateTickStates(z)},wt.prototype.hasState=function(z,nt){return!!z[nt]},wt.prototype.getItemStates=function(z){var nt=this.get("tickStates"),vt=[];return(0,g.each)(nt,function(Lt,Ht){z[Ht]&&vt.push(Ht)}),vt},wt.prototype.clearItemsState=function(z){var nt=this,vt=this.getItemsByState(z);(0,g.each)(vt,function(Lt){nt.setItemState(Lt,z,!1)})},wt.prototype.getItemsByState=function(z){var nt=this,vt=this.getItems();return(0,g.filter)(vt,function(Lt){return nt.hasState(Lt,z)})},wt.prototype.getSidePoint=function(z,nt){var vt=this,Lt=vt.getSideVector(nt,z);return{x:z.x+Lt[0],y:z.y+Lt[1]}},wt.prototype.getTextAnchor=function(z){var nt;return(0,g.isNumberEqual)(z[0],0)?nt="center":z[0]>0?nt="start":z[0]<0&&(nt="end"),nt},wt.prototype.processOverlap=function(z){},wt.prototype.drawLine=function(z){var nt=this.getLinePath(),vt=this.get("line");this.addShape(z,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,g.mix)({path:nt},vt.style)})},wt.prototype.getTickLineItems=function(z){var nt=this,vt=[],Lt=this.get("tickLine"),Ht=Lt.alignTick,qt=Lt.length,ge=1,q=z.length;return q>=2&&(ge=z[1].value-z[0].value),(0,g.each)(z,function(Q){var $=Q.point;Ht||($=nt.getTickPoint(Q.value-ge/2));var ot=nt.getSidePoint($,qt);vt.push({startPoint:$,tickValue:Q.value,endPoint:ot,tickId:Q.id,id:"tickline-"+Q.id})}),vt},wt.prototype.getSubTickLineItems=function(z){var nt=[],vt=this.get("subTickLine"),Lt=vt.count,Ht=z.length;if(Ht>=2)for(var qt=0;qt<Ht-1;qt++)for(var ge=z[qt],q=z[qt+1],Q=0;Q<Lt;Q++){var $=(Q+1)/(Lt+1),ot=(1-$)*ge.tickValue+$*q.tickValue,_t=this.getTickPoint(ot),Xt=this.getSidePoint(_t,vt.length);nt.push({startPoint:_t,endPoint:Xt,tickValue:ot,id:"sub-"+ge.id+"-"+Q})}return nt},wt.prototype.getTickLineAttrs=function(z,nt){var vt=this.get(nt).style,Lt=z.startPoint,Ht=z.endPoint,qt=(0,g.mix)({x1:Lt.x,y1:Lt.y,x2:Ht.x,y2:Ht.y},vt);return qt},wt.prototype.drawTick=function(z,nt,vt){this.addShape(nt,{type:"line",id:this.getElementId(z.id),name:"axis-"+vt,attrs:this.getTickLineAttrs(z,vt)})},wt.prototype.drawTickLines=function(z){var nt=this,vt=this.get("ticks"),Lt=this.get("subTickLine"),Ht=this.getTickLineItems(vt),qt=this.addGroup(z,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),ge=this.get("tickLine");if((0,g.each)(Ht,function(Q){if(ge.displayWithLabel){var $=nt.getElementId("label-"+Q.tickId);z.findById($)&&nt.drawTick(Q,qt,"tickLine")}else nt.drawTick(Q,qt,"tickLine")}),Lt){var q=this.getSubTickLineItems(Ht);(0,g.each)(q,function(Q){nt.drawTick(Q,qt,"subTickLine")})}},wt.prototype.processTicks=function(){var z=this,nt=this.get("ticks");(0,g.each)(nt,function(vt){vt.point=z.getTickPoint(vt.value),(0,g.isNil)(vt.id)&&(vt.id=vt.name)})},wt.prototype.drawTicks=function(z){var nt=this;this.processTicks(),this.get("label")&&this.drawLabels(z),this.get("tickLine")&&this.drawTickLines(z);var vt=this.get("ticks");(0,g.each)(vt,function(Lt){nt.applyTickStates(Lt,z)})},wt.prototype.getLabelAttrs=function(z,nt){var vt=this.get("label"),Lt=vt.offset,Ht=vt.style,qt=vt.rotate,ge=vt.formatter,q=this.getSidePoint(z.point,Lt),Q=this.getSideVector(Lt,q),$=ge?ge(z.name,z,nt):z.name,ot=(0,g.mix)({x:q.x,y:q.y,text:$,textAlign:this.getTextAnchor(Q)},Ht);return qt&&(ot.matrix=tt(q,qt)),ot},wt.prototype.drawLabels=function(z){var nt=this,vt=this.get("ticks"),Lt=this.addGroup(z,{name:"axis-label-group",id:this.getElementId("label-group")});(0,g.each)(vt,function(Ht,qt){nt.addShape(Lt,{type:"text",name:"axis-label",id:nt.getElementId("label-"+Ht.id),attrs:nt.getLabelAttrs(Ht,qt),delegateObject:{tick:Ht,item:Ht,index:qt}})}),this.processOverlap(Lt)},wt.prototype.getTitleAttrs=function(){var z=this.get("title"),nt=z.style,vt=z.position,Lt=z.offset,Ht=z.spacing,qt=Ht===void 0?0:Ht,ge=z.autoRotate,q=nt.fontSize,Q=.5;vt==="start"?Q=0:vt==="end"&&(Q=1);var $=this.getTickPoint(Q),ot=this.getSidePoint($,Lt||qt+q/2),_t=(0,g.mix)({x:ot.x,y:ot.y,text:z.text},nt),Xt=z.rotate,ae=Xt;if((0,g.isNil)(Xt)&&ge){var oe=this.getAxisVector($),ye=[1,0];ae=B.angleTo(oe,ye,!0)}if(ae){var ze=tt(ot,ae);_t.matrix=ze}return _t},wt.prototype.drawTitle=function(z){this.addShape(z,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},wt.prototype.applyTickStates=function(z,nt){var vt=this.getItemStates(z);if(vt.length){var Lt=this.get("tickStates"),Ht=this.getElementId("label-"+z.id),qt=nt.findById(Ht);if(qt){var ge=Ae(z,"label",Lt);ge&&qt.attr(ge)}var q=this.getElementId("tickline-"+z.id),Q=nt.findById(q);if(Q){var $=Ae(z,"tickLine",Lt);$&&Q.attr($)}}},wt.prototype.updateTickStates=function(z){var nt=this.getItemStates(z),vt=this.get("tickStates"),Lt=this.get("label"),Ht=this.getElementByLocalId("label-"+z.id),qt=this.get("tickLine"),ge=this.getElementByLocalId("tickline-"+z.id);if(nt.length){if(Ht){var q=Ae(z,"label",vt);q&&Ht.attr(q)}if(ge){var Q=Ae(z,"tickLine",vt);Q&&ge.attr(Q)}}else Ht&&Ht.attr(Lt.style),ge&&ge.attr(qt.style)},wt}(st),Qe=rr;function Pt(Qt,wt,z,nt){var vt=wt.getChildren(),Lt=!1;return(0,g.each)(vt,function(Ht){var qt=ar(Qt,Ht,z,nt);Lt=Lt||qt}),Lt}function Ot(){return R}function W(Qt,wt,z){return Pt(Qt,wt,z,"head")}function R(Qt,wt,z){return Pt(Qt,wt,z,"tail")}function F(Qt,wt,z){return Pt(Qt,wt,z,"middle")}function rt(Qt){var wt=Qt.attr("matrix");return wt&&wt[0]!==1}function kt(Qt,wt,z,nt,vt){vt===void 0&&(vt=!1);var Lt=!1;if(Qt)Lt=Math.abs(z.y-nt.y)<z.height;else if(wt){var Ht=vt?nt.height:z.height;Lt=Math.abs(z.x-nt.x)<Ht}else{var qt=vt?nt.width:z.width;Lt=Math.abs(z.x-nt.x)<qt}return Lt}function Vt(Qt,wt,z){var nt=wt.getChildren().slice();if(!nt.length)return!1;var vt=!1;z&&nt.reverse();for(var Lt=nt.length,Ht=nt[0],qt=rt(Ht),ge=Ht.getBBox(),q=1;q<Lt;q++){var Q=nt[q],$=Q.getBBox(),ot=kt(Qt,qt,ge,$,z);ot?(Q.hide(),vt=!0):ge=$}return vt}function Gt(){return _e}function Kt(Qt,wt){return Vt(Qt,wt,!1)}function we(Qt,wt){return Vt(Qt,wt,!0)}function me(Qt,wt){var z=wt.getChildren().slice();if(z.length<=2)return!1;for(var nt=!1,vt=z.length,Lt=z[0],Ht=z[vt-1],qt=rt(Lt),ge=Lt.getBBox(),q=Lt,Q=1;Q<vt-1;Q++){var $=z[Q],ot=$.getBBox(),_t=kt(Qt,qt,ge,ot);_t?($.hide(),nt=!0):(ge=ot,q=$)}var Xt=Ht.getBBox(),ae=kt(Qt,qt,ge,Xt);return ae&&(q.hide(),nt=!0),nt}function _e(Qt,wt){var z=wt.getChildren().slice();if(z.length<2)return!1;var nt=!1,vt=z[0],Lt=vt.getBBox(),Ht=z[1],qt=rt(vt),ge=z.length,q=0;if(Qt){var Q=Math.abs(Ht.attr("y")-vt.attr("y"));q=Lt.height/Q}else if(qt){var Q=Math.abs(Ht.attr("x")-vt.attr("x"));q=Lt.width/Q}else{var $=Be(z),Q=Math.abs(Ht.attr("x")-vt.attr("x"));q=$/Q}if(q>1){q=Math.ceil(q);for(var ot=0;ot<ge;ot++)ot%q!=0&&(z[ot].hide(),nt=!0)}return nt}function qe(Qt,wt){(0,g.each)(Qt,function(z){var nt=z.attr("x"),vt=z.attr("y"),Lt=tt({x:nt,y:vt},wt);z.attr("matrix",Lt)})}function De(Qt,wt,z,nt){var vt=wt.getChildren();if(!vt.length||!Qt&&vt.length<2)return!1;var Lt=Be(vt),Ht=!1;if(Qt)Ht=!!z&&Lt>z;else{var qt=Math.abs(vt[1].attr("x")-vt[0].attr("x"));Ht=Lt>qt}if(Ht){var ge=nt(z,Lt);qe(vt,ge)}return Ht}function dr(){return Rr}function Rr(Qt,wt,z){return De(Qt,wt,z,function(){return Qt?sr.verticalAxisRotate:sr.horizontalAxisRotate})}function Oe(Qt,wt,z){return De(Qt,wt,z,function(nt,vt){if(!nt)return Qt?sr.verticalAxisRotate:sr.horizontalAxisRotate;if(Qt)return-Math.acos(nt/vt);var Lt=0;return nt>vt?Lt=Math.PI/4:(Lt=Math.asin(nt/vt),Lt>Math.PI/4&&(Lt=Math.PI/4)),Lt})}var je=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{type:"line",locationType:"region",start:null,end:null})},wt.prototype.getLinePath=function(){var z=this.get("start"),nt=this.get("end"),vt=[];return vt.push(["M",z.x,z.y]),vt.push(["L",nt.x,nt.y]),vt},wt.prototype.getInnerLayoutBBox=function(){var z=this.get("start"),nt=this.get("end"),vt=Qt.prototype.getInnerLayoutBBox.call(this),Lt=Math.min(z.x,nt.x,vt.x),Ht=Math.min(z.y,nt.y,vt.y),qt=Math.max(z.x,nt.x,vt.maxX),ge=Math.max(z.y,nt.y,vt.maxY);return{x:Lt,y:Ht,minX:Lt,minY:Ht,maxX:qt,maxY:ge,width:qt-Lt,height:ge-Ht}},wt.prototype.isVertical=function(){var z=this.get("start"),nt=this.get("end");return(0,g.isNumberEqual)(z.x,nt.x)},wt.prototype.isHorizontal=function(){var z=this.get("start"),nt=this.get("end");return(0,g.isNumberEqual)(z.y,nt.y)},wt.prototype.getTickPoint=function(z){var nt=this,vt=nt.get("start"),Lt=nt.get("end"),Ht=Lt.x-vt.x,qt=Lt.y-vt.y;return{x:vt.x+Ht*z,y:vt.y+qt*z}},wt.prototype.getSideVector=function(z){var nt=this.getAxisVector(),vt=N.normalize([0,0],nt),Lt=this.get("verticalFactor"),Ht=[vt[1],vt[0]*-1];return N.scale([0,0],Ht,z*Lt)},wt.prototype.getAxisVector=function(){var z=this.get("start"),nt=this.get("end");return[nt.x-z.x,nt.y-z.y]},wt.prototype.processOverlap=function(z){var nt=this,vt=this.isVertical(),Lt=this.isHorizontal();if(!(!vt&&!Lt)){var Ht=this.get("label"),qt=this.get("title"),ge=this.get("verticalLimitLength"),q=Ht.offset,Q=ge,$=0,ot=0;qt&&($=qt.style.fontSize,ot=qt.spacing),Q&&(Q=Q-q-ot-$);var _t=this.get("overlapOrder");if((0,g.each)(_t,function(oe){Ht[oe]&&nt.autoProcessOverlap(oe,Ht[oe],z,Q)}),qt){var Xt=z.getBBox(),ae=vt?Xt.width:Xt.height;(0,g.isNil)(qt.offset)&&(qt.offset=q+ae+ot+$/2)}}},wt.prototype.autoProcessOverlap=function(z,nt,vt,Lt){var Ht=this,qt=this.isVertical(),ge=!1,q=T[z];if(nt===!0?ge=q.getDefault()(qt,vt,Lt):(0,g.isFunction)(nt)?ge=nt(qt,vt,Lt):q[nt]&&(ge=q[nt](qt,vt,Lt)),z==="autoRotate"){if(ge){var Q=vt.getChildren(),$=this.get("verticalFactor");(0,g.each)(Q,function(_t){var Xt=_t.attr("textAlign");if(Xt==="center"){var ae=$>0?"end":"start";_t.attr("textAlign",ae)}})}}else if(z==="autoHide"){var ot=vt.getChildren().slice(0);(0,g.each)(ot,function(_t){_t.get("visible")||(Ht.get("isRegister")&&Ht.unregisterElement(_t),_t.remove())})}},wt}(Qe),nr=je,Je=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},wt.prototype.getLinePath=function(){var z=this.get("center"),nt=z.x,vt=z.y,Lt=this.get("radius"),Ht=Lt,qt=this.get("startAngle"),ge=this.get("endAngle"),q=[];if(Math.abs(ge-qt)===Math.PI*2)q=[["M",nt,vt-Ht],["A",Lt,Ht,0,1,1,nt,vt+Ht],["A",Lt,Ht,0,1,1,nt,vt-Ht],["Z"]];else{var Q=this.getCirclePoint(qt),$=this.getCirclePoint(ge),ot=Math.abs(ge-qt)>Math.PI?1:0,_t=qt>ge?0:1;q=[["M",nt,vt],["L",Q.x,Q.y],["A",Lt,Ht,0,ot,_t,$.x,$.y],["L",nt,vt]]}return q},wt.prototype.getTickPoint=function(z){var nt=this.get("startAngle"),vt=this.get("endAngle"),Lt=nt+(vt-nt)*z;return this.getCirclePoint(Lt)},wt.prototype.getSideVector=function(z,nt){var vt=this.get("center"),Lt=[nt.x-vt.x,nt.y-vt.y],Ht=this.get("verticalFactor"),qt=N.length(Lt);return N.scale(Lt,Lt,Ht*z/qt),Lt},wt.prototype.getAxisVector=function(z){var nt=this.get("center"),vt=[z.x-nt.x,z.y-nt.y];return[vt[1],-1*vt[0]]},wt.prototype.getCirclePoint=function(z,nt){var vt=this.get("center");return nt=nt||this.get("radius"),{x:vt.x+Math.cos(z)*nt,y:vt.y+Math.sin(z)*nt}},wt}(Qe),hr=Je,un=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:sr.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:sr.textColor,textAlign:"center",textBaseline:"middle",fontFamily:sr.fontFamily}},textBackground:{padding:5,style:{stroke:sr.lineColor}}}})},wt.prototype.renderInner=function(z){this.get("line")&&this.renderLine(z),this.get("text")&&(this.renderText(z),this.renderBackground(z))},wt.prototype.renderText=function(z){var nt=this.get("text"),vt=nt.style,Lt=nt.autoRotate,Ht=nt.content;if(!(0,g.isNil)(Ht)){var qt=this.getTextPoint(),ge=null;if(Lt){var q=this.getRotateAngle();ge=tt(qt,q)}this.addShape(z,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,m.__assign)((0,m.__assign)((0,m.__assign)({},qt),{text:Ht,matrix:ge}),vt)})}},wt.prototype.renderLine=function(z){var nt=this.getLinePath(),vt=this.get("line"),Lt=vt.style;this.addShape(z,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,m.__assign)({path:nt},Lt)})},wt.prototype.renderBackground=function(z){var nt=this.getElementId("text"),vt=z.findById(nt),Lt=this.get("textBackground");if(Lt&&vt){var Ht=vt.getBBox(),qt=Yt(Lt.padding),ge=Lt.style,q=this.addShape(z,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,m.__assign)({x:Ht.x-qt[3],y:Ht.y-qt[0],width:Ht.width+qt[1]+qt[3],height:Ht.height+qt[0]+qt[2],matrix:vt.attr("matrix")},ge)});q.toBack()}},wt}(st),Qr=un,Pr=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{type:"line",locationType:"region",start:null,end:null})},wt.prototype.getRotateAngle=function(){var z=this.getLocation(),nt=z.start,vt=z.end,Lt=this.get("text").position,Ht=Math.atan2(vt.y-nt.y,vt.x-nt.x),qt=Lt==="start"?Ht-Math.PI/2:Ht+Math.PI/2;return qt},wt.prototype.getTextPoint=function(){var z=this.getLocation(),nt=z.start,vt=z.end,Lt=this.get("text"),Ht=Lt.position,qt=Lt.offset;return ht(nt,vt,Ht,qt)},wt.prototype.getLinePath=function(){var z=this.getLocation(),nt=z.start,vt=z.end;return[["M",nt.x,nt.y],["L",vt.x,vt.y]]},wt}(Qr),Hr=Pr,wn=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},wt.prototype.getRotateAngle=function(){var z=this.getLocation(),nt=z.startAngle,vt=z.endAngle,Lt=this.get("text").position,Ht=Lt==="start"?nt+Math.PI/2:vt-Math.PI/2;return Ht},wt.prototype.getTextPoint=function(){var z=this.get("text"),nt=z.position,vt=z.offset,Lt=this.getLocation(),Ht=Lt.center,qt=Lt.radius,ge=Lt.startAngle,q=Lt.endAngle,Q=nt==="start"?ge:q,$=this.getRotateAngle()-Math.PI,ot=Mt(Ht,qt,Q),_t=Math.cos($)*vt,Xt=Math.sin($)*vt;return{x:ot.x+_t,y:ot.y+Xt}},wt.prototype.getLinePath=function(){var z=this.getLocation(),nt=z.center,vt=z.radius,Lt=z.startAngle,Ht=z.endAngle,qt=null;if(Ht-Lt==Math.PI*2){var ge=nt.x,q=nt.y;qt=[["M",ge,q-vt],["A",vt,vt,0,1,1,ge,q+vt],["A",vt,vt,0,1,1,ge,q-vt],["Z"]]}else{var Q=Mt(nt,vt,Lt),$=Mt(nt,vt,Ht),ot=Math.abs(Ht-Lt)>Math.PI?1:0,_t=Lt>Ht?0:1;qt=[["M",Q.x,Q.y],["A",vt,vt,0,ot,_t,$.x,$.y]]}return qt},wt}(Qr),fn=wn,Er=d(6056),on=d(45442),Dn=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},wt.prototype.getContainer=function(){return this.get("container")},wt.prototype.show=function(){var z=this.get("container");z.style.display="",this.set("visible",!0)},wt.prototype.hide=function(){var z=this.get("container");z.style.display="none",this.set("visible",!1)},wt.prototype.setCapture=function(z){var nt=this.getContainer(),vt=z?"auto":"none";nt.style.pointerEvents=vt,this.set("capture",z)},wt.prototype.getBBox=function(){var z=this.getContainer(),nt=parseFloat(z.style.left)||0,vt=parseFloat(z.style.top)||0;return zt(nt,vt,z.clientWidth,z.clientHeight)},wt.prototype.clear=function(){var z=this.get("container");Tt(z)},wt.prototype.destroy=function(){this.removeEvent(),this.removeDom(),Qt.prototype.destroy.call(this)},wt.prototype.init=function(){Qt.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},wt.prototype.initCapture=function(){this.setCapture(this.get("capture"))},wt.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},wt.prototype.initDom=function(){},wt.prototype.initContainer=function(){var z=this.get("container");if((0,g.isNil)(z)){z=this.createDom();var nt=this.get("parent");(0,g.isString)(nt)&&(nt=document.getElementById(nt),this.set("parent",nt)),nt.appendChild(z),this.set("container",z)}else(0,g.isString)(z)&&(z=document.getElementById(z),this.set("container",z));this.get("parent")||this.set("parent",z.parentNode)},wt.prototype.resetStyles=function(){var z=this.get("domStyles"),nt=this.get("defaultStyles");z?z=(0,g.deepMix)({},nt,z):z=nt,this.set("domStyles",z)},wt.prototype.applyStyles=function(){var z=this.get("domStyles");if(!!z){var nt=this.getContainer();this.applyChildrenStyles(nt,z);var vt=this.get("containerClassName");if(vt&&Dt(nt,vt)){var Lt=z[vt];(0,on.Z)(nt,Lt)}}},wt.prototype.applyChildrenStyles=function(z,nt){(0,g.each)(nt,function(vt,Lt){var Ht=z.getElementsByClassName(Lt);(0,g.each)(Ht,function(qt){(0,on.Z)(qt,vt)})})},wt.prototype.applyStyle=function(z,nt){var vt=this.get("domStyles");(0,on.Z)(nt,vt[z])},wt.prototype.createDom=function(){var z=this.get("containerTpl");return(0,Er.Z)(z)},wt.prototype.initEvent=function(){},wt.prototype.removeDom=function(){var z=this.get("container");z&&z.parentNode.removeChild(z)},wt.prototype.removeEvent=function(){},wt.prototype.updateInner=function(z){(0,g.hasKey)(z,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},wt.prototype.resetPosition=function(){},wt}(xt),Mn=Dn,de="g2-crosshair",Wt=de+"-line",ve=de+"-text",Ee,Ge=(Ee={},Ee[""+de]={position:"relative"},Ee[""+Wt]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},Ee[""+ve]={position:"absolute",color:sr.textColor,fontFamily:sr.fontFamily},Ee),tr=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+de+'"></div>',crosshairTpl:'<div class="'+Wt+'"></div>',textTpl:'<span class="'+ve+'">{content}</span>',domStyles:null,containerClassName:de,defaultStyles:Ge,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},wt.prototype.render=function(){this.resetText(),this.resetPosition()},wt.prototype.initCrossHair=function(){var z=this.getContainer(),nt=this.get("crosshairTpl"),vt=(0,Er.Z)(nt);z.appendChild(vt),this.applyStyle(Wt,vt),this.set("crosshairEl",vt)},wt.prototype.getTextPoint=function(){var z=this.getLocation(),nt=z.start,vt=z.end,Lt=this.get("text"),Ht=Lt.position,qt=Lt.offset;return ht(nt,vt,Ht,qt)},wt.prototype.resetText=function(){var z=this.get("text"),nt=this.get("textEl");if(z){var vt=z.content;if(!nt){var Lt=this.getContainer(),Ht=(0,g.substitute)(this.get("textTpl"),z);nt=(0,Er.Z)(Ht),Lt.appendChild(nt),this.applyStyle(ve,nt),this.set("textEl",nt)}nt.innerHTML=vt}else nt&&nt.remove()},wt.prototype.isVertical=function(z,nt){return z.x===nt.x},wt.prototype.resetPosition=function(){var z=this.get("crosshairEl");z||(this.initCrossHair(),z=this.get("crosshairEl"));var nt=this.get("start"),vt=this.get("end"),Lt=Math.min(nt.x,vt.x),Ht=Math.min(nt.y,vt.y);this.isVertical(nt,vt)?(0,on.Z)(z,{width:"1px",height:et(Math.abs(vt.y-nt.y))}):(0,on.Z)(z,{height:"1px",width:et(Math.abs(vt.x-nt.x))}),(0,on.Z)(z,{top:et(Ht),left:et(Lt)}),this.alignText()},wt.prototype.alignText=function(){var z=this.get("textEl");if(z){var nt=this.get("text").align,vt=z.clientWidth,Lt=this.getTextPoint();switch(nt){case"center":Lt.x=Lt.x-vt/2;break;case"right":Lt.x=Lt.x-vt;case"left":break}(0,on.Z)(z,{top:et(Lt.y),left:et(Lt.x)})}},wt.prototype.updateInner=function(z){(0,g.hasKey)(z,"text")&&this.resetText(),Qt.prototype.updateInner.call(this,z)},wt}(Mn),vr=tr,cr=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:sr.lineColor}}}})},wt.prototype.getLineType=function(){var z=this.get("line")||this.get("defaultCfg").line;return z.type},wt.prototype.renderInner=function(z){this.drawGrid(z)},wt.prototype.getAlternatePath=function(z,nt){var vt=this.getGridPath(z),Lt=nt.slice(0).reverse(),Ht=this.getGridPath(Lt,!0),qt=this.get("closed");return qt?vt=vt.concat(Ht):(Ht[0][0]="L",vt=vt.concat(Ht),vt.push(["Z"])),vt},wt.prototype.getPathStyle=function(){return this.get("line").style},wt.prototype.drawGrid=function(z){var nt=this,vt=this.get("line"),Lt=this.get("items"),Ht=this.get("alternateColor"),qt=null;(0,g.each)(Lt,function(ge,q){var Q=ge.id||q;if(vt){var $=nt.getPathStyle(),ot=nt.getElementId("line-"+Q),_t=nt.getGridPath(ge.points);nt.addShape(z,{type:"path",name:"grid-line",id:ot,attrs:(0,g.mix)({path:_t},$)})}if(Ht&&q>0){var Xt=nt.getElementId("region-"+Q),ae=q%2==0;if((0,g.isString)(Ht))ae&&nt.drawAlternateRegion(Xt,z,qt.points,ge.points,Ht);else{var oe=ae?Ht[1]:Ht[0];nt.drawAlternateRegion(Xt,z,qt.points,ge.points,oe)}}qt=ge})},wt.prototype.drawAlternateRegion=function(z,nt,vt,Lt,Ht){var qt=this.getAlternatePath(vt,Lt);this.addShape(nt,{type:"path",id:z,name:"grid-region",attrs:{path:qt,fill:Ht}})},wt}(st),Gr=cr;function rn(Qt,wt,z,nt){var vt=z-Qt,Lt=nt-wt;return Math.sqrt(vt*vt+Lt*Lt)}var Vn=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{type:"circle",center:null,closed:!0})},wt.prototype.getGridPath=function(z,nt){var vt=this.getLineType(),Lt=this.get("closed"),Ht=[];if(z.length)if(vt==="circle"){var qt=this.get("center"),ge=z[0],q=rn(qt.x,qt.y,ge.x,ge.y),Q=nt?0:1;Lt?(Ht.push(["M",qt.x,qt.y-q]),Ht.push(["A",q,q,0,0,Q,qt.x,qt.y+q]),Ht.push(["A",q,q,0,0,Q,qt.x,qt.y-q]),Ht.push(["Z"])):(0,g.each)(z,function($,ot){ot===0?Ht.push(["M",$.x,$.y]):Ht.push(["A",q,q,0,0,Q,$.x,$.y])})}else(0,g.each)(z,function($,ot){ot===0?Ht.push(["M",$.x,$.y]):Ht.push(["L",$.x,$.y])}),Lt&&Ht.push(["Z"]);return Ht},wt}(Gr),Ut=Vn,ie=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{type:"line"})},wt.prototype.getGridPath=function(z){var nt=[];return(0,g.each)(z,function(vt,Lt){Lt===0?nt.push(["M",vt.x,vt.y]):nt.push(["L",vt.x,vt.y])}),nt},wt}(Gr),se=ie,Ce=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},wt.prototype.getLayoutBBox=function(){var z=Qt.prototype.getLayoutBBox.call(this),nt=this.get("x"),vt=this.get("y"),Lt=this.get("offsetX"),Ht=this.get("offsetY"),qt=this.get("maxWidth"),ge=this.get("maxHeight"),q=nt+Lt,Q=vt+Ht,$=z.maxX-q,ot=z.maxY-Q;return qt&&($=Math.min($,qt)),ge&&(ot=Math.min(ot,ge)),zt(q,Q,$,ot)},wt.prototype.setLocation=function(z){this.set("x",z.x),this.set("y",z.y),this.resetLocation()},wt.prototype.resetLocation=function(){var z=this.get("x"),nt=this.get("y"),vt=this.get("offsetX"),Lt=this.get("offsetY");this.moveElementTo(this.get("group"),{x:z+vt,y:nt+Lt})},wt.prototype.applyOffset=function(){this.resetLocation()},wt.prototype.getDrawPoint=function(){return this.get("currentPoint")},wt.prototype.setDrawPoint=function(z){return this.set("currentPoint",z)},wt.prototype.renderInner=function(z){this.resetDraw(),this.get("title")&&this.drawTitle(z),this.drawLegendContent(z),this.get("background")&&this.drawBackground(z)},wt.prototype.drawBackground=function(z){var nt=this.get("background"),vt=z.getBBox(),Lt=Yt(nt.padding),Ht=(0,m.__assign)({x:0,y:0,width:vt.width+Lt[1]+Lt[3],height:vt.height+Lt[0]+Lt[2]},nt.style),qt=this.addShape(z,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:Ht});qt.toBack()},wt.prototype.drawTitle=function(z){var nt=this.get("currentPoint"),vt=this.get("title"),Lt=vt.spacing,Ht=vt.style,qt=vt.text,ge=this.addShape(z,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,m.__assign)({text:qt,x:nt.x,y:nt.y},Ht)}),q=ge.getBBox();this.set("currentPoint",{x:nt.x,y:q.maxY+Lt})},wt.prototype.resetDraw=function(){var z=this.get("background"),nt={x:0,y:0};if(z){var vt=Yt(z.padding);nt.x=vt[3],nt.y=vt[0]}this.set("currentPoint",nt)},wt}(st),Te=Ce,ke=function(Qt){(0,m.__extends)(wt,Qt);function wt(){var z=Qt!==null&&Qt.apply(this,arguments)||this;return z.currentPageIndex=1,z.totalPagesCnt=1,z.pageWidth=0,z.pageHeight=0,z.startX=0,z.startY=0,z.onNavigationBack=function(){var nt=z.getElementByLocalId("item-group");if(z.currentPageIndex>1){z.currentPageIndex-=1,z.updateNavigation();var vt=z.getCurrentNavigationMatrix();z.get("animate")?nt.animate({matrix:vt},100):nt.attr({matrix:vt})}},z.onNavigationAfter=function(){var nt=z.getElementByLocalId("item-group");if(z.currentPageIndex<z.totalPagesCnt){z.currentPageIndex+=1,z.updateNavigation();var vt=z.getCurrentNavigationMatrix();z.get("animate")?nt.animate({matrix:vt},100):nt.attr({matrix:vt})}},z}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"legend",type:"category",itemSpacing:24,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},defaultCfg:{title:{spacing:5,style:{fill:sr.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:sr.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},itemName:{spacing:16,style:{fill:sr.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:sr.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:sr.uncheckedColor},markerStyle:{fill:sr.uncheckedColor,stroke:sr.uncheckedColor}},inactive:{nameStyle:{fill:sr.uncheckedColor},markerStyle:{opacity:.2}}}}})},wt.prototype.isList=function(){return!0},wt.prototype.getItems=function(){return this.get("items")},wt.prototype.setItems=function(z){this.update({items:z})},wt.prototype.updateItem=function(z,nt){(0,g.mix)(z,nt),this.clear(),this.render()},wt.prototype.clearItems=function(){var z=this.getElementByLocalId("item-group");z&&z.clear()},wt.prototype.setItemState=function(z,nt,vt){z[nt]=vt;var Lt=this.getElementByLocalId("item-"+z.id);if(Lt){var Ht=this.getItems(),qt=Ht.indexOf(z),ge=this.createOffScreenGroup(),q=this.drawItem(z,qt,this.getItemHeight(),ge);this.updateElements(q,Lt),this.clearUpdateStatus(Lt)}},wt.prototype.hasState=function(z,nt){return!!z[nt]},wt.prototype.getItemStates=function(z){var nt=this.get("itemStates"),vt=[];return(0,g.each)(nt,function(Lt,Ht){z[Ht]&&vt.push(Ht)}),vt},wt.prototype.clearItemsState=function(z){var nt=this,vt=this.getItemsByState(z);(0,g.each)(vt,function(Lt){nt.setItemState(Lt,z,!1)})},wt.prototype.getItemsByState=function(z){var nt=this,vt=this.getItems();return(0,g.filter)(vt,function(Lt){return nt.hasState(Lt,z)})},wt.prototype.drawLegendContent=function(z){this.processItems(),this.drawItems(z)},wt.prototype.processItems=function(){var z=this.get("items");(0,g.each)(z,function(nt){nt.id||(nt.id=nt.name)})},wt.prototype.drawItems=function(z){var nt=this,vt=this.addGroup(z,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),Lt=this.addGroup(vt,{id:this.getElementId("item-group"),name:"legend-item-group"}),Ht=this.getItemHeight(),qt=this.get("itemWidth"),ge=this.get("itemSpacing"),q=this.get("currentPoint"),Q=q.x,$=q.y,ot=this.get("layout"),_t=this.get("items"),Xt=!1,ae=0,oe=this.get("maxWidth"),ye=this.get("maxHeight");(0,g.each)(_t,function(ze,We){var It=nt.drawItem(ze,We,Ht,Lt),$t=It.getBBox(),le=qt||$t.width;le>ae&&(ae=le),ot==="horizontal"?(oe&&oe<q.x+le-Q&&(Xt=!0,q.x=Q,q.y+=Ht),nt.moveElementTo(It,q),q.x+=le+ge):(ye&&ye<q.y+Ht-$&&(Xt=!0,q.x+=ae+ge,q.y=$,ae=0),nt.moveElementTo(It,q),q.y+=Ht)}),Xt&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=Q,this.startY=$,this.adjustNavigation(z,Lt))},wt.prototype.getItemHeight=function(){var z=this.get("itemHeight");if(!z){var nt=this.get("itemName");nt&&(z=nt.style.fontSize+8)}return z},wt.prototype.drawMarker=function(z,nt,vt,Lt){var Ht=(0,m.__assign)((0,m.__assign)((0,m.__assign)({x:0,y:Lt/2},nt.style),{symbol:(0,g.get)(vt.marker,"symbol","circle")}),(0,g.get)(vt.marker,"style",{})),qt=this.addShape(z,{type:"marker",id:this.getElementId("item-"+vt.id+"-marker"),name:"legend-item-marker",attrs:Ht}),ge=qt.getBBox();qt.attr("x",ge.width/2);var q=qt.attr(),Q=q.stroke,$=q.fill;return Q&&qt.set("isStroke",!0),$&&qt.set("isFill",!0),qt},wt.prototype.drawItemText=function(z,nt,vt,Lt,Ht,qt,ge){var q=vt.formatter,Q=(0,m.__assign)({x:qt,y:Ht/2,text:q?q(Lt[nt],Lt,ge):Lt[nt]},vt.style);return this.addShape(z,{type:"text",id:this.getElementId("item-"+Lt.id+"-"+nt),name:"legend-item-"+nt,attrs:Q})},wt.prototype.drawItem=function(z,nt,vt,Lt){var Ht="item-"+z.id,qt=this.addGroup(Lt,{name:"legend-item-container",id:this.getElementId("item-container-"+Ht),delegateObject:{item:z,index:nt}}),ge=this.addGroup(qt,{name:"legend-item",id:this.getElementId(Ht),delegateObject:{item:z,index:nt}}),q=this.get("marker"),Q=this.get("itemName"),$=this.get("itemValue"),ot=this.get("itemBackground"),_t=this.getLimitItemWidth(),Xt=0;if(q){var ae=this.drawMarker(ge,q,z,vt);Xt=ae.getBBox().maxX+q.spacing}if(Q){var oe=this.drawItemText(ge,"name",Q,z,vt,Xt,nt);_t&&ar(!0,oe,(0,g.clamp)(_t-Xt,0,_t)),Xt=oe.getBBox().maxX+Q.spacing}if($){var ye=this.drawItemText(ge,"value",$,z,vt,Xt,nt);_t&&($.alignRight?(ye.attr({textAlign:"right",x:_t}),ar(!0,ye,(0,g.clamp)(_t-Xt,0,_t),"head")):ar(!0,ye,(0,g.clamp)(_t-Xt,0,_t)))}if(ot){var ze=ge.getBBox(),We=this.addShape(ge,{type:"rect",name:"legend-item-background",id:this.getElementId(Ht+"-background"),attrs:(0,m.__assign)({x:0,y:0,width:ze.width,height:vt},ot.style)});We.toBack()}return this.applyItemStates(z,ge),ge},wt.prototype.adjustNavigation=function(z,nt){var vt=this,Lt=this.startX,Ht=this.startY,qt=this.get("layout"),ge=nt.findAll(function(le){return le.get("name")==="legend-item"}),q=this.get("maxWidth"),Q=this.get("maxHeight"),$=this.get("itemWidth"),ot=this.get("itemSpacing"),_t=this.getItemHeight(),Xt=this.drawNavigation(z,qt,"00/00",12),ae=Xt.getBBox(),oe={x:Lt,y:Ht},ye=1,ze=0,We=0,It=0;if(qt==="horizontal")this.pageHeight=_t,(0,g.each)(ge,function(le){var fe=le.getBBox(),Ie=$||fe.width;(ze&&ze<oe.x+Ie+ot||q<oe.x+Ie+ot+ae.width)&&(ye===1&&(ze=oe.x+ot,vt.pageWidth=ze,vt.moveElementTo(Xt,{x:q-ot-ae.width-ae.minX,y:oe.y+_t/2-ae.height/2-ae.minY})),ye+=1,oe.x=Lt,oe.y+=_t),vt.moveElementTo(le,oe),le.getParent().setClip({type:"rect",attrs:{x:oe.x,y:oe.y,width:Ie+ot,height:_t}}),oe.x+=Ie+ot});else{(0,g.each)(ge,function(le){var fe=le.getBBox();fe.width>We&&(We=fe.width)}),It=We,We+=ot,q&&(We=Math.min(q,We),It=Math.min(q,It)),this.pageWidth=We,this.pageHeight=Q-Math.max(ae.height,_t);var $t=Math.floor(this.pageHeight/_t);(0,g.each)(ge,function(le,fe){fe!==0&&fe%$t==0&&(ye+=1,oe.x+=We,oe.y=Ht),vt.moveElementTo(le,oe),le.getParent().setClip({type:"rect",attrs:{x:oe.x,y:oe.y,width:We,height:_t}}),oe.y+=_t}),this.totalPagesCnt=ye,this.moveElementTo(Xt,{x:Lt+It/2-ae.width/2-ae.minX,y:Q-ae.height-ae.minY})}this.pageHeight&&this.pageWidth&&nt.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=ye,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(Xt),nt.attr("matrix",this.getCurrentNavigationMatrix())},wt.prototype.drawNavigation=function(z,nt,vt,Lt){var Ht={x:0,y:0},qt=this.addGroup(z,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),ge=this.drawArrow(qt,Ht,"navigation-arrow-left",nt==="horizontal"?"up":"left",Lt);ge.on("click",this.onNavigationBack);var q=ge.getBBox();Ht.x+=q.width+2;var Q=this.addShape(qt,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:{x:Ht.x,y:Ht.y+Lt/2,text:vt,fontSize:12,fill:"#ccc",textBaseline:"middle"}}),$=Q.getBBox();Ht.x+=$.width+2;var ot=this.drawArrow(qt,Ht,"navigation-arrow-right",nt==="horizontal"?"down":"right",Lt);return ot.on("click",this.onNavigationAfter),qt},wt.prototype.updateNavigation=function(z){var nt=this.currentPageIndex+"/"+this.totalPagesCnt,vt=z?z.getChildren()[1]:this.getElementByLocalId("navigation-text"),Lt=z?z.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),Ht=z?z.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),qt=vt.getBBox();vt.attr("text",nt);var ge=vt.getBBox();vt.attr("x",vt.attr("x")-(ge.width-qt.width)/2),Lt.attr("opacity",this.currentPageIndex===1?.45:1),Lt.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),Ht.attr("opacity",this.currentPageIndex===this.totalPagesCnt?.45:1),Ht.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},wt.prototype.drawArrow=function(z,nt,vt,Lt,Ht){var qt=nt.x,ge=nt.y,q={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},Q=this.addShape(z,{type:"path",id:this.getElementId(vt),name:vt,attrs:{path:[["M",qt+Ht/2,ge],["L",qt,ge+Ht],["L",qt+Ht,ge+Ht],["Z"]],fill:"#000",cursor:"pointer"}});return Q.attr("matrix",tt({x:qt+Ht/2,y:ge+Ht/2},q[Lt])),Q},wt.prototype.getCurrentNavigationMatrix=function(){var z=this,nt=z.currentPageIndex,vt=z.pageWidth,Lt=z.pageHeight,Ht=this.get("layout"),qt=Ht==="horizontal"?{x:0,y:Lt*(1-nt)}:{x:vt*(1-nt),y:0};return H(qt)},wt.prototype.applyItemStates=function(z,nt){var vt=this.getItemStates(z),Lt=vt.length>0;if(Lt){var Ht=nt.getChildren(),qt=this.get("itemStates");(0,g.each)(Ht,function(ge){var q=ge.get("name"),Q=q.split("-")[2],$=Ae(z,Q,qt);$&&(ge.attr($),Q==="marker"&&!(ge.get("isStroke")&&ge.get("isFill"))&&(ge.get("isStroke")&&ge.attr("fill",null),ge.get("isFill")&&ge.attr("stroke",null)))})}},wt.prototype.getLimitItemWidth=function(){var z=this.get("itemWidth"),nt=this.get("maxItemWidth");return nt?z&&(nt=z<=nt?z:nt):z&&(nt=z),nt},wt}(Te),ir=ke,or=1.4,Or=.4,Cr=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:sr.textColor,textBaseline:"middle",fontFamily:sr.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:sr.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},wt.prototype.isSlider=function(){return!0},wt.prototype.getValue=function(){return this.getCurrentValue()},wt.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},wt.prototype.setRange=function(z,nt){this.update({min:z,max:nt})},wt.prototype.setValue=function(z){var nt=this.getValue();this.set("value",z);var vt=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(vt),this.delegateEmit("valuechanged",{originValue:nt,value:z})},wt.prototype.initEvent=function(){var z=this.get("group");this.bindSliderEvent(z),this.bindRailEvent(z),this.bindTrackEvent(z)},wt.prototype.drawLegendContent=function(z){this.drawRail(z),this.drawLabels(z),this.fixedElements(z),this.resetTrack(z),this.resetTrackClip(z),this.get("slidable")&&this.resetHandlers(z)},wt.prototype.bindSliderEvent=function(z){this.bindHandlersEvent(z)},wt.prototype.bindHandlersEvent=function(z){var nt=this;z.on("legend-handler-min:drag",function(vt){var Lt=nt.getValueByCanvasPoint(vt.x,vt.y),Ht=nt.getCurrentValue(),qt=Ht[1];qt<Lt&&(qt=Lt),nt.setValue([Lt,qt])}),z.on("legend-handler-max:drag",function(vt){var Lt=nt.getValueByCanvasPoint(vt.x,vt.y),Ht=nt.getCurrentValue(),qt=Ht[0];qt>Lt&&(qt=Lt),nt.setValue([qt,Lt])})},wt.prototype.bindRailEvent=function(z){},wt.prototype.bindTrackEvent=function(z){var nt=this,vt=null;z.on("legend-track:dragstart",function(Lt){vt={x:Lt.x,y:Lt.y}}),z.on("legend-track:drag",function(Lt){if(!!vt){var Ht=nt.getValueByCanvasPoint(vt.x,vt.y),qt=nt.getValueByCanvasPoint(Lt.x,Lt.y),ge=nt.getCurrentValue(),q=ge[1]-ge[0],Q=nt.getRange(),$=qt-Ht;$<0?ge[0]+$>Q.min?nt.setValue([ge[0]+$,ge[1]+$]):nt.setValue([Q.min,Q.min+q]):$>0&&($>0&&ge[1]+$<Q.max?nt.setValue([ge[0]+$,ge[1]+$]):nt.setValue([Q.max-q,Q.max])),vt={x:Lt.x,y:Lt.y}}}),z.on("legend-track:dragend",function(Lt){vt=null})},wt.prototype.drawLabels=function(z){this.drawLabel("min",z),this.drawLabel("max",z)},wt.prototype.drawLabel=function(z,nt){var vt=this.get("label"),Lt=vt.style,Ht=vt.align,qt=this.get(z),ge=this.getLabelAlignAttrs(z,Ht),q="label-"+z;this.addShape(nt,{type:"text",id:this.getElementId(q),name:"legend-label-"+z,attrs:(0,m.__assign)((0,m.__assign)({x:0,y:0,text:qt},Lt),ge)})},wt.prototype.getLabelAlignAttrs=function(z,nt){var vt=this.isVertical(),Lt="center",Ht="middle";return vt?(Lt="start",nt!=="rail"?z==="min"?Ht="top":Ht="bottom":Ht="top"):nt!=="rail"?(Ht="top",z==="min"?Lt="start":Lt="end"):(Lt="start",Ht="middle"),{textAlign:Lt,textBaseline:Ht}},wt.prototype.getRailPath=function(z,nt,vt,Lt){var Ht=this.get("rail"),qt=Ht.size,ge=Ht.defaultLength,q=Ht.type,Q=this.isVertical(),$=ge,ot=vt,_t=Lt;ot||(ot=Q?qt:$),_t||(_t=Q?$:qt);var Xt=[];return q==="color"?(Xt.push(["M",z,nt]),Xt.push(["L",z+ot,nt]),Xt.push(["L",z+ot,nt+_t]),Xt.push(["L",z,nt+_t]),Xt.push(["Z"])):(Xt.push(["M",z+ot,nt]),Xt.push(["L",z+ot,nt+_t]),Xt.push(["L",z,nt+_t]),Xt.push(["Z"])),Xt},wt.prototype.drawRail=function(z){var nt=this.get("rail"),vt=nt.style;this.addShape(z,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,m.__assign)({path:this.getRailPath(0,0)},vt)})},wt.prototype.getTrackColor=function(z){var nt=z.length;if(!nt)return null;if(nt===1)return z[0];var vt;this.isVertical()?vt="l(90)":vt="l(0)";for(var Lt=0;Lt<nt;Lt++){var Ht=Lt/(nt-1);vt+=" "+Ht+":"+z[Lt]}return vt},wt.prototype.getTrackPath=function(z){var nt=this.getRailShape(z),vt=nt.attr("path");return(0,g.clone)(vt)},wt.prototype.getClipTrackAttrs=function(z){var nt=this.getCurrentValue(),vt=nt[0],Lt=nt[1],Ht=this.getRailBBox(z),qt=this.getPointByValue(vt,z),ge=this.getPointByValue(Lt,z),q=this.isVertical(),Q,$,ot,_t;return q?(Q=Ht.minX,$=qt.y,ot=Ht.width,_t=ge.y-qt.y):(Q=qt.x,$=Ht.minY,ot=ge.x-qt.x,_t=Ht.height),{x:Q,y:$,width:ot,height:_t}},wt.prototype.getTrackAttrs=function(z){var nt=this.get("track"),vt=this.get("colors"),Lt=this.getTrackPath(z);return(0,g.mix)({path:Lt,fill:this.getTrackColor(vt)},nt.style)},wt.prototype.resetTrackClip=function(z){var nt=z||this.get("group"),vt=this.getElementId("track"),Lt=nt.findById(vt),Ht=Lt.getClip(),qt=this.getClipTrackAttrs(z);Ht?Ht.attr(qt):Lt.setClip({type:"rect",attrs:qt})},wt.prototype.resetTrack=function(z){var nt=this.getElementId("track"),vt=z.findById(nt),Lt=this.getTrackAttrs(z);vt?vt.attr(Lt):this.addShape(z,{type:"path",id:nt,draggable:this.get("slidable"),name:"legend-track",attrs:Lt})},wt.prototype.getPointByValue=function(z,nt){var vt=this.getRange(),Lt=vt.min,Ht=vt.max,qt=(z-Lt)/(Ht-Lt),ge=this.getRailBBox(nt),q=this.isVertical(),Q={x:0,y:0};return q?(Q.x=ge.minX+ge.width/2,Q.y=jt(ge.minY,ge.maxY,qt)):(Q.x=jt(ge.minX,ge.maxX,qt),Q.y=ge.minY+ge.height/2),Q},wt.prototype.getRailShape=function(z){var nt=z||this.get("group");return nt.findById(this.getElementId("rail"))},wt.prototype.getRailBBox=function(z){var nt=this.getRailShape(z),vt=nt.getBBox();return vt},wt.prototype.getRailCanvasBBox=function(){var z=this.get("group"),nt=z.findById(this.getElementId("rail")),vt=nt.getCanvasBBox();return vt},wt.prototype.isVertical=function(){return this.get("layout")==="vertical"},wt.prototype.getValueByCanvasPoint=function(z,nt){var vt=this.getRange(),Lt=vt.min,Ht=vt.max,qt=this.getRailCanvasBBox(),ge=this.isVertical(),q=this.get("step"),Q;ge?Q=(nt-qt.minY)/qt.height:Q=(z-qt.minX)/qt.width;var $=jt(Lt,Ht,Q);if(q){var ot=Math.round(($-Lt)/q);$=Lt+ot*q}return $>Ht&&($=Ht),$<Lt&&($=Lt),$},wt.prototype.getCurrentValue=function(){var z=this.get("value");return z||(z=[this.get("min"),this.get("max")]),z},wt.prototype.resetHandlers=function(z){var nt=this.getCurrentValue(),vt=nt[0],Lt=nt[1];this.resetHandler(z,"min",vt),this.resetHandler(z,"max",Lt)},wt.prototype.getHandlerPath=function(z,nt){var vt=this.isVertical(),Lt=[],Ht=z.size,qt=nt.x,ge=nt.y,q=Ht*or,Q=Ht/2,$=Ht/6;if(vt){var ot=qt+q*Or;Lt.push(["M",qt,ge]),Lt.push(["L",ot,ge+Q]),Lt.push(["L",qt+q,ge+Q]),Lt.push(["L",qt+q,ge-Q]),Lt.push(["L",ot,ge-Q]),Lt.push(["Z"]),Lt.push(["M",ot,ge+$]),Lt.push(["L",qt+q-2,ge+$]),Lt.push(["M",ot,ge-$]),Lt.push(["L",qt+q-2,ge-$])}else{var _t=ge+q*Or;Lt.push(["M",qt,ge]),Lt.push(["L",qt-Q,_t]),Lt.push(["L",qt-Q,ge+q]),Lt.push(["L",qt+Q,ge+q]),Lt.push(["L",qt+Q,_t]),Lt.push(["Z"]),Lt.push(["M",qt-$,_t]),Lt.push(["L",qt-$,ge+q-2]),Lt.push(["M",qt+$,_t]),Lt.push(["L",qt+$,ge+q-2])}return Lt},wt.prototype.resetHandler=function(z,nt,vt){var Lt=this.getPointByValue(vt,z),Ht=this.get("handler"),qt=this.getHandlerPath(Ht,Lt),ge=this.getElementId("handler-"+nt),q=z.findById(ge),Q=this.isVertical();q?q.attr("path",qt):this.addShape(z,{type:"path",name:"legend-handler-"+nt,draggable:!0,id:ge,attrs:(0,m.__assign)((0,m.__assign)({path:qt},Ht.style),{cursor:Q?"ns-resize":"ew-resize"})})},wt.prototype.fixedElements=function(z){var nt=z.findById(this.getElementId("rail")),vt=z.findById(this.getElementId("label-min")),Lt=z.findById(this.getElementId("label-max")),Ht=this.getDrawPoint();this.isVertical()?this.fixedVertail(vt,Lt,nt,Ht):this.fixedHorizontal(vt,Lt,nt,Ht)},wt.prototype.fitRailLength=function(z,nt,vt,Lt){var Ht=this.isVertical(),qt=Ht?"height":"width",ge=this.get("label"),q=ge.align,Q=ge.spacing,$=this.get("max"+(0,g.upperFirst)(qt));if($){var ot=q==="rail"?vt[qt]+z[qt]+nt[qt]+Q*2:vt[qt],_t=ot-$;_t>0&&this.changeRailLength(Lt,qt,vt[qt]-_t)}},wt.prototype.changeRailLength=function(z,nt,vt){var Lt=z.getBBox(),Ht;nt==="height"?Ht=this.getRailPath(Lt.x,Lt.y,Lt.width,vt):Ht=this.getRailPath(Lt.x,Lt.y,vt,Lt.height),z.attr("path",Ht)},wt.prototype.changeRailPosition=function(z,nt,vt){var Lt=z.getBBox(),Ht=this.getRailPath(nt,vt,Lt.width,Lt.height);z.attr("path",Ht)},wt.prototype.fixedHorizontal=function(z,nt,vt,Lt){var Ht=this.get("label"),qt=Ht.align,ge=Ht.spacing,q=vt.getBBox(),Q=z.getBBox(),$=nt.getBBox(),ot=q.height;this.fitRailLength(Q,$,q,vt),q=vt.getBBox(),qt==="rail"?(z.attr({x:Lt.x,y:Lt.y+ot/2}),this.changeRailPosition(vt,Lt.x+Q.width+ge,Lt.y),nt.attr({x:Lt.x+Q.width+q.width+ge*2,y:Lt.y+ot/2})):qt==="top"?(z.attr({x:Lt.x,y:Lt.y}),nt.attr({x:Lt.x+q.width,y:Lt.y}),this.changeRailPosition(vt,Lt.x,Lt.y+Q.height+ge)):(this.changeRailPosition(vt,Lt.x,Lt.y),z.attr({x:Lt.x,y:Lt.y+q.height+ge}),nt.attr({x:Lt.x+q.width,y:Lt.y+q.height+ge}))},wt.prototype.fixedVertail=function(z,nt,vt,Lt){var Ht=this.get("label"),qt=Ht.align,ge=Ht.spacing,q=vt.getBBox(),Q=z.getBBox(),$=nt.getBBox();if(this.fitRailLength(Q,$,q,vt),q=vt.getBBox(),qt==="rail")z.attr({x:Lt.x,y:Lt.y}),this.changeRailPosition(vt,Lt.x,Lt.y+Q.height+ge),nt.attr({x:Lt.x,y:Lt.y+Q.height+q.height+ge*2});else if(qt==="right")z.attr({x:Lt.x+q.width+ge,y:Lt.y}),this.changeRailPosition(vt,Lt.x,Lt.y),nt.attr({x:Lt.x+q.width+ge,y:Lt.y+q.height});else{var ot=Math.max(Q.width,$.width);z.attr({x:Lt.x,y:Lt.y}),this.changeRailPosition(vt,Lt.x+ot+ge,Lt.y),nt.attr({x:Lt.x,y:Lt.y+q.height})}},wt}(Te),Ar=Cr,hn=d(55223),sn="g2-tooltip",Jr="g2-tooltip-title",ln="g2-tooltip-list",Fn="g2-tooltip-list-item",kn="g2-tooltip-marker",Jn="g2-tooltip-value",Rn="g2-tooltip-name",Ai="g2-tooltip-crosshair-x",ti="g2-tooltip-crosshair-y",Sr,ii=(Sr={},Sr[""+sn]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:sr.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},Sr[""+Jr]={marginBottom:"4px"},Sr[""+ln]={margin:"0px",listStyleType:"none",padding:"0px"},Sr[""+Fn]={listStyleType:"none",marginBottom:"4px"},Sr[""+kn]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},Sr[""+Jn]={display:"inline-block",float:"right",marginLeft:"30px"},Sr[""+Ai]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Sr[""+ti]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Sr);function ea(Qt,wt,z,nt,vt){var Lt={left:Qt<vt.x,right:Qt+z>vt.x+vt.width,top:wt<vt.y,bottom:wt+nt>vt.y+vt.height};return Lt}function yn(Qt,wt,z,nt,vt,Lt){var Ht=Qt,qt=wt;switch(Lt){case"left":Ht=Qt-nt-z,qt=wt-vt/2;break;case"right":Ht=Qt+z,qt=wt-vt/2;break;case"top":Ht=Qt-nt/2,qt=wt-vt-z;break;case"bottom":Ht=Qt-nt/2,qt=wt+z;break;default:Ht=Qt+z,qt=wt-vt-z;break}return{x:Ht,y:qt}}function Ti(Qt,wt,z,nt,vt,Lt,Ht){var qt=yn(Qt,wt,z,nt,vt,Lt);if(Ht){var ge=ea(qt.x,qt.y,nt,vt,Ht);Lt==="auto"?(ge.right&&(qt.x=Math.max(0,Qt-nt-z)),ge.top&&(qt.y=Math.max(0,wt-vt-z))):Lt==="top"||Lt==="bottom"?(ge.left&&(qt.x=Ht.x),ge.right&&(qt.x=Ht.x+Ht.width-nt),Lt==="top"&&ge.top&&(qt.y=wt+z),Lt==="bottom"&&ge.bottom&&(qt.y=wt-vt-z)):(ge.top&&(qt.y=Ht.y),ge.bottom&&(qt.y=Ht.y+Ht.height-vt),Lt==="left"&&ge.left&&(qt.x=Qt+z),Lt==="right"&&ge.right&&(qt.x=Qt-nt-z))}return qt}function _i(Qt,wt){var z=!1;return(0,g.each)(wt,function(nt){if((0,g.hasKey)(Qt,nt))return z=!0,!1}),z}var ai=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+sn+'"><div class="'+Jr+'"></div><ul class="'+ln+'"></ul></div>',itemTpl:'<li class="'+Fn+`" data-index={index}>
          <span class="`+kn+`" style="background:{color}"></span>
          <span class="`+Rn+`">{name}</span>:
          <span class="`+Jn+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+Ai+'"></div>',yCrosshairTpl:'<div class="'+ti+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:sn,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:ii})},wt.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},wt.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},wt.prototype.show=function(){var z=this.getContainer();!z||this.destroyed||(this.set("visible",!0),(0,on.Z)(z,{visibility:"visible"}),this.setCrossHairsVisible(!0))},wt.prototype.hide=function(){var z=this.getContainer();!z||this.destroyed||(this.set("visible",!1),(0,on.Z)(z,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},wt.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},wt.prototype.setLocation=function(z){this.set("x",z.x),this.set("y",z.y),this.resetPosition()},wt.prototype.setCrossHairsVisible=function(z){var nt=z?"":"none",vt=this.get("xCrosshairDom"),Lt=this.get("yCrosshairDom");vt&&(0,on.Z)(vt,{display:nt}),Lt&&(0,on.Z)(Lt,{display:nt})},wt.prototype.initContainer=function(){if(Qt.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var z=this.getHtmlContentNode();this.get("parent").appendChild(z),this.set("container",z),this.resetStyles(),this.applyStyles()}},wt.prototype.updateInner=function(z){this.get("customContent")?this.renderCustomContent():(_i(z,["title","showTitle"])&&this.resetTitle(),(0,g.hasKey)(z,"items")&&this.renderItems()),Qt.prototype.updateInner.call(this,z)},wt.prototype.initDom=function(){this.cacheDoms()},wt.prototype.removeDom=function(){Qt.prototype.removeDom.call(this),this.clearCrosshairs()},wt.prototype.resetPosition=function(){var z=this.get("x"),nt=this.get("y"),vt=this.get("offset"),Lt=this.getOffset(),Ht=Lt.offsetX,qt=Lt.offsetY,ge=this.get("position"),q=this.get("region"),Q=this.getContainer(),$=this.getBBox(),ot=$.width,_t=$.height,Xt;q&&(Xt=Bt(q));var ae=Ti(z,nt,vt,ot,_t,ge,Xt);(0,on.Z)(Q,{left:et(ae.x+Ht),top:et(ae.y+qt)}),this.resetCrosshairs()},wt.prototype.renderCustomContent=function(){var z=this.getHtmlContentNode(),nt=this.get("parent"),vt=this.get("container");vt&&vt.parentNode===nt?nt.replaceChild(z,vt):nt.appendChild(z),this.set("container",z),this.resetStyles(),this.applyStyles()},wt.prototype.getHtmlContentNode=function(){var z,nt=this.get("customContent");if(nt){var vt=nt(this.get("title"),this.get("items"));(0,g.isElement)(vt)?z=vt:z=(0,Er.Z)(vt)}return z},wt.prototype.cacheDoms=function(){var z=this.getContainer(),nt=z.getElementsByClassName(Jr)[0],vt=z.getElementsByClassName(ln)[0];this.set("titleDom",nt),this.set("listDom",vt)},wt.prototype.resetTitle=function(){var z=this.get("title"),nt=this.get("showTitle");nt&&z?this.setTitle(z):this.setTitle("")},wt.prototype.setTitle=function(z){var nt=this.get("titleDom");nt&&(nt.innerText=z)},wt.prototype.resetCrosshairs=function(){var z=this.get("crosshairsRegion"),nt=this.get("crosshairs");if(!z||!nt)this.clearCrosshairs();else{var vt=Bt(z),Lt=this.get("xCrosshairDom"),Ht=this.get("yCrosshairDom");nt==="x"?(this.resetCrosshair("x",vt),Ht&&(Ht.remove(),this.set("yCrosshairDom",null))):nt==="y"?(this.resetCrosshair("y",vt),Lt&&(Lt.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",vt),this.resetCrosshair("y",vt)),this.setCrossHairsVisible(this.get("visible"))}},wt.prototype.resetCrosshair=function(z,nt){var vt=this.checkCrosshair(z),Lt=this.get(z);z==="x"?(0,on.Z)(vt,{left:et(Lt),top:et(nt.y),height:et(nt.height)}):(0,on.Z)(vt,{top:et(Lt),left:et(nt.x),width:et(nt.width)})},wt.prototype.checkCrosshair=function(z){var nt=z+"CrosshairDom",vt=z+"CrosshairTpl",Lt="CROSSHAIR_"+z.toUpperCase(),Ht=w[Lt],qt=this.get(nt),ge=this.get("parent");return qt||(qt=(0,Er.Z)(this.get(vt)),this.applyStyle(Ht,qt),ge.appendChild(qt),this.set(nt,qt)),qt},wt.prototype.renderItems=function(){this.clearItemDoms();var z=this.get("items"),nt=this.get("itemTpl"),vt=this.get("listDom");vt&&((0,g.each)(z,function(Lt){var Ht=hn.default.toCSSGradient(Lt.color),qt=(0,m.__assign)((0,m.__assign)({},Lt),{color:Ht}),ge=(0,g.substitute)(nt,qt),q=(0,Er.Z)(ge);vt.appendChild(q)}),this.applyChildrenStyles(vt,this.get("domStyles")))},wt.prototype.clearItemDoms=function(){this.get("listDom")&&Tt(this.get("listDom"))},wt.prototype.clearCrosshairs=function(){var z=this.get("xCrosshairDom"),nt=this.get("yCrosshairDom");z&&z.remove(),nt&&nt.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},wt}(Mn),Oi=ai,ca={opacity:0},zi={stroke:"#C5C5C5",strokeOpacity:.85},mi={fill:"#CACED4",opacity:.85},xi=d(57350),In=d(72469);function Ki(Qt){return(0,g.map)(Qt,function(wt,z){var nt=z===0?"M":"L",vt=wt[0],Lt=wt[1];return[nt,vt,Lt]})}function Li(Qt){return Ki(Qt)}function Ii(Qt){if(Qt.length<=2)return Li(Qt);var wt=[];(0,g.each)(Qt,function(Ht){(0,g.isEqual)(Ht,wt.slice(wt.length-2))||wt.push(Ht[0],Ht[1])});var z=(0,xi.catmullRom2Bezier)(wt,!1),nt=(0,g.head)(Qt),vt=nt[0],Lt=nt[1];return z.unshift(["M",vt,Lt]),z}function oi(Qt,wt,z,nt){nt===void 0&&(nt=!0);var vt=new In.Linear({values:Qt}),Lt=new In.Category({values:(0,g.map)(Qt,function(qt,ge){return ge})}),Ht=(0,g.map)(Qt,function(qt,ge){return[Lt.scale(ge)*wt,z-vt.scale(qt)*z]});return nt?Ii(Ht):Li(Ht)}function ra(Qt,wt,z){var nt=(0,m.__spreadArrays)(Qt);return nt.push(["L",wt,0]),nt.push(["L",0,z]),nt.push(["Z"]),nt}var na=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:ca,lineStyle:zi,areaStyle:mi})},wt.prototype.renderInner=function(z){var nt=this.cfg,vt=nt.width,Lt=nt.height,Ht=nt.data,qt=nt.smooth,ge=nt.isArea,q=nt.backgroundStyle,Q=nt.lineStyle,$=nt.areaStyle;this.addShape(z,{id:this.getElementId("background"),type:"rect",attrs:(0,m.__assign)({x:0,y:0,width:vt,height:Lt},q)});var ot=oi(Ht,vt,Lt,qt);if(this.addShape(z,{id:this.getElementId("line"),type:"path",attrs:(0,m.__assign)({path:ot},Q)}),ge){var _t=ra(ot,vt,Lt);this.addShape(z,{id:this.getElementId("area"),type:"path",attrs:(0,m.__assign)({path:_t},$)})}},wt.prototype.applyOffset=function(){var z=this.cfg,nt=z.x,vt=z.y;this.moveElementTo(this.get("group"),{x:nt,y:vt})},wt}(st),Da=null,va={fill:"#416180",opacity:.05},wa={fill:"#5B8FF9",opacity:.15,cursor:"move"},Sa=10,qn={width:Sa,height:24},Ma={textBaseline:"middle",fill:"#000",opacity:.45},da="sliderchange",$i={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},Xi=function(Qt){(0,m.__extends)(wt,Qt);function wt(){return Qt!==null&&Qt.apply(this,arguments)||this}return wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"handler",x:0,y:0,width:10,height:24,style:$i})},wt.prototype.renderInner=function(z){var nt=this.cfg,vt=nt.width,Lt=nt.height,Ht=nt.style,qt=Ht.fill,ge=Ht.stroke,q=Ht.radius,Q=Ht.opacity,$=Ht.cursor;this.addShape(z,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:vt,height:Lt,fill:qt,stroke:ge,radius:q,opacity:Q,cursor:$}});var ot=1/3*vt,_t=2/3*vt,Xt=1/4*Lt,ae=3/4*Lt;this.addShape(z,{id:this.getElementId("line-left"),type:"line",attrs:{x1:ot,y1:Xt,x2:ot,y2:ae,stroke:ge,cursor:$}}),this.addShape(z,{id:this.getElementId("line-right"),type:"line",attrs:{x1:_t,y1:Xt,x2:_t,y2:ae,stroke:ge,cursor:$}})},wt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},wt.prototype.initEvent=function(){this.bindEvents()},wt.prototype.bindEvents=function(){var z=this;this.get("group").on("mouseenter",function(){var nt=z.get("style").highLightFill;z.getElementByLocalId("background").attr("fill",nt),z.draw()}),this.get("group").on("mouseleave",function(){var nt=z.get("style").fill;z.getElementByLocalId("background").attr("fill",nt),z.draw()})},wt.prototype.draw=function(){var z=this.get("container").get("canvas");z&&z.draw()},wt}(st),zr=null,ui=function(Qt){(0,m.__extends)(wt,Qt);function wt(){var z=Qt!==null&&Qt.apply(this,arguments)||this;return z.onMouseDown=function(nt){return function(vt){z.currentTarget=nt;var Lt=vt.originalEvent;Lt.stopPropagation(),Lt.preventDefault(),z.prevX=(0,g.get)(Lt,"touches.0.pageX",Lt.pageX),z.prevY=(0,g.get)(Lt,"touches.0.pageY",Lt.pageY);var Ht=z.getContainerDOM();Ht.addEventListener("mousemove",z.onMouseMove),Ht.addEventListener("mouseup",z.onMouseUp),Ht.addEventListener("mouseleave",z.onMouseUp),Ht.addEventListener("touchmove",z.onMouseMove),Ht.addEventListener("touchend",z.onMouseUp),Ht.addEventListener("touchcancel",z.onMouseUp)}},z.onMouseMove=function(nt){var vt=z.cfg.width,Lt=[z.get("start"),z.get("end")];nt.stopPropagation(),nt.preventDefault();var Ht=(0,g.get)(nt,"touches.0.pageX",nt.pageX),qt=(0,g.get)(nt,"touches.0.pageY",nt.pageY),ge=Ht-z.prevX,q=z.adjustOffsetRange(ge/vt);z.updateStartEnd(q),z.updateUI(z.getElementByLocalId("foreground"),z.getElementByLocalId("minText"),z.getElementByLocalId("maxText")),z.prevX=Ht,z.prevY=qt,z.draw(),z.emit(da,[z.get("start"),z.get("end")].sort()),z.delegateEmit("valuechanged",{originValue:Lt,value:[z.get("start"),z.get("end")]})},z.onMouseUp=function(){z.currentTarget&&(z.currentTarget=void 0);var nt=z.getContainerDOM();nt&&(nt.removeEventListener("mousemove",z.onMouseMove),nt.removeEventListener("mouseup",z.onMouseUp),nt.removeEventListener("mouseleave",z.onMouseUp),nt.removeEventListener("touchmove",z.onMouseMove),nt.removeEventListener("touchend",z.onMouseUp),nt.removeEventListener("touchcancel",z.onMouseUp))},z}return wt.prototype.setRange=function(z,nt){this.set("minLimit",z),this.set("maxLimit",nt);var vt=this.get("start"),Lt=this.get("end"),Ht=(0,g.clamp)(vt,z,nt),qt=(0,g.clamp)(Lt,z,nt);!this.get("isInit")&&(vt!==Ht||Lt!==qt)&&this.setValue([Ht,qt])},wt.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},wt.prototype.setValue=function(z){var nt=this.getRange();if((0,g.isArray)(z)&&z.length===2){var vt=[this.get("start"),this.get("end")];this.update({start:(0,g.clamp)(z[0],nt.min,nt.max),end:(0,g.clamp)(z[1],nt.min,nt.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:vt,value:z})}},wt.prototype.getValue=function(){return[this.get("start"),this.get("end")]},wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:va,foregroundStyle:wa,handlerStyle:qn,textStyle:Ma}})},wt.prototype.update=function(z){var nt=z.start,vt=z.end,Lt=(0,m.__assign)({},z);(0,g.isNil)(nt)||(Lt.start=(0,g.clamp)(nt,0,1)),(0,g.isNil)(vt)||(Lt.end=(0,g.clamp)(vt,0,1)),Qt.prototype.update.call(this,Lt),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler"))},wt.prototype.init=function(){this.set("start",(0,g.clamp)(this.get("start"),0,1)),this.set("end",(0,g.clamp)(this.get("end"),0,1)),Qt.prototype.init.call(this)},wt.prototype.renderInner=function(z){var nt=this.cfg,vt=nt.start,Lt=nt.end,Ht=nt.width,qt=nt.height,ge=nt.trendCfg,q=ge===void 0?{}:ge,Q=nt.minText,$=nt.maxText,ot=nt.backgroundStyle,_t=ot===void 0?{}:ot,Xt=nt.foregroundStyle,ae=Xt===void 0?{}:Xt,oe=nt.textStyle,ye=oe===void 0?{}:oe,ze=nt.handlerStyle,We=ze===void 0?{}:ze,It=vt*Ht,$t=Lt*Ht;(0,g.size)((0,g.get)(q,"data"))&&this.addComponent(z,(0,m.__assign)({component:na,id:this.getElementId("trend"),x:0,y:0,width:Ht,height:qt},q)),this.addShape(z,{id:this.getElementId("background"),type:"rect",attrs:(0,m.__assign)({x:0,y:0,width:Ht,height:qt},_t)});var le=this.addShape(z,{id:this.getElementId("minText"),type:"text",attrs:(0,m.__assign)({y:qt/2,textAlign:"right",text:Q,silent:!1},ye)}),fe=this.addShape(z,{id:this.getElementId("maxText"),type:"text",attrs:(0,m.__assign)({y:qt/2,textAlign:"left",text:$,silent:!1},ye)}),Ie=this.addShape(z,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,m.__assign)({y:0,height:qt},ae)}),$e=(0,g.get)(We,"height",24);this.minHandler=this.addComponent(z,(0,m.__assign)({component:Xi,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(qt-$e)/2,width:Ht,height:$e,cursor:"ew-resize"},We)),this.maxHandler=this.addComponent(z,(0,m.__assign)({component:Xi,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(qt-$e)/2,width:Ht,height:$e,cursor:"ew-resize"},We)),this.updateUI(Ie,le,fe)},wt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},wt.prototype.initEvent=function(){this.bindEvents()},wt.prototype.updateUI=function(z,nt,vt){var Lt=this.cfg,Ht=Lt.start,qt=Lt.end,ge=Lt.width,q=Lt.minText,Q=Lt.maxText,$=Lt.handlerStyle,ot=Ht*ge,_t=qt*ge;z.attr("x",ot),z.attr("width",_t-ot);var Xt=(0,g.get)($,"width",Sa);nt.attr("text",q),vt.attr("text",Q);var ae=this._dodgeText([ot,_t],nt,vt),oe=ae[0],ye=ae[1];this.minHandler&&(this.minHandler.update({x:ot-Xt/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,g.each)(oe,function(ze,We){return nt.attr(We,ze)}),this.maxHandler&&(this.maxHandler.update({x:_t-Xt/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,g.each)(ye,function(ze,We){return vt.attr(We,ze)})},wt.prototype.bindEvents=function(){var z=this.get("group");z.on("handler-min:mousedown",this.onMouseDown("minHandler")),z.on("handler-min:touchstart",this.onMouseDown("minHandler")),z.on("handler-max:mousedown",this.onMouseDown("maxHandler")),z.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var nt=z.findById(this.getElementId("foreground"));nt.on("mousedown",this.onMouseDown("foreground")),nt.on("touchstart",this.onMouseDown("foreground"))},wt.prototype.adjustOffsetRange=function(z){var nt=this.cfg,vt=nt.start,Lt=nt.end;switch(this.currentTarget){case"minHandler":{var Ht=0-vt,qt=1-vt;return Math.min(qt,Math.max(Ht,z))}case"maxHandler":{var Ht=0-Lt,qt=1-Lt;return Math.min(qt,Math.max(Ht,z))}case"foreground":{var Ht=0-vt,qt=1-Lt;return Math.min(qt,Math.max(Ht,z))}}},wt.prototype.updateStartEnd=function(z){var nt=this.cfg,vt=nt.start,Lt=nt.end;switch(this.currentTarget){case"minHandler":vt+=z;break;case"maxHandler":Lt+=z;break;case"foreground":vt+=z,Lt+=z;break}this.set("start",vt),this.set("end",Lt)},wt.prototype._dodgeText=function(z,nt,vt){var Lt,Ht,qt=this.cfg,ge=qt.handlerStyle,q=qt.width,Q=2,$=(0,g.get)(ge,"width",Sa),ot=z[0],_t=z[1],Xt=!1;ot>_t&&(Lt=[_t,ot],ot=Lt[0],_t=Lt[1],Ht=[vt,nt],nt=Ht[0],vt=Ht[1],Xt=!0);var ae=nt.getBBox(),oe=vt.getBBox(),ye=ae.width>ot-Q?{x:ot+$/2+Q,textAlign:"left"}:{x:ot-$/2-Q,textAlign:"right"},ze=oe.width>q-_t-Q?{x:_t-$/2-Q,textAlign:"right"}:{x:_t+$/2+Q,textAlign:"left"};return Xt?[ze,ye]:[ye,ze]},wt.prototype.draw=function(){var z=this.get("container"),nt=z&&z.get("canvas");nt&&nt.draw()},wt.prototype.getContainerDOM=function(){var z=this.get("container"),nt=z&&z.get("canvas");return nt&&nt.get("container")},wt}(st),Nn=null,cn=d(57817),Vi={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},vn={default:Vi,hover:{thumbColor:"rgba(0,0,0,0.2)"}},Hi=function(Qt){(0,m.__extends)(wt,Qt);function wt(){var z=Qt!==null&&Qt.apply(this,arguments)||this;return z.clearEvents=g.noop,z.onStartEvent=function(nt){return function(vt){z.isMobile=nt,vt.originalEvent.preventDefault();var Lt=nt?(0,g.get)(vt.originalEvent,"touches.0.clientX"):vt.clientX,Ht=nt?(0,g.get)(vt.originalEvent,"touches.0.clientY"):vt.clientY;z.startPos=z.cfg.isHorizontal?Lt:Ht,z.bindLaterEvent()}},z.bindLaterEvent=function(){var nt=z.getContainerDOM(),vt=[];z.isMobile?vt=[(0,cn.Z)(nt,"touchmove",z.onMouseMove),(0,cn.Z)(nt,"touchend",z.onMouseUp),(0,cn.Z)(nt,"touchcancel",z.onMouseUp)]:vt=[(0,cn.Z)(nt,"mousemove",z.onMouseMove),(0,cn.Z)(nt,"mouseup",z.onMouseUp),(0,cn.Z)(nt,"mouseleave",z.onMouseUp)],z.clearEvents=function(){vt.forEach(function(Lt){Lt.remove()})}},z.onMouseMove=function(nt){var vt=z.cfg,Lt=vt.isHorizontal,Ht=vt.thumbOffset;nt.preventDefault();var qt=z.isMobile?(0,g.get)(nt,"touches.0.clientX"):nt.clientX,ge=z.isMobile?(0,g.get)(nt,"touches.0.clientY"):nt.clientY,q=Lt?qt:ge,Q=q-z.startPos;z.startPos=q,z.updateThumbOffset(Ht+Q)},z.onMouseUp=function(nt){nt.preventDefault(),z.clearEvents()},z.onTrackClick=function(nt){var vt=z.cfg,Lt=vt.isHorizontal,Ht=vt.x,qt=vt.y,ge=vt.thumbLen,q=z.getContainerDOM(),Q=q.getBoundingClientRect(),$=nt.clientX,ot=nt.clientY,_t=Lt?$-Q.left-Ht-ge/2:ot-Q.top-qt-ge/2,Xt=z.validateRange(_t);z.updateThumbOffset(Xt)},z.onThumbMouseOver=function(){var nt=z.cfg.theme.hover.thumbColor;z.getElementByLocalId("thumb").attr("stroke",nt),z.draw()},z.onThumbMouseOut=function(){var nt=z.cfg.theme.default.thumbColor;z.getElementByLocalId("thumb").attr("stroke",nt),z.draw()},z}return wt.prototype.setRange=function(z,nt){this.set("minLimit",z),this.set("maxLimit",nt);var vt=this.getValue(),Lt=(0,g.clamp)(vt,z,nt);vt!==Lt&&!this.get("isInit")&&this.setValue(Lt)},wt.prototype.getRange=function(){var z=this.get("minLimit")||0,nt=this.get("maxLimit")||1;return{min:z,max:nt}},wt.prototype.setValue=function(z){var nt=this.getRange(),vt=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,g.clamp)(z,nt.min,nt.max)}),this.delegateEmit("valuechange",{originalValue:vt,value:this.getValue()})},wt.prototype.getValue=function(){return(0,g.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},wt.prototype.getDefaultCfg=function(){var z=Qt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},z),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:vn})},wt.prototype.renderInner=function(z){this.renderTrackShape(z),this.renderThumbShape(z)},wt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},wt.prototype.initEvent=function(){this.bindEvents()},wt.prototype.renderTrackShape=function(z){var nt=this.cfg,vt=nt.trackLen,Lt=nt.theme,Ht=Lt===void 0?{default:{}}:Lt,qt=Ht.default,ge=qt.lineCap,q=qt.trackColor,Q=qt.size,$=this.get("isHorizontal")?{x1:0+Q/2,y1:Q/2,x2:vt-Q/2,y2:Q/2,lineWidth:Q,stroke:q,lineCap:ge}:{x1:Q/2,y1:0+Q/2,x2:Q/2,y2:vt-Q/2,lineWidth:Q,stroke:q,lineCap:ge};return this.addShape(z,{id:this.getElementId("track"),name:"track",type:"line",attrs:$})},wt.prototype.renderThumbShape=function(z){var nt=this.cfg,vt=nt.thumbOffset,Lt=nt.thumbLen,Ht=nt.theme,qt=Ht===void 0?{default:{}}:Ht,ge=qt.default,q=ge.size,Q=ge.lineCap,$=ge.thumbColor,ot=this.get("isHorizontal")?{x1:vt+q/2,y1:q/2,x2:vt+Lt-q/2,y2:q/2,lineWidth:q,stroke:$,lineCap:Q,cursor:"default"}:{x1:q/2,y1:vt+q/2,x2:q/2,y2:vt+Lt-q/2,lineWidth:q,stroke:$,lineCap:Q,cursor:"default"};return this.addShape(z,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:ot})},wt.prototype.bindEvents=function(){var z=this.get("group");z.on("mousedown",this.onStartEvent(!1)),z.on("mouseup",this.onMouseUp),z.on("touchstart",this.onStartEvent(!0)),z.on("touchend",this.onMouseUp);var nt=z.findById(this.getElementId("track"));nt.on("click",this.onTrackClick);var vt=z.findById(this.getElementId("thumb"));vt.on("mouseover",this.onThumbMouseOver),vt.on("mouseout",this.onThumbMouseOut)},wt.prototype.getContainerDOM=function(){var z=this.get("container"),nt=z&&z.get("canvas");return nt&&nt.get("container")},wt.prototype.validateRange=function(z){var nt=this.cfg,vt=nt.thumbLen,Lt=nt.trackLen,Ht=z;return z+vt>Lt?Ht=Lt-vt:z+vt<vt&&(Ht=0),Ht},wt.prototype.draw=function(){var z=this.get("container"),nt=z&&z.get("canvas");nt&&nt.draw()},wt.prototype.updateThumbOffset=function(z){var nt=this.cfg,vt=nt.thumbOffset,Lt=nt.isHorizontal,Ht=nt.thumbLen,qt=nt.size,ge=this.validateRange(z);if(ge!==vt){var q=this.getElementByLocalId("thumb");Lt?q.attr({x1:ge+qt/2,x2:ge+Ht-qt/2}):q.attr({y1:ge+qt/2,y2:ge+Ht-qt/2}),this.emitOffsetChange(ge)}},wt.prototype.emitOffsetChange=function(z){var nt=this.cfg,vt=nt.thumbOffset,Lt=nt.trackLen,Ht=nt.thumbLen;this.cfg.thumbOffset=z,this.emit("scrollchange",{thumbOffset:z,ratio:(0,g.clamp)(z/(Lt-Ht),0,1)}),this.delegateEmit("valuechange",{originalValue:vt,value:z})},wt}(st)},15110:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(62117),O=d(89790),I=d(49242),_={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},T=function(A){b.__extends(C,A);function C(E){var p=A.call(this,E)||this;return p.initCfg(),p}return C.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},C.prototype.clear=function(){},C.prototype.update=function(E){var p=this,w=this.get("defaultCfg");I.each(E,function(y,m){var g=p.get(m),M=y;g!==y&&(I.isObject(y)&&w[m]&&(M=I.deepMix({},w[m],y)),p.set(m,M))}),this.updateInner(E),this.afterUpdate(E)},C.prototype.updateInner=function(E){},C.prototype.afterUpdate=function(E){I.hasKey(E,"visible")&&(E.visible?this.show():this.hide()),I.hasKey(E,"capture")&&this.setCapture(E.capture)},C.prototype.getLayoutBBox=function(){return this.getBBox()},C.prototype.getLocationType=function(){return this.get("locationType")},C.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},C.prototype.setOffset=function(E,p){this.update({offsetX:E,offsetY:p})},C.prototype.setLocation=function(E){var p=b.__assign({},E);this.update(p)},C.prototype.getLocation=function(){var E=this,p={},w=this.get("locationType"),y=_[w];return I.each(y,function(m){p[m]=E.get(m)}),p},C.prototype.isList=function(){return!1},C.prototype.isSlider=function(){return!1},C.prototype.init=function(){},C.prototype.initCfg=function(){var E=this,p=this.get("defaultCfg");I.each(p,function(w,y){var m=E.get(y);if(I.isObject(m)){var g=I.deepMix({},w,m);E.set(y,g)}})},C}(O.Base);S.default=T},51964:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(62117),O=d(80478),I=d(49242),_=d(11594),T=d(15110),A=function(C){b.__extends(E,C);function E(){return C!==null&&C.apply(this,arguments)||this}return E.prototype.getDefaultCfg=function(){var p=C.prototype.getDefaultCfg.call(this);return b.__assign(b.__assign({},p),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},E.prototype.getContainer=function(){return this.get("container")},E.prototype.show=function(){var p=this.get("container");p.style.display="",this.set("visible",!0)},E.prototype.hide=function(){var p=this.get("container");p.style.display="none",this.set("visible",!1)},E.prototype.setCapture=function(p){var w=this.getContainer(),y=p?"auto":"none";w.style.pointerEvents=y,this.set("capture",p)},E.prototype.getBBox=function(){var p=this.getContainer(),w=parseFloat(p.style.left)||0,y=parseFloat(p.style.top)||0;return _.createBBox(w,y,p.clientWidth,p.clientHeight)},E.prototype.clear=function(){var p=this.get("container");_.clearDom(p)},E.prototype.destroy=function(){this.removeEvent(),this.removeDom(),C.prototype.destroy.call(this)},E.prototype.init=function(){C.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},E.prototype.initCapture=function(){this.setCapture(this.get("capture"))},E.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},E.prototype.initDom=function(){},E.prototype.initContainer=function(){var p=this.get("container");if(I.isNil(p)){p=this.createDom();var w=this.get("parent");I.isString(w)&&(w=document.getElementById(w),this.set("parent",w)),w.appendChild(p),this.set("container",p)}else I.isString(p)&&(p=document.getElementById(p),this.set("container",p));this.get("parent")||this.set("parent",p.parentNode)},E.prototype.resetStyles=function(){var p=this.get("domStyles"),w=this.get("defaultStyles");p?p=I.deepMix({},w,p):p=w,this.set("domStyles",p)},E.prototype.applyStyles=function(){var p=this.get("domStyles");if(!!p){var w=this.getContainer();this.applyChildrenStyles(w,p);var y=this.get("containerClassName");if(y&&_.hasClass(w,y)){var m=p[y];O.modifyCSS(w,m)}}},E.prototype.applyChildrenStyles=function(p,w){I.each(w,function(y,m){var g=p.getElementsByClassName(m);I.each(g,function(M){O.modifyCSS(M,y)})})},E.prototype.applyStyle=function(p,w){var y=this.get("domStyles");O.modifyCSS(w,y[p])},E.prototype.createDom=function(){var p=this.get("containerTpl");return O.createDom(p)},E.prototype.initEvent=function(){},E.prototype.removeDom=function(){var p=this.get("container");p&&p.parentNode.removeChild(p)},E.prototype.removeEvent=function(){},E.prototype.updateInner=function(p){I.hasKey(p,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},E.prototype.resetPosition=function(){},E}(T.default);S.default=A},7755:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CROSSHAIR_Y=S.CROSSHAIR_X=S.NAME_CLASS=S.VALUE_CLASS=S.MARKER_CLASS=S.LIST_ITEM_CLASS=S.LIST_CLASS=S.TITLE_CLASS=S.CONTAINER_CLASS=void 0,S.CONTAINER_CLASS="g2-tooltip",S.TITLE_CLASS="g2-tooltip-title",S.LIST_CLASS="g2-tooltip-list",S.LIST_ITEM_CLASS="g2-tooltip-list-item",S.MARKER_CLASS="g2-tooltip-marker",S.VALUE_CLASS="g2-tooltip-value",S.NAME_CLASS="g2-tooltip-name",S.CROSSHAIR_X="g2-tooltip-crosshair-x",S.CROSSHAIR_Y="g2-tooltip-crosshair-y"},55225:function(dt,S,d){"use strict";var b;Object.defineProperty(S,"__esModule",{value:!0});var O=d(52782),I=d(7755);S.default=(b={},b[""+I.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:O.default.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},b[""+I.TITLE_CLASS]={marginBottom:"4px"},b[""+I.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},b[""+I.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},b[""+I.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},b[""+I.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},b[""+I.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},b[""+I.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},b)},88373:function(dt,S,d){"use strict";var b;b={value:!0};var O=d(62117),I=d(55223),_=d(80478),T=d(49242),A=d(51964),C=d(11594),E=d(7755),p=d(55225),w=d(51227);function y(g,M){var L=!1;return T.each(M,function(B){if(T.hasKey(g,B))return L=!0,!1}),L}var m=function(g){O.__extends(M,g);function M(){return g!==null&&g.apply(this,arguments)||this}return M.prototype.getDefaultCfg=function(){var L=g.prototype.getDefaultCfg.call(this);return O.__assign(O.__assign({},L),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+E.CONTAINER_CLASS+'"><div class="'+E.TITLE_CLASS+'"></div><ul class="'+E.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+E.LIST_ITEM_CLASS+`" data-index={index}>
          <span class="`+E.MARKER_CLASS+`" style="background:{color}"></span>
          <span class="`+E.NAME_CLASS+`">{name}</span>:
          <span class="`+E.VALUE_CLASS+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+E.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+E.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:E.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:p.default})},M.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},M.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},M.prototype.show=function(){var L=this.getContainer();!L||this.destroyed||(this.set("visible",!0),_.modifyCSS(L,{visibility:"visible"}),this.setCrossHairsVisible(!0))},M.prototype.hide=function(){var L=this.getContainer();!L||this.destroyed||(this.set("visible",!1),_.modifyCSS(L,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},M.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},M.prototype.setLocation=function(L){this.set("x",L.x),this.set("y",L.y),this.resetPosition()},M.prototype.setCrossHairsVisible=function(L){var B=L?"":"none",N=this.get("xCrosshairDom"),j=this.get("yCrosshairDom");N&&_.modifyCSS(N,{display:B}),j&&_.modifyCSS(j,{display:B})},M.prototype.initContainer=function(){if(g.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var L=this.getHtmlContentNode();this.get("parent").appendChild(L),this.set("container",L),this.resetStyles(),this.applyStyles()}},M.prototype.updateInner=function(L){this.get("customContent")?this.renderCustomContent():(y(L,["title","showTitle"])&&this.resetTitle(),T.hasKey(L,"items")&&this.renderItems()),g.prototype.updateInner.call(this,L)},M.prototype.initDom=function(){this.cacheDoms()},M.prototype.removeDom=function(){g.prototype.removeDom.call(this),this.clearCrosshairs()},M.prototype.resetPosition=function(){var L=this.get("x"),B=this.get("y"),N=this.get("offset"),j=this.getOffset(),tt=j.offsetX,H=j.offsetY,J=this.get("position"),ct=this.get("region"),ut=this.getContainer(),At=this.getBBox(),St=At.width,Yt=At.height,Tt;ct&&(Tt=C.regionToBBox(ct));var Dt=w.getAlignPoint(L,B,N,St,Yt,J,Tt);_.modifyCSS(ut,{left:C.toPx(Dt.x+tt),top:C.toPx(Dt.y+H)}),this.resetCrosshairs()},M.prototype.renderCustomContent=function(){var L=this.getHtmlContentNode(),B=this.get("parent"),N=this.get("container");N&&N.parentNode===B?B.replaceChild(L,N):B.appendChild(L),this.set("container",L),this.resetStyles(),this.applyStyles()},M.prototype.getHtmlContentNode=function(){var L,B=this.get("customContent");if(B){var N=B(this.get("title"),this.get("items"));T.isElement(N)?L=N:L=_.createDom(N)}return L},M.prototype.cacheDoms=function(){var L=this.getContainer(),B=L.getElementsByClassName(E.TITLE_CLASS)[0],N=L.getElementsByClassName(E.LIST_CLASS)[0];this.set("titleDom",B),this.set("listDom",N)},M.prototype.resetTitle=function(){var L=this.get("title"),B=this.get("showTitle");B&&L?this.setTitle(L):this.setTitle("")},M.prototype.setTitle=function(L){var B=this.get("titleDom");B&&(B.innerText=L)},M.prototype.resetCrosshairs=function(){var L=this.get("crosshairsRegion"),B=this.get("crosshairs");if(!L||!B)this.clearCrosshairs();else{var N=C.regionToBBox(L),j=this.get("xCrosshairDom"),tt=this.get("yCrosshairDom");B==="x"?(this.resetCrosshair("x",N),tt&&(tt.remove(),this.set("yCrosshairDom",null))):B==="y"?(this.resetCrosshair("y",N),j&&(j.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",N),this.resetCrosshair("y",N)),this.setCrossHairsVisible(this.get("visible"))}},M.prototype.resetCrosshair=function(L,B){var N=this.checkCrosshair(L),j=this.get(L);L==="x"?_.modifyCSS(N,{left:C.toPx(j),top:C.toPx(B.y),height:C.toPx(B.height)}):_.modifyCSS(N,{top:C.toPx(j),left:C.toPx(B.x),width:C.toPx(B.width)})},M.prototype.checkCrosshair=function(L){var B=L+"CrosshairDom",N=L+"CrosshairTpl",j="CROSSHAIR_"+L.toUpperCase(),tt=E[j],H=this.get(B),J=this.get("parent");return H||(H=_.createDom(this.get(N)),this.applyStyle(tt,H),J.appendChild(H),this.set(B,H)),H},M.prototype.renderItems=function(){this.clearItemDoms();var L=this.get("items"),B=this.get("itemTpl"),N=this.get("listDom");N&&(T.each(L,function(j){var tt=I.default.toCSSGradient(j.color),H=O.__assign(O.__assign({},j),{color:tt}),J=T.substitute(B,H),ct=_.createDom(J);N.appendChild(ct)}),this.applyChildrenStyles(N,this.get("domStyles")))},M.prototype.clearItemDoms=function(){this.get("listDom")&&C.clearDom(this.get("listDom"))},M.prototype.clearCrosshairs=function(){var L=this.get("xCrosshairDom"),B=this.get("yCrosshairDom");L&&L.remove(),B&&B.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},M}(A.default);S.Z=m},51227:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getAlignPoint=S.getPointByPosition=S.getOutSides=void 0;function d(I,_,T,A,C){var E={left:I<C.x,right:I+T>C.x+C.width,top:_<C.y,bottom:_+A>C.y+C.height};return E}S.getOutSides=d;function b(I,_,T,A,C,E){var p=I,w=_;switch(E){case"left":p=I-A-T,w=_-C/2;break;case"right":p=I+T,w=_-C/2;break;case"top":p=I-A/2,w=_-C-T;break;case"bottom":p=I-A/2,w=_+T;break;default:p=I+T,w=_-C-T;break}return{x:p,y:w}}S.getPointByPosition=b;function O(I,_,T,A,C,E,p){var w=b(I,_,T,A,C,E);if(p){var y=d(w.x,w.y,A,C,p);E==="auto"?(y.right&&(w.x=Math.max(0,I-A-T)),y.top&&(w.y=Math.max(0,_-C-T))):E==="top"||E==="bottom"?(y.left&&(w.x=p.x),y.right&&(w.x=p.x+p.width-A),E==="top"&&y.top&&(w.y=_+T),E==="bottom"&&y.bottom&&(w.y=_-C-T)):(y.top&&(w.y=p.y),y.bottom&&(w.y=p.y+p.height-C),E==="left"&&y.left&&(w.x=I+T),E==="right"&&y.right&&(w.x=I-A-T))}return w}S.getAlignPoint=O},31207:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.propagationDelegate=void 0;var b=d(66192);function O(I,_,T){var A=new b.default(_,T);A.target=I,A.propagationPath.push(I),I.emitDelegation(_,A);for(var C=I.getParent();C;)C.emitDelegation(_,A),A.propagationPath.push(C),C=C.getParent()}S.propagationDelegate=O},52782:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},11594:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getTextPoint=S.toPx=S.updateClip=S.getBBoxWithClip=S.mergeBBox=S.intersectBBox=S.near=S.wait=S.distance=S.getCirclePoint=S.getValueByPercent=S.createBBox=S.pointsToBBox=S.regionToBBox=S.hasClass=S.clearDom=S.formatPadding=void 0;var b=d(49242);function O(N){var j=0,tt=0,H=0,J=0;return b.isNumber(N)?j=tt=H=J=N:b.isArray(N)&&(j=N[0],H=b.isNil(N[1])?N[0]:N[1],J=b.isNil(N[2])?N[0]:N[2],tt=b.isNil(N[3])?H:N[3]),[j,H,J,tt]}S.formatPadding=O;function I(N){for(var j=N.childNodes,tt=j.length,H=tt-1;H>=0;H--)N.removeChild(j[H])}S.clearDom=I;function _(N,j){return!!N.className.match(new RegExp("(\\s|^)"+j+"(\\s|$)"))}S.hasClass=_;function T(N){var j=N.start,tt=N.end,H=Math.min(j.x,tt.x),J=Math.min(j.y,tt.y),ct=Math.max(j.x,tt.x),ut=Math.max(j.y,tt.y);return{x:H,y:J,minX:H,minY:J,maxX:ct,maxY:ut,width:ct-H,height:ut-J}}S.regionToBBox=T;function A(N){var j=N.map(function(At){return At.x}),tt=N.map(function(At){return At.y}),H=Math.min.apply(Math,j),J=Math.min.apply(Math,tt),ct=Math.max.apply(Math,j),ut=Math.max.apply(Math,tt);return{x:H,y:J,minX:H,minY:J,maxX:ct,maxY:ut,width:ct-H,height:ut-J}}S.pointsToBBox=A;function C(N,j,tt,H){return{x:N,y:j,width:tt,height:H,minX:N,minY:j,maxX:N+tt,maxY:j+H}}S.createBBox=C;function E(N,j,tt){return(1-tt)*N+j*tt}S.getValueByPercent=E;function p(N,j,tt){return{x:N.x+Math.cos(tt)*j,y:N.y+Math.sin(tt)*j}}S.getCirclePoint=p;function w(N,j){var tt=j.x-N.x,H=j.y-N.y;return Math.sqrt(tt*tt+H*H)}S.distance=w,S.wait=function(N){return new Promise(function(j){setTimeout(j,N)})},S.near=function(N,j){return[N,j].includes(Infinity)?Math.abs(N)===Math.abs(j):Math.abs(N-j)<Math.pow(Number.EPSILON,.5)};function y(N,j){var tt=Math.max(N.minX,j.minX),H=Math.max(N.minY,j.minY),J=Math.min(N.maxX,j.maxX),ct=Math.min(N.maxY,j.maxY);return C(tt,H,J-tt,ct-H)}S.intersectBBox=y;function m(N,j){var tt=Math.min(N.minX,j.minX),H=Math.min(N.minY,j.minY),J=Math.max(N.maxX,j.maxX),ct=Math.max(N.maxY,j.maxY);return C(tt,H,J-tt,ct-H)}S.mergeBBox=m;function g(N){var j=N.getClip(),tt=j&&j.getBBox(),H;if(!N.isGroup())H=N.getBBox();else{var J=Infinity,ct=-Infinity,ut=Infinity,At=-Infinity,St=N.getChildren();St.length>0?b.each(St,function(Yt){if(Yt.get("visible")){if(Yt.isGroup()&&Yt.get("children").length===0)return!0;var Tt=g(Yt),Dt=Yt.applyToMatrix([Tt.minX,Tt.minY,1]),Bt=Yt.applyToMatrix([Tt.minX,Tt.maxY,1]),Et=Yt.applyToMatrix([Tt.maxX,Tt.minY,1]),zt=Yt.applyToMatrix([Tt.maxX,Tt.maxY,1]),jt=Math.min(Dt[0],Bt[0],Et[0],zt[0]),Mt=Math.max(Dt[0],Bt[0],Et[0],zt[0]),pt=Math.min(Dt[1],Bt[1],Et[1],zt[1]),k=Math.max(Dt[1],Bt[1],Et[1],zt[1]);jt<J&&(J=jt),Mt>ct&&(ct=Mt),pt<ut&&(ut=pt),k>At&&(At=k)}}):(J=0,ct=0,ut=0,At=0),H=C(J,ut,ct-J,At-ut)}return tt?y(H,tt):H}S.getBBoxWithClip=g;function M(N,j){if(!(!N.getClip()&&!j.getClip())){var tt=j.getClip();if(!tt){N.setClip(null);return}var H={type:tt.get("type"),attrs:tt.attr()};N.setClip(H)}}S.updateClip=M;function L(N){return N+"px"}S.toPx=L;function B(N,j,tt,H){var J=w(N,j),ct=H/J,ut=0;return tt==="start"?ut=0-ct:tt==="end"&&(ut=1+ct),{x:E(N.x,j.x,ut),y:E(N.y,j.y,ut)}}S.getTextPoint=B},13541:function(dt,S,d){"use strict";d.r(S),d.d(S,{Coordinate:function(){return C},getCoordinate:function(){return B},registerCoordinate:function(){return N}});var b=d(65353),O=d(77160),I=d(35600),_=d(31506),T=d(49242),A=function(){function j(tt){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var H=tt.start,J=tt.end,ct=tt.matrix,ut=ct===void 0?[1,0,0,0,1,0,0,0,1]:ct,At=tt.isTransposed,St=At===void 0?!1:At;this.start=H,this.end=J,this.matrix=ut,this.originalMatrix=(0,b.__spreadArray)([],ut),this.isTransposed=St}return j.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},j.prototype.update=function(tt){(0,T.assign)(this,tt),this.initial()},j.prototype.convertDim=function(tt,H){var J,ct=this[H],ut=ct.start,At=ct.end;return this.isReflect(H)&&(J=[At,ut],ut=J[0],At=J[1]),ut+tt*(At-ut)},j.prototype.invertDim=function(tt,H){var J,ct=this[H],ut=ct.start,At=ct.end;return this.isReflect(H)&&(J=[At,ut],ut=J[0],At=J[1]),(tt-ut)/(At-ut)},j.prototype.applyMatrix=function(tt,H,J){J===void 0&&(J=0);var ct=this.matrix,ut=[tt,H,J];return O.transformMat3(ut,ut,ct),ut},j.prototype.invertMatrix=function(tt,H,J){J===void 0&&(J=0);var ct=this.matrix,ut=I.invert([0,0,0,0,0,0,0,0,0],ct),At=[tt,H,J];return ut&&O.transformMat3(At,At,ut),At},j.prototype.convert=function(tt){var H=this.convertPoint(tt),J=H.x,ct=H.y,ut=this.applyMatrix(J,ct,1);return{x:ut[0],y:ut[1]}},j.prototype.invert=function(tt){var H=this.invertMatrix(tt.x,tt.y,1);return this.invertPoint({x:H[0],y:H[1]})},j.prototype.rotate=function(tt){var H=this.matrix,J=this.center;return _.leftTranslate(H,H,[-J.x,-J.y]),_.leftRotate(H,H,tt),_.leftTranslate(H,H,[J.x,J.y]),this},j.prototype.reflect=function(tt){return tt==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},j.prototype.scale=function(tt,H){var J=this.matrix,ct=this.center;return _.leftTranslate(J,J,[-ct.x,-ct.y]),_.leftScale(J,J,[tt,H]),_.leftTranslate(J,J,[ct.x,ct.y]),this},j.prototype.translate=function(tt,H){var J=this.matrix;return _.leftTranslate(J,J,[tt,H]),this},j.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},j.prototype.getCenter=function(){return this.center},j.prototype.getWidth=function(){return this.width},j.prototype.getHeight=function(){return this.height},j.prototype.getRadius=function(){return this.radius},j.prototype.isReflect=function(tt){return tt==="x"?this.isReflectX:this.isReflectY},j.prototype.resetMatrix=function(tt){this.matrix=tt||(0,b.__spreadArray)([],this.originalMatrix)},j}(),C=A,E=function(j){(0,b.__extends)(tt,j);function tt(H){var J=j.call(this,H)||this;return J.isRect=!0,J.type="cartesian",J.initial(),J}return tt.prototype.initial=function(){j.prototype.initial.call(this);var H=this.start,J=this.end;this.x={start:H.x,end:J.x},this.y={start:H.y,end:J.y}},tt.prototype.convertPoint=function(H){var J,ct=H.x,ut=H.y;return this.isTransposed&&(J=[ut,ct],ct=J[0],ut=J[1]),{x:this.convertDim(ct,"x"),y:this.convertDim(ut,"y")}},tt.prototype.invertPoint=function(H){var J,ct=this.invertDim(H.x,"x"),ut=this.invertDim(H.y,"y");return this.isTransposed&&(J=[ut,ct],ct=J[0],ut=J[1]),{x:ct,y:ut}},tt}(C),p=E,w=d(31437),y=function(j){(0,b.__extends)(tt,j);function tt(H){var J=j.call(this,H)||this;J.isHelix=!0,J.type="helix";var ct=H.startAngle,ut=ct===void 0?1.25*Math.PI:ct,At=H.endAngle,St=At===void 0?7.25*Math.PI:At,Yt=H.innerRadius,Tt=Yt===void 0?0:Yt,Dt=H.radius;return J.startAngle=ut,J.endAngle=St,J.innerRadius=Tt,J.radius=Dt,J.initial(),J}return tt.prototype.initial=function(){j.prototype.initial.call(this);var H=(this.endAngle-this.startAngle)/(2*Math.PI)+1,J=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(J=J*this.radius),this.d=Math.floor(J*(1-this.innerRadius)/H),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*J,end:this.innerRadius*J+this.d*.99}},tt.prototype.convertPoint=function(H){var J,ct=H.x,ut=H.y;this.isTransposed&&(J=[ut,ct],ct=J[0],ut=J[1]);var At=this.convertDim(ct,"x"),St=this.a*At,Yt=this.convertDim(ut,"y");return{x:this.center.x+Math.cos(At)*(St+Yt),y:this.center.y+Math.sin(At)*(St+Yt)}},tt.prototype.invertPoint=function(H){var J,ct=this.d+this.y.start,ut=w.subtract([0,0],[H.x,H.y],[this.center.x,this.center.y]),At=_.angleTo(ut,[1,0],!0),St=At*this.a;w.length(ut)<St&&(St=w.length(ut));var Yt=Math.floor((w.length(ut)-St)/ct);At=2*Yt*Math.PI+At;var Tt=this.a*At,Dt=w.length(ut)-Tt;Dt=(0,T.isNumberEqual)(Dt,0)?0:Dt;var Bt=this.invertDim(At,"x"),Et=this.invertDim(Dt,"y");return Bt=(0,T.isNumberEqual)(Bt,0)?0:Bt,Et=(0,T.isNumberEqual)(Et,0)?0:Et,this.isTransposed&&(J=[Et,Bt],Bt=J[0],Et=J[1]),{x:Bt,y:Et}},tt}(C),m=y,g=function(j){(0,b.__extends)(tt,j);function tt(H){var J=j.call(this,H)||this;J.isPolar=!0,J.type="polar";var ct=H.startAngle,ut=ct===void 0?-Math.PI/2:ct,At=H.endAngle,St=At===void 0?Math.PI*3/2:At,Yt=H.innerRadius,Tt=Yt===void 0?0:Yt,Dt=H.radius;return J.startAngle=ut,J.endAngle=St,J.innerRadius=Tt,J.radius=Dt,J.initial(),J}return tt.prototype.initial=function(){for(j.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var H=this.getOneBox(),J=H.maxX-H.minX,ct=H.maxY-H.minY,ut=Math.abs(H.minX)/J,At=Math.abs(H.minY)/ct,St;this.height/ct>this.width/J?(St=this.width/J,this.circleCenter={x:this.center.x-(.5-ut)*this.width,y:this.center.y-(.5-At)*St*ct}):(St=this.height/ct,this.circleCenter={x:this.center.x-(.5-ut)*St*J,y:this.center.y-(.5-At)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=St*this.radius:(this.radius<=0||this.radius>St)&&(this.polarRadius=St):this.polarRadius=St,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},tt.prototype.getRadius=function(){return this.polarRadius},tt.prototype.convertPoint=function(H){var J,ct=this.getCenter(),ut=H.x,At=H.y;return this.isTransposed&&(J=[At,ut],ut=J[0],At=J[1]),ut=this.convertDim(ut,"x"),At=this.convertDim(At,"y"),{x:ct.x+Math.cos(ut)*At,y:ct.y+Math.sin(ut)*At}},tt.prototype.invertPoint=function(H){var J,ct=this.getCenter(),ut=[H.x-ct.x,H.y-ct.y],At=this,St=At.startAngle,Yt=At.endAngle;this.isReflect("x")&&(J=[Yt,St],St=J[0],Yt=J[1]);var Tt=[1,0,0,0,1,0,0,0,1];_.leftRotate(Tt,Tt,St);var Dt=[1,0,0];O.transformMat3(Dt,Dt,Tt);var Bt=[Dt[0],Dt[1]],Et=_.angleTo(Bt,ut,Yt<St);(0,T.isNumberEqual)(Et,Math.PI*2)&&(Et=0);var zt=w.length(ut),jt=Et/(Yt-St);jt=Yt-St>0?jt:-jt;var Mt=this.invertDim(zt,"y"),pt={x:0,y:0};return pt.x=this.isTransposed?Mt:jt,pt.y=this.isTransposed?jt:Mt,pt},tt.prototype.getCenter=function(){return this.circleCenter},tt.prototype.getOneBox=function(){var H=this.startAngle,J=this.endAngle;if(Math.abs(J-H)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var ct=[0,Math.cos(H),Math.cos(J)],ut=[0,Math.sin(H),Math.sin(J)],At=Math.min(H,J);At<Math.max(H,J);At+=Math.PI/18)ct.push(Math.cos(At)),ut.push(Math.sin(At));return{minX:Math.min.apply(Math,ct),maxX:Math.max.apply(Math,ct),minY:Math.min.apply(Math,ut),maxY:Math.max.apply(Math,ut)}},tt}(C),M=g,L={},B=function(j){return L[j.toLowerCase()]},N=function(j,tt){L[j.toLowerCase()]=tt};N("rect",p),N("cartesian",p),N("polar",M),N("helix",m)},57817:function(dt,S,d){"use strict";d.d(S,{Z:function(){return b}});function b(O,I,_){if(O){if(typeof O.addEventListener=="function")return O.addEventListener(I,_,!1),{remove:function(){O.removeEventListener(I,_,!1)}};if(typeof O.attachEvent=="function")return O.attachEvent("on"+I,_),{remove:function(){O.detachEvent("on"+I,_)}}}}},6056:function(dt,S,d){"use strict";d.d(S,{Z:function(){return A}});var b,O,I,_;function T(){b=document.createElement("table"),O=document.createElement("tr"),I=/^\s*<(\w+|!)[^>]*>/,_={tr:document.createElement("tbody"),tbody:b,thead:b,tfoot:b,td:O,th:O,"*":document.createElement("div")}}function A(C){b||T();var E=I.test(C)&&RegExp.$1;(!E||!(E in _))&&(E="*");var p=_[E];C=typeof C=="string"?C.replace(/(^\s*)|(\s*$)/g,""):C,p.innerHTML=""+C;var w=p.childNodes[0];return w&&p.contains(w)&&p.removeChild(w),w}},10430:function(dt,S,d){"use strict";d.d(S,{Z:function(){return O}});var b=d(99911);function O(I,_){var T=(0,b.Z)(I,"height",_);return T==="auto"&&(T=I.offsetHeight),parseFloat(T)}},79189:function(dt,S,d){"use strict";d.d(S,{Z:function(){return I}});var b=d(99911),O=d(10430);function I(_,T){var A=(0,O.Z)(_,T),C=parseFloat((0,b.Z)(_,"borderTopWidth"))||0,E=parseFloat((0,b.Z)(_,"paddingTop"))||0,p=parseFloat((0,b.Z)(_,"paddingBottom"))||0,w=parseFloat((0,b.Z)(_,"borderBottomWidth"))||0,y=parseFloat((0,b.Z)(_,"marginTop"))||0,m=parseFloat((0,b.Z)(_,"marginBottom"))||0;return A+C+w+E+p+y+m}},89810:function(dt,S,d){"use strict";d.d(S,{Z:function(){return I}});var b=d(99911),O=d(23408);function I(_,T){var A=(0,O.Z)(_,T),C=parseFloat((0,b.Z)(_,"borderLeftWidth"))||0,E=parseFloat((0,b.Z)(_,"paddingLeft"))||0,p=parseFloat((0,b.Z)(_,"paddingRight"))||0,w=parseFloat((0,b.Z)(_,"borderRightWidth"))||0,y=parseFloat((0,b.Z)(_,"marginRight"))||0,m=parseFloat((0,b.Z)(_,"marginLeft"))||0;return A+C+w+E+p+m+y}},99911:function(dt,S,d){"use strict";d.d(S,{Z:function(){return b}});function b(O,I,_){var T;try{T=window.getComputedStyle?window.getComputedStyle(O,null)[I]:O.style[I]}catch(A){}finally{T=T===void 0?_:T}return T}},23408:function(dt,S,d){"use strict";d.d(S,{Z:function(){return O}});var b=d(99911);function O(I,_){var T=(0,b.Z)(I,"width",_);return T==="auto"&&(T=I.offsetWidth),parseFloat(T)}},80478:function(dt,S,d){"use strict";d.r(S),d.d(S,{addEventListener:function(){return b.Z},createDom:function(){return O.Z},getHeight:function(){return I.Z},getOuterHeight:function(){return _.Z},getOuterWidth:function(){return T.Z},getRatio:function(){return A},getStyle:function(){return C.Z},getWidth:function(){return E.Z},modifyCSS:function(){return p.Z}});var b=d(57817),O=d(6056),I=d(10430),_=d(79189),T=d(89810);function A(){return window.devicePixelRatio?window.devicePixelRatio:2}var C=d(99911),E=d(23408),p=d(45442)},45442:function(dt,S,d){"use strict";d.d(S,{Z:function(){return b}});function b(O,I){if(O)for(var _ in I)I.hasOwnProperty(_)&&(O.style[_]=I[_]);return O}},73136:function(dt,S){"use strict";var d;d={value:!0};function b(O,I,_){if(O){if(typeof O.addEventListener=="function")return O.addEventListener(I,_,!1),{remove:function(){O.removeEventListener(I,_,!1)}};if(typeof O.attachEvent=="function")return O.attachEvent("on"+I,_),{remove:function(){O.detachEvent("on"+I,_)}}}}S.Z=b},57821:function(dt,S){"use strict";var d;d={value:!0};var b,O,I,_;function T(){b=document.createElement("table"),O=document.createElement("tr"),I=/^\s*<(\w+|!)[^>]*>/,_={tr:document.createElement("tbody"),tbody:b,thead:b,tfoot:b,td:O,th:O,"*":document.createElement("div")}}function A(C){b||T();var E=I.test(C)&&RegExp.$1;(!E||!(E in _))&&(E="*");var p=_[E];C=typeof C=="string"?C.replace(/(^\s*)|(\s*$)/g,""):C,p.innerHTML=""+C;var w=p.childNodes[0];return w&&p.contains(w)&&p.removeChild(w),w}S.Z=A},1513:function(dt,S){"use strict";var d;d={value:!0};function b(O,I){if(O)for(var _ in I)I.hasOwnProperty(_)&&(O.style[_]=I[_]);return O}S.Z=b},90494:function(dt,S,d){"use strict";d.r(S);var b="*",O=function(){function I(){this._events={}}return I.prototype.on=function(_,T,A){return this._events[_]||(this._events[_]=[]),this._events[_].push({callback:T,once:!!A}),this},I.prototype.once=function(_,T){return this.on(_,T,!0)},I.prototype.emit=function(_){for(var T=this,A=[],C=1;C<arguments.length;C++)A[C-1]=arguments[C];var E=this._events[_]||[],p=this._events[b]||[],w=function(y){for(var m=y.length,g=0;g<m;g++)if(!!y[g]){var M=y[g],L=M.callback,B=M.once;B&&(y.splice(g,1),y.length===0&&delete T._events[_],m--,g--),L.apply(T,A)}};w(E),w(p)},I.prototype.off=function(_,T){if(!_)this._events={};else if(!T)delete this._events[_];else{for(var A=this._events[_]||[],C=A.length,E=0;E<C;E++)A[E].callback===T&&(A.splice(E,1),C--,E--);A.length===0&&delete this._events[_]}return this},I.prototype.getEvents=function(){return this._events},I}();S.default=O},89790:function(dt,S,d){"use strict";d.r(S),d.d(S,{AbstractCanvas:function(){return z},AbstractGroup:function(){return vt},AbstractShape:function(){return Ht},Base:function(){return Xe},Event:function(){return et},PathUtil:function(){return b},version:function(){return ge}});var b={};d.r(b),d.d(b,{catmullRomToBezier:function(){return C},fillPath:function(){return jt},fillPathByDiff:function(){return u},formatPath:function(){return V},intersection:function(){return Dt},parsePathArray:function(){return L},parsePathString:function(){return A},pathToAbsolute:function(){return p},pathToCurve:function(){return g},rectPath:function(){return J}});var O=d(49242),I=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,_=new RegExp("([a-z])["+I+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+I+"]*,?["+I+"]*)+)","ig"),T=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+I+"]*,?["+I+"]*","ig"),A=function(q){if(!q)return null;if((0,O.isArray)(q))return q;var Q={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},$=[];return String(q).replace(_,function(ot,_t,Xt){var ae=[],oe=_t.toLowerCase();if(Xt.replace(T,function(ye,ze){ze&&ae.push(+ze)}),oe==="m"&&ae.length>2&&($.push([_t].concat(ae.splice(0,2))),oe="l",_t=_t==="m"?"l":"L"),oe==="o"&&ae.length===1&&$.push([_t,ae[0]]),oe==="r")$.push([_t].concat(ae));else for(;ae.length>=Q[oe]&&($.push([_t].concat(ae.splice(0,Q[oe]))),!!Q[oe]););return q}),$},C=function(q,Q){for(var $=[],ot=0,_t=q.length;_t-2*!Q>ot;ot+=2){var Xt=[{x:+q[ot-2],y:+q[ot-1]},{x:+q[ot],y:+q[ot+1]},{x:+q[ot+2],y:+q[ot+3]},{x:+q[ot+4],y:+q[ot+5]}];Q?ot?_t-4===ot?Xt[3]={x:+q[0],y:+q[1]}:_t-2===ot&&(Xt[2]={x:+q[0],y:+q[1]},Xt[3]={x:+q[2],y:+q[3]}):Xt[0]={x:+q[_t-2],y:+q[_t-1]}:_t-4===ot?Xt[3]=Xt[2]:ot||(Xt[0]={x:+q[ot],y:+q[ot+1]}),$.push(["C",(-Xt[0].x+6*Xt[1].x+Xt[2].x)/6,(-Xt[0].y+6*Xt[1].y+Xt[2].y)/6,(Xt[1].x+6*Xt[2].x-Xt[3].x)/6,(Xt[1].y+6*Xt[2].y-Xt[3].y)/6,Xt[2].x,Xt[2].y])}return $},E=function(q,Q,$,ot,_t){var Xt=[];if(_t===null&&ot===null&&(ot=$),q=+q,Q=+Q,$=+$,ot=+ot,_t!==null){var ae=Math.PI/180,oe=q+$*Math.cos(-ot*ae),ye=q+$*Math.cos(-_t*ae),ze=Q+$*Math.sin(-ot*ae),We=Q+$*Math.sin(-_t*ae);Xt=[["M",oe,ze],["A",$,$,0,+(_t-ot>180),0,ye,We]]}else Xt=[["M",q,Q],["m",0,-ot],["a",$,ot,0,1,1,0,2*ot],["a",$,ot,0,1,1,0,-2*ot],["z"]];return Xt},p=function(q){if(q=A(q),!q||!q.length)return[["M",0,0]];var Q=[],$=0,ot=0,_t=0,Xt=0,ae=0,oe,ye;q[0][0]==="M"&&($=+q[0][1],ot=+q[0][2],_t=$,Xt=ot,ae++,Q[0]=["M",$,ot]);for(var ze=q.length===3&&q[0][0]==="M"&&q[1][0].toUpperCase()==="R"&&q[2][0].toUpperCase()==="Z",We=void 0,It=void 0,$t=ae,le=q.length;$t<le;$t++){if(Q.push(We=[]),It=q[$t],oe=It[0],oe!==oe.toUpperCase())switch(We[0]=oe.toUpperCase(),We[0]){case"A":We[1]=It[1],We[2]=It[2],We[3]=It[3],We[4]=It[4],We[5]=It[5],We[6]=+It[6]+$,We[7]=+It[7]+ot;break;case"V":We[1]=+It[1]+ot;break;case"H":We[1]=+It[1]+$;break;case"R":ye=[$,ot].concat(It.slice(1));for(var fe=2,Ie=ye.length;fe<Ie;fe++)ye[fe]=+ye[fe]+$,ye[++fe]=+ye[fe]+ot;Q.pop(),Q=Q.concat(C(ye,ze));break;case"O":Q.pop(),ye=E($,ot,It[1],It[2]),ye.push(ye[0]),Q=Q.concat(ye);break;case"U":Q.pop(),Q=Q.concat(E($,ot,It[1],It[2],It[3])),We=["U"].concat(Q[Q.length-1].slice(-2));break;case"M":_t=+It[1]+$,Xt=+It[2]+ot;break;default:for(var fe=1,Ie=It.length;fe<Ie;fe++)We[fe]=+It[fe]+(fe%2?$:ot)}else if(oe==="R")ye=[$,ot].concat(It.slice(1)),Q.pop(),Q=Q.concat(C(ye,ze)),We=["R"].concat(It.slice(-2));else if(oe==="O")Q.pop(),ye=E($,ot,It[1],It[2]),ye.push(ye[0]),Q=Q.concat(ye);else if(oe==="U")Q.pop(),Q=Q.concat(E($,ot,It[1],It[2],It[3])),We=["U"].concat(Q[Q.length-1].slice(-2));else for(var $e=0,br=It.length;$e<br;$e++)We[$e]=It[$e];if(oe=oe.toUpperCase(),oe!=="O")switch(We[0]){case"Z":$=+_t,ot=+Xt;break;case"H":$=We[1];break;case"V":ot=We[1];break;case"M":_t=We[We.length-2],Xt=We[We.length-1];break;default:$=We[We.length-2],ot=We[We.length-1]}}return Q},w=function(q,Q,$,ot){return[q,Q,$,ot,$,ot]},y=function(q,Q,$,ot,_t,Xt){var ae=1/3,oe=2/3;return[ae*q+oe*$,ae*Q+oe*ot,ae*_t+oe*$,ae*Xt+oe*ot,_t,Xt]},m=function(q,Q,$,ot,_t,Xt,ae,oe,ye,ze){$===ot&&($+=1);var We=Math.PI*120/180,It=Math.PI/180*(+_t||0),$t=[],le,fe,Ie,$e,br,Lr=function(Vs,Hs,oo){var Ru=Vs*Math.cos(oo)-Hs*Math.sin(oo),Nu=Vs*Math.sin(oo)+Hs*Math.cos(oo);return{x:Ru,y:Nu}};if(ze)fe=ze[0],Ie=ze[1],$e=ze[2],br=ze[3];else{le=Lr(q,Q,-It),q=le.x,Q=le.y,le=Lr(oe,ye,-It),oe=le.x,ye=le.y,q===oe&&Q===ye&&(oe+=1,ye+=1);var Tr=(q-oe)/2,gr=(Q-ye)/2,Ur=Tr*Tr/($*$)+gr*gr/(ot*ot);Ur>1&&(Ur=Math.sqrt(Ur),$=Ur*$,ot=Ur*ot);var Yn=$*$,bi=ot*ot,Oa=(Xt===ae?-1:1)*Math.sqrt(Math.abs((Yn*bi-Yn*gr*gr-bi*Tr*Tr)/(Yn*gr*gr+bi*Tr*Tr)));$e=Oa*$*gr/ot+(q+oe)/2,br=Oa*-ot*Tr/$+(Q+ye)/2,fe=Math.asin(((Q-br)/ot).toFixed(9)),Ie=Math.asin(((ye-br)/ot).toFixed(9)),fe=q<$e?Math.PI-fe:fe,Ie=oe<$e?Math.PI-Ie:Ie,fe<0&&(fe=Math.PI*2+fe),Ie<0&&(Ie=Math.PI*2+Ie),ae&&fe>Ie&&(fe=fe-Math.PI*2),!ae&&Ie>fe&&(Ie=Ie-Math.PI*2)}var ia=Ie-fe;if(Math.abs(ia)>We){var ns=Ie,Iu=oe,ku=ye;Ie=fe+We*(ae&&Ie>fe?1:-1),oe=$e+$*Math.cos(Ie),ye=br+ot*Math.sin(Ie),$t=m(oe,ye,$,ot,_t,0,ae,Iu,ku,[Ie,ns,$e,br])}ia=Ie-fe;var ao=Math.cos(fe),Ys=Math.sin(fe),Bu=Math.cos(Ie),Du=Math.sin(Ie),Gs=Math.tan(ia/4),zs=4/3*$*Gs,So=4/3*ot*Gs,is=[q,Q],Ua=[q+zs*Ys,Q-So*ao],Mo=[oe+zs*Du,ye-So*Bu],Jt=[oe,ye];if(Ua[0]=2*is[0]-Ua[0],Ua[1]=2*is[1]-Ua[1],ze)return[Ua,Mo,Jt].concat($t);$t=[Ua,Mo,Jt].concat($t).join().split(",");for(var Xs=[],Fa=0,Fu=$t.length;Fa<Fu;Fa++)Xs[Fa]=Fa%2?Lr($t[Fa-1],$t[Fa],It).y:Lr($t[Fa],$t[Fa+1],It).x;return Xs},g=function(q,Q){var $=p(q),ot=Q&&p(Q),_t={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Xt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ae=[],oe=[],ye="",ze="",We,It=function(Tr,gr,Ur){var Yn,bi;if(!Tr)return["C",gr.x,gr.y,gr.x,gr.y,gr.x,gr.y];switch(!(Tr[0]in{T:1,Q:1})&&(gr.qx=gr.qy=null),Tr[0]){case"M":gr.X=Tr[1],gr.Y=Tr[2];break;case"A":Tr=["C"].concat(m.apply(0,[gr.x,gr.y].concat(Tr.slice(1))));break;case"S":Ur==="C"||Ur==="S"?(Yn=gr.x*2-gr.bx,bi=gr.y*2-gr.by):(Yn=gr.x,bi=gr.y),Tr=["C",Yn,bi].concat(Tr.slice(1));break;case"T":Ur==="Q"||Ur==="T"?(gr.qx=gr.x*2-gr.qx,gr.qy=gr.y*2-gr.qy):(gr.qx=gr.x,gr.qy=gr.y),Tr=["C"].concat(y(gr.x,gr.y,gr.qx,gr.qy,Tr[1],Tr[2]));break;case"Q":gr.qx=Tr[1],gr.qy=Tr[2],Tr=["C"].concat(y(gr.x,gr.y,Tr[1],Tr[2],Tr[3],Tr[4]));break;case"L":Tr=["C"].concat(w(gr.x,gr.y,Tr[1],Tr[2]));break;case"H":Tr=["C"].concat(w(gr.x,gr.y,Tr[1],gr.y));break;case"V":Tr=["C"].concat(w(gr.x,gr.y,gr.x,Tr[1]));break;case"Z":Tr=["C"].concat(w(gr.x,gr.y,gr.X,gr.Y));break;default:break}return Tr},$t=function(Tr,gr){if(Tr[gr].length>7){Tr[gr].shift();for(var Ur=Tr[gr];Ur.length;)ae[gr]="A",ot&&(oe[gr]="A"),Tr.splice(gr++,0,["C"].concat(Ur.splice(0,6)));Tr.splice(gr,1),We=Math.max($.length,ot&&ot.length||0)}},le=function(Tr,gr,Ur,Yn,bi){Tr&&gr&&Tr[bi][0]==="M"&&gr[bi][0]!=="M"&&(gr.splice(bi,0,["M",Yn.x,Yn.y]),Ur.bx=0,Ur.by=0,Ur.x=Tr[bi][1],Ur.y=Tr[bi][2],We=Math.max($.length,ot&&ot.length||0))};We=Math.max($.length,ot&&ot.length||0);for(var fe=0;fe<We;fe++){$[fe]&&(ye=$[fe][0]),ye!=="C"&&(ae[fe]=ye,fe&&(ze=ae[fe-1])),$[fe]=It($[fe],_t,ze),ae[fe]!=="A"&&ye==="C"&&(ae[fe]="C"),$t($,fe),ot&&(ot[fe]&&(ye=ot[fe][0]),ye!=="C"&&(oe[fe]=ye,fe&&(ze=oe[fe-1])),ot[fe]=It(ot[fe],Xt,ze),oe[fe]!=="A"&&ye==="C"&&(oe[fe]="C"),$t(ot,fe)),le($,ot,_t,Xt,fe),le(ot,$,Xt,_t,fe);var Ie=$[fe],$e=ot&&ot[fe],br=Ie.length,Lr=ot&&$e.length;_t.x=Ie[br-2],_t.y=Ie[br-1],_t.bx=parseFloat(Ie[br-4])||_t.x,_t.by=parseFloat(Ie[br-3])||_t.y,Xt.bx=ot&&(parseFloat($e[Lr-4])||Xt.x),Xt.by=ot&&(parseFloat($e[Lr-3])||Xt.y),Xt.x=ot&&$e[Lr-2],Xt.y=ot&&$e[Lr-1]}return ot?[$,ot]:$},M=/,?([a-z]),?/gi,L=function(q){return q.join(",").replace(M,"$1")},B=function(q,Q,$,ot,_t){var Xt=-3*Q+9*$-9*ot+3*_t,ae=q*Xt+6*Q-12*$+6*ot;return q*ae-3*Q+3*$},N=function(q,Q,$,ot,_t,Xt,ae,oe,ye){ye===null&&(ye=1),ye=ye>1?1:ye<0?0:ye;for(var ze=ye/2,We=12,It=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],$t=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],le=0,fe=0;fe<We;fe++){var Ie=ze*It[fe]+ze,$e=B(Ie,q,$,_t,ae),br=B(Ie,Q,ot,Xt,oe),Lr=$e*$e+br*br;le+=$t[fe]*Math.sqrt(Lr)}return ze*le},j=function(q,Q,$,ot,_t,Xt,ae,oe){for(var ye=[],ze=[[],[]],We,It,$t,le,fe=0;fe<2;++fe){if(fe===0?(It=6*q-12*$+6*_t,We=-3*q+9*$-9*_t+3*ae,$t=3*$-3*q):(It=6*Q-12*ot+6*Xt,We=-3*Q+9*ot-9*Xt+3*oe,$t=3*ot-3*Q),Math.abs(We)<1e-12){if(Math.abs(It)<1e-12)continue;le=-$t/It,le>0&&le<1&&ye.push(le);continue}var Ie=It*It-4*$t*We,$e=Math.sqrt(Ie);if(!(Ie<0)){var br=(-It+$e)/(2*We);br>0&&br<1&&ye.push(br);var Lr=(-It-$e)/(2*We);Lr>0&&Lr<1&&ye.push(Lr)}}for(var Tr=ye.length,gr=Tr,Ur;Tr--;)le=ye[Tr],Ur=1-le,ze[0][Tr]=Ur*Ur*Ur*q+3*Ur*Ur*le*$+3*Ur*le*le*_t+le*le*le*ae,ze[1][Tr]=Ur*Ur*Ur*Q+3*Ur*Ur*le*ot+3*Ur*le*le*Xt+le*le*le*oe;return ze[0][gr]=q,ze[1][gr]=Q,ze[0][gr+1]=ae,ze[1][gr+1]=oe,ze[0].length=ze[1].length=gr+2,{min:{x:Math.min.apply(0,ze[0]),y:Math.min.apply(0,ze[1])},max:{x:Math.max.apply(0,ze[0]),y:Math.max.apply(0,ze[1])}}},tt=function(q,Q,$,ot,_t,Xt,ae,oe){if(!(Math.max(q,$)<Math.min(_t,ae)||Math.min(q,$)>Math.max(_t,ae)||Math.max(Q,ot)<Math.min(Xt,oe)||Math.min(Q,ot)>Math.max(Xt,oe))){var ye=(q*ot-Q*$)*(_t-ae)-(q-$)*(_t*oe-Xt*ae),ze=(q*ot-Q*$)*(Xt-oe)-(Q-ot)*(_t*oe-Xt*ae),We=(q-$)*(Xt-oe)-(Q-ot)*(_t-ae);if(!!We){var It=ye/We,$t=ze/We,le=+It.toFixed(2),fe=+$t.toFixed(2);if(!(le<+Math.min(q,$).toFixed(2)||le>+Math.max(q,$).toFixed(2)||le<+Math.min(_t,ae).toFixed(2)||le>+Math.max(_t,ae).toFixed(2)||fe<+Math.min(Q,ot).toFixed(2)||fe>+Math.max(Q,ot).toFixed(2)||fe<+Math.min(Xt,oe).toFixed(2)||fe>+Math.max(Xt,oe).toFixed(2)))return{x:It,y:$t}}}},H=function(q,Q,$){return Q>=q.x&&Q<=q.x+q.width&&$>=q.y&&$<=q.y+q.height},J=function(q,Q,$,ot,_t){if(_t)return[["M",+q+ +_t,Q],["l",$-_t*2,0],["a",_t,_t,0,0,1,_t,_t],["l",0,ot-_t*2],["a",_t,_t,0,0,1,-_t,_t],["l",_t*2-$,0],["a",_t,_t,0,0,1,-_t,-_t],["l",0,_t*2-ot],["a",_t,_t,0,0,1,_t,-_t],["z"]];var Xt=[["M",q,Q],["l",$,0],["l",0,ot],["l",-$,0],["z"]];return Xt.parsePathArray=L,Xt},ct=function(q,Q,$,ot){return q===null&&(q=Q=$=ot=0),Q===null&&(Q=q.y,$=q.width,ot=q.height,q=q.x),{x:q,y:Q,width:$,w:$,height:ot,h:ot,x2:q+$,y2:Q+ot,cx:q+$/2,cy:Q+ot/2,r1:Math.min($,ot)/2,r2:Math.max($,ot)/2,r0:Math.sqrt($*$+ot*ot)/2,path:J(q,Q,$,ot),vb:[q,Q,$,ot].join(" ")}},ut=function(q,Q){return q=ct(q),Q=ct(Q),H(Q,q.x,q.y)||H(Q,q.x2,q.y)||H(Q,q.x,q.y2)||H(Q,q.x2,q.y2)||H(q,Q.x,Q.y)||H(q,Q.x2,Q.y)||H(q,Q.x,Q.y2)||H(q,Q.x2,Q.y2)||(q.x<Q.x2&&q.x>Q.x||Q.x<q.x2&&Q.x>q.x)&&(q.y<Q.y2&&q.y>Q.y||Q.y<q.y2&&Q.y>q.y)},At=function(q,Q,$,ot,_t,Xt,ae,oe){(0,O.isArray)(q)||(q=[q,Q,$,ot,_t,Xt,ae,oe]);var ye=j.apply(null,q);return ct(ye.min.x,ye.min.y,ye.max.x-ye.min.x,ye.max.y-ye.min.y)},St=function(q,Q,$,ot,_t,Xt,ae,oe,ye){var ze=1-ye,We=Math.pow(ze,3),It=Math.pow(ze,2),$t=ye*ye,le=$t*ye,fe=We*q+It*3*ye*$+ze*3*ye*ye*_t+le*ae,Ie=We*Q+It*3*ye*ot+ze*3*ye*ye*Xt+le*oe,$e=q+2*ye*($-q)+$t*(_t-2*$+q),br=Q+2*ye*(ot-Q)+$t*(Xt-2*ot+Q),Lr=$+2*ye*(_t-$)+$t*(ae-2*_t+$),Tr=ot+2*ye*(Xt-ot)+$t*(oe-2*Xt+ot),gr=ze*q+ye*$,Ur=ze*Q+ye*ot,Yn=ze*_t+ye*ae,bi=ze*Xt+ye*oe,Oa=90-Math.atan2($e-Lr,br-Tr)*180/Math.PI;return{x:fe,y:Ie,m:{x:$e,y:br},n:{x:Lr,y:Tr},start:{x:gr,y:Ur},end:{x:Yn,y:bi},alpha:Oa}},Yt=function(q,Q,$){var ot=At(q),_t=At(Q);if(!ut(ot,_t))return $?0:[];for(var Xt=N.apply(0,q),ae=N.apply(0,Q),oe=~~(Xt/8),ye=~~(ae/8),ze=[],We=[],It={},$t=$?0:[],le=0;le<oe+1;le++){var fe=St.apply(0,q.concat(le/oe));ze.push({x:fe.x,y:fe.y,t:le/oe})}for(var le=0;le<ye+1;le++){var fe=St.apply(0,Q.concat(le/ye));We.push({x:fe.x,y:fe.y,t:le/ye})}for(var le=0;le<oe;le++)for(var Ie=0;Ie<ye;Ie++){var $e=ze[le],br=ze[le+1],Lr=We[Ie],Tr=We[Ie+1],gr=Math.abs(br.x-$e.x)<.001?"y":"x",Ur=Math.abs(Tr.x-Lr.x)<.001?"y":"x",Yn=tt($e.x,$e.y,br.x,br.y,Lr.x,Lr.y,Tr.x,Tr.y);if(Yn){if(It[Yn.x.toFixed(4)]===Yn.y.toFixed(4))continue;It[Yn.x.toFixed(4)]=Yn.y.toFixed(4);var bi=$e.t+Math.abs((Yn[gr]-$e[gr])/(br[gr]-$e[gr]))*(br.t-$e.t),Oa=Lr.t+Math.abs((Yn[Ur]-Lr[Ur])/(Tr[Ur]-Lr[Ur]))*(Tr.t-Lr.t);bi>=0&&bi<=1&&Oa>=0&&Oa<=1&&($?$t+=1:$t.push({x:Yn.x,y:Yn.y,t1:bi,t2:Oa}))}}return $t},Tt=function(q,Q,$){q=g(q),Q=g(Q);for(var ot,_t,Xt,ae,oe,ye,ze,We,It,$t,le=$?0:[],fe=0,Ie=q.length;fe<Ie;fe++){var $e=q[fe];if($e[0]==="M")ot=oe=$e[1],_t=ye=$e[2];else{$e[0]==="C"?(It=[ot,_t].concat($e.slice(1)),ot=It[6],_t=It[7]):(It=[ot,_t,ot,_t,oe,ye,oe,ye],ot=oe,_t=ye);for(var br=0,Lr=Q.length;br<Lr;br++){var Tr=Q[br];if(Tr[0]==="M")Xt=ze=Tr[1],ae=We=Tr[2];else{Tr[0]==="C"?($t=[Xt,ae].concat(Tr.slice(1)),Xt=$t[6],ae=$t[7]):($t=[Xt,ae,Xt,ae,ze,We,ze,We],Xt=ze,ae=We);var gr=Yt(It,$t,$);if($)le+=gr;else{for(var Ur=0,Yn=gr.length;Ur<Yn;Ur++)gr[Ur].segment1=fe,gr[Ur].segment2=br,gr[Ur].bez1=It,gr[Ur].bez2=$t;le=le.concat(gr)}}}}}return le},Dt=function(q,Q){return Tt(q,Q)};function Bt(q,Q){var $=[],ot=[];function _t(Xt,ae){if(Xt.length===1)$.push(Xt[0]),ot.push(Xt[0]);else{for(var oe=[],ye=0;ye<Xt.length-1;ye++)ye===0&&$.push(Xt[0]),ye===Xt.length-2&&ot.push(Xt[ye+1]),oe[ye]=[(1-ae)*Xt[ye][0]+ae*Xt[ye+1][0],(1-ae)*Xt[ye][1]+ae*Xt[ye+1][1]];_t(oe,ae)}}return q.length&&_t(q,Q),{left:$,right:ot.reverse()}}function Et(q,Q,$){var ot=[[q[1],q[2]]];$=$||2;var _t=[];Q[0]==="A"?(ot.push(Q[6]),ot.push(Q[7])):Q[0]==="C"?(ot.push([Q[1],Q[2]]),ot.push([Q[3],Q[4]]),ot.push([Q[5],Q[6]])):Q[0]==="S"||Q[0]==="Q"?(ot.push([Q[1],Q[2]]),ot.push([Q[3],Q[4]])):ot.push([Q[1],Q[2]]);for(var Xt=ot,ae=1/$,oe=0;oe<$-1;oe++){var ye=ae/(1-ae*oe),ze=Bt(Xt,ye);_t.push(ze.left),Xt=ze.right}_t.push(Xt);var We=_t.map(function(It){var $t=[];return It.length===4&&($t.push("C"),$t=$t.concat(It[2])),It.length>=3&&(It.length===3&&$t.push("Q"),$t=$t.concat(It[1])),It.length===2&&$t.push("L"),$t=$t.concat(It[It.length-1]),$t});return We}var zt=function(q,Q,$){if($===1)return[[].concat(q)];var ot=[];if(Q[0]==="L"||Q[0]==="C"||Q[0]==="Q")ot=ot.concat(Et(q,Q,$));else{var _t=[].concat(q);_t[0]==="M"&&(_t[0]="L");for(var Xt=0;Xt<=$-1;Xt++)ot.push(_t)}return ot},jt=function(q,Q){if(q.length===1)return q;var $=q.length-1,ot=Q.length-1,_t=$/ot,Xt=[];if(q.length===1&&q[0][0]==="M"){for(var ae=0;ae<ot-$;ae++)q.push(q[0]);return q}for(var ae=0;ae<ot;ae++){var oe=Math.floor(_t*ae);Xt[oe]=(Xt[oe]||0)+1}var ye=Xt.reduce(function(ze,We,It){return It===$?ze.concat(q[$]):ze.concat(zt(q[It],q[It+1],We))},[]);return ye.unshift(q[0]),(Q[ot]==="Z"||Q[ot]==="z")&&ye.push("Z"),ye},Mt=function(q,Q){if(q.length!==Q.length)return!1;var $=!0;return(0,O.each)(q,function(ot,_t){if(ot!==Q[_t])return $=!1,!1}),$};function pt(q,Q,$){var ot=null,_t=$;return Q<_t&&(_t=Q,ot="add"),q<_t&&(_t=q,ot="del"),{type:ot,min:_t}}var k=function(q,Q){var $=q.length,ot=Q.length,_t,Xt,ae=0;if($===0||ot===0)return null;for(var oe=[],ye=0;ye<=$;ye++)oe[ye]=[],oe[ye][0]={min:ye};for(var ze=0;ze<=ot;ze++)oe[0][ze]={min:ze};for(var ye=1;ye<=$;ye++){_t=q[ye-1];for(var ze=1;ze<=ot;ze++){Xt=Q[ze-1],Mt(_t,Xt)?ae=0:ae=1;var We=oe[ye-1][ze].min+1,It=oe[ye][ze-1].min+1,$t=oe[ye-1][ze-1].min+ae;oe[ye][ze]=pt(We,It,$t)}}return oe},u=function(q,Q){var $=k(q,Q),ot=q.length,_t=Q.length,Xt=[],ae=1,oe=1;if($[ot][_t].min!==ot){for(var ye=1;ye<=ot;ye++){var ze=$[ye][ye].min;oe=ye;for(var We=ae;We<=_t;We++)$[ye][We].min<ze&&(ze=$[ye][We].min,oe=We);ae=oe,$[ye][ae].type&&Xt.push({index:ye-1,type:$[ye][ae].type})}for(var ye=Xt.length-1;ye>=0;ye--)ae=Xt[ye].index,Xt[ye].type==="add"?q.splice(ae,0,[].concat(q[ae])):q.splice(ae,1)}ot=q.length;var It=_t-ot;if(ot<_t)for(var ye=0;ye<It;ye++)q[ot-1][0]==="z"||q[ot-1][0]==="Z"?q.splice(ot-2,0,q[ot-2]):q.push(q[ot-1]),ot+=1;return q};function G(q,Q,$){for(var ot=[].concat(q),_t,Xt=1/($+1),ae=Y(Q)[0],oe=1;oe<=$;oe++)Xt*=oe,_t=Math.floor(q.length*Xt),_t===0?ot.unshift([ae[0]*Xt+q[_t][0]*(1-Xt),ae[1]*Xt+q[_t][1]*(1-Xt)]):ot.splice(_t,0,[ae[0]*Xt+q[_t][0]*(1-Xt),ae[1]*Xt+q[_t][1]*(1-Xt)]);return ot}function Y(q){var Q=[];switch(q[0]){case"M":Q.push([q[1],q[2]]);break;case"L":Q.push([q[1],q[2]]);break;case"A":Q.push([q[6],q[7]]);break;case"Q":Q.push([q[3],q[4]]),Q.push([q[1],q[2]]);break;case"T":Q.push([q[1],q[2]]);break;case"C":Q.push([q[5],q[6]]),Q.push([q[1],q[2]]),Q.push([q[3],q[4]]);break;case"S":Q.push([q[3],q[4]]),Q.push([q[1],q[2]]);break;case"H":Q.push([q[1],q[1]]);break;case"V":Q.push([q[1],q[1]]);break;default:}return Q}var V=function(q,Q){if(q.length<=1)return q;for(var $,ot=0;ot<Q.length;ot++)if(q[ot][0]!==Q[ot][0])switch($=Y(q[ot]),Q[ot][0]){case"M":q[ot]=["M"].concat($[0]);break;case"L":q[ot]=["L"].concat($[0]);break;case"A":q[ot]=[].concat(Q[ot]),q[ot][6]=$[0][0],q[ot][7]=$[0][1];break;case"Q":if($.length<2)if(ot>0)$=G($,q[ot-1],1);else{q[ot]=Q[ot];break}q[ot]=["Q"].concat($.reduce(function(_t,Xt){return _t.concat(Xt)},[]));break;case"T":q[ot]=["T"].concat($[0]);break;case"C":if($.length<3)if(ot>0)$=G($,q[ot-1],2);else{q[ot]=Q[ot];break}q[ot]=["C"].concat($.reduce(function(_t,Xt){return _t.concat(Xt)},[]));break;case"S":if($.length<2)if(ot>0)$=G($,q[ot-1],1);else{q[ot]=Q[ot];break}q[ot]=["S"].concat($.reduce(function(_t,Xt){return _t.concat(Xt)},[]));break;default:q[ot]=Q[ot]}return q},U=function(){function q(Q,$){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=Q,this.name=Q,this.originalEvent=$,this.timeStamp=$.timeStamp}return q.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},q.prototype.stopPropagation=function(){this.propagationStopped=!0},q.prototype.toString=function(){var Q=this.type;return"[Event (type="+Q+")]"},q.prototype.save=function(){},q.prototype.restore=function(){},q}(),et=U,ht=d(65353),Ft=d(90494),bt=d(73890),at=d(46812),xt=d(21830),lt=d(33643),it=d(66631),yt=d(66974),ft=d(27154),st=d(85260);function Ct(q,Q){var $=q.indexOf(Q);$!==-1&&q.splice($,1)}var Rt=typeof window!="undefined"&&typeof window.document!="undefined";function re(q,Q){if(q.isCanvas())return!0;for(var $=Q.getParent(),ot=!1;$;){if($===q){ot=!0;break}$=$.getParent()}return ot}function pe(q){return q.cfg.visible&&q.cfg.capture}var Me=function(q){(0,ht.__extends)(Q,q);function Q($){var ot=q.call(this)||this;ot.destroyed=!1;var _t=ot.getDefaultCfg();return ot.cfg=(0,yt.default)(_t,$),ot}return Q.prototype.getDefaultCfg=function(){return{}},Q.prototype.get=function($){return this.cfg[$]},Q.prototype.set=function($,ot){this.cfg[$]=ot},Q.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},Q}(Ft.default),Xe=Me,Be=d(43631),Re=d(31506);function Ke(q,Q){var $=[],ot=q[0],_t=q[1],Xt=q[2],ae=q[3],oe=q[4],ye=q[5],ze=q[6],We=q[7],It=q[8],$t=Q[0],le=Q[1],fe=Q[2],Ie=Q[3],$e=Q[4],br=Q[5],Lr=Q[6],Tr=Q[7],gr=Q[8];return $[0]=$t*ot+le*ae+fe*ze,$[1]=$t*_t+le*oe+fe*We,$[2]=$t*Xt+le*ye+fe*It,$[3]=Ie*ot+$e*ae+br*ze,$[4]=Ie*_t+$e*oe+br*We,$[5]=Ie*Xt+$e*ye+br*It,$[6]=Lr*ot+Tr*ae+gr*ze,$[7]=Lr*_t+Tr*oe+gr*We,$[8]=Lr*Xt+Tr*ye+gr*It,$}function ar(q,Q){var $=[],ot=Q[0],_t=Q[1];return $[0]=q[0]*ot+q[3]*_t+q[6],$[1]=q[1]*ot+q[4]*_t+q[7],$}function Mr(q){var Q=[],$=q[0],ot=q[1],_t=q[2],Xt=q[3],ae=q[4],oe=q[5],ye=q[6],ze=q[7],We=q[8],It=We*ae-oe*ze,$t=-We*Xt+oe*ye,le=ze*Xt-ae*ye,fe=$*It+ot*$t+_t*le;return fe?(fe=1/fe,Q[0]=It*fe,Q[1]=(-We*ot+_t*ze)*fe,Q[2]=(oe*ot-_t*ae)*fe,Q[3]=$t*fe,Q[4]=(We*$-_t*ye)*fe,Q[5]=(-oe*$+_t*Xt)*fe,Q[6]=le*fe,Q[7]=(-ze*$+ot*ye)*fe,Q[8]=(ae*$-ot*Xt)*fe,Q):null}var sr="matrix",Xr=["zIndex","capture","visible","type"],pn=["repeat"],jr=":",en="*";function Xn(q){for(var Q=[],$=0;$<q.length;$++)(0,O.isArray)(q[$])?Q.push([].concat(q[$])):Q.push(q[$]);return Q}function ni(q,Q){var $={},ot=Q.attrs;for(var _t in q)$[_t]=ot[_t];return $}function gi(q,Q){var $={},ot=Q.attr();return(0,O.each)(q,function(_t,Xt){pn.indexOf(Xt)===-1&&!(0,O.isEqual)(ot[Xt],_t)&&($[Xt]=_t)}),$}function yi(q,Q){if(Q.onFrame)return q;var $=Q.startTime,ot=Q.delay,_t=Q.duration,Xt=Object.prototype.hasOwnProperty;return(0,O.each)(q,function(ae){$+ot<ae.startTime+ae.delay+ae.duration&&_t>ae.delay&&(0,O.each)(Q.toAttrs,function(oe,ye){Xt.call(ae.toAttrs,ye)&&(delete ae.toAttrs[ye],delete ae.fromAttrs[ye])})}),q}var te=function(q){(0,ht.__extends)(Q,q);function Q($){var ot=q.call(this,$)||this;ot.attrs={};var _t=ot.getDefaultAttrs();return(0,O.mix)(_t,$.attrs),ot.attrs=_t,ot.initAttrs(_t),ot.initAnimate(),ot}return Q.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},Q.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},Q.prototype.onCanvasChange=function($){},Q.prototype.initAttrs=function($){},Q.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},Q.prototype.isGroup=function(){return!1},Q.prototype.getParent=function(){return this.get("parent")},Q.prototype.getCanvas=function(){return this.get("canvas")},Q.prototype.attr=function(){for(var $,ot=[],_t=0;_t<arguments.length;_t++)ot[_t]=arguments[_t];var Xt=ot[0],ae=ot[1];if(!Xt)return this.attrs;if((0,O.isObject)(Xt)){for(var oe in Xt)this.setAttr(oe,Xt[oe]);return this.afterAttrsChange(Xt),this}return ot.length===2?(this.setAttr(Xt,ae),this.afterAttrsChange(($={},$[Xt]=ae,$)),this):this.attrs[Xt]},Q.prototype.isClipped=function($,ot){var _t=this.getClip();return _t&&!_t.isHit($,ot)},Q.prototype.setAttr=function($,ot){var _t=this.attrs[$];_t!==ot&&(this.attrs[$]=ot,this.onAttrChange($,ot,_t))},Q.prototype.onAttrChange=function($,ot,_t){$==="matrix"&&this.set("totalMatrix",null)},Q.prototype.afterAttrsChange=function($){this.onCanvasChange("attr")},Q.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},Q.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},Q.prototype.setZIndex=function($){this.set("zIndex",$);var ot=this.getParent();return ot&&ot.sort(),this},Q.prototype.toFront=function(){var $=this.getParent();if(!!$){var ot=$.getChildren(),_t=this.get("el"),Xt=ot.indexOf(this);ot.splice(Xt,1),ot.push(this),this.onCanvasChange("zIndex")}},Q.prototype.toBack=function(){var $=this.getParent();if(!!$){var ot=$.getChildren(),_t=this.get("el"),Xt=ot.indexOf(this);ot.splice(Xt,1),ot.unshift(this),this.onCanvasChange("zIndex")}},Q.prototype.remove=function($){$===void 0&&($=!0);var ot=this.getParent();ot?(Ct(ot.getChildren(),this),ot.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),$&&this.destroy()},Q.prototype.resetMatrix=function(){this.attr(sr,this.getDefaultMatrix()),this.onCanvasChange("matrix")},Q.prototype.getMatrix=function(){return this.attr(sr)},Q.prototype.setMatrix=function($){this.attr(sr,$),this.onCanvasChange("matrix")},Q.prototype.getTotalMatrix=function(){var $=this.get("totalMatrix");if(!$){var ot=this.attr("matrix"),_t=this.get("parentMatrix");_t&&ot?$=Ke(_t,ot):$=ot||_t,this.set("totalMatrix",$)}return $},Q.prototype.applyMatrix=function($){var ot=this.attr("matrix"),_t=null;$&&ot?_t=Ke($,ot):_t=ot||$,this.set("totalMatrix",_t),this.set("parentMatrix",$)},Q.prototype.getDefaultMatrix=function(){return null},Q.prototype.applyToMatrix=function($){var ot=this.attr("matrix");return ot?ar(ot,$):$},Q.prototype.invertFromMatrix=function($){var ot=this.attr("matrix");if(ot){var _t=Mr(ot);if(_t)return ar(_t,$)}return $},Q.prototype.setClip=function($){var ot=this.getCanvas(),_t=null;if($){var Xt=this.getShapeBase(),ae=(0,O.upperFirst)($.type),oe=Xt[ae];oe&&(_t=new oe({type:$.type,isClipShape:!0,attrs:$.attrs,canvas:ot}))}return this.set("clipShape",_t),this.onCanvasChange("clip"),_t},Q.prototype.getClip=function(){var $=this.cfg.clipShape;return $||null},Q.prototype.clone=function(){var $=this,ot=this.attrs,_t={};(0,O.each)(ot,function(oe,ye){(0,O.isArray)(ot[ye])?_t[ye]=Xn(ot[ye]):_t[ye]=ot[ye]});var Xt=this.constructor,ae=new Xt({attrs:_t});return(0,O.each)(Xr,function(oe){ae.set(oe,$.get(oe))}),ae},Q.prototype.destroy=function(){var $=this.destroyed;$||(this.attrs={},q.prototype.destroy.call(this))},Q.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},Q.prototype.animate=function(){for(var $=[],ot=0;ot<arguments.length;ot++)$[ot]=arguments[ot];this.set("animating",!0);var _t=this.get("timeline");_t||(_t=this.get("canvas").get("timeline"),this.set("timeline",_t));var Xt=this.get("animations")||[];_t.timer||_t.initTimer();var ae=$[0],oe=$[1],ye=$[2],ze=ye===void 0?"easeLinear":ye,We=$[3],It=We===void 0?O.noop:We,$t=$[4],le=$t===void 0?0:$t,fe,Ie,$e,br,Lr;(0,O.isFunction)(ae)?(fe=ae,ae={}):(0,O.isObject)(ae)&&ae.onFrame&&(fe=ae.onFrame,Ie=ae.repeat),(0,O.isObject)(oe)?(Lr=oe,oe=Lr.duration,ze=Lr.easing||"easeLinear",le=Lr.delay||0,Ie=Lr.repeat||Ie||!1,It=Lr.callback||O.noop,$e=Lr.pauseCallback||O.noop,br=Lr.resumeCallback||O.noop):((0,O.isNumber)(It)&&(le=It,It=null),(0,O.isFunction)(ze)?(It=ze,ze="easeLinear"):ze=ze||"easeLinear");var Tr=gi(ae,this),gr={fromAttrs:ni(Tr,this),toAttrs:Tr,duration:oe,easing:ze,repeat:Ie,callback:It,pauseCallback:$e,resumeCallback:br,delay:le,startTime:_t.getTime(),id:(0,O.uniqueId)(),onFrame:fe,pathFormatted:!1};Xt.length>0?Xt=yi(Xt,gr):_t.addAnimator(this),Xt.push(gr),this.set("animations",Xt),this.set("_pause",{isPaused:!1})},Q.prototype.stopAnimate=function($){var ot=this;$===void 0&&($=!0);var _t=this.get("animations");(0,O.each)(_t,function(Xt){$&&(Xt.onFrame?ot.attr(Xt.onFrame(1)):ot.attr(Xt.toAttrs)),Xt.callback&&Xt.callback()}),this.set("animating",!1),this.set("animations",[])},Q.prototype.pauseAnimate=function(){var $=this.get("timeline"),ot=this.get("animations"),_t=$.getTime();return(0,O.each)(ot,function(Xt){Xt._paused=!0,Xt._pauseTime=_t,Xt.pauseCallback&&Xt.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:_t}),this},Q.prototype.resumeAnimate=function(){var $=this.get("timeline"),ot=$.getTime(),_t=this.get("animations"),Xt=this.get("_pause").pauseTime;return(0,O.each)(_t,function(ae){ae.startTime=ae.startTime+(ot-Xt),ae._paused=!1,ae._pauseTime=null,ae.resumeCallback&&ae.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",_t),this},Q.prototype.emitDelegation=function($,ot){var _t=this,Xt=ot.propagationPath,ae=this.getEvents(),oe;$==="mouseenter"?oe=ot.fromShape:$==="mouseleave"&&(oe=ot.toShape);for(var ye=function($t){var le=Xt[$t],fe=le.get("name");if(fe){if((le.isGroup()||le.isCanvas&&le.isCanvas())&&oe&&re(le,oe))return"break";(0,O.isArray)(fe)?(0,O.each)(fe,function(Ie){_t.emitDelegateEvent(le,Ie,ot)}):ze.emitDelegateEvent(le,fe,ot)}},ze=this,We=0;We<Xt.length;We++){var It=ye(We);if(It==="break")break}},Q.prototype.emitDelegateEvent=function($,ot,_t){var Xt=this.getEvents(),ae=ot+jr+_t.type;(Xt[ae]||Xt[en])&&(_t.name=ae,_t.currentTarget=$,_t.delegateTarget=this,_t.delegateObject=$.get("delegateObject"),this.emit(ae,_t))},Q.prototype.translate=function($,ot){$===void 0&&($=0),ot===void 0&&(ot=0);var _t=this.getMatrix(),Xt=Re.transform(_t,[["t",$,ot]]);return this.setMatrix(Xt),this},Q.prototype.move=function($,ot){var _t=this.attr("x")||0,Xt=this.attr("y")||0;return this.translate($-_t,ot-Xt),this},Q.prototype.moveTo=function($,ot){return this.move($,ot)},Q.prototype.scale=function($,ot){var _t=this.getMatrix(),Xt=Re.transform(_t,[["s",$,ot||$]]);return this.setMatrix(Xt),this},Q.prototype.rotate=function($){var ot=this.getMatrix(),_t=Re.transform(ot,[["r",$]]);return this.setMatrix(_t),this},Q.prototype.rotateAtStart=function($){var ot=this.attr(),_t=ot.x,Xt=ot.y,ae=this.getMatrix(),oe=Re.transform(ae,[["t",-_t,-Xt],["r",$],["t",_t,Xt]]);return this.setMatrix(oe),this},Q.prototype.rotateAtPoint=function($,ot,_t){var Xt=this.getMatrix(),ae=Re.transform(Xt,[["t",-$,-ot],["r",_t],["t",$,ot]]);return this.setMatrix(ae),this},Q}(Xe),he=te,be={},Se="_INDEX";function Le(q){q.isGroup()?(q.isEntityGroup()||q.get("children").length)&&q.onCanvasChange("add"):q.onCanvasChange("add")}function Ne(q,Q){if(q.set("canvas",Q),q.isGroup()){var $=q.get("children");$.length&&$.forEach(function(ot){Ne(ot,Q)})}}function Fe(q,Q){if(q.set("timeline",Q),q.isGroup()){var $=q.get("children");$.length&&$.forEach(function(ot){Fe(ot,Q)})}}function Ve(q,Q){var $=q.getChildren();return $.indexOf(Q)>=0}function Ae(q,Q,$){$===void 0&&($=!0),$?Q.destroy():(Q.set("parent",null),Q.set("canvas",null)),Ct(q.getChildren(),Q)}function rr(q){return function(Q,$){var ot=q(Q,$);return ot===0?Q[Se]-$[Se]:ot}}var Qe=function(q){(0,ht.__extends)(Q,q);function Q(){return q!==null&&q.apply(this,arguments)||this}return Q.prototype.isCanvas=function(){return!1},Q.prototype.getBBox=function(){var $=Infinity,ot=-Infinity,_t=Infinity,Xt=-Infinity,ae=[],oe=[],ye=this.getChildren().filter(function(We){return We.get("visible")&&(!We.isGroup()||We.isGroup()&&We.getChildren().length>0)});ye.length>0?((0,ft.default)(ye,function(We){var It=We.getBBox();ae.push(It.minX,It.maxX),oe.push(It.minY,It.maxY)}),$=Math.min.apply(null,ae),ot=Math.max.apply(null,ae),_t=Math.min.apply(null,oe),Xt=Math.max.apply(null,oe)):($=0,ot=0,_t=0,Xt=0);var ze={x:$,y:_t,minX:$,minY:_t,maxX:ot,maxY:Xt,width:ot-$,height:Xt-_t};return ze},Q.prototype.getCanvasBBox=function(){var $=Infinity,ot=-Infinity,_t=Infinity,Xt=-Infinity,ae=[],oe=[],ye=this.getChildren().filter(function(We){return We.get("visible")&&(!We.isGroup()||We.isGroup()&&We.getChildren().length>0)});ye.length>0?((0,ft.default)(ye,function(We){var It=We.getCanvasBBox();ae.push(It.minX,It.maxX),oe.push(It.minY,It.maxY)}),$=Math.min.apply(null,ae),ot=Math.max.apply(null,ae),_t=Math.min.apply(null,oe),Xt=Math.max.apply(null,oe)):($=0,ot=0,_t=0,Xt=0);var ze={x:$,y:_t,minX:$,minY:_t,maxX:ot,maxY:Xt,width:ot-$,height:Xt-_t};return ze},Q.prototype.getDefaultCfg=function(){var $=q.prototype.getDefaultCfg.call(this);return $.children=[],$},Q.prototype.onAttrChange=function($,ot,_t){if(q.prototype.onAttrChange.call(this,$,ot,_t),$==="matrix"){var Xt=this.getTotalMatrix();this._applyChildrenMarix(Xt)}},Q.prototype.applyMatrix=function($){var ot=this.getTotalMatrix();q.prototype.applyMatrix.call(this,$);var _t=this.getTotalMatrix();_t!==ot&&this._applyChildrenMarix(_t)},Q.prototype._applyChildrenMarix=function($){var ot=this.getChildren();(0,ft.default)(ot,function(_t){_t.applyMatrix($)})},Q.prototype.addShape=function(){for(var $=[],ot=0;ot<arguments.length;ot++)$[ot]=arguments[ot];var _t=$[0],Xt=$[1];(0,lt.default)(_t)?Xt=_t:Xt.type=_t;var ae=be[Xt.type];ae||(ae=(0,st.default)(Xt.type),be[Xt.type]=ae);var oe=this.getShapeBase(),ye=new oe[ae](Xt);return this.add(ye),ye},Q.prototype.addGroup=function(){for(var $=[],ot=0;ot<arguments.length;ot++)$[ot]=arguments[ot];var _t=$[0],Xt=$[1],ae;if((0,at.default)(_t))Xt?ae=new _t(Xt):ae=new _t({parent:this});else{var oe=_t||{},ye=this.getGroupBase();ae=new ye(oe)}return this.add(ae),ae},Q.prototype.getCanvas=function(){var $;return this.isCanvas()?$=this:$=this.get("canvas"),$},Q.prototype.getShape=function($,ot,_t){if(!pe(this))return null;var Xt=this.getChildren(),ae;if(this.isCanvas())ae=this._findShape(Xt,$,ot,_t);else{var oe=[$,ot,1];oe=this.invertFromMatrix(oe),this.isClipped(oe[0],oe[1])||(ae=this._findShape(Xt,oe[0],oe[1],_t))}return ae},Q.prototype._findShape=function($,ot,_t,Xt){for(var ae=null,oe=$.length-1;oe>=0;oe--){var ye=$[oe];if(pe(ye)&&(ye.isGroup()?ae=ye.getShape(ot,_t,Xt):ye.isHit(ot,_t)&&(ae=ye)),ae)break}return ae},Q.prototype.add=function($){var ot=this.getCanvas(),_t=this.getChildren(),Xt=this.get("timeline"),ae=$.getParent();ae&&Ae(ae,$,!1),$.set("parent",this),ot&&Ne($,ot),Xt&&Fe($,Xt),_t.push($),Le($),this._applyElementMatrix($)},Q.prototype._applyElementMatrix=function($){var ot=this.getTotalMatrix();ot&&$.applyMatrix(ot)},Q.prototype.getChildren=function(){return this.get("children")},Q.prototype.sort=function(){var $=this.getChildren();(0,ft.default)($,function(ot,_t){return ot[Se]=_t,ot}),$.sort(rr(function(ot,_t){return ot.get("zIndex")-_t.get("zIndex")})),this.onCanvasChange("sort")},Q.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var $=this.getChildren(),ot=$.length-1;ot>=0;ot--)$[ot].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},Q.prototype.destroy=function(){this.get("destroyed")||(this.clear(),q.prototype.destroy.call(this))},Q.prototype.getFirst=function(){return this.getChildByIndex(0)},Q.prototype.getLast=function(){var $=this.getChildren();return this.getChildByIndex($.length-1)},Q.prototype.getChildByIndex=function($){var ot=this.getChildren();return ot[$]},Q.prototype.getCount=function(){var $=this.getChildren();return $.length},Q.prototype.contain=function($){var ot=this.getChildren();return ot.indexOf($)>-1},Q.prototype.removeChild=function($,ot){ot===void 0&&(ot=!0),this.contain($)&&$.remove(ot)},Q.prototype.findAll=function($){var ot=[],_t=this.getChildren();return(0,ft.default)(_t,function(Xt){$(Xt)&&ot.push(Xt),Xt.isGroup()&&(ot=ot.concat(Xt.findAll($)))}),ot},Q.prototype.find=function($){var ot=null,_t=this.getChildren();return(0,ft.default)(_t,function(Xt){if($(Xt)?ot=Xt:Xt.isGroup()&&(ot=Xt.find($)),ot)return!1}),ot},Q.prototype.findById=function($){return this.find(function(ot){return ot.get("id")===$})},Q.prototype.findByClassName=function($){return this.find(function(ot){return ot.get("className")===$})},Q.prototype.findAllByName=function($){return this.findAll(function(ot){return ot.get("name")===$})},Q}(he),Pt=Qe,Ot=0,W=0,R=0,F=1e3,rt,kt,Vt=0,Gt=0,Kt=0,we=typeof performance=="object"&&performance.now?performance:Date,me=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(q){setTimeout(q,17)};function _e(){return Gt||(me(qe),Gt=we.now()+Kt)}function qe(){Gt=0}function De(){this._call=this._time=this._next=null}De.prototype=dr.prototype={constructor:De,restart:function(q,Q,$){if(typeof q!="function")throw new TypeError("callback is not a function");$=($==null?_e():+$)+(Q==null?0:+Q),!this._next&&kt!==this&&(kt?kt._next=this:rt=this,kt=this),this._call=q,this._time=$,Je()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Je())}};function dr(q,Q,$){var ot=new De;return ot.restart(q,Q,$),ot}function Rr(){_e(),++Ot;for(var q=rt,Q;q;)(Q=Gt-q._time)>=0&&q._call.call(null,Q),q=q._next;--Ot}function Oe(){Gt=(Vt=we.now())+Kt,Ot=W=0;try{Rr()}finally{Ot=0,nr(),Gt=0}}function je(){var q=we.now(),Q=q-Vt;Q>F&&(Kt-=Q,Vt=q)}function nr(){for(var q,Q=rt,$,ot=Infinity;Q;)Q._call?(ot>Q._time&&(ot=Q._time),q=Q,Q=Q._next):($=Q._next,Q._next=null,Q=q?q._next=$:rt=$);kt=q,Je(ot)}function Je(q){if(!Ot){W&&(W=clearTimeout(W));var Q=q-Gt;Q>24?(q<Infinity&&(W=setTimeout(Oe,q-we.now()-Kt)),R&&(R=clearInterval(R))):(R||(Vt=we.now(),R=setInterval(je,F)),Ot=1,me(Oe))}}var hr=d(13681);function un(q,Q,$){q.prototype=Q.prototype=$,$.constructor=q}function Qr(q,Q){var $=Object.create(q.prototype);for(var ot in Q)$[ot]=Q[ot];return $}function Pr(){}var Hr=.7,wn=1/Hr,fn="\\s*([+-]?\\d+)\\s*",Er="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",on="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Dn=/^#([0-9a-f]{3,8})$/,Mn=new RegExp("^rgb\\("+[fn,fn,fn]+"\\)$"),de=new RegExp("^rgb\\("+[on,on,on]+"\\)$"),Wt=new RegExp("^rgba\\("+[fn,fn,fn,Er]+"\\)$"),ve=new RegExp("^rgba\\("+[on,on,on,Er]+"\\)$"),Ee=new RegExp("^hsl\\("+[Er,on,on]+"\\)$"),Ge=new RegExp("^hsla\\("+[Er,on,on,Er]+"\\)$"),tr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};un(Pr,rn,{copy:function(q){return Object.assign(new this.constructor,this,q)},displayable:function(){return this.rgb().displayable()},hex:vr,formatHex:vr,formatHsl:cr,formatRgb:Gr,toString:Gr});function vr(){return this.rgb().formatHex()}function cr(){return Or(this).formatHsl()}function Gr(){return this.rgb().formatRgb()}function rn(q){var Q,$;return q=(q+"").trim().toLowerCase(),(Q=Dn.exec(q))?($=Q[1].length,Q=parseInt(Q[1],16),$===6?Vn(Q):$===3?new Ce(Q>>8&15|Q>>4&240,Q>>4&15|Q&240,(Q&15)<<4|Q&15,1):$===8?Ut(Q>>24&255,Q>>16&255,Q>>8&255,(Q&255)/255):$===4?Ut(Q>>12&15|Q>>8&240,Q>>8&15|Q>>4&240,Q>>4&15|Q&240,((Q&15)<<4|Q&15)/255):null):(Q=Mn.exec(q))?new Ce(Q[1],Q[2],Q[3],1):(Q=de.exec(q))?new Ce(Q[1]*255/100,Q[2]*255/100,Q[3]*255/100,1):(Q=Wt.exec(q))?Ut(Q[1],Q[2],Q[3],Q[4]):(Q=ve.exec(q))?Ut(Q[1]*255/100,Q[2]*255/100,Q[3]*255/100,Q[4]):(Q=Ee.exec(q))?or(Q[1],Q[2]/100,Q[3]/100,1):(Q=Ge.exec(q))?or(Q[1],Q[2]/100,Q[3]/100,Q[4]):tr.hasOwnProperty(q)?Vn(tr[q]):q==="transparent"?new Ce(NaN,NaN,NaN,0):null}function Vn(q){return new Ce(q>>16&255,q>>8&255,q&255,1)}function Ut(q,Q,$,ot){return ot<=0&&(q=Q=$=NaN),new Ce(q,Q,$,ot)}function ie(q){return q instanceof Pr||(q=rn(q)),q?(q=q.rgb(),new Ce(q.r,q.g,q.b,q.opacity)):new Ce}function se(q,Q,$,ot){return arguments.length===1?ie(q):new Ce(q,Q,$,ot==null?1:ot)}function Ce(q,Q,$,ot){this.r=+q,this.g=+Q,this.b=+$,this.opacity=+ot}un(Ce,se,Qr(Pr,{brighter:function(q){return q=q==null?wn:Math.pow(wn,q),new Ce(this.r*q,this.g*q,this.b*q,this.opacity)},darker:function(q){return q=q==null?Hr:Math.pow(Hr,q),new Ce(this.r*q,this.g*q,this.b*q,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Te,formatHex:Te,formatRgb:ke,toString:ke}));function Te(){return"#"+ir(this.r)+ir(this.g)+ir(this.b)}function ke(){var q=this.opacity;return q=isNaN(q)?1:Math.max(0,Math.min(1,q)),(q===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(q===1?")":", "+q+")")}function ir(q){return q=Math.max(0,Math.min(255,Math.round(q)||0)),(q<16?"0":"")+q.toString(16)}function or(q,Q,$,ot){return ot<=0?q=Q=$=NaN:$<=0||$>=1?q=Q=NaN:Q<=0&&(q=NaN),new Ar(q,Q,$,ot)}function Or(q){if(q instanceof Ar)return new Ar(q.h,q.s,q.l,q.opacity);if(q instanceof Pr||(q=rn(q)),!q)return new Ar;if(q instanceof Ar)return q;q=q.rgb();var Q=q.r/255,$=q.g/255,ot=q.b/255,_t=Math.min(Q,$,ot),Xt=Math.max(Q,$,ot),ae=NaN,oe=Xt-_t,ye=(Xt+_t)/2;return oe?(Q===Xt?ae=($-ot)/oe+($<ot)*6:$===Xt?ae=(ot-Q)/oe+2:ae=(Q-$)/oe+4,oe/=ye<.5?Xt+_t:2-Xt-_t,ae*=60):oe=ye>0&&ye<1?0:ae,new Ar(ae,oe,ye,q.opacity)}function Cr(q,Q,$,ot){return arguments.length===1?Or(q):new Ar(q,Q,$,ot==null?1:ot)}function Ar(q,Q,$,ot){this.h=+q,this.s=+Q,this.l=+$,this.opacity=+ot}un(Ar,Cr,Qr(Pr,{brighter:function(q){return q=q==null?wn:Math.pow(wn,q),new Ar(this.h,this.s,this.l*q,this.opacity)},darker:function(q){return q=q==null?Hr:Math.pow(Hr,q),new Ar(this.h,this.s,this.l*q,this.opacity)},rgb:function(){var q=this.h%360+(this.h<0)*360,Q=isNaN(q)||isNaN(this.s)?0:this.s,$=this.l,ot=$+($<.5?$:1-$)*Q,_t=2*$-ot;return new Ce(hn(q>=240?q-240:q+120,_t,ot),hn(q,_t,ot),hn(q<120?q+240:q-120,_t,ot),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var q=this.opacity;return q=isNaN(q)?1:Math.max(0,Math.min(1,q)),(q===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(q===1?")":", "+q+")")}}));function hn(q,Q,$){return(q<60?Q+($-Q)*q/60:q<180?$:q<240?Q+($-Q)*(240-q)/60:Q)*255}function sn(q,Q,$,ot,_t){var Xt=q*q,ae=Xt*q;return((1-3*q+3*Xt-ae)*Q+(4-6*Xt+3*ae)*$+(1+3*q+3*Xt-3*ae)*ot+ae*_t)/6}function Jr(q){var Q=q.length-1;return function($){var ot=$<=0?$=0:$>=1?($=1,Q-1):Math.floor($*Q),_t=q[ot],Xt=q[ot+1],ae=ot>0?q[ot-1]:2*_t-Xt,oe=ot<Q-1?q[ot+2]:2*Xt-_t;return sn(($-ot/Q)*Q,ae,_t,Xt,oe)}}function ln(q){var Q=q.length;return function($){var ot=Math.floor((($%=1)<0?++$:$)*Q),_t=q[(ot+Q-1)%Q],Xt=q[ot%Q],ae=q[(ot+1)%Q],oe=q[(ot+2)%Q];return sn(($-ot/Q)*Q,_t,Xt,ae,oe)}}function Fn(q){return function(){return q}}function kn(q,Q){return function($){return q+$*Q}}function Jn(q,Q,$){return q=Math.pow(q,$),Q=Math.pow(Q,$)-q,$=1/$,function(ot){return Math.pow(q+ot*Q,$)}}function Rn(q,Q){var $=Q-q;return $?kn(q,$>180||$<-180?$-360*Math.round($/360):$):constant(isNaN(q)?Q:q)}function Ai(q){return(q=+q)==1?ti:function(Q,$){return $-Q?Jn(Q,$,q):Fn(isNaN(Q)?$:Q)}}function ti(q,Q){var $=Q-q;return $?kn(q,$):Fn(isNaN(q)?Q:q)}var Sr=function q(Q){var $=Ai(Q);function ot(_t,Xt){var ae=$((_t=se(_t)).r,(Xt=se(Xt)).r),oe=$(_t.g,Xt.g),ye=$(_t.b,Xt.b),ze=ti(_t.opacity,Xt.opacity);return function(We){return _t.r=ae(We),_t.g=oe(We),_t.b=ye(We),_t.opacity=ze(We),_t+""}}return ot.gamma=q,ot}(1);function ii(q){return function(Q){var $=Q.length,ot=new Array($),_t=new Array($),Xt=new Array($),ae,oe;for(ae=0;ae<$;++ae)oe=se(Q[ae]),ot[ae]=oe.r||0,_t[ae]=oe.g||0,Xt[ae]=oe.b||0;return ot=q(ot),_t=q(_t),Xt=q(Xt),oe.opacity=1,function(ye){return oe.r=ot(ye),oe.g=_t(ye),oe.b=Xt(ye),oe+""}}}var ea=ii(Jr),yn=ii(ln);function Ti(q,Q){Q||(Q=[]);var $=q?Math.min(Q.length,q.length):0,ot=Q.slice(),_t;return function(Xt){for(_t=0;_t<$;++_t)ot[_t]=q[_t]*(1-Xt)+Q[_t]*Xt;return ot}}function _i(q){return ArrayBuffer.isView(q)&&!(q instanceof DataView)}function ai(q,Q){return(_i(Q)?Ti:Oi)(q,Q)}function Oi(q,Q){var $=Q?Q.length:0,ot=q?Math.min($,q.length):0,_t=new Array(ot),Xt=new Array($),ae;for(ae=0;ae<ot;++ae)_t[ae]=oi(q[ae],Q[ae]);for(;ae<$;++ae)Xt[ae]=Q[ae];return function(oe){for(ae=0;ae<ot;++ae)Xt[ae]=_t[ae](oe);return Xt}}function ca(q,Q){var $=new Date;return q=+q,Q=+Q,function(ot){return $.setTime(q*(1-ot)+Q*ot),$}}function zi(q,Q){return q=+q,Q=+Q,function($){return q*(1-$)+Q*$}}function mi(q,Q){var $={},ot={},_t;(q===null||typeof q!="object")&&(q={}),(Q===null||typeof Q!="object")&&(Q={});for(_t in Q)_t in q?$[_t]=oi(q[_t],Q[_t]):ot[_t]=Q[_t];return function(Xt){for(_t in $)ot[_t]=$[_t](Xt);return ot}}var xi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,In=new RegExp(xi.source,"g");function Ki(q){return function(){return q}}function Li(q){return function(Q){return q(Q)+""}}function Ii(q,Q){var $=xi.lastIndex=In.lastIndex=0,ot,_t,Xt,ae=-1,oe=[],ye=[];for(q=q+"",Q=Q+"";(ot=xi.exec(q))&&(_t=In.exec(Q));)(Xt=_t.index)>$&&(Xt=Q.slice($,Xt),oe[ae]?oe[ae]+=Xt:oe[++ae]=Xt),(ot=ot[0])===(_t=_t[0])?oe[ae]?oe[ae]+=_t:oe[++ae]=_t:(oe[++ae]=null,ye.push({i:ae,x:zi(ot,_t)})),$=In.lastIndex;return $<Q.length&&(Xt=Q.slice($),oe[ae]?oe[ae]+=Xt:oe[++ae]=Xt),oe.length<2?ye[0]?Li(ye[0].x):Ki(Q):(Q=ye.length,function(ze){for(var We=0,It;We<Q;++We)oe[(It=ye[We]).i]=It.x(ze);return oe.join("")})}function oi(q,Q){var $=typeof Q,ot;return Q==null||$==="boolean"?Fn(Q):($==="number"?zi:$==="string"?(ot=rn(Q))?(Q=ot,Sr):Ii:Q instanceof rn?Sr:Q instanceof Date?ca:_i(Q)?Ti:Array.isArray(Q)?Oi:typeof Q.valueOf!="function"&&typeof Q.toString!="function"||isNaN(Q)?mi:zi)(q,Q)}var ra=function(q){return["fill","stroke","fillStyle","strokeStyle"].includes(q)},na=function(q){return/^[r,R,L,l]{1}[\s]*\(/.test(q)},Da=[1,0,0,0,1,0,0,0,1];function va(q,Q,$){var ot={},_t=Q.fromAttrs,Xt=Q.toAttrs;if(!q.destroyed){var ae;for(var oe in Xt)if(!(0,O.isEqual)(_t[oe],Xt[oe]))if(oe==="path"){var ye=Xt[oe],ze=_t[oe];ye.length>ze.length?(ye=A(Xt[oe]),ze=A(_t[oe]),ze=u(ze,ye),ze=V(ze,ye),Q.fromAttrs.path=ze,Q.toAttrs.path=ye):Q.pathFormatted||(ye=A(Xt[oe]),ze=A(_t[oe]),ze=V(ze,ye),Q.fromAttrs.path=ze,Q.toAttrs.path=ye,Q.pathFormatted=!0),ot[oe]=[];for(var We=0;We<ye.length;We++){for(var It=ye[We],$t=ze[We],le=[],fe=0;fe<It.length;fe++)(0,O.isNumber)(It[fe])&&$t&&(0,O.isNumber)($t[fe])?(ae=oi($t[fe],It[fe]),le.push(ae($))):le.push(It[fe]);ot[oe].push(le)}}else if(oe==="matrix"){var Ie=ai(_t[oe]||Da,Xt[oe]||Da),$e=Ie($);ot[oe]=$e}else ra(oe)&&na(Xt[oe])?ot[oe]=Xt[oe]:(0,O.isFunction)(Xt[oe])||(ae=oi(_t[oe],Xt[oe]),ot[oe]=ae($));q.attr(ot)}}function wa(q,Q,$){var ot=Q.startTime,_t=Q.delay;if($<ot+_t||Q._paused)return!1;var Xt,ae=Q.duration,oe=Q.easing;if($=$-ot-Q.delay,Q.repeat)Xt=$%ae/ae,Xt=hr[oe](Xt);else if(Xt=$/ae,Xt<1)Xt=hr[oe](Xt);else return Q.onFrame?q.attr(Q.onFrame(1)):q.attr(Q.toAttrs),!0;if(Q.onFrame){var ye=Q.onFrame(Xt);q.attr(ye)}else va(q,Q,Xt);return!1}var Sa=function(){function q(Q){this.animators=[],this.current=0,this.timer=null,this.canvas=Q}return q.prototype.initTimer=function(){var Q=this,$=!1,ot,_t,Xt;this.timer=dr(function(ae){if(Q.current=ae,Q.animators.length>0){for(var oe=Q.animators.length-1;oe>=0;oe--){if(ot=Q.animators[oe],ot.destroyed){Q.removeAnimator(oe);continue}if(!ot.isAnimatePaused()){_t=ot.get("animations");for(var ye=_t.length-1;ye>=0;ye--)Xt=_t[ye],$=wa(ot,Xt,ae),$&&(_t.splice(ye,1),$=!1,Xt.callback&&Xt.callback())}_t.length===0&&Q.removeAnimator(oe)}var ze=Q.canvas.get("autoDraw");ze||Q.canvas.draw()}})},q.prototype.addAnimator=function(Q){this.animators.push(Q)},q.prototype.removeAnimator=function(Q){this.animators.splice(Q,1)},q.prototype.isAnimating=function(){return!!this.animators.length},q.prototype.stop=function(){this.timer&&this.timer.stop()},q.prototype.stopAllAnimations=function(Q){Q===void 0&&(Q=!0),this.animators.forEach(function($){$.stopAnimate(Q)}),this.animators=[],this.canvas.draw()},q.prototype.getTime=function(){return this.current},q}(),qn=Sa,Ma=40,da=0,$i=":",Xi=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function zr(q,Q){for(var $ in q)if(q.hasOwnProperty($)&&$.indexOf($i+Q)>=0)return!0;return!1}function ui(q,Q,$){$.name=Q,$.target=q,$.currentTarget=q,$.delegateTarget=q,q.emit(Q,$)}function Nn(q,Q,$){if($.bubbles){var ot=void 0,_t=!1;if(Q==="mouseenter"?(ot=$.fromShape,_t=!0):Q==="mouseleave"&&(_t=!0,ot=$.toShape),q.isCanvas()&&_t)return;if(ot&&re(q,ot)){$.bubbles=!1;return}$.name=Q,$.currentTarget=q,$.delegateTarget=q,q.emit(Q,$)}}var cn=function(){function q(Q){var $=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(ot){var _t=ot.type;$._triggerEvent(_t,ot)},this._onDocumentMove=function(ot){var _t=$.canvas,Xt=_t.get("el");if(Xt!==ot.target&&($.dragging||$.currentShape)){var ae=$._getPointInfo(ot);$.dragging&&$._emitEvent("drag",ot,ae,$.draggingShape)}},this._onDocumentMouseUp=function(ot){var _t=$.canvas,Xt=_t.get("el");if(Xt!==ot.target&&$.dragging){var ae=$._getPointInfo(ot);$.draggingShape&&$._emitEvent("drop",ot,ae,null),$._emitEvent("dragend",ot,ae,$.draggingShape),$._afterDrag($.draggingShape,ae,ot)}},this.canvas=Q.canvas}return q.prototype.init=function(){this._bindEvents()},q.prototype._bindEvents=function(){var Q=this,$=this.canvas.get("el");(0,ft.default)(Xi,function(ot){$.addEventListener(ot,Q._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},q.prototype._clearEvents=function(){var Q=this,$=this.canvas.get("el");(0,ft.default)(Xi,function(ot){$.removeEventListener(ot,Q._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},q.prototype._getEventObj=function(Q,$,ot,_t,Xt,ae){var oe=new et(Q,$);return oe.fromShape=Xt,oe.toShape=ae,oe.x=ot.x,oe.y=ot.y,oe.clientX=ot.clientX,oe.clientY=ot.clientY,oe.propagationPath.push(_t),oe},q.prototype._getShape=function(Q,$){return this.canvas.getShape(Q.x,Q.y,$)},q.prototype._getPointInfo=function(Q){var $=this.canvas,ot=$.getClientByEvent(Q),_t=$.getPointByEvent(Q);return{x:_t.x,y:_t.y,clientX:ot.x,clientY:ot.y}},q.prototype._triggerEvent=function(Q,$){var ot=this._getPointInfo($),_t=this._getShape(ot,$),Xt=this["_on"+Q],ae=!1;if(Xt)Xt.call(this,ot,_t,$);else{var oe=this.currentShape;Q==="mouseenter"||Q==="dragenter"||Q==="mouseover"?(this._emitEvent(Q,$,ot,null,null,_t),_t&&this._emitEvent(Q,$,ot,_t,null,_t),Q==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",$,ot,null)):Q==="mouseleave"||Q==="dragleave"||Q==="mouseout"?(ae=!0,oe&&this._emitEvent(Q,$,ot,oe,oe,null),this._emitEvent(Q,$,ot,null,oe,null),Q==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",$,ot,null)):this._emitEvent(Q,$,ot,_t,null,null)}if(ae||(this.currentShape=_t),_t&&!_t.get("destroyed")){var ye=this.canvas,ze=ye.get("el");ze.style.cursor=_t.attr("cursor")||ye.get("cursor")}},q.prototype._onmousedown=function(Q,$,ot){ot.button===da&&(this.mousedownShape=$,this.mousedownPoint=Q,this.mousedownTimeStamp=ot.timeStamp),this._emitEvent("mousedown",ot,Q,$,null,null)},q.prototype._emitMouseoverEvents=function(Q,$,ot,_t){var Xt=this.canvas.get("el");ot!==_t&&(ot&&(this._emitEvent("mouseout",Q,$,ot,ot,_t),this._emitEvent("mouseleave",Q,$,ot,ot,_t),(!_t||_t.get("destroyed"))&&(Xt.style.cursor=this.canvas.get("cursor"))),_t&&(this._emitEvent("mouseover",Q,$,_t,ot,_t),this._emitEvent("mouseenter",Q,$,_t,ot,_t)))},q.prototype._emitDragoverEvents=function(Q,$,ot,_t,Xt){_t?(_t!==ot&&(ot&&this._emitEvent("dragleave",Q,$,ot,ot,_t),this._emitEvent("dragenter",Q,$,_t,ot,_t)),Xt||this._emitEvent("dragover",Q,$,_t)):ot&&this._emitEvent("dragleave",Q,$,ot,ot,_t),Xt&&this._emitEvent("dragover",Q,$,_t)},q.prototype._afterDrag=function(Q,$,ot){Q&&(Q.set("capture",!0),this.draggingShape=null),this.dragging=!1;var _t=this._getShape($,ot);_t!==Q&&this._emitMouseoverEvents(ot,$,Q,_t),this.currentShape=_t},q.prototype._onmouseup=function(Q,$,ot){if(ot.button===da){var _t=this.draggingShape;this.dragging?(_t&&this._emitEvent("drop",ot,Q,$),this._emitEvent("dragend",ot,Q,_t),this._afterDrag(_t,Q,ot)):(this._emitEvent("mouseup",ot,Q,$),$===this.mousedownShape&&this._emitEvent("click",ot,Q,$),this.mousedownShape=null,this.mousedownPoint=null)}},q.prototype._ondragover=function(Q,$,ot){ot.preventDefault();var _t=this.currentShape;this._emitDragoverEvents(ot,Q,_t,$,!0)},q.prototype._onmousemove=function(Q,$,ot){var _t=this.canvas,Xt=this.currentShape,ae=this.draggingShape;if(this.dragging)ae&&this._emitDragoverEvents(ot,Q,Xt,$,!1),this._emitEvent("drag",ot,Q,ae);else{var oe=this.mousedownPoint;if(oe){var ye=this.mousedownShape,ze=ot.timeStamp,We=ze-this.mousedownTimeStamp,It=oe.clientX-Q.clientX,$t=oe.clientY-Q.clientY,le=It*It+$t*$t;We>120||le>Ma?ye&&ye.get("draggable")?(ae=this.mousedownShape,ae.set("capture",!1),this.draggingShape=ae,this.dragging=!0,this._emitEvent("dragstart",ot,Q,ae),this.mousedownShape=null,this.mousedownPoint=null):!ye&&_t.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",ot,Q,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(ot,Q,Xt,$),this._emitEvent("mousemove",ot,Q,$)):(this._emitMouseoverEvents(ot,Q,Xt,$),this._emitEvent("mousemove",ot,Q,$))}else this._emitMouseoverEvents(ot,Q,Xt,$),this._emitEvent("mousemove",ot,Q,$)}},q.prototype._emitEvent=function(Q,$,ot,_t,Xt,ae){var oe=this._getEventObj(Q,$,ot,_t,Xt,ae);if(_t){oe.shape=_t,ui(_t,Q,oe);for(var ye=_t.getParent();ye;)ye.emitDelegation(Q,oe),oe.propagationStopped||Nn(ye,Q,oe),oe.propagationPath.push(ye),ye=ye.getParent()}else{var ze=this.canvas;ui(ze,Q,oe)}},q.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},q}(),Vi=cn,vn="px",Hi=(0,Be.detect)(),Qt=Hi&&Hi.name==="firefox",wt=function(q){(0,ht.__extends)(Q,q);function Q($){var ot=q.call(this,$)||this;return ot.initContainer(),ot.initDom(),ot.initEvents(),ot.initTimeline(),ot}return Q.prototype.getDefaultCfg=function(){var $=q.prototype.getDefaultCfg.call(this);return $.cursor="default",$.supportCSSTransform=!1,$},Q.prototype.initContainer=function(){var $=this.get("container");(0,xt.default)($)&&($=document.getElementById($),this.set("container",$))},Q.prototype.initDom=function(){var $=this.createDom();this.set("el",$);var ot=this.get("container");ot.appendChild($),this.setDOMSize(this.get("width"),this.get("height"))},Q.prototype.initEvents=function(){var $=new Vi({canvas:this});$.init(),this.set("eventController",$)},Q.prototype.initTimeline=function(){var $=new qn(this);this.set("timeline",$)},Q.prototype.setDOMSize=function($,ot){var _t=this.get("el");Rt&&(_t.style.width=$+vn,_t.style.height=ot+vn)},Q.prototype.changeSize=function($,ot){this.setDOMSize($,ot),this.set("width",$),this.set("height",ot),this.onCanvasChange("changeSize")},Q.prototype.getRenderer=function(){return this.get("renderer")},Q.prototype.getCursor=function(){return this.get("cursor")},Q.prototype.setCursor=function($){this.set("cursor",$);var ot=this.get("el");Rt&&ot&&(ot.style.cursor=$)},Q.prototype.getPointByEvent=function($){var ot=this.get("supportCSSTransform");if(ot){if(Qt&&!(0,bt.default)($.layerX)&&$.layerX!==$.offsetX)return{x:$.layerX,y:$.layerY};if(!(0,bt.default)($.offsetX))return{x:$.offsetX,y:$.offsetY}}var _t=this.getClientByEvent($),Xt=_t.x,ae=_t.y;return this.getPointByClient(Xt,ae)},Q.prototype.getClientByEvent=function($){var ot=$;return $.touches&&($.type==="touchend"?ot=$.changedTouches[0]:ot=$.touches[0]),{x:ot.clientX,y:ot.clientY}},Q.prototype.getPointByClient=function($,ot){var _t=this.get("el"),Xt=_t.getBoundingClientRect();return{x:$-Xt.left,y:ot-Xt.top}},Q.prototype.getClientByPoint=function($,ot){var _t=this.get("el"),Xt=_t.getBoundingClientRect();return{x:$+Xt.left,y:ot+Xt.top}},Q.prototype.draw=function(){},Q.prototype.removeDom=function(){var $=this.get("el");$.parentNode.removeChild($)},Q.prototype.clearEvents=function(){var $=this.get("eventController");$.destroy()},Q.prototype.isCanvas=function(){return!0},Q.prototype.getParent=function(){return null},Q.prototype.destroy=function(){var $=this.get("timeline");this.get("destroyed")||(this.clear(),$&&$.stop(),this.clearEvents(),this.removeDom(),q.prototype.destroy.call(this))},Q}(Pt),z=wt,nt=function(q){(0,ht.__extends)(Q,q);function Q(){return q!==null&&q.apply(this,arguments)||this}return Q.prototype.isGroup=function(){return!0},Q.prototype.isEntityGroup=function(){return!1},Q.prototype.clone=function(){for(var $=q.prototype.clone.call(this),ot=this.getChildren(),_t=0;_t<ot.length;_t++){var Xt=ot[_t];$.add(Xt.clone())}return $},Q}(Pt),vt=nt,Lt=function(q){(0,ht.__extends)(Q,q);function Q($){return q.call(this,$)||this}return Q.prototype._isInBBox=function($,ot){var _t=this.getBBox();return _t.minX<=$&&_t.maxX>=$&&_t.minY<=ot&&_t.maxY>=ot},Q.prototype.afterAttrsChange=function($){q.prototype.afterAttrsChange.call(this,$),this.clearCacheBBox()},Q.prototype.getBBox=function(){var $=this.get("bbox");return $||($=this.calculateBBox(),this.set("bbox",$)),$},Q.prototype.getCanvasBBox=function(){var $=this.get("canvasBox");return $||($=this.calculateCanvasBBox(),this.set("canvasBox",$)),$},Q.prototype.applyMatrix=function($){q.prototype.applyMatrix.call(this,$),this.set("canvasBox",null)},Q.prototype.calculateCanvasBBox=function(){var $=this.getBBox(),ot=this.getTotalMatrix(),_t=$.minX,Xt=$.minY,ae=$.maxX,oe=$.maxY;if(ot){var ye=ar(ot,[$.minX,$.minY]),ze=ar(ot,[$.maxX,$.minY]),We=ar(ot,[$.minX,$.maxY]),It=ar(ot,[$.maxX,$.maxY]);_t=Math.min(ye[0],ze[0],We[0],It[0]),ae=Math.max(ye[0],ze[0],We[0],It[0]),Xt=Math.min(ye[1],ze[1],We[1],It[1]),oe=Math.max(ye[1],ze[1],We[1],It[1])}var $t=this.attrs;if($t.shadowColor){var le=$t.shadowBlur,fe=le===void 0?0:le,Ie=$t.shadowOffsetX,$e=Ie===void 0?0:Ie,br=$t.shadowOffsetY,Lr=br===void 0?0:br,Tr=_t-fe+$e,gr=ae+fe+$e,Ur=Xt-fe+Lr,Yn=oe+fe+Lr;_t=Math.min(_t,Tr),ae=Math.max(ae,gr),Xt=Math.min(Xt,Ur),oe=Math.max(oe,Yn)}return{x:_t,y:Xt,minX:_t,minY:Xt,maxX:ae,maxY:oe,width:ae-_t,height:oe-Xt}},Q.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBox",null)},Q.prototype.isClipShape=function(){return this.get("isClipShape")},Q.prototype.isInShape=function($,ot){return!1},Q.prototype.isOnlyHitBox=function(){return!1},Q.prototype.isHit=function($,ot){var _t=this.get("startArrowShape"),Xt=this.get("endArrowShape"),ae=[$,ot,1];ae=this.invertFromMatrix(ae);var oe=ae[0],ye=ae[1],ze=this._isInBBox(oe,ye);return this.isOnlyHitBox()?ze:!!(ze&&!this.isClipped(oe,ye)&&(this.isInShape(oe,ye)||_t&&_t.isHit(oe,ye)||Xt&&Xt.isHit(oe,ye)))},Q}(he),Ht=Lt,qt=d(76062),ge=qt.version},40455:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(b){var O=b.attr(),I=O.x,_=O.y,T=O.r;return{x:I-T,y:_-T,width:T*2,height:T*2}}S.default=d},27633:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(b){var O=b.attr(),I=O.x,_=O.y,T=O.rx,A=O.ry;return{x:I-T,y:_-A,width:T*2,height:A*2}}S.default=d},41056:function(dt,S,d){"use strict";var b;b={value:!0};var O=d(28648);S.b=O.getMethod;var I=d(3541),_=d(40455),T=d(10687),A=d(19914),C=d(92933),E=d(89372),p=d(74461),w=d(27633);O.register("rect",I.default),O.register("image",I.default),O.register("circle",_.default),O.register("marker",_.default),O.register("polyline",T.default),O.register("polygon",A.default),O.register("text",C.default),O.register("path",E.default),O.register("line",p.default),O.register("ellipse",w.default)},74461:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(3406);function O(I){var _=I.attr(),T=_.x1,A=_.y1,C=_.x2,E=_.y2,p=Math.min(T,C),w=Math.max(T,C),y=Math.min(A,E),m=Math.max(A,E),g={minX:p,maxX:w,minY:y,maxY:m};return g=b.mergeArrowBBox(I,g),{x:g.minX,y:g.minY,width:g.maxX-g.minX,height:g.maxY-g.minY}}S.default=O},89372:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(2879),O=d(15730),I=d(33418),_=d(49274),T=d(39984),A=d(3406);function C(w,y){for(var m=[],g=[],M=[],L=0;L<w.length;L++){var B=w[L],N=B.currentPoint,j=B.params,tt=B.prePoint,H=void 0;switch(B.command){case"Q":H=b.default.box(tt[0],tt[1],j[1],j[2],j[3],j[4]);break;case"C":H=O.default.box(tt[0],tt[1],j[1],j[2],j[3],j[4],j[5],j[6]);break;case"A":var J=B.arcParams;H=I.default.box(J.cx,J.cy,J.rx,J.ry,J.xRotation,J.startAngle,J.endAngle);break;default:m.push(N[0]),g.push(N[1]);break}H&&(B.box=H,m.push(H.x,H.x+H.width),g.push(H.y,H.y+H.height)),y&&(B.command==="L"||B.command==="M")&&B.prePoint&&B.nextPoint&&M.push(B)}m=m.filter(function(Tt){return!Number.isNaN(Tt)}),g=g.filter(function(Tt){return!Number.isNaN(Tt)});var ct=Math.min.apply(null,m),ut=Math.min.apply(null,g),At=Math.max.apply(null,m),St=Math.max.apply(null,g);if(M.length===0)return{x:ct,y:ut,width:At-ct,height:St-ut};for(var L=0;L<M.length;L++){var B=M[L],N=B.currentPoint,Yt=void 0;N[0]===ct?(Yt=E(B,y),ct=ct-Yt.xExtra):N[0]===At&&(Yt=E(B,y),At=At+Yt.xExtra),N[1]===ut?(Yt=E(B,y),ut=ut-Yt.yExtra):N[1]===St&&(Yt=E(B,y),St=St+Yt.yExtra)}return{x:ct,y:ut,width:At-ct,height:St-ut}}function E(w,y){var m=w.prePoint,g=w.currentPoint,M=w.nextPoint,L=Math.pow(g[0]-m[0],2)+Math.pow(g[1]-m[1],2),B=Math.pow(g[0]-M[0],2)+Math.pow(g[1]-M[1],2),N=Math.pow(m[0]-M[0],2)+Math.pow(m[1]-M[1],2),j=Math.acos((L+B-N)/(2*Math.sqrt(L)*Math.sqrt(B)));if(!j||Math.sin(j)===0||T.default(j,0))return{xExtra:0,yExtra:0};var tt=Math.abs(Math.atan2(M[1]-g[1],M[0]-g[0])),H=Math.abs(Math.atan2(M[0]-g[0],M[1]-g[1]));tt=tt>Math.PI/2?Math.PI-tt:tt,H=H>Math.PI/2?Math.PI-H:H;var J={xExtra:Math.cos(j/2-tt)*(y/2*(1/Math.sin(j/2)))-y/2||0,yExtra:Math.cos(H-j/2)*(y/2*(1/Math.sin(j/2)))-y/2||0};return J}function p(w){var y=w.attr(),m=y.path,g=y.stroke,M=g?y.lineWidth:0,L=w.get("segments")||_.default(m),B=C(L,M),N=B.x,j=B.y,tt=B.width,H=B.height,J={minX:N,minY:j,maxX:N+tt,maxY:j+H};return J=A.mergeArrowBBox(w,J),{x:J.minX,y:J.minY,width:J.maxX-J.minX,height:J.maxY-J.minY}}S.default=p},19914:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(76256);function O(I){for(var _=I.attr(),T=_.points,A=[],C=[],E=0;E<T.length;E++){var p=T[E];A.push(p[0]),C.push(p[1])}return b.getBBoxByArray(A,C)}S.default=O},10687:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(76256),O=d(3406);function I(_){for(var T=_.attr(),A=T.points,C=[],E=[],p=0;p<A.length;p++){var w=A[p];C.push(w[0]),E.push(w[1])}var y=b.getBBoxByArray(C,E),m=y.x,g=y.y,M=y.width,L=y.height,B={minX:m,minY:g,maxX:m+M,maxY:g+L};return B=O.mergeArrowBBox(_,B),{x:B.minX,y:B.minY,width:B.maxX-B.minX,height:B.maxY-B.minY}}S.default=I},3541:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(b){var O=b.attr(),I=O.x,_=O.y,T=O.width,A=O.height;return{x:I,y:_,width:T,height:A}}S.default=d},28648:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=new Map;function b(I,_){d.set(I,_)}S.register=b;function O(I){return d.get(I)}S.getMethod=O},92933:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(8914);function O(I){var _=I.attr(),T=_.x,A=_.y,C=_.text,E=_.fontSize,p=_.lineHeight,w=_.font;w||(w=b.assembleFont(_));var y=b.getTextWidth(C,w),m;if(!y)m={x:T,y:A,width:0,height:0};else{var g=_.textAlign,M=_.textBaseline,L=b.getTextHeight(C,E,p),B={x:T,y:A-L};g&&(g==="end"||g==="right"?B.x-=y:g==="center"&&(B.x-=y/2)),M&&(M==="top"?B.y+=L:M==="middle"&&(B.y+=L/2)),m={x:B.x,y:B.y,width:y,height:L}}return m}S.default=O},3406:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(O,I){return!O||!I?O||I:{minX:Math.min(O.minX,I.minX),minY:Math.min(O.minY,I.minY),maxX:Math.max(O.maxX,I.maxX),maxY:Math.max(O.maxY,I.maxY)}}S.mergeBBox=d;function b(O,I){var _=O.get("startArrowShape"),T=O.get("endArrowShape"),A=null,C=null;return _&&(A=_.getCanvasBBox(),I=d(I,A)),T&&(C=T.getCanvasBBox(),I=d(I,C)),I}S.mergeArrowBBox=b},66192:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function b(O,I){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=O,this.name=O,this.originalEvent=I,this.timeStamp=I.timeStamp}return b.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},b.prototype.stopPropagation=function(){this.propagationStopped=!0},b.prototype.toString=function(){var O=this.type;return"[Event (type="+O+")]"},b.prototype.save=function(){},b.prototype.restore=function(){},b}();S.default=d},85424:function(dt,S){"use strict";var d;d={value:!0}},4555:function(dt,S){"use strict";Object.defineProperty(S,"X",{value:!0})},6052:function(dt,S){"use strict";var d;d={value:!0};function b(_,T){var A=[],C=_[0],E=_[1],p=_[2],w=_[3],y=_[4],m=_[5],g=_[6],M=_[7],L=_[8],B=T[0],N=T[1],j=T[2],tt=T[3],H=T[4],J=T[5],ct=T[6],ut=T[7],At=T[8];return A[0]=B*C+N*w+j*g,A[1]=B*E+N*y+j*M,A[2]=B*p+N*m+j*L,A[3]=tt*C+H*w+J*g,A[4]=tt*E+H*y+J*M,A[5]=tt*p+H*m+J*L,A[6]=ct*C+ut*w+At*g,A[7]=ct*E+ut*y+At*M,A[8]=ct*p+ut*m+At*L,A}d=b;function O(_,T){var A=[],C=T[0],E=T[1];return A[0]=_[0]*C+_[3]*E+_[6],A[1]=_[1]*C+_[4]*E+_[7],A}S.rG=O;function I(_){var T=[],A=_[0],C=_[1],E=_[2],p=_[3],w=_[4],y=_[5],m=_[6],g=_[7],M=_[8],L=M*w-y*g,B=-M*p+y*m,N=g*p-w*m,j=A*L+C*B+E*N;return j?(j=1/j,T[0]=L*j,T[1]=(-M*C+E*g)*j,T[2]=(y*C-E*w)*j,T[3]=B*j,T[4]=(M*A-E*m)*j,T[5]=(-y*A+E*p)*j,T[6]=N*j,T[7]=(-g*A+C*m)*j,T[8]=(w*A-C*p)*j,T):null}S.U_=I},26632:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=null;function b(){if(!d){var O=document.createElement("canvas");O.width=1,O.height=1,d=O.getContext("2d")}return d}S.getOffScreenContext=b},8914:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(22487),O=d(26632);function I(C,E,p){var w=1;if(b.isString(C)&&(w=C.split(`
`).length),w>1){var y=_(E,p);return E*w+y*(w-1)}return E}S.getTextHeight=I;function _(C,E){return E?E-C:C*.14}S.getLineSpaceing=_;function T(C,E){var p=O.getOffScreenContext(),w=0;if(b.isNil(C)||C==="")return w;if(p.save(),p.font=E,b.isString(C)&&C.includes(`
`)){var y=C.split(`
`);b.each(y,function(m){var g=p.measureText(m).width;w<g&&(w=g)})}else w=p.measureText(C).width;return p.restore(),w}S.getTextWidth=T;function A(C){var E=C.fontSize,p=C.fontFamily,w=C.fontWeight,y=C.fontStyle,m=C.fontVariant;return[y,m,w,E+"px",p].join(" ").trim()}S.assembleFont=A},22487:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function b(m,g){var M=m.indexOf(g);M!==-1&&m.splice(M,1)}S.removeFromArray=b,S.isBrowser=typeof window!="undefined"&&typeof window.document!="undefined";var O=d(73890);S.isNil=O.default;var I=d(46812);S.isFunction=I.default;var _=d(21830);S.isString=_.default;var T=d(33643);S.isObject=T.default;var A=d(66631);S.isArray=A.default;var C=d(66974);S.mix=C.default;var E=d(27154);S.each=E.default;var p=d(85260);S.upperFirst=p.default;function w(m,g){if(m.isCanvas())return!0;for(var M=g.getParent(),L=!1;M;){if(M===m){L=!0;break}M=M.getParent()}return L}S.isParent=w;function y(m){return m.cfg.visible&&m.cfg.capture}S.isAllowCapture=y},76062:function(dt){"use strict";dt.exports=JSON.parse('{"name":"@antv/g-base","version":"0.4.7","description":"A common util collection for antv projects","main":"lib/index.js","module":"esm/index.js","types":"lib/index.d.ts","files":["package.json","esm","lib","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","clean":"rm -rf esm lib","watch:cjs":"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/util.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/util/issues"},"devDependencies":{"@antv/torch":"^1.0.0","gl-matrix":"^3.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","tsc-watch":"^4.0.0"},"homepage":"https://github.com/antvis/util#readme","dependencies":{"@antv/event-emitter":"^0.1.1","@antv/g-math":"^0.1.3","@antv/matrix-util":"^3.1.0-beta.1","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","@types/d3-timer":"^1.0.9","d3-ease":"^1.0.5","d3-interpolate":"^1.3.2","d3-timer":"^1.0.9","detect-browser":"^5.1.0"},"__npminstall_done":false,"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a"}')},84909:function(dt,S,d){"use strict";var b;b={value:!0};var O=d(48465);function I(C){return Math.sqrt(C[0]*C[0]+C[1]*C[1])}function _(C,E){return I(C)*I(E)?(C[0]*E[0]+C[1]*E[1])/(I(C)*I(E)):1}function T(C,E){return(C[0]*E[1]<C[1]*E[0]?-1:1)*Math.acos(_(C,E))}function A(C,E){var p=E[1],w=E[2],y=O.mod(O.toRadian(E[3]),Math.PI*2),m=E[4],g=E[5],M=C[0],L=C[1],B=E[6],N=E[7],j=Math.cos(y)*(M-B)/2+Math.sin(y)*(L-N)/2,tt=-1*Math.sin(y)*(M-B)/2+Math.cos(y)*(L-N)/2,H=j*j/(p*p)+tt*tt/(w*w);H>1&&(p*=Math.sqrt(H),w*=Math.sqrt(H));var J=p*p*(tt*tt)+w*w*(j*j),ct=J?Math.sqrt((p*p*(w*w)-J)/J):1;m===g&&(ct*=-1),isNaN(ct)&&(ct=0);var ut=w?ct*p*tt/w:0,At=p?ct*-w*j/p:0,St=(M+B)/2+Math.cos(y)*ut-Math.sin(y)*At,Yt=(L+N)/2+Math.sin(y)*ut+Math.cos(y)*At,Tt=[(j-ut)/p,(tt-At)/w],Dt=[(-1*j-ut)/p,(-1*tt-At)/w],Bt=T([1,0],Tt),Et=T(Tt,Dt);return _(Tt,Dt)<=-1&&(Et=Math.PI),_(Tt,Dt)>=1&&(Et=0),g===0&&Et>0&&(Et=Et-2*Math.PI),g===1&&Et<0&&(Et=Et+2*Math.PI),{cx:St,cy:Yt,rx:O.isSamePoint(C,[B,N])?0:p,ry:O.isSamePoint(C,[B,N])?0:w,startAngle:Bt,endAngle:Bt+Et,xRotation:y,arcFlag:m,sweepFlag:g}}S.Z=A},48465:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.isSamePoint=S.mergeRegion=S.intersectRect=S.inBox=S.distance=S.getPixelRatio=void 0;function b(){return window?window.devicePixelRatio:1}S.getPixelRatio=b;function O(N,j,tt,H){var J=N-tt,ct=j-H;return Math.sqrt(J*J+ct*ct)}S.distance=O;function I(N,j,tt,H,J,ct){return J>=N&&J<=N+tt&&ct>=j&&ct<=j+H}S.inBox=I;function _(N,j){return!(j.minX>N.maxX||j.maxX<N.minX||j.minY>N.maxY||j.maxY<N.minY)}S.intersectRect=_;function T(N,j){return!N||!j?N||j:{minX:Math.min(N.minX,j.minX),minY:Math.min(N.minY,j.minY),maxX:Math.max(N.maxX,j.maxX),maxY:Math.max(N.maxY,j.maxY)}}S.mergeRegion=T;function A(N,j){return N[0]===j[0]&&N[1]===j[1]}S.isSamePoint=A;var C=d(73890);Object.defineProperty(S,"isNil",{enumerable:!0,get:function(){return C.default}});var E=d(21830);Object.defineProperty(S,"isString",{enumerable:!0,get:function(){return E.default}});var p=d(46812);Object.defineProperty(S,"isFunction",{enumerable:!0,get:function(){return p.default}});var w=d(66631);Object.defineProperty(S,"isArray",{enumerable:!0,get:function(){return w.default}});var y=d(27154);Object.defineProperty(S,"each",{enumerable:!0,get:function(){return y.default}});var m=d(9217);Object.defineProperty(S,"toRadian",{enumerable:!0,get:function(){return m.default}});var g=d(5253);Object.defineProperty(S,"mod",{enumerable:!0,get:function(){return g.default}});var M=d(39984);Object.defineProperty(S,"isNumberEqual",{enumerable:!0,get:function(){return M.default}});var L=d(98229);Object.defineProperty(S,"requestAnimationFrame",{enumerable:!0,get:function(){return L.default}});var B=d(35755);Object.defineProperty(S,"clearAnimationFrame",{enumerable:!0,get:function(){return B.default}})},71270:function(dt){"use strict";dt.exports=JSON.parse('{"name":"@antv/g-canvas","version":"0.4.15","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit","dist":"webpack --config webpack.config.js --mode production"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.26.1","webpack-cli":"^3.1.2"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","gl-matrix":"^3.0.0"},"__npminstall_done":false,"gitHead":"9092384bf6b7efd6ec71bbcdec1b801a0079c403"}')},89838:function(dt,S,d){"use strict";d.r(S),d.d(S,{Arc:function(){return u},Cubic:function(){return At},Line:function(){return p},Polygon:function(){return bt},Polyline:function(){return ht},Quad:function(){return j},Util:function(){return b}});var b={};d.r(b),d.d(b,{distance:function(){return I},getBBoxByArray:function(){return T},getBBoxRange:function(){return A},isNumberEqual:function(){return _},piMod:function(){return C}});var O=d(49242);function I(at,xt,lt,it){var yt=at-lt,ft=xt-it;return Math.sqrt(yt*yt+ft*ft)}function _(at,xt){return Math.abs(at-xt)<.001}function T(at,xt){var lt=(0,O.min)(at),it=(0,O.min)(xt),yt=(0,O.max)(at),ft=(0,O.max)(xt);return{x:lt,y:it,width:yt-lt,height:ft-it}}function A(at,xt,lt,it){return{minX:(0,O.min)([at,lt]),maxX:(0,O.max)([at,lt]),minY:(0,O.min)([xt,it]),maxY:(0,O.max)([xt,it])}}function C(at){return(at+Math.PI*2)%(Math.PI*2)}var E=d(31437),p={box:function(at,xt,lt,it){return T([at,lt],[xt,it])},length:function(at,xt,lt,it){return I(at,xt,lt,it)},pointAt:function(at,xt,lt,it,yt){return{x:(1-yt)*at+yt*lt,y:(1-yt)*xt+yt*it}},pointDistance:function(at,xt,lt,it,yt,ft){var st=(lt-at)*(yt-at)+(it-xt)*(ft-xt);if(st<0)return I(at,xt,yt,ft);var Ct=(lt-at)*(lt-at)+(it-xt)*(it-xt);return st>Ct?I(lt,it,yt,ft):this.pointToLine(at,xt,lt,it,yt,ft)},pointToLine:function(at,xt,lt,it,yt,ft){var st=[lt-at,it-xt];if(E.exactEquals(st,[0,0]))return Math.sqrt((yt-at)*(yt-at)+(ft-xt)*(ft-xt));var Ct=[-st[1],st[0]];E.normalize(Ct,Ct);var Rt=[yt-at,ft-xt];return Math.abs(E.dot(Rt,Ct))},tangentAngle:function(at,xt,lt,it){return Math.atan2(it-xt,lt-at)}},w=1e-4;function y(at,xt,lt,it,yt,ft){var st,Ct=Infinity,Rt=[lt,it],re=20;ft&&ft>200&&(re=ft/10);for(var pe=1/re,Me=pe/10,Xe=0;Xe<=re;Xe++){var Be=Xe*pe,Re=[yt.apply(null,at.concat([Be])),yt.apply(null,xt.concat([Be]))],Ke=I(Rt[0],Rt[1],Re[0],Re[1]);Ke<Ct&&(st=Be,Ct=Ke)}if(st===0)return{x:at[0],y:xt[0]};if(st===1){var ar=at.length;return{x:at[ar-1],y:xt[ar-1]}}Ct=Infinity;for(var Xe=0;Xe<32&&!(Me<w);Xe++){var Mr=st-Me,sr=st+Me,Re=[yt.apply(null,at.concat([Mr])),yt.apply(null,xt.concat([Mr]))],Ke=I(Rt[0],Rt[1],Re[0],Re[1]);if(Mr>=0&&Ke<Ct)st=Mr,Ct=Ke;else{var Xr=[yt.apply(null,at.concat([sr])),yt.apply(null,xt.concat([sr]))],pn=I(Rt[0],Rt[1],Xr[0],Xr[1]);sr<=1&&pn<Ct?(st=sr,Ct=pn):Me*=.5}}return{x:yt.apply(null,at.concat([st])),y:yt.apply(null,xt.concat([st]))}}function m(at,xt){for(var lt=0,it=at.length,yt=0;yt<it;yt++){var ft=at[yt],st=xt[yt],Ct=at[(yt+1)%it],Rt=xt[(yt+1)%it];lt+=I(ft,st,Ct,Rt)}return lt/2}function g(at,xt,lt,it){var yt=1-it;return yt*yt*at+2*it*yt*xt+it*it*lt}function M(at,xt,lt){var it=at+lt-2*xt;if(_(it,0))return[.5];var yt=(at-xt)/it;return yt<=1&&yt>=0?[yt]:[]}function L(at,xt,lt,it){return 2*(1-it)*(xt-at)+2*it*(lt-xt)}function B(at,xt,lt,it,yt,ft,st){var Ct=g(at,lt,yt,st),Rt=g(xt,it,ft,st),re=p.pointAt(at,xt,lt,it,st),pe=p.pointAt(lt,it,yt,ft,st);return[[at,xt,re.x,re.y,Ct,Rt],[Ct,Rt,pe.x,pe.y,yt,ft]]}function N(at,xt,lt,it,yt,ft,st){if(st===0)return(I(at,xt,lt,it)+I(lt,it,yt,ft)+I(at,xt,yt,ft))/2;var Ct=B(at,xt,lt,it,yt,ft,.5),Rt=Ct[0],re=Ct[1];return Rt.push(st-1),re.push(st-1),N.apply(null,Rt)+N.apply(null,re)}var j={box:function(at,xt,lt,it,yt,ft){var st=M(at,lt,yt)[0],Ct=M(xt,it,ft)[0],Rt=[at,yt],re=[xt,ft];return st!==void 0&&Rt.push(g(at,lt,yt,st)),Ct!==void 0&&re.push(g(xt,it,ft,Ct)),T(Rt,re)},length:function(at,xt,lt,it,yt,ft){return N(at,xt,lt,it,yt,ft,3)},nearestPoint:function(at,xt,lt,it,yt,ft,st,Ct){return y([at,lt,yt],[xt,it,ft],st,Ct,g)},pointDistance:function(at,xt,lt,it,yt,ft,st,Ct){var Rt=this.nearestPoint(at,xt,lt,it,yt,ft,st,Ct);return I(Rt.x,Rt.y,st,Ct)},interpolationAt:g,pointAt:function(at,xt,lt,it,yt,ft,st){return{x:g(at,lt,yt,st),y:g(xt,it,ft,st)}},divide:function(at,xt,lt,it,yt,ft,st){return B(at,xt,lt,it,yt,ft,st)},tangentAngle:function(at,xt,lt,it,yt,ft,st){var Ct=L(at,lt,yt,st),Rt=L(xt,it,ft,st),re=Math.atan2(Rt,Ct);return C(re)}};function tt(at,xt,lt,it,yt){var ft=1-yt;return ft*ft*ft*at+3*xt*yt*ft*ft+3*lt*yt*yt*ft+it*yt*yt*yt}function H(at,xt,lt,it,yt){var ft=1-yt;return 3*(ft*ft*(xt-at)+2*ft*yt*(lt-xt)+yt*yt*(it-lt))}function J(at,xt,lt,it){var yt=-3*at+9*xt-9*lt+3*it,ft=6*at-12*xt+6*lt,st=3*xt-3*at,Ct=[],Rt,re,pe;if(_(yt,0))_(ft,0)||(Rt=-st/ft,Rt>=0&&Rt<=1&&Ct.push(Rt));else{var Me=ft*ft-4*yt*st;_(Me,0)?Ct.push(-ft/(2*yt)):Me>0&&(pe=Math.sqrt(Me),Rt=(-ft+pe)/(2*yt),re=(-ft-pe)/(2*yt),Rt>=0&&Rt<=1&&Ct.push(Rt),re>=0&&re<=1&&Ct.push(re))}return Ct}function ct(at,xt,lt,it,yt,ft,st,Ct,Rt){var re=tt(at,lt,yt,st,Rt),pe=tt(xt,it,ft,Ct,Rt),Me=p.pointAt(at,xt,lt,it,Rt),Xe=p.pointAt(lt,it,yt,ft,Rt),Be=p.pointAt(yt,ft,st,Ct,Rt),Re=p.pointAt(Me.x,Me.y,Xe.x,Xe.y,Rt),Ke=p.pointAt(Xe.x,Xe.y,Be.x,Be.y,Rt);return[[at,xt,Me.x,Me.y,Re.x,Re.y,re,pe],[re,pe,Ke.x,Ke.y,Be.x,Be.y,st,Ct]]}function ut(at,xt,lt,it,yt,ft,st,Ct,Rt){if(Rt===0)return m([at,lt,yt,st],[xt,it,ft,Ct]);var re=ct(at,xt,lt,it,yt,ft,st,Ct,.5),pe=re[0],Me=re[1];return pe.push(Rt-1),Me.push(Rt-1),ut.apply(null,pe)+ut.apply(null,Me)}var At={extrema:J,box:function(at,xt,lt,it,yt,ft,st,Ct){for(var Rt=[at,st],re=[xt,Ct],pe=J(at,lt,yt,st),Me=J(xt,it,ft,Ct),Xe=0;Xe<pe.length;Xe++)Rt.push(tt(at,lt,yt,st,pe[Xe]));for(var Xe=0;Xe<Me.length;Xe++)re.push(tt(xt,it,ft,Ct,Me[Xe]));return T(Rt,re)},length:function(at,xt,lt,it,yt,ft,st,Ct){return ut(at,xt,lt,it,yt,ft,st,Ct,3)},nearestPoint:function(at,xt,lt,it,yt,ft,st,Ct,Rt,re,pe){return y([at,lt,yt,st],[xt,it,ft,Ct],Rt,re,tt,pe)},pointDistance:function(at,xt,lt,it,yt,ft,st,Ct,Rt,re,pe){var Me=this.nearestPoint(at,xt,lt,it,yt,ft,st,Ct,Rt,re,pe);return I(Me.x,Me.y,Rt,re)},interpolationAt:tt,pointAt:function(at,xt,lt,it,yt,ft,st,Ct,Rt){return{x:tt(at,lt,yt,st,Rt),y:tt(xt,it,ft,Ct,Rt)}},divide:function(at,xt,lt,it,yt,ft,st,Ct,Rt){return ct(at,xt,lt,it,yt,ft,st,Ct,Rt)},tangentAngle:function(at,xt,lt,it,yt,ft,st,Ct,Rt){var re=H(at,lt,yt,st,Rt),pe=H(xt,it,ft,Ct,Rt);return C(Math.atan2(pe,re))}};function St(at,xt){var lt=Math.abs(at);return xt>0?lt:lt*-1}var Yt={box:function(at,xt,lt,it){return{x:at-lt,y:xt-it,width:lt*2,height:it*2}},length:function(at,xt,lt,it){return Math.PI*(3*(lt+it)-Math.sqrt((3*lt+it)*(lt+3*it)))},nearestPoint:function(at,xt,lt,it,yt,ft){var st=lt,Ct=it;if(st===0||Ct===0)return{x:at,y:xt};for(var Rt=yt-at,re=ft-xt,pe=Math.abs(Rt),Me=Math.abs(re),Xe=st*st,Be=Ct*Ct,Re=Math.PI/4,Ke,ar,Mr=0;Mr<4;Mr++){Ke=st*Math.cos(Re),ar=Ct*Math.sin(Re);var sr=(Xe-Be)*Math.pow(Math.cos(Re),3)/st,Xr=(Be-Xe)*Math.pow(Math.sin(Re),3)/Ct,pn=Ke-sr,jr=ar-Xr,en=pe-sr,Xn=Me-Xr,ni=Math.hypot(jr,pn),gi=Math.hypot(Xn,en),yi=ni*Math.asin((pn*Xn-jr*en)/(ni*gi)),te=yi/Math.sqrt(Xe+Be-Ke*Ke-ar*ar);Re+=te,Re=Math.min(Math.PI/2,Math.max(0,Re))}return{x:at+St(Ke,Rt),y:xt+St(ar,re)}},pointDistance:function(at,xt,lt,it,yt,ft){var st=this.nearestPoint(at,xt,lt,it,yt,ft);return I(st.x,st.y,yt,ft)},pointAt:function(at,xt,lt,it,yt){var ft=2*Math.PI*yt;return{x:at+lt*Math.cos(ft),y:xt+it*Math.sin(ft)}},tangentAngle:function(at,xt,lt,it,yt){var ft=2*Math.PI*yt,st=Math.atan2(it*Math.cos(ft),-lt*Math.sin(ft));return C(st)}};function Tt(at,xt,lt,it,yt,ft,st,Ct){return-1*lt*Math.cos(yt)*Math.sin(Ct)-it*Math.sin(yt)*Math.cos(Ct)}function Dt(at,xt,lt,it,yt,ft,st,Ct){return-1*lt*Math.sin(yt)*Math.sin(Ct)+it*Math.cos(yt)*Math.cos(Ct)}function Bt(at,xt,lt){return Math.atan(-xt/at*Math.tan(lt))}function Et(at,xt,lt){return Math.atan(xt/(at*Math.tan(lt)))}function zt(at,xt,lt,it,yt,ft){return lt*Math.cos(yt)*Math.cos(ft)-it*Math.sin(yt)*Math.sin(ft)+at}function jt(at,xt,lt,it,yt,ft){return lt*Math.sin(yt)*Math.cos(ft)+it*Math.cos(yt)*Math.sin(ft)+xt}function Mt(at,xt,lt,it){var yt=Math.atan2(it*at,lt*xt);return(yt+Math.PI*2)%(Math.PI*2)}function pt(at,xt,lt){return{x:at*Math.cos(lt),y:xt*Math.sin(lt)}}function k(at,xt,lt){var it=Math.cos(lt),yt=Math.sin(lt);return[at*it-xt*yt,at*yt+xt*it]}var u={box:function(at,xt,lt,it,yt,ft,st){for(var Ct=Bt(lt,it,yt),Rt=Infinity,re=-Infinity,pe=[ft,st],Me=-Math.PI*2;Me<=Math.PI*2;Me+=Math.PI){var Xe=Ct+Me;ft<st?ft<Xe&&Xe<st&&pe.push(Xe):st<Xe&&Xe<ft&&pe.push(Xe)}for(var Me=0;Me<pe.length;Me++){var Be=zt(at,xt,lt,it,yt,pe[Me]);Be<Rt&&(Rt=Be),Be>re&&(re=Be)}for(var Re=Et(lt,it,yt),Ke=Infinity,ar=-Infinity,Mr=[ft,st],Me=-Math.PI*2;Me<=Math.PI*2;Me+=Math.PI){var sr=Re+Me;ft<st?ft<sr&&sr<st&&Mr.push(sr):st<sr&&sr<ft&&Mr.push(sr)}for(var Me=0;Me<Mr.length;Me++){var Xr=jt(at,xt,lt,it,yt,Mr[Me]);Xr<Ke&&(Ke=Xr),Xr>ar&&(ar=Xr)}return{x:Rt,y:Ke,width:re-Rt,height:ar-Ke}},length:function(at,xt,lt,it,yt,ft,st){},nearestPoint:function(at,xt,lt,it,yt,ft,st,Ct,Rt){var re=k(Ct-at,Rt-xt,-yt),pe=re[0],Me=re[1],Xe=Yt.nearestPoint(0,0,lt,it,pe,Me),Be=Mt(lt,it,Xe.x,Xe.y);Be<ft?Xe=pt(lt,it,ft):Be>st&&(Xe=pt(lt,it,st));var Re=k(Xe.x,Xe.y,yt);return{x:Re[0]+at,y:Re[1]+xt}},pointDistance:function(at,xt,lt,it,yt,ft,st,Ct,Rt){var re=this.nearestPoint(at,xt,lt,it,Ct,Rt);return I(re.x,re.y,Ct,Rt)},pointAt:function(at,xt,lt,it,yt,ft,st,Ct){var Rt=(st-ft)*Ct+ft;return{x:zt(at,xt,lt,it,yt,Rt),y:jt(at,xt,lt,it,yt,Rt)}},tangentAngle:function(at,xt,lt,it,yt,ft,st,Ct){var Rt=(st-ft)*Ct+ft,re=Tt(at,xt,lt,it,yt,ft,st,Rt),pe=Dt(at,xt,lt,it,yt,ft,st,Rt);return C(Math.atan2(pe,re))}};function G(at){for(var xt=0,lt=[],it=0;it<at.length-1;it++){var yt=at[it],ft=at[it+1],st=I(yt[0],yt[1],ft[0],ft[1]),Ct={from:yt,to:ft,length:st};lt.push(Ct),xt+=st}return{segments:lt,totalLength:xt}}function Y(at){if(at.length<2)return 0;for(var xt=0,lt=0;lt<at.length-1;lt++){var it=at[lt],yt=at[lt+1];xt+=I(it[0],it[1],yt[0],yt[1])}return xt}function V(at,xt){if(xt>1||xt<0||at.length<2)return null;var lt=G(at),it=lt.segments,yt=lt.totalLength;if(yt===0)return{x:at[0][0],y:at[0][1]};for(var ft=0,st=null,Ct=0;Ct<it.length;Ct++){var Rt=it[Ct],re=Rt.from,pe=Rt.to,Me=Rt.length/yt;if(xt>=ft&&xt<=ft+Me){var Xe=(xt-ft)/Me;st=p.pointAt(re[0],re[1],pe[0],pe[1],Xe);break}ft+=Me}return st}function U(at,xt){if(xt>1||xt<0||at.length<2)return 0;for(var lt=G(at),it=lt.segments,yt=lt.totalLength,ft=0,st=0,Ct=0;Ct<it.length;Ct++){var Rt=it[Ct],re=Rt.from,pe=Rt.to,Me=Rt.length/yt;if(xt>=ft&&xt<=ft+Me){st=Math.atan2(pe[1]-re[1],pe[0]-re[0]);break}ft+=Me}return st}function et(at,xt,lt){for(var it=Infinity,yt=0;yt<at.length-1;yt++){var ft=at[yt],st=at[yt+1],Ct=p.pointDistance(ft[0],ft[1],st[0],st[1],xt,lt);Ct<it&&(it=Ct)}return it}var ht={box:function(at){for(var xt=[],lt=[],it=0;it<at.length;it++){var yt=at[it];xt.push(yt[0]),lt.push(yt[1])}return T(xt,lt)},length:function(at){return Y(at)},pointAt:function(at,xt){return V(at,xt)},pointDistance:function(at,xt,lt){return et(at,xt,lt)},tangentAngle:function(at,xt){return U(at,xt)}};function Ft(at){var xt=at.slice(0);return at.length&&xt.push(at[0]),xt}var bt={box:function(at){return ht.box(at)},length:function(at){return Y(Ft(at))},pointAt:function(at,xt){return V(Ft(at),xt)},pointDistance:function(at,xt,lt){return et(Ft(at),xt,lt)},tangentAngle:function(at,xt){return U(Ft(at),xt)}}},33418:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(76256),O=d(55397);function I(m,g,M,L,B,N,j,tt){return-1*M*Math.cos(B)*Math.sin(tt)-L*Math.sin(B)*Math.cos(tt)}function _(m,g,M,L,B,N,j,tt){return-1*M*Math.sin(B)*Math.sin(tt)+L*Math.cos(B)*Math.cos(tt)}function T(m,g,M){return Math.atan(-g/m*Math.tan(M))}function A(m,g,M){return Math.atan(g/(m*Math.tan(M)))}function C(m,g,M,L,B,N){return M*Math.cos(B)*Math.cos(N)-L*Math.sin(B)*Math.sin(N)+m}function E(m,g,M,L,B,N){return M*Math.sin(B)*Math.cos(N)+L*Math.cos(B)*Math.sin(N)+g}function p(m,g,M,L){var B=Math.atan2(L*m,M*g);return(B+Math.PI*2)%(Math.PI*2)}function w(m,g,M){return{x:m*Math.cos(M),y:g*Math.sin(M)}}function y(m,g,M){var L=Math.cos(M),B=Math.sin(M);return[m*L-g*B,m*B+g*L]}S.default={box:function(m,g,M,L,B,N,j){for(var tt=T(M,L,B),H=Infinity,J=-Infinity,ct=[N,j],ut=-Math.PI*2;ut<=Math.PI*2;ut+=Math.PI){var At=tt+ut;N<j?N<At&&At<j&&ct.push(At):j<At&&At<N&&ct.push(At)}for(var ut=0;ut<ct.length;ut++){var St=C(m,g,M,L,B,ct[ut]);St<H&&(H=St),St>J&&(J=St)}for(var Yt=A(M,L,B),Tt=Infinity,Dt=-Infinity,Bt=[N,j],ut=-Math.PI*2;ut<=Math.PI*2;ut+=Math.PI){var Et=Yt+ut;N<j?N<Et&&Et<j&&Bt.push(Et):j<Et&&Et<N&&Bt.push(Et)}for(var ut=0;ut<Bt.length;ut++){var zt=E(m,g,M,L,B,Bt[ut]);zt<Tt&&(Tt=zt),zt>Dt&&(Dt=zt)}return{x:H,y:Tt,width:J-H,height:Dt-Tt}},length:function(m,g,M,L,B,N,j){},nearestPoint:function(m,g,M,L,B,N,j,tt,H){var J=y(tt-m,H-g,-B),ct=J[0],ut=J[1],At=O.default.nearestPoint(0,0,M,L,ct,ut),St=p(M,L,At.x,At.y);St<N?At=w(M,L,N):St>j&&(At=w(M,L,j));var Yt=y(At.x,At.y,B);return{x:Yt[0]+m,y:Yt[1]+g}},pointDistance:function(m,g,M,L,B,N,j,tt,H){var J=this.nearestPoint(m,g,M,L,tt,H);return b.distance(J.x,J.y,tt,H)},pointAt:function(m,g,M,L,B,N,j,tt){var H=(j-N)*tt+N;return{x:C(m,g,M,L,B,H),y:E(m,g,M,L,B,H)}},tangentAngle:function(m,g,M,L,B,N,j,tt){var H=(j-N)*tt+N,J=I(m,g,M,L,B,N,j,H),ct=_(m,g,M,L,B,N,j,H);return b.piMod(Math.atan2(ct,J))}}},87335:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.snapLength=S.nearestPoint=void 0;var b=d(76256),O=1e-4;function I(T,A,C,E,p,w){var y,m=Infinity,g=[C,E],M=20;w&&w>200&&(M=w/10);for(var L=1/M,B=L/10,N=0;N<=M;N++){var j=N*L,tt=[p.apply(null,T.concat([j])),p.apply(null,A.concat([j]))],H=b.distance(g[0],g[1],tt[0],tt[1]);H<m&&(y=j,m=H)}if(y===0)return{x:T[0],y:A[0]};if(y===1){var J=T.length;return{x:T[J-1],y:A[J-1]}}m=Infinity;for(var N=0;N<32&&!(B<O);N++){var ct=y-B,ut=y+B,tt=[p.apply(null,T.concat([ct])),p.apply(null,A.concat([ct]))],H=b.distance(g[0],g[1],tt[0],tt[1]);if(ct>=0&&H<m)y=ct,m=H;else{var At=[p.apply(null,T.concat([ut])),p.apply(null,A.concat([ut]))],St=b.distance(g[0],g[1],At[0],At[1]);ut<=1&&St<m?(y=ut,m=St):B*=.5}}return{x:p.apply(null,T.concat([y])),y:p.apply(null,A.concat([y]))}}S.nearestPoint=I;function _(T,A){for(var C=0,E=T.length,p=0;p<E;p++){var w=T[p],y=A[p],m=T[(p+1)%E],g=A[(p+1)%E];C+=b.distance(w,y,m,g)}return C/2}S.snapLength=_},15730:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(76256),O=d(23646),I=d(87335);function _(p,w,y,m,g){var M=1-g;return M*M*M*p+3*w*g*M*M+3*y*g*g*M+m*g*g*g}function T(p,w,y,m,g){var M=1-g;return 3*(M*M*(w-p)+2*M*g*(y-w)+g*g*(m-y))}function A(p,w,y,m){var g=-3*p+9*w-9*y+3*m,M=6*p-12*w+6*y,L=3*w-3*p,B=[],N,j,tt;if(b.isNumberEqual(g,0))b.isNumberEqual(M,0)||(N=-L/M,N>=0&&N<=1&&B.push(N));else{var H=M*M-4*g*L;b.isNumberEqual(H,0)?B.push(-M/(2*g)):H>0&&(tt=Math.sqrt(H),N=(-M+tt)/(2*g),j=(-M-tt)/(2*g),N>=0&&N<=1&&B.push(N),j>=0&&j<=1&&B.push(j))}return B}function C(p,w,y,m,g,M,L,B,N){var j=_(p,y,g,L,N),tt=_(w,m,M,B,N),H=O.default.pointAt(p,w,y,m,N),J=O.default.pointAt(y,m,g,M,N),ct=O.default.pointAt(g,M,L,B,N),ut=O.default.pointAt(H.x,H.y,J.x,J.y,N),At=O.default.pointAt(J.x,J.y,ct.x,ct.y,N);return[[p,w,H.x,H.y,ut.x,ut.y,j,tt],[j,tt,At.x,At.y,ct.x,ct.y,L,B]]}function E(p,w,y,m,g,M,L,B,N){if(N===0)return I.snapLength([p,y,g,L],[w,m,M,B]);var j=C(p,w,y,m,g,M,L,B,.5),tt=j[0],H=j[1];return tt.push(N-1),H.push(N-1),E.apply(null,tt)+E.apply(null,H)}S.default={extrema:A,box:function(p,w,y,m,g,M,L,B){for(var N=[p,L],j=[w,B],tt=A(p,y,g,L),H=A(w,m,M,B),J=0;J<tt.length;J++)N.push(_(p,y,g,L,tt[J]));for(var J=0;J<H.length;J++)j.push(_(w,m,M,B,H[J]));return b.getBBoxByArray(N,j)},length:function(p,w,y,m,g,M,L,B){return E(p,w,y,m,g,M,L,B,3)},nearestPoint:function(p,w,y,m,g,M,L,B,N,j,tt){return I.nearestPoint([p,y,g,L],[w,m,M,B],N,j,_,tt)},pointDistance:function(p,w,y,m,g,M,L,B,N,j,tt){var H=this.nearestPoint(p,w,y,m,g,M,L,B,N,j,tt);return b.distance(H.x,H.y,N,j)},interpolationAt:_,pointAt:function(p,w,y,m,g,M,L,B,N){return{x:_(p,y,g,L,N),y:_(w,m,M,B,N)}},divide:function(p,w,y,m,g,M,L,B,N){return C(p,w,y,m,g,M,L,B,N)},tangentAngle:function(p,w,y,m,g,M,L,B,N){var j=T(p,y,g,L,N),tt=T(w,m,M,B,N);return b.piMod(Math.atan2(tt,j))}}},55397:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(76256);function O(I,_){var T=Math.abs(I);return _>0?T:T*-1}S.default={box:function(I,_,T,A){return{x:I-T,y:_-A,width:T*2,height:A*2}},length:function(I,_,T,A){return Math.PI*(3*(T+A)-Math.sqrt((3*T+A)*(T+3*A)))},nearestPoint:function(I,_,T,A,C,E){var p=T,w=A;if(p===0||w===0)return{x:I,y:_};for(var y=C-I,m=E-_,g=Math.abs(y),M=Math.abs(m),L=p*p,B=w*w,N=Math.PI/4,j,tt,H=0;H<4;H++){j=p*Math.cos(N),tt=w*Math.sin(N);var J=(L-B)*Math.pow(Math.cos(N),3)/p,ct=(B-L)*Math.pow(Math.sin(N),3)/w,ut=j-J,At=tt-ct,St=g-J,Yt=M-ct,Tt=Math.hypot(At,ut),Dt=Math.hypot(Yt,St),Bt=Tt*Math.asin((ut*Yt-At*St)/(Tt*Dt)),Et=Bt/Math.sqrt(L+B-j*j-tt*tt);N+=Et,N=Math.min(Math.PI/2,Math.max(0,N))}return{x:I+O(j,y),y:_+O(tt,m)}},pointDistance:function(I,_,T,A,C,E){var p=this.nearestPoint(I,_,T,A,C,E);return b.distance(p.x,p.y,C,E)},pointAt:function(I,_,T,A,C){var E=2*Math.PI*C;return{x:I+T*Math.cos(E),y:_+A*Math.sin(E)}},tangentAngle:function(I,_,T,A,C){var E=2*Math.PI*C,p=Math.atan2(A*Math.cos(E),-T*Math.sin(E));return b.piMod(p)}}},23646:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(76256),O=d(31437);S.default={box:function(I,_,T,A){return b.getBBoxByArray([I,T],[_,A])},length:function(I,_,T,A){return b.distance(I,_,T,A)},pointAt:function(I,_,T,A,C){return{x:(1-C)*I+C*T,y:(1-C)*_+C*A}},pointDistance:function(I,_,T,A,C,E){var p=(T-I)*(C-I)+(A-_)*(E-_);if(p<0)return b.distance(I,_,C,E);var w=(T-I)*(T-I)+(A-_)*(A-_);return p>w?b.distance(T,A,C,E):this.pointToLine(I,_,T,A,C,E)},pointToLine:function(I,_,T,A,C,E){var p=[T-I,A-_];if(O.exactEquals(p,[0,0]))return Math.sqrt((C-I)*(C-I)+(E-_)*(E-_));var w=[-p[1],p[0]];O.normalize(w,w);var y=[C-I,E-_];return Math.abs(O.dot(y,w))},tangentAngle:function(I,_,T,A){return Math.atan2(A-_,T-I)}}},65386:function(dt,S,d){"use strict";var b;b={value:!0};var O=d(28171),I=d(76256);S.Z={box:function(_){for(var T=[],A=[],C=0;C<_.length;C++){var E=_[C];T.push(E[0]),A.push(E[1])}return I.getBBoxByArray(T,A)},length:function(_){return O.lengthOfSegment(_)},pointAt:function(_,T){return O.pointAtSegments(_,T)},pointDistance:function(_,T,A){return O.distanceAtSegment(_,T,A)},tangentAngle:function(_,T){return O.angleAtSegments(_,T)}}},2879:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(23646),O=d(76256),I=d(87335);function _(p,w,y,m){var g=1-m;return g*g*p+2*m*g*w+m*m*y}function T(p,w,y){var m=p+y-2*w;if(O.isNumberEqual(m,0))return[.5];var g=(p-w)/m;return g<=1&&g>=0?[g]:[]}function A(p,w,y,m){return 2*(1-m)*(w-p)+2*m*(y-w)}function C(p,w,y,m,g,M,L){var B=_(p,y,g,L),N=_(w,m,M,L),j=b.default.pointAt(p,w,y,m,L),tt=b.default.pointAt(y,m,g,M,L);return[[p,w,j.x,j.y,B,N],[B,N,tt.x,tt.y,g,M]]}function E(p,w,y,m,g,M,L){if(L===0)return(O.distance(p,w,y,m)+O.distance(y,m,g,M)+O.distance(p,w,g,M))/2;var B=C(p,w,y,m,g,M,.5),N=B[0],j=B[1];return N.push(L-1),j.push(L-1),E.apply(null,N)+E.apply(null,j)}S.default={box:function(p,w,y,m,g,M){var L=T(p,y,g)[0],B=T(w,m,M)[0],N=[p,g],j=[w,M];return L!==void 0&&N.push(_(p,y,g,L)),B!==void 0&&j.push(_(w,m,M,B)),O.getBBoxByArray(N,j)},length:function(p,w,y,m,g,M){return E(p,w,y,m,g,M,3)},nearestPoint:function(p,w,y,m,g,M,L,B){return I.nearestPoint([p,y,g],[w,m,M],L,B,_)},pointDistance:function(p,w,y,m,g,M,L,B){var N=this.nearestPoint(p,w,y,m,g,M,L,B);return O.distance(N.x,N.y,L,B)},interpolationAt:_,pointAt:function(p,w,y,m,g,M,L){return{x:_(p,y,g,L),y:_(w,m,M,L)}},divide:function(p,w,y,m,g,M,L){return C(p,w,y,m,g,M,L)},tangentAngle:function(p,w,y,m,g,M,L){var B=A(p,y,g,L),N=A(w,m,M,L),j=Math.atan2(N,B);return O.piMod(j)}}},28171:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.distanceAtSegment=S.angleAtSegments=S.pointAtSegments=S.lengthOfSegment=void 0;var b=d(23646),O=d(76256);function I(E){for(var p=0,w=[],y=0;y<E.length-1;y++){var m=E[y],g=E[y+1],M=O.distance(m[0],m[1],g[0],g[1]),L={from:m,to:g,length:M};w.push(L),p+=M}return{segments:w,totalLength:p}}function _(E){if(E.length<2)return 0;for(var p=0,w=0;w<E.length-1;w++){var y=E[w],m=E[w+1];p+=O.distance(y[0],y[1],m[0],m[1])}return p}S.lengthOfSegment=_;function T(E,p){if(p>1||p<0||E.length<2)return null;var w=I(E),y=w.segments,m=w.totalLength;if(m===0)return{x:E[0][0],y:E[0][1]};for(var g=0,M=null,L=0;L<y.length;L++){var B=y[L],N=B.from,j=B.to,tt=B.length/m;if(p>=g&&p<=g+tt){var H=(p-g)/tt;M=b.default.pointAt(N[0],N[1],j[0],j[1],H);break}g+=tt}return M}S.pointAtSegments=T;function A(E,p){if(p>1||p<0||E.length<2)return 0;for(var w=I(E),y=w.segments,m=w.totalLength,g=0,M=0,L=0;L<y.length;L++){var B=y[L],N=B.from,j=B.to,tt=B.length/m;if(p>=g&&p<=g+tt){M=Math.atan2(j[1]-N[1],j[0]-N[0]);break}g+=tt}return M}S.angleAtSegments=A;function C(E,p,w){for(var y=Infinity,m=0;m<E.length-1;m++){var g=E[m],M=E[m+1],L=b.default.pointDistance(g[0],g[1],M[0],M[1],p,w);L<y&&(y=L)}return y}S.distanceAtSegment=C},76256:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.piMod=S.getBBoxRange=S.getBBoxByArray=S.isNumberEqual=S.distance=void 0;var b=d(49242);function O(C,E,p,w){var y=C-p,m=E-w;return Math.sqrt(y*y+m*m)}S.distance=O;function I(C,E){return Math.abs(C-E)<.001}S.isNumberEqual=I;function _(C,E){var p=b.min(C),w=b.min(E),y=b.max(C),m=b.max(E);return{x:p,y:w,width:y-p,height:m-w}}S.getBBoxByArray=_;function T(C,E,p,w){return{minX:b.min([C,p]),maxX:b.max([C,p]),minY:b.min([E,w]),maxY:b.max([E,w])}}S.getBBoxRange=T;function A(C){return(C+Math.PI*2)%(Math.PI*2)}S.piMod=A},56463:function(dt,S,d){"use strict";var b=d(34155),O=this&&this.__spreadArrays||function(){for(var B=0,N=0,j=arguments.length;N<j;N++)B+=arguments[N].length;for(var tt=Array(B),H=0,N=0;N<j;N++)for(var J=arguments[N],ct=0,ut=J.length;ct<ut;ct++,H++)tt[H]=J[ct];return tt};Object.defineProperty(S,"__esModule",{value:!0});var I=function(){function B(N,j,tt){this.name=N,this.version=j,this.os=tt}return B}();S.BrowserInfo=I;var _=function(){function B(N){this.version=N,this.name="node",this.os=b.platform}return B}();S.NodeInfo=_;var T=function(){function B(){this.bot=!0,this.name="bot",this.version=null,this.os=null}return B}();S.BotInfo=T;var A=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,C=/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/,E=3,p=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",A]],w=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",C]];function y(B){return B?m(B):typeof navigator!="undefined"?m(navigator.userAgent):M()}S.detect=y;function m(B){var N=B!==""&&p.reduce(function(J,ct){var ut=ct[0],At=ct[1];if(J)return J;var St=At.exec(B);return!!St&&[ut,St]},!1);if(!N)return null;var j=N[0],tt=N[1];if(j==="searchbot")return new T;var H=tt[1]&&tt[1].split(/[._]/).slice(0,3);return H?H.length<E&&(H=O(H,L(E-H.length))):H=[],new I(j,H.join("."),g(B))}S.parseUserAgent=m;function g(B){for(var N=0,j=w.length;N<j;N++){var tt=w[N],H=tt[0],J=tt[1],ct=J.test(B);if(ct)return H}return null}S.detectOS=g;function M(){var B=typeof b!="undefined"&&b.version;return B?new _(b.version.slice(1)):null}S.getNodeVersion=M;function L(B){for(var N=[],j=0;j<B;j++)N.push("0");return N}},23231:function(dt){"use strict";dt.exports=JSON.parse('{"name":"@antv/g-svg","version":"0.4.7","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.39.3","webpack-cli":"^3.3.7"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/util":"~2.0.0","detect-browser":"^4.6.0"},"__npminstall_done":false,"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a"}')},52351:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),O=d(2810),I=function(){function _(T){var A=T.xField,C=T.yField,E=T.adjustNames,p=E===void 0?["x","y"]:E,w=T.dimValuesMap;this.adjustNames=p,this.xField=A,this.yField=C,this.dimValuesMap=w}return _.prototype.isAdjust=function(T){return this.adjustNames.indexOf(T)>=0},_.prototype.getAdjustRange=function(T,A,C){var E=this.yField,p=C.indexOf(A),w=C.length,y,m;return!E&&this.isAdjust("y")?(y=0,m=1):w>1?(y=C[p===0?0:p-1],m=C[p===w-1?w-1:p+1],p!==0?y+=(A-y)/2:y-=(m-A)/2,p!==w-1?m-=(m-A)/2:m+=(A-C[w-2])/2):(y=A===0?0:A-.5,m=A===0?1:A+.5),{pre:y,next:m}},_.prototype.adjustData=function(T,A){var C=this,E=this.getDimValues(A);b.each(T,function(p,w){b.each(E,function(y,m){C.adjustDim(m,y,p,w)})})},_.prototype.groupData=function(T,A){return b.each(T,function(C){C[A]===void 0&&(C[A]=O.DEFAULT_Y)}),b.groupBy(T,A)},_.prototype.adjustDim=function(T,A,C,E){},_.prototype.getDimValues=function(T){var A=this,C=A.xField,E=A.yField,p=b.assign({},this.dimValuesMap),w=[];if(C&&this.isAdjust("x")&&w.push(C),E&&this.isAdjust("y")&&w.push(E),w.forEach(function(m){p&&p[m]||(p[m]=b.valuesOfKey(T,m).sort(function(g,M){return g-M}))}),!E&&this.isAdjust("y")){var y="y";p[y]=[O.DEFAULT_Y,1]}return p},_}();S.default=I},2810:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.GAP=S.DODGE_RATIO=S.MARGIN_RATIO=S.DEFAULT_Y=void 0,S.DEFAULT_Y=0,S.MARGIN_RATIO=1/2,S.DODGE_RATIO=1/2,S.GAP=.05},68060:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Adjust=S.registerAdjust=S.getAdjust=void 0;var b=d(8108),O=d(52351);S.Adjust=O.default;var I={},_=function(A){return I[A.toLowerCase()]};S.getAdjust=_;var T=function(A,C){if(_(A))throw new Error("Adjust type '"+A+"' existed.");I[A.toLowerCase()]=C};S.registerAdjust=T,b.__exportStar(d(62056),S)},62056:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0})},58368:function(dt,S,d){"use strict";d.r(S),d.d(S,{Attribute:function(){return _},Color:function(){return E},Opacity:function(){return w},Position:function(){return m},Scale:function(){return N.Scale},Shape:function(){return M},Size:function(){return B},getAttribute:function(){return tt},registerAttribute:function(){return H}});var b=d(49242),O=function(J,ct){return(0,b.isString)(ct)?ct:J.invert(J.scale(ct))},I=function(){function J(ct){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(ct)}return J.prototype.mapping=function(){for(var ct=this,ut=[],At=0;At<arguments.length;At++)ut[At]=arguments[At];var St=ut.map(function(Yt,Tt){return ct._toOriginParam(Yt,ct.scales[Tt])});return this.callback.apply(this,St)},J.prototype.getLinearValue=function(ct){var ut=this.values.length-1,At=Math.floor(ut*ct),St=ut*ct-At,Yt=this.values[At],Tt=At===ut?Yt:this.values[At+1];return Yt+(Tt-Yt)*St},J.prototype.getNames=function(){for(var ct=this.scales,ut=this.names,At=Math.min(ct.length,ut.length),St=[],Yt=0;Yt<At;Yt+=1)St.push(ut[Yt]);return St},J.prototype.getFields=function(){return this.scales.map(function(ct){return ct.field})},J.prototype.getScale=function(ct){return this.scales[this.names.indexOf(ct)]},J.prototype.defaultCallback=function(){for(var ct=this,ut=[],At=0;At<arguments.length;At++)ut[At]=arguments[At];return ut.length===0?this.values:ut.map(function(St,Yt){var Tt=ct.scales[Yt];return Tt.type==="identity"?Tt.values[0]:ct._getAttributeValue(Tt,St)})},J.prototype._parseCfg=function(ct){var ut=this,At=ct.type,St=At===void 0?"base":At,Yt=ct.names,Tt=Yt===void 0?[]:Yt,Dt=ct.scales,Bt=Dt===void 0?[]:Dt,Et=ct.values,zt=Et===void 0?[]:Et,jt=ct.callback;this.type=St,this.scales=Bt,this.values=zt,this.names=Tt,this.callback=function(){for(var Mt=[],pt=0;pt<arguments.length;pt++)Mt[pt]=arguments[pt];if(jt){var k=jt.apply(void 0,Mt);if(!(0,b.isNil)(k))return[k]}return ut.defaultCallback.apply(ut,Mt)}},J.prototype._getAttributeValue=function(ct,ut){if(ct.isCategory&&!this.linear){var At=ct.translate(ut);return this.values[At%this.values.length]}var St=ct.scale(ut);return this.getLinearValue(St)},J.prototype._toOriginParam=function(ct,ut){return ut.isLinear?ct:(0,b.isArray)(ct)?ct.map(function(At){return O(ut,At)}):O(ut,ct)},J}(),_=I,T=d(11758),A=d(55223),C=function(J){(0,T.__extends)(ct,J);function ct(ut){var At=J.call(this,ut)||this;return At.type="color",At.names=["color"],(0,b.isString)(At.values)&&(At.linear=!0),At.gradient=A.default.gradient(At.values),At}return ct.prototype.getLinearValue=function(ut){return this.gradient(ut)},ct}(_),E=C,p=function(J){(0,T.__extends)(ct,J);function ct(ut){var At=J.call(this,ut)||this;return At.type="opacity",At.names=["opacity"],At}return ct}(_),w=p,y=function(J){(0,T.__extends)(ct,J);function ct(ut){var At=J.call(this,ut)||this;return At.names=["x","y"],At.type="position",At}return ct.prototype.mapping=function(ut,At){var St=this.scales,Yt=St[0],Tt=St[1];return(0,b.isNil)(ut)||(0,b.isNil)(At)?[]:[(0,b.isArray)(ut)?ut.map(function(Dt){return Yt.scale(Dt)}):Yt.scale(ut),(0,b.isArray)(At)?At.map(function(Dt){return Tt.scale(Dt)}):Tt.scale(At)]},ct}(_),m=y,g=function(J){(0,T.__extends)(ct,J);function ct(ut){var At=J.call(this,ut)||this;return At.type="shape",At.names=["shape"],At}return ct.prototype.getLinearValue=function(ut){var At=Math.round((this.values.length-1)*ut);return this.values[At]},ct}(_),M=g,L=function(J){(0,T.__extends)(ct,J);function ct(ut){var At=J.call(this,ut)||this;return At.type="size",At.names=["size"],At}return ct}(_),B=L,N=d(72469),j={},tt=function(J){return j[J.toLowerCase()]},H=function(J,ct){if(tt(J))throw new Error("Attribute type '".concat(J,"' existed."));j[J.toLowerCase()]=ct};H("Color",E),H("Opacity",w),H("Position",m),H("Shape",M),H("Size",B)},27210:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),O=function(_,T){return(0,b.isString)(T)?T:_.invert(_.scale(T))},I=function(){function _(T){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(T)}return _.prototype.mapping=function(){for(var T=this,A=[],C=0;C<arguments.length;C++)A[C]=arguments[C];var E=A.map(function(p,w){return T._toOriginParam(p,T.scales[w])});return this.callback.apply(this,E)},_.prototype.getLinearValue=function(T){var A=this.values.length-1,C=Math.floor(A*T),E=A*T-C,p=this.values[C],w=C===A?p:this.values[C+1];return p+(w-p)*E},_.prototype.getNames=function(){for(var T=this.scales,A=this.names,C=Math.min(T.length,A.length),E=[],p=0;p<C;p+=1)E.push(A[p]);return E},_.prototype.getFields=function(){return this.scales.map(function(T){return T.field})},_.prototype.getScale=function(T){return this.scales[this.names.indexOf(T)]},_.prototype.defaultCallback=function(){for(var T=this,A=[],C=0;C<arguments.length;C++)A[C]=arguments[C];return A.length===0?this.values:A.map(function(E,p){var w=T.scales[p];return w.type==="identity"?w.values[0]:T._getAttributeValue(w,E)})},_.prototype._parseCfg=function(T){var A=this,C=T.type,E=C===void 0?"base":C,p=T.names,w=p===void 0?[]:p,y=T.scales,m=y===void 0?[]:y,g=T.values,M=g===void 0?[]:g,L=T.callback;this.type=E,this.scales=m,this.values=M,this.names=w,this.callback=function(){for(var B=[],N=0;N<arguments.length;N++)B[N]=arguments[N];if(L){var j=L.apply(void 0,B);if(!(0,b.isNil)(j))return[j]}return A.defaultCallback.apply(A,B)}},_.prototype._getAttributeValue=function(T,A){if(T.isCategory&&!this.linear){var C=T.translate(A);return this.values[C%this.values.length]}var E=T.scale(A);return this.getLinearValue(E)},_.prototype._toOriginParam=function(T,A){return A.isLinear?T:(0,b.isArray)(T)?T.map(function(C){return O(A,C)}):O(A,T)},_}();S.default=I},25228:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Attribute=S.registerAttribute=S.getAttribute=void 0;var b=d(11758),O=d(27210);S.Attribute=O.default;var I={},_=function(A){return I[A.toLowerCase()]};S.getAttribute=_;var T=function(A,C){if(_(A))throw new Error("Attribute type '".concat(A,"' existed."));I[A.toLowerCase()]=C};S.registerAttribute=T,b.__exportStar(d(5925),S)},5925:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Scale=void 0;var b=d(72469);Object.defineProperty(S,"Scale",{enumerable:!0,get:function(){return b.Scale}})},11758:function(dt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return O},__assign:function(){return I},__rest:function(){return _},__decorate:function(){return T},__param:function(){return A},__esDecorate:function(){return C},__runInitializers:function(){return E},__propKey:function(){return p},__setFunctionName:function(){return w},__metadata:function(){return y},__awaiter:function(){return m},__generator:function(){return g},__createBinding:function(){return M},__exportStar:function(){return L},__values:function(){return B},__read:function(){return N},__spread:function(){return j},__spreadArrays:function(){return tt},__spreadArray:function(){return H},__await:function(){return J},__asyncGenerator:function(){return ct},__asyncDelegator:function(){return ut},__asyncValues:function(){return At},__makeTemplateObject:function(){return St},__importStar:function(){return Tt},__importDefault:function(){return Dt},__classPrivateFieldGet:function(){return Bt},__classPrivateFieldSet:function(){return Et},__classPrivateFieldIn:function(){return zt},__addDisposableResource:function(){return jt},__disposeResources:function(){return pt}});var b=function(k,u){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,Y){G.__proto__=Y}||function(G,Y){for(var V in Y)Object.prototype.hasOwnProperty.call(Y,V)&&(G[V]=Y[V])},b(k,u)};function O(k,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");b(k,u);function G(){this.constructor=k}k.prototype=u===null?Object.create(u):(G.prototype=u.prototype,new G)}var I=function(){return I=Object.assign||function(u){for(var G,Y=1,V=arguments.length;Y<V;Y++){G=arguments[Y];for(var U in G)Object.prototype.hasOwnProperty.call(G,U)&&(u[U]=G[U])}return u},I.apply(this,arguments)};function _(k,u){var G={};for(var Y in k)Object.prototype.hasOwnProperty.call(k,Y)&&u.indexOf(Y)<0&&(G[Y]=k[Y]);if(k!=null&&typeof Object.getOwnPropertySymbols=="function")for(var V=0,Y=Object.getOwnPropertySymbols(k);V<Y.length;V++)u.indexOf(Y[V])<0&&Object.prototype.propertyIsEnumerable.call(k,Y[V])&&(G[Y[V]]=k[Y[V]]);return G}function T(k,u,G,Y){var V=arguments.length,U=V<3?u:Y===null?Y=Object.getOwnPropertyDescriptor(u,G):Y,et;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(k,u,G,Y);else for(var ht=k.length-1;ht>=0;ht--)(et=k[ht])&&(U=(V<3?et(U):V>3?et(u,G,U):et(u,G))||U);return V>3&&U&&Object.defineProperty(u,G,U),U}function A(k,u){return function(G,Y){u(G,Y,k)}}function C(k,u,G,Y,V,U){function et(Ct){if(Ct!==void 0&&typeof Ct!="function")throw new TypeError("Function expected");return Ct}for(var ht=Y.kind,Ft=ht==="getter"?"get":ht==="setter"?"set":"value",bt=!u&&k?Y.static?k:k.prototype:null,at=u||(bt?Object.getOwnPropertyDescriptor(bt,Y.name):{}),xt,lt=!1,it=G.length-1;it>=0;it--){var yt={};for(var ft in Y)yt[ft]=ft==="access"?{}:Y[ft];for(var ft in Y.access)yt.access[ft]=Y.access[ft];yt.addInitializer=function(Ct){if(lt)throw new TypeError("Cannot add initializers after decoration has completed");U.push(et(Ct||null))};var st=(0,G[it])(ht==="accessor"?{get:at.get,set:at.set}:at[Ft],yt);if(ht==="accessor"){if(st===void 0)continue;if(st===null||typeof st!="object")throw new TypeError("Object expected");(xt=et(st.get))&&(at.get=xt),(xt=et(st.set))&&(at.set=xt),(xt=et(st.init))&&V.unshift(xt)}else(xt=et(st))&&(ht==="field"?V.unshift(xt):at[Ft]=xt)}bt&&Object.defineProperty(bt,Y.name,at),lt=!0}function E(k,u,G){for(var Y=arguments.length>2,V=0;V<u.length;V++)G=Y?u[V].call(k,G):u[V].call(k);return Y?G:void 0}function p(k){return typeof k=="symbol"?k:"".concat(k)}function w(k,u,G){return typeof u=="symbol"&&(u=u.description?"[".concat(u.description,"]"):""),Object.defineProperty(k,"name",{configurable:!0,value:G?"".concat(G," ",u):u})}function y(k,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(k,u)}function m(k,u,G,Y){function V(U){return U instanceof G?U:new G(function(et){et(U)})}return new(G||(G=Promise))(function(U,et){function ht(at){try{bt(Y.next(at))}catch(xt){et(xt)}}function Ft(at){try{bt(Y.throw(at))}catch(xt){et(xt)}}function bt(at){at.done?U(at.value):V(at.value).then(ht,Ft)}bt((Y=Y.apply(k,u||[])).next())})}function g(k,u){var G={label:0,sent:function(){if(U[0]&1)throw U[1];return U[1]},trys:[],ops:[]},Y,V,U,et;return et={next:ht(0),throw:ht(1),return:ht(2)},typeof Symbol=="function"&&(et[Symbol.iterator]=function(){return this}),et;function ht(bt){return function(at){return Ft([bt,at])}}function Ft(bt){if(Y)throw new TypeError("Generator is already executing.");for(;et&&(et=0,bt[0]&&(G=0)),G;)try{if(Y=1,V&&(U=bt[0]&2?V.return:bt[0]?V.throw||((U=V.return)&&U.call(V),0):V.next)&&!(U=U.call(V,bt[1])).done)return U;switch(V=0,U&&(bt=[bt[0]&2,U.value]),bt[0]){case 0:case 1:U=bt;break;case 4:return G.label++,{value:bt[1],done:!1};case 5:G.label++,V=bt[1],bt=[0];continue;case 7:bt=G.ops.pop(),G.trys.pop();continue;default:if(U=G.trys,!(U=U.length>0&&U[U.length-1])&&(bt[0]===6||bt[0]===2)){G=0;continue}if(bt[0]===3&&(!U||bt[1]>U[0]&&bt[1]<U[3])){G.label=bt[1];break}if(bt[0]===6&&G.label<U[1]){G.label=U[1],U=bt;break}if(U&&G.label<U[2]){G.label=U[2],G.ops.push(bt);break}U[2]&&G.ops.pop(),G.trys.pop();continue}bt=u.call(k,G)}catch(at){bt=[6,at],V=0}finally{Y=U=0}if(bt[0]&5)throw bt[1];return{value:bt[0]?bt[1]:void 0,done:!0}}}var M=Object.create?function(k,u,G,Y){Y===void 0&&(Y=G);var V=Object.getOwnPropertyDescriptor(u,G);(!V||("get"in V?!u.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return u[G]}}),Object.defineProperty(k,Y,V)}:function(k,u,G,Y){Y===void 0&&(Y=G),k[Y]=u[G]};function L(k,u){for(var G in k)G!=="default"&&!Object.prototype.hasOwnProperty.call(u,G)&&M(u,k,G)}function B(k){var u=typeof Symbol=="function"&&Symbol.iterator,G=u&&k[u],Y=0;if(G)return G.call(k);if(k&&typeof k.length=="number")return{next:function(){return k&&Y>=k.length&&(k=void 0),{value:k&&k[Y++],done:!k}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}function N(k,u){var G=typeof Symbol=="function"&&k[Symbol.iterator];if(!G)return k;var Y=G.call(k),V,U=[],et;try{for(;(u===void 0||u-- >0)&&!(V=Y.next()).done;)U.push(V.value)}catch(ht){et={error:ht}}finally{try{V&&!V.done&&(G=Y.return)&&G.call(Y)}finally{if(et)throw et.error}}return U}function j(){for(var k=[],u=0;u<arguments.length;u++)k=k.concat(N(arguments[u]));return k}function tt(){for(var k=0,u=0,G=arguments.length;u<G;u++)k+=arguments[u].length;for(var Y=Array(k),V=0,u=0;u<G;u++)for(var U=arguments[u],et=0,ht=U.length;et<ht;et++,V++)Y[V]=U[et];return Y}function H(k,u,G){if(G||arguments.length===2)for(var Y=0,V=u.length,U;Y<V;Y++)(U||!(Y in u))&&(U||(U=Array.prototype.slice.call(u,0,Y)),U[Y]=u[Y]);return k.concat(U||Array.prototype.slice.call(u))}function J(k){return this instanceof J?(this.v=k,this):new J(k)}function ct(k,u,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y=G.apply(k,u||[]),V,U=[];return V={},et("next"),et("throw"),et("return"),V[Symbol.asyncIterator]=function(){return this},V;function et(lt){Y[lt]&&(V[lt]=function(it){return new Promise(function(yt,ft){U.push([lt,it,yt,ft])>1||ht(lt,it)})})}function ht(lt,it){try{Ft(Y[lt](it))}catch(yt){xt(U[0][3],yt)}}function Ft(lt){lt.value instanceof J?Promise.resolve(lt.value.v).then(bt,at):xt(U[0][2],lt)}function bt(lt){ht("next",lt)}function at(lt){ht("throw",lt)}function xt(lt,it){lt(it),U.shift(),U.length&&ht(U[0][0],U[0][1])}}function ut(k){var u,G;return u={},Y("next"),Y("throw",function(V){throw V}),Y("return"),u[Symbol.iterator]=function(){return this},u;function Y(V,U){u[V]=k[V]?function(et){return(G=!G)?{value:J(k[V](et)),done:!1}:U?U(et):et}:U}}function At(k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=k[Symbol.asyncIterator],G;return u?u.call(k):(k=typeof B=="function"?B(k):k[Symbol.iterator](),G={},Y("next"),Y("throw"),Y("return"),G[Symbol.asyncIterator]=function(){return this},G);function Y(U){G[U]=k[U]&&function(et){return new Promise(function(ht,Ft){et=k[U](et),V(ht,Ft,et.done,et.value)})}}function V(U,et,ht,Ft){Promise.resolve(Ft).then(function(bt){U({value:bt,done:ht})},et)}}function St(k,u){return Object.defineProperty?Object.defineProperty(k,"raw",{value:u}):k.raw=u,k}var Yt=Object.create?function(k,u){Object.defineProperty(k,"default",{enumerable:!0,value:u})}:function(k,u){k.default=u};function Tt(k){if(k&&k.__esModule)return k;var u={};if(k!=null)for(var G in k)G!=="default"&&Object.prototype.hasOwnProperty.call(k,G)&&M(u,k,G);return Yt(u,k),u}function Dt(k){return k&&k.__esModule?k:{default:k}}function Bt(k,u,G,Y){if(G==="a"&&!Y)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?k!==u||!Y:!u.has(k))throw new TypeError("Cannot read private member from an object whose class did not declare it");return G==="m"?Y:G==="a"?Y.call(k):Y?Y.value:u.get(k)}function Et(k,u,G,Y,V){if(Y==="m")throw new TypeError("Private method is not writable");if(Y==="a"&&!V)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?k!==u||!V:!u.has(k))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Y==="a"?V.call(k,G):V?V.value=G:u.set(k,G),G}function zt(k,u){if(u===null||typeof u!="object"&&typeof u!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof k=="function"?u===k:k.has(u)}function jt(k,u,G){if(u!=null){if(typeof u!="object"&&typeof u!="function")throw new TypeError("Object expected.");var Y;if(G){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");Y=u[Symbol.asyncDispose]}if(Y===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");Y=u[Symbol.dispose]}if(typeof Y!="function")throw new TypeError("Object not disposable.");k.stack.push({value:u,dispose:Y,async:G})}else G&&k.stack.push({async:!0});return u}var Mt=typeof SuppressedError=="function"?SuppressedError:function(k,u,G){var Y=new Error(G);return Y.name="SuppressedError",Y.error=k,Y.suppressed=u,Y};function pt(k){function u(Y){k.error=k.hasError?new Mt(Y,k.error,"An error was suppressed during disposal."):Y,k.hasError=!0}function G(){for(;k.stack.length;){var Y=k.stack.pop();try{var V=Y.dispose&&Y.dispose.call(Y.value);if(Y.async)return Promise.resolve(V).then(G,function(U){return u(U),G()})}catch(U){u(U)}}if(k.hasError)throw k.error}return G()}S.default={__extends:O,__assign:I,__rest:_,__decorate:T,__param:A,__metadata:y,__awaiter:m,__generator:g,__createBinding:M,__exportStar:L,__values:B,__read:N,__spread:j,__spreadArrays:tt,__spreadArray:H,__await:J,__asyncGenerator:ct,__asyncDelegator:ut,__asyncValues:At,__makeTemplateObject:St,__importStar:Tt,__importDefault:Dt,__classPrivateFieldGet:Bt,__classPrivateFieldSet:Et,__classPrivateFieldIn:zt,__addDisposableResource:jt,__disposeResources:pt}},61102:function(){},50817:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.registerAnimation=S.getAnimation=void 0;var d={};function b(I){return d[I.toLowerCase()]}S.getAnimation=b;function O(I,_){d[I.toLowerCase()]=_}S.registerAnimation=O},97488:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.doGroupAppearAnimate=S.doAnimate=S.getDefaultAnimateCfg=S.DEFAULT_ANIMATE_CFG=void 0;var b=d(13008),O=d(49242),I=d(78646),_=d(50817);S.DEFAULT_ANIMATE_CFG={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}};var T={interval:function(y){return{enter:{animation:y.isRect?y.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:y.isPolar&&y.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},A={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(y){var m;return y.isRect?m=y.isTransposed?"grow-in-x":"grow-in-y":(m="grow-in-xy",y.isPolar&&y.isTransposed&&(m="wave-in")),{animation:m}},schema:function(y){var m;return y.isRect?m=y.isTransposed?"grow-in-x":"grow-in-y":m="grow-in-xy",{animation:m}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function C(y,m){return{delay:O.isFunction(y.delay)?y.delay(m):y.delay,easing:O.isFunction(y.easing)?y.easing(m):y.easing,duration:O.isFunction(y.duration)?y.duration(m):y.duration,callback:y.callback}}function E(y,m,g){var M=T[y];return M&&(O.isFunction(M)&&(M=M(m)),M=O.deepMix({},S.DEFAULT_ANIMATE_CFG,M),g)?M[g]:M}S.getDefaultAnimateCfg=E;function p(y,m,g){var M=O.get(y.get("origin"),"data",I.FIELD_ORIGIN),L=m.animation,B=C(m,M);if(L){var N=_.getAnimation(L);N&&N(y,B,g)}else y.animate(g.toAttrs,B)}S.doAnimate=p;function w(y,m,g,M,L){if(A[g]){var B=A[g](M),N=_.getAnimation(O.get(B,"animation",""));if(N){var j=b.__assign(b.__assign(b.__assign({},S.DEFAULT_ANIMATE_CFG.appear),B),m);y.stopAnimate(),N(y,j,{coordinate:M,minYPoint:L,toAttrs:null})}}}S.doGroupAppearAnimate=w},51315:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(13008),O=b.__importDefault(d(90494)),I=function(_){b.__extends(T,_);function T(A){var C=_.call(this)||this;C.destroyed=!1;var E=A.visible,p=E===void 0?!0:E;return C.visible=p,C}return T.prototype.show=function(){var A=this.visible;A||this.changeVisible(!0)},T.prototype.hide=function(){var A=this.visible;A&&this.changeVisible(!1)},T.prototype.destroy=function(){this.off(),this.destroyed=!0},T.prototype.changeVisible=function(A){this.visible!==A&&(this.visible=A)},T}(O.default);S.default=I},72282:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Controller=void 0;var b=d(49242),O=function(){function I(_){this.visible=!0,this.components=[],this.view=_}return I.prototype.clear=function(){b.each(this.components,function(_){_.component.destroy()}),this.components=[]},I.prototype.destroy=function(){this.clear()},I.prototype.getComponents=function(){return this.components},I.prototype.changeVisible=function(_){this.visible!==_&&(this.components.forEach(function(T){_?T.component.show():T.component.hide()}),this.visible=_)},I}();S.Controller=O},67984:function(dt,S,d){"use strict";var b;b={value:!0};var O=d(13008),I=d(72282),_=250,T=function(w,y){var m=y.x-w.x,g=y.y-w.y;return Math.abs(m)>Math.abs(g)?m>0?"right":"left":g>0?"down":"up"},A=function(w,y){var m=Math.abs(y.x-w.x),g=Math.abs(y.y-w.y);return Math.sqrt(m*m+g*g)},C=function(w,y){var m=(w.x+y.x)/2,g=(w.y+y.y)/2;return{x:m,y:g}},E=function(w,y){if(!!w){for(var m=[],g=w.length,M=0;M<g;M++){var L=w[M],B=L.clientX,N=L.clientY,j=y.getPointByClient(B,N);m.push(j)}return m}},p=function(w){O.__extends(y,w);function y(m){var g=w.call(this,m)||this;return g.processEvent={},g.touchStart=function(M){var L=E(M.originalEvent.touches,g.canvas);!L||(M.points=L,g.reset(),g.startTime=Date.now(),g.startPoints=L,L.length>1?(g.startDistance=A(L[0],L[1]),g.center=C(L[0],L[1])):g.pressTimeout=setTimeout(function(){var B="press";M.direction="none",g.emitStart(B,M),g.emitEvent(B,M),g.eventType=B},_))},g.touchMove=function(M){var L=E(M.originalEvent.touches,g.canvas);if(!!L){g.clearPressTimeout(),M.points=L;var B=g.startPoints;if(!!B)if(L.length>1){var N=g.startDistance,j=A(L[0],L[1]);M.zoom=j/N,M.center=g.center,g.emitStart("pinch",M),g.emitEvent("pinch",M)}else{var tt=L[0].x-B[0].x,H=L[0].y-B[0].y,J=g.direction||T(B[0],L[0]);g.direction=J;var ct=g.getEventType(L);M.direction=J,M.deltaX=tt,M.deltaY=H,g.emitStart(ct,M),g.emitEvent(ct,M);var ut=g.lastMoveTime,At=Date.now();At-ut>0&&(g.prevMoveTime=ut,g.prevMovePoints=g.lastMovePoints,g.lastMoveTime=At,g.lastMovePoints=L)}}},g.touchEnd=function(M){g.emitEnd(M);var L=g.lastMoveTime,B=Date.now();if(B-L<100){var N=g.prevMoveTime||g.startTime,j=L-N;if(j>0){var tt=g.prevMovePoints||g.startPoints,H=g.lastMovePoints,J=A(tt[0],H[0])/j;J>.3&&(M.velocity=J,M.direction=T(tt[0],H[0]),g.emitEvent("swipe",M))}}g.reset();var ct=M.touches;ct&&ct.length>0&&g.touchStart(M)},g.canvas=m.getCanvas(),g.delegateEvent(),g.processEvent={},g}return Object.defineProperty(y.prototype,"name",{get:function(){return"gesture"},enumerable:!1,configurable:!0}),y.prototype.init=function(){},y.prototype.render=function(){},y.prototype.layout=function(){},y.prototype.update=function(){},y.prototype.destroy=function(){this.reset(),this.offEvent(),this.processEvent=null},y.prototype.delegateEvent=function(){this.canvas.on("touchstart",this.touchStart),this.canvas.on("touchmove",this.touchMove),this.canvas.on("touchend",this.touchEnd)},y.prototype.offEvent=function(){this.canvas.off("touchstart",this.touchStart),this.canvas.off("touchmove",this.touchMove),this.canvas.off("touchend",this.touchEnd)},y.prototype.emitEvent=function(m,g){var M=this.view;M.emit(m,g)},y.prototype.emitStart=function(m,g){this.isProcess(m)||(this.enable(m),this.emitEvent(m+"start",g))},y.prototype.emitEnd=function(m){var g=this,M=this.processEvent;Object.keys(M).forEach(function(L){g.emitEvent(L+"end",m),delete M[L]})},y.prototype.enable=function(m){this.processEvent[m]=!0},y.prototype.isProcess=function(m){return this.processEvent[m]},y.prototype.reset=function(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null},y.prototype.clearPressTimeout=function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=0)},y.prototype.getEventType=function(m){var g=this,M=g.eventType,L=g.view,B=g.startTime,N=g.startPoints;if(M)return M;var j,tt=L.getEvents().pan;if(!tt||!tt.length)j="press";else{var H=Date.now();H-B>_&&A(N[0],m[0])<10?j="press":j="pan"}return this.eventType=j,j},y}(I.Controller);S.Z=p},13733:function(dt,S,d){"use strict";var b;b={value:!0};var O=d(13008),I=d(49242),_=d(96397),T=d(83714),A=d(38674),C=d(97127),E=d(72282);function p(y){for(var m=[],g=function(L){var B=y[L],N=I.find(m,function(j){return j.color===B.color&&j.name===B.name&&j.value===B.value&&j.title===B.title});N||m.push(B)},M=0;M<y.length;M++)g(M);return m}var w=function(y){O.__extends(m,y);function m(){var g=y!==null&&y.apply(this,arguments)||this;return g.isLocked=!1,g}return Object.defineProperty(m.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),m.prototype.init=function(){},m.prototype.isVisible=function(){var g=this.view.getOptions().tooltip;return g!==!1},m.prototype.render=function(){},m.prototype.showTooltip=function(g){if(this.point=g,!!this.isVisible()){var M=this.view,L=this.getTooltipItems(g);if(!L.length){this.hideTooltip();return}var B=this.getTitle(L),N={x:L[0].x,y:L[0].y};M.emit("tooltip:show",O.__assign({items:L,title:B},g));var j=this.getTooltipCfg(),tt=j.follow,H=j.showMarkers,J=j.showCrosshairs,ct=j.showContent,ut=j.marker,At=this.items,St=this.title;if(!I.isEqual(St,B)||!I.isEqual(At,L)?(M.emit("tooltip:change",O.__assign({items:L,title:B},g)),ct&&(this.tooltip||this.renderTooltip(),this.tooltip.update(I.mix({},j,{items:L,title:B},tt?g:{})),this.tooltip.show()),H&&this.renderTooltipMarkers(L,ut)):(this.tooltip&&tt&&(this.tooltip.update(g),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=L,this.title=B,J){var Yt=I.get(j,["crosshairs","follow"],!1);this.renderCrosshairs(Yt?g:N,j)}}},m.prototype.hideTooltip=function(){var g=this.getTooltipCfg().follow;if(!g){this.point=null;return}var M=this.tooltipMarkersGroup;M&&M.hide();var L=this.xCrosshair,B=this.yCrosshair;L&&L.hide(),B&&B.hide();var N=this.tooltip;N&&N.hide(),this.view.emit("tooltip:hide",{}),this.point=null},m.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},m.prototype.unlockTooltip=function(){this.isLocked=!1;var g=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(g.capture)},m.prototype.isTooltipLocked=function(){return this.isLocked},m.prototype.clear=function(){var g=this,M=g.tooltip,L=g.xCrosshair,B=g.yCrosshair,N=g.tooltipMarkersGroup;M&&(M.hide(),M.clear()),L&&L.clear(),B&&B.clear(),N&&N.clear()},m.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},m.prototype.changeVisible=function(g){if(this.visible!==g){var M=this,L=M.tooltip,B=M.tooltipMarkersGroup,N=M.xCrosshair,j=M.yCrosshair;g?(L&&L.show(),B&&B.show(),N&&N.show(),j&&j.show()):(L&&L.hide(),B&&B.hide(),N&&N.hide(),j&&j.hide()),this.visible=g}},m.prototype.getTooltipItems=function(g){var M=this.findItemsFromView(this.view,g);if(M.length){M=I.flatten(M);for(var L=0,B=M;L<B.length;L++)for(var N=B[L],j=0,tt=N;j<tt.length;j++){var H=tt[j],J=H.mappingData,ct=J.x,ut=J.y;H.x=I.isArray(ct)?ct[ct.length-1]:ct,H.y=I.isArray(ut)?ut[ut.length-1]:ut}var At=this.getTooltipCfg().shared;if(At===!1&&M.length>1){for(var St=M[0],Yt=Math.abs(g.y-St[0].y),Tt=0,Dt=M;Tt<Dt.length;Tt++){var Bt=Dt[Tt],Et=Math.abs(g.y-Bt[0].y);Et<=Yt&&(St=Bt,Yt=Et)}M=[St]}return p(I.flatten(M))}return[]},m.prototype.layout=function(){},m.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var g=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:g.get("width"),y:g.get("height")}})}},m.prototype.getTooltipCfg=function(){var g=this.view,M=g.getOptions().tooltip,L=g.getTheme(),B=I.get(L,["components","tooltip"],{}),N=I.isUndefined(I.get(M,"enterable"))?B.enterable:I.get(M,"enterable");return I.deepMix({},B,M,{capture:!!(N||this.isLocked)})},m.prototype.getTitle=function(g){var M=g[0].title||g[0].name;return this.title=M,M},m.prototype.renderTooltip=function(){var g=this.view.getCanvas(),M={start:{x:0,y:0},end:{x:g.get("width"),y:g.get("height")}},L=this.getTooltipCfg(),B=new _.HtmlTooltip(O.__assign(O.__assign({parent:g.get("el").parentNode,region:M},L),{visible:!1,crosshairs:null}));B.init(),this.tooltip=B},m.prototype.renderTooltipMarkers=function(g,M){for(var L=this.getTooltipMarkersGroup(),B=0,N=g;B<N.length;B++){var j=N[B],tt=j.x,H=j.y,J=O.__assign(O.__assign({fill:j.color,symbol:"circle",shadowColor:j.color},M),{x:tt,y:H});L.addShape("marker",{attrs:J})}},m.prototype.renderCrosshairs=function(g,M){var L=I.get(M,["crosshairs","type"],"x");L==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(g,M)):L==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(g,M)):L==="xy"&&(this.renderXCrosshairs(g,M),this.renderYCrosshairs(g,M))},m.prototype.renderXCrosshairs=function(g,M){var L=this.getViewWithGeometry(this.view).getCoordinate();if(!!T.isPointInCoordinate(L,g)){var B,N;if(L.isRect)L.isTransposed?(B={x:L.start.x,y:g.y},N={x:L.end.x,y:g.y}):(B={x:g.x,y:L.end.y},N={x:g.x,y:L.start.y});else{var j=T.getAngleByPoint(L,g),tt=L.getCenter(),H=L.getRadius();N=A.polarToCartesian(tt.x,tt.y,H,j),B=tt}var J=I.deepMix({start:B,end:N,container:this.getTooltipCrosshairsGroup()},I.get(M,"crosshairs",{}),this.getCrosshairsText("x",g,M));delete J.type;var ct=this.xCrosshair;ct?ct.update(J):(ct=new _.Crosshair.Line(J),ct.init()),ct.render(),ct.show(),this.xCrosshair=ct}},m.prototype.renderYCrosshairs=function(g,M){var L=this.getViewWithGeometry(this.view).getCoordinate();if(!!T.isPointInCoordinate(L,g)){var B,N;if(L.isRect){var j=void 0,tt=void 0;L.isTransposed?(j={x:g.x,y:L.end.y},tt={x:g.x,y:L.start.y}):(j={x:L.start.x,y:g.y},tt={x:L.end.x,y:g.y}),B={start:j,end:tt},N="Line"}else B={center:L.getCenter(),radius:T.getDistanceToCenter(L,g),startAngle:L.startAngle,endAngle:L.endAngle},N="Circle";B=I.deepMix({container:this.getTooltipCrosshairsGroup()},B,I.get(M,"crosshairs",{}),this.getCrosshairsText("y",g,M)),delete B.type;var H=this.yCrosshair;H?L.isRect&&H.get("type")==="circle"||!L.isRect&&H.get("type")==="line"?(H=new _.Crosshair[N](B),H.init()):H.update(B):(H=new _.Crosshair[N](B),H.init()),H.render(),H.show(),this.yCrosshair=H}},m.prototype.getCrosshairsText=function(g,M,L){var B=I.get(L,["crosshairs","text"]),N=I.get(L,["crosshairs","follow"]),j=this.items;if(B){var tt=this.getViewWithGeometry(this.view),H=j[0],J=tt.getXScale(),ct=tt.getYScales()[0],ut=void 0,At=void 0;if(N){var St=this.view.getCoordinate().invert(M);ut=J.invert(St.x),At=ct.invert(St.y)}else ut=H.data[J.field],At=H.data[ct.field];var Yt=g==="x"?ut:At;return I.isFunction(B)?B=B(g,Yt,j,M):B.content=Yt,{text:B}}},m.prototype.getGuideGroup=function(){if(!this.guideGroup){var g=this.view.foregroundGroup;this.guideGroup=g.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},m.prototype.getTooltipMarkersGroup=function(){var g=this.tooltipMarkersGroup;return g&&!g.destroyed?(g.clear(),g.show()):(g=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),g.toFront(),this.tooltipMarkersGroup=g),g},m.prototype.getTooltipCrosshairsGroup=function(){var g=this.tooltipCrosshairsGroup;return g||(g=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),g.toBack(),this.tooltipCrosshairsGroup=g),g},m.prototype.getTooltipItemsByHitShape=function(g,M,L){var B=[],N=g.container,j=N.getShape(M.x,M.y);if(j&&j.get("visible")&&j.get("origin")){var tt=j.get("origin").mappingData,H=C.getTooltipItems(tt,g,L);H.length&&B.push(H)}return B},m.prototype.getTooltipItemsByFindData=function(g,M,L){var B=[],N=g.dataArray;g.sort(N);for(var j=0,tt=N;j<tt.length;j++){var H=tt[j],J=C.findDataByPoint(M,H,g);if(J){var ct=g.getElementId(J),ut=g.elementsMap[ct];if(g.type==="heatmap"||ut.visible){var At=C.getTooltipItems(J,g,L);At.length&&B.push(At)}}}return B},m.prototype.findItemsFromView=function(g,M){if(g.getOptions().tooltip===!1)return[];for(var L=[],B=g.geometries,N=this.getTooltipCfg(),j=N.shared,tt=N.title,H=0,J=B;H<J.length;H++){var ct=J[H];if(ct.visible&&ct.tooltipOption!==!1){var ut=ct.type,At=void 0;["point","edge","polygon"].includes(ut)?At=this.getTooltipItemsByHitShape(ct,M,tt):["area","line","path","heatmap"].includes(ut)?At=this.getTooltipItemsByFindData(ct,M,tt):j!==!1?At=this.getTooltipItemsByFindData(ct,M,tt):At=this.getTooltipItemsByHitShape(ct,M,tt),At.length&&L.push(At)}}for(var St=0,Yt=g.views;St<Yt.length;St++){var Tt=Yt[St];L=L.concat(this.findItemsFromView(Tt,M))}return L},m.prototype.getViewWithGeometry=function(g){var M=this;return g.geometries.length?g:I.find(g.views,function(L){return M.getViewWithGeometry(L)})},m}(E.Controller);S.Z=w},78646:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.COMPONENT_MAX_VIEW_PERCENTAGE=S.MIN_CHART_HEIGHT=S.MIN_CHART_WIDTH=S.FIELD_ORIGIN=S.GROUP_ATTRS=S.ELEMENT_STATE=S.PLOT_EVENTS=S.VIEW_LIFE_CIRCLE=S.GROUP_Z_INDEX=S.COMPONENT_TYPE=S.DIRECTION=S.LAYER=void 0;var d;(function(A){A.FORE="fore",A.MID="mid",A.BG="bg"})(d=S.LAYER||(S.LAYER={}));var b;(function(A){A.TOP="top",A.TOP_LEFT="top-left",A.TOP_RIGHT="top-right",A.RIGHT="right",A.RIGHT_TOP="right-top",A.RIGHT_BOTTOM="right-bottom",A.LEFT="left",A.LEFT_TOP="left-top",A.LEFT_BOTTOM="left-bottom",A.BOTTOM="bottom",A.BOTTOM_LEFT="bottom-left",A.BOTTOM_RIGHT="bottom-right",A.RADIUS="radius",A.CIRCLE="circle",A.NONE="none"})(b=S.DIRECTION||(S.DIRECTION={}));var O;(function(A){A.AXIS="axis",A.GRID="grid",A.LEGEND="legend",A.TOOLTIP="tooltip",A.ANNOTATION="annotation",A.OTHER="other"})(O=S.COMPONENT_TYPE||(S.COMPONENT_TYPE={})),S.GROUP_Z_INDEX={FORE:3,MID:2,BG:1};var I;(function(A){A.BEFORE_RENDER="beforerender",A.AFTER_RENDER="afterrender",A.BEFORE_PAINT="beforepaint",A.AFTER_PAINT="afterpaint",A.BEFORE_CHANGE_DATA="beforechangedata",A.AFTER_CHANGE_DATA="afterchangedata",A.BEFORE_CLEAR="beforeclear",A.AFTER_CLEAR="afterclear",A.BEFORE_DESTROY="beforedestroy"})(I=S.VIEW_LIFE_CIRCLE||(S.VIEW_LIFE_CIRCLE={}));var _;(function(A){A.MOUSE_ENTER="plot:mouseenter",A.MOUSE_DOWN="plot:mousedown",A.MOUSE_MOVE="plot:mousemove",A.MOUSE_UP="plot:mouseup",A.MOUSE_LEAVE="plot:mouseleave",A.TOUCH_START="plot:touchstart",A.TOUCH_MOVE="plot:touchmove",A.TOUCH_END="plot:touchend",A.TOUCH_CANCEL="plot:touchcancel",A.CLICK="plot:click",A.DBLCLICK="plot:dblclick",A.CONTEXTMENU="plot:contextmenu",A.LEAVE="plot:leave",A.ENTER="plot:enter"})(_=S.PLOT_EVENTS||(S.PLOT_EVENTS={}));var T;(function(A){A.ACTIVE="active",A.INACTIVE="inactive",A.SELECTED="selected",A.DEFAULT="default"})(T=S.ELEMENT_STATE||(S.ELEMENT_STATE={})),S.GROUP_ATTRS=["color","shape","size"],S.FIELD_ORIGIN="_origin",S.MIN_CHART_WIDTH=1,S.MIN_CHART_HEIGHT=1,S.COMPONENT_MAX_VIEW_PERCENTAGE=.25},96397:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Slider=S.HtmlTooltip=S.ContinuousLegend=S.CategoryLegend=S.CircleGrid=S.LineGrid=S.CircleAxis=S.LineAxis=S.Annotation=S.Crosshair=S.Component=S.GroupComponent=S.HtmlComponent=void 0;var b=d(89790);Object.defineProperty(S,"Event",{enumerable:!0,get:function(){return b.Event}}),Object.defineProperty(S,"AbstractGroup",{enumerable:!0,get:function(){return b.AbstractGroup}}),Object.defineProperty(S,"AbstractShape",{enumerable:!0,get:function(){return b.AbstractShape}});var O=d(68060);Object.defineProperty(S,"registerAdjust",{enumerable:!0,get:function(){return O.registerAdjust}}),Object.defineProperty(S,"getAdjust",{enumerable:!0,get:function(){return O.getAdjust}}),Object.defineProperty(S,"Adjust",{enumerable:!0,get:function(){return O.Adjust}});var I=d(25228);Object.defineProperty(S,"getAttribute",{enumerable:!0,get:function(){return I.getAttribute}}),Object.defineProperty(S,"Attribute",{enumerable:!0,get:function(){return I.Attribute}});var _=d(58368);Object.defineProperty(S,"Color",{enumerable:!0,get:function(){return _.Color}});var T=d(13541);Object.defineProperty(S,"getCoordinate",{enumerable:!0,get:function(){return T.getCoordinate}}),Object.defineProperty(S,"registerCoordinate",{enumerable:!0,get:function(){return T.registerCoordinate}}),Object.defineProperty(S,"Coordinate",{enumerable:!0,get:function(){return T.Coordinate}});var A=d(72469);Object.defineProperty(S,"getScale",{enumerable:!0,get:function(){return A.getScale}}),Object.defineProperty(S,"registerScale",{enumerable:!0,get:function(){return A.registerScale}}),Object.defineProperty(S,"Scale",{enumerable:!0,get:function(){return A.Scale}});var C=d(51441);Object.defineProperty(S,"Annotation",{enumerable:!0,get:function(){return C.Annotation}}),Object.defineProperty(S,"Component",{enumerable:!0,get:function(){return C.Component}}),Object.defineProperty(S,"Crosshair",{enumerable:!0,get:function(){return C.Crosshair}}),Object.defineProperty(S,"GroupComponent",{enumerable:!0,get:function(){return C.GroupComponent}}),Object.defineProperty(S,"HtmlComponent",{enumerable:!0,get:function(){return C.HtmlComponent}}),Object.defineProperty(S,"Slider",{enumerable:!0,get:function(){return C.Slider}});var E=C.Axis.Line,p=C.Axis.Circle;S.LineAxis=E,S.CircleAxis=p;var w=C.Grid.Line,y=C.Grid.Circle;S.LineGrid=w,S.CircleGrid=y;var m=C.Legend.Category,g=C.Legend.Continuous;S.CategoryLegend=m,S.ContinuousLegend=g;var M=C.Tooltip.Html;S.HtmlTooltip=M},98880:function(dt,S,d){"use strict";var b;b={value:!0};var O=d(13008),I=d(49242),_=d(97488),T=O.__importDefault(d(51315)),A=d(38674),C=d(31207),E=function(p){O.__extends(w,p);function w(y){var m=p.call(this,y)||this;m.states=[];var g=y.shapeFactory,M=y.container,L=y.offscreenGroup,B=y.visible,N=B===void 0?!0:B;return m.shapeFactory=g,m.container=M,m.offscreenGroup=L,m.visible=N,m}return w.prototype.draw=function(y,m){m===void 0&&(m=!1),this.model=y,this.data=y.data,this.shapeType=this.getShapeType(y),this.drawShape(y,m),this.visible===!1&&this.changeVisible(!1)},w.prototype.update=function(y){var m=this,g=m.shapeFactory,M=m.shape;if(!!M){this.model=y,this.data=y.data,this.shapeType=this.getShapeType(y),this.setShapeInfo(M,y);var L=this.getOffscreenGroup(),B=g.drawShape(this.shapeType,y,L);B.cfg.data=this.data,B.cfg.origin=y,this.syncShapeStyle(M,B,"",this.getAnimateCfg("update"))}},w.prototype.destroy=function(){var y=this,m=y.shapeFactory,g=y.shape;if(g){var M=this.getAnimateCfg("leave");M?_.doAnimate(g,M,{coordinate:m.coordinate,toAttrs:O.__assign({},g.attr())}):g.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,p.prototype.destroy.call(this)},w.prototype.changeVisible=function(y){p.prototype.changeVisible.call(this,y),y?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(m){m.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(m){m.hide()}))},w.prototype.setState=function(y,m){var g=this,M=this,L=M.states,B=M.shapeFactory,N=M.model,j=M.shape,tt=M.shapeType,H=L.indexOf(y);if(m){if(H>-1)return;L.push(y),(y==="active"||y==="selected")&&j.toFront()}else{if(H===-1)return;L.splice(H,1),(y==="active"||y==="selected")&&j.toBack()}var J=B.drawShape(tt,N,this.getOffscreenGroup());L.length?L.forEach(function(ut){g.syncShapeStyle(j,J,ut,null)}):this.syncShapeStyle(j,J,"reset",null),J.remove(!0);var ct={state:y,stateStatus:m,element:this,target:this.container};this.container.emit("statechange",ct),C.propagationDelegate(this.shape,"statechange",ct)},w.prototype.clearStates=function(){var y=this,m=this.states;I.each(m,function(g){y.setState(g,!1)}),this.states=[]},w.prototype.hasState=function(y){return this.states.includes(y)},w.prototype.getStates=function(){return this.states},w.prototype.getData=function(){return this.data},w.prototype.getModel=function(){return this.model},w.prototype.getBBox=function(){var y=this,m=y.shape,g=y.labelShape,M={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return m&&(M=m.getCanvasBBox()),g&&g.forEach(function(L){var B=L.getCanvasBBox();M.x=Math.min(B.x,M.x),M.y=Math.min(B.y,M.y),M.minX=Math.min(B.minX,M.minX),M.minY=Math.min(B.minY,M.minY),M.maxX=Math.max(B.maxX,M.maxX),M.maxY=Math.max(B.maxY,M.maxY)}),M.width=M.maxX-M.minX,M.height=M.maxY-M.minY,M},w.prototype.getStatesStyle=function(){if(!this.statesStyle){var y=this,m=y.shapeType,g=y.geometry,M=y.shapeFactory,L=g.stateOption,B=M.defaultShapeType,N=M.theme[m]||M.theme[B];this.statesStyle=I.deepMix({},N,L)}return this.statesStyle},w.prototype.getStateStyle=function(y,m){var g=this.getStatesStyle(),M=I.get(g,[y,"style"],{}),L=M[m]||M;return I.isFunction(L)?L(this):L},w.prototype.getAnimateCfg=function(y){var m=this.animate;return m?m[y]:null},w.prototype.drawShape=function(y,m){m===void 0&&(m=!1);var g=this,M=g.shapeFactory,L=g.container,B=g.shapeType;if(this.shape=M.drawShape(B,y,L),this.shape){this.setShapeInfo(this.shape,y);var N=this.shape.cfg.name;N?I.isString(N)&&(this.shape.cfg.name=["element",N]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var j=m?"enter":"appear",tt=this.getAnimateCfg(j);tt&&_.doAnimate(this.shape,tt,{coordinate:M.coordinate,toAttrs:O.__assign({},this.shape.attr())})}},w.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var y=this.container.getGroupBase();this.offscreenGroup=new y({})}return this.offscreenGroup},w.prototype.setShapeInfo=function(y,m){var g=this;if(y.cfg.origin=m,y.cfg.element=this,y.isGroup()){var M=y.get("children");M.forEach(function(L){g.setShapeInfo(L,m)})}},w.prototype.syncShapeStyle=function(y,m,g,M,L){if(g===void 0&&(g=""),L===void 0&&(L=0),y.isGroup())for(var B=y.get("children"),N=m.get("children"),j=0;j<B.length;j++)this.syncShapeStyle(B[j],N[j],g,M,L+j);else{if(g&&g!=="reset"){var tt=y.get("name");I.isArray(tt)&&(tt=tt[1]);var H=this.getStateStyle(g,tt||L);m.attr(H)}var J=A.getReplaceAttrs(y,m);this.animate?M?_.doAnimate(y,M,{coordinate:this.shapeFactory.coordinate,toAttrs:J,shapeModel:this.model}):g?(y.stopAnimate(),y.animate(J,{duration:300})):y.attr(J):y.attr(J)}},w.prototype.getShapeType=function(y){var m=I.get(y,"shape");return I.isArray(m)?m[0]:m},w}(T.default);b=E},78685:function(dt,S,d){"use strict";var b;b={value:!0},S.iV=b=b=void 0;var O=d(13008),I=d(90835),_=d(95280);b=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],b=["cross","tick","plus","hyphen","line"];function T(A,C,E,p,w){var y=_.getStyle(C,w,!w,"r"),m=A.parsePoints(C.points),g=m[0];if(C.isStack)g=m[1];else if(m.length>1){for(var M=E.addGroup(),L=0,B=m;L<B.length;L++){var N=B[L];M.addShape({type:"marker",attrs:O.__assign(O.__assign(O.__assign({},y),{symbol:I.MarkerSymbols[p]||p}),N)})}return M}return E.addShape({type:"marker",attrs:O.__assign(O.__assign(O.__assign({},y),{symbol:I.MarkerSymbols[p]||p}),g)})}S.iV=T},95280:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getStyle=void 0;var b=d(13008),O=d(49242);function I(_,T,A,C){C===void 0&&(C="");var E=_.style,p=E===void 0?{}:E,w=_.defaultStyle,y=_.color,m=_.size,g=b.__assign(b.__assign({},w),p);return y&&(T&&(p.stroke||(g.stroke=y)),A&&(p.fill||(g.fill=y))),C&&O.isNil(p[C])&&!O.isNil(m)&&(g[C]=m),g}S.getStyle=I},89921:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.convertPolarPath=S.convertNormalPath=S.getSplinePath=S.getLinePath=S.catmullRom2bezier=S.smoothBezier=void 0;var b=d(43567),O=d(49242),I=d(83714);function _(g,M){var L=[];if(g.length){L.push(["M",g[0].x,g[0].y]);for(var B=1,N=g.length;B<N;B+=1){var j=g[B];L.push(["L",j.x,j.y])}M&&L.push(["Z"])}return L}function T(g,M){for(var L=[g[0]],B=1,N=g.length;B<N;B=B+2){var j=M.convert({x:g[B],y:g[B+1]});L.push(j.x,j.y)}return L}function A(g,M,L){var B=L.isTransposed,N=L.startAngle,j=L.endAngle,tt={x:g[1],y:g[2]},H={x:M[1],y:M[2]},J=[],ct=B?"y":"x",ut=Math.abs(H[ct]-tt[ct])*(j-N),At=H[ct]>=tt[ct]?1:0,St=ut>Math.PI?1:0,Yt=L.convert(H),Tt=I.getDistanceToCenter(L,Yt);if(Tt>=.5)if(ut===Math.PI*2){var Dt={x:(H.x+tt.x)/2,y:(H.y+tt.y)/2},Bt=L.convert(Dt);J.push(["A",Tt,Tt,0,St,At,Bt.x,Bt.y]),J.push(["A",Tt,Tt,0,St,At,Yt.x,Yt.y])}else J.push(["A",Tt,Tt,0,St,At,Yt.x,Yt.y]);return J}function C(g){O.each(g,function(M,L){var B=M;if(B[0].toLowerCase()==="a"){var N=g[L-1],j=g[L+1];j&&j[0].toLowerCase()==="a"?N&&N[0].toLowerCase()==="l"&&(N[0]="M"):N&&N[0].toLowerCase()==="a"&&j&&j[0].toLowerCase()==="l"&&(j[0]="M")}})}S.smoothBezier=function(g,M,L,B){var N=[],j,tt,H=!!B,J,ct;if(H){J=[Infinity,Infinity],ct=[-Infinity,-Infinity];for(var ut=0,At=g.length;ut<At;ut++){var St=g[ut];J=b.vec2.min([0,0],J,St),ct=b.vec2.max([0,0],ct,St)}J=b.vec2.min([0,0],J,B[0]),ct=b.vec2.max([0,0],ct,B[1])}for(var ut=0,Yt=g.length;ut<Yt;ut++){var St=g[ut];if(L)j=g[ut?ut-1:Yt-1],tt=g[(ut+1)%Yt];else if(ut===0||ut===Yt-1){N.push(St);continue}else j=g[ut-1],tt=g[ut+1];var Tt=[0,0];Tt=b.vec2.sub(Tt,tt,j),Tt=b.vec2.scale(Tt,Tt,M);var Dt=b.vec2.distance(St,j),Bt=b.vec2.distance(St,tt),Et=Dt+Bt;Et!==0&&(Dt/=Et,Bt/=Et);var zt=b.vec2.scale([0,0],Tt,-Dt),jt=b.vec2.scale([0,0],Tt,Bt),Mt=b.vec2.add([0,0],St,zt),pt=b.vec2.add([0,0],St,jt);H&&(Mt=b.vec2.max([0,0],Mt,J),Mt=b.vec2.min([0,0],Mt,ct),pt=b.vec2.max([0,0],pt,J),pt=b.vec2.min([0,0],pt,ct)),N.push(Mt),N.push(pt)}return L&&N.push(N.shift()),N};function E(g,M,L){for(var B=!!M,N=[],j=0,tt=g.length;j<tt;j+=2)N.push([g[j],g[j+1]]);for(var H=S.smoothBezier(N,.4,B,L),J=N.length,ct=[],ut,At,St,j=0;j<J-1;j++)ut=H[j*2],At=H[j*2+1],St=N[j+1],ct.push(["C",ut[0],ut[1],At[0],At[1],St[0],St[1]]);return B&&(ut=H[J],At=H[J+1],St=N[0],ct.push(["C",ut[0],ut[1],At[0],At[1],St[0],St[1]])),ct}S.catmullRom2bezier=E;function p(g,M){return _(g,M)}S.getLinePath=p;function w(g,M,L){var B=[],N=g[0],j=null;if(g.length<=2)return p(g,M);for(var tt=0,H=g.length;tt<H;tt++){var J=g[tt];(!j||!(j.x===J.x&&j.y===J.y))&&(B.push(J.x),B.push(J.y),j=J)}var ct=L||[[0,0],[1,1]],ut=E(B,M,ct);return ut.unshift(["M",N.x,N.y]),ut}S.getSplinePath=w;function y(g,M){var L=[];return O.each(M,function(B){var N=B[0];switch(N.toLowerCase()){case"m":case"l":case"c":L.push(T(B,g));break;case"z":default:L.push(B);break}}),L}S.convertNormalPath=y;function m(g,M){var L=[],B,N,j,tt;return O.each(M,function(H,J){var ct=H[0];switch(ct.toLowerCase()){case"m":case"c":case"q":L.push(T(H,g));break;case"l":B=M[J-1],N=H,j=g.isTransposed,tt=j?B[B.length-2]===N[1]:B[B.length-1]===N[2],tt?L=L.concat(A(B,N,g)):L.push(T(H,g));break;case"z":default:L.push(H);break}}),C(L),L}S.convertPolarPath=m},54244:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),O=function(){function I(_,T){this.context=_,this.cfg=T,_.addAction(this)}return I.prototype.applyCfg=function(_){b.assign(this,_)},I.prototype.init=function(){this.applyCfg(this.cfg)},I.prototype.destroy=function(){this.context.removeAction(this),this.context=null},I}();S.default=O},32479:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(13008),O=b.__importDefault(d(54244)),I=function(_){b.__extends(T,_);function T(){return _!==null&&_.apply(this,arguments)||this}return T.prototype.execute=function(){this.callback&&this.callback(this.context)},T.prototype.destroy=function(){_.prototype.destroy.call(this),this.callback=null},T}(O.default);S.default=I},9154:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.createCallbackAction=S.unregisterAction=S.registerAction=S.getActionClass=S.createAction=void 0;var b=d(13008),O=b.__importDefault(d(32479)),I=d(49242),_={};function T(w,y){var m=_[w],g=null;if(m){var M=m.ActionClass,L=m.cfg;g=new M(y,L),g.name=w,g.init()}return g}S.createAction=T;function A(w){var y=_[w];return I.get(y,"ActionClass")}S.getActionClass=A;function C(w,y,m){_[w]={ActionClass:y,cfg:m}}S.registerAction=C;function E(w){delete _[w]}S.unregisterAction=E;function p(w,y){var m=new O.default(y);return m.callback=w,m.name="callback",m}S.createCallbackAction=p},85506:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getScaleByField=S.isInRecords=S.getSiblingPoint=S.getSilbings=S.isInBox=S.getSpline=S.distance=S.getComponents=S.getElementsByPath=S.getIntersectElements=S.intersectRect=S.getElementValue=S.getElementsByState=S.getElementsByField=S.getElements=S.getSiblingMaskElements=S.getMaskedElements=S.isMask=S.isSlider=S.isList=S.isElementChange=S.getDelegationObject=S.getCurrentElement=void 0;var b=d(13008),O=d(49242),I=d(89921),_=d(62810),T=b.__importDefault(d(70146));function A(Mt,pt){var k=Mt.event,u=k.target,G=u.getCanvasBBox();return G.width>=pt||G.height>=pt?G:null}function C(Mt,pt){var k=Mt.event,u=k.target,G=u.getCanvasBBox();return G.width>=pt||G.height>=pt?u.attr("path"):null}function E(Mt){var pt=Mt.event,k,u=pt.target;return u&&(k=u.get("element")),k}S.getCurrentElement=E;function p(Mt){var pt=Mt.event,k=pt.target,u;return k&&(u=k.get("delegateObject")),u}S.getDelegationObject=p;function w(Mt){var pt=Mt.event.gEvent;return!(pt&&pt.fromShape&&pt.toShape&&pt.fromShape.get("element")===pt.toShape.get("element"))}S.isElementChange=w;function y(Mt){return Mt&&Mt.component&&Mt.component.isList()}S.isList=y;function m(Mt){return Mt&&Mt.component&&Mt.component.isSlider()}S.isSlider=m;function g(Mt){var pt=Mt.event,k=pt.target;return k&&k.get("name")==="mask"}S.isMask=g;function M(Mt,pt){var k=Mt.event.target;if(k.get("type")==="path"){var u=C(Mt,pt);return u?ut(Mt.view,u):void 0}var G=A(Mt,pt);return G?J(Mt.view,G):null}S.getMaskedElements=M;function L(Mt,pt,k){var u=A(Mt,k);if(!u)return null;var G=Mt.view,Y=Et(G,pt,{x:u.x,y:u.y}),V=Et(G,pt,{x:u.maxX,y:u.maxY}),U={minX:Y.x,minY:Y.y,maxX:V.x,maxY:V.y};return J(pt,U)}S.getSiblingMaskElements=L;function B(Mt){var pt=Mt.geometries,k=[];return O.each(pt,function(u){var G=u.elements;k=k.concat(G)}),Mt.views&&Mt.views.length&&O.each(Mt.views,function(u){k=k.concat(B(u))}),k}S.getElements=B;function N(Mt,pt,k){var u=B(Mt);return u.filter(function(G){return tt(G,pt)===k})}S.getElementsByField=N;function j(Mt,pt){var k=Mt.geometries,u=[];return O.each(k,function(G){var Y=G.getElementsBy(function(V){return V.hasState(pt)});u=u.concat(Y)}),u}S.getElementsByState=j;function tt(Mt,pt){var k=Mt.getModel(),u=k.data,G;return O.isArray(u)?G=u[0][pt]:G=u[pt],G}S.getElementValue=tt;function H(Mt,pt){return!(pt.minX>Mt.maxX||pt.maxX<Mt.minX||pt.minY>Mt.maxY||pt.maxY<Mt.minY)}S.intersectRect=H;function J(Mt,pt){var k=B(Mt),u=[];return O.each(k,function(G){var Y=G.shape,V=Y.getCanvasBBox();H(pt,V)&&u.push(G)}),u}S.getIntersectElements=J;function ct(Mt){var pt=[];return O.each(Mt,function(k){var u=k[0];if(u!=="A")for(var G=1;G<k.length;G=G+2)pt.push([k[G],k[G+1]]);else{var Y=k.length;pt.push([k[Y-2],k[Y-1]])}}),pt}function ut(Mt,pt){var k=B(Mt),u=ct(pt),G=k.filter(function(Y){var V=Y.shape,U;if(V.get("type")==="path")U=ct(V.attr("path"));else{var et=V.getCanvasBBox();U=_.toPoints(et)}return T.default(u,U)});return G}S.getElementsByPath=ut;function At(Mt){return Mt.getComponents().map(function(pt){return pt.component})}S.getComponents=At;function St(Mt,pt){var k=pt.x-Mt.x,u=pt.y-Mt.y;return Math.sqrt(k*k+u*u)}S.distance=St;function Yt(Mt,pt){if(Mt.length<=2)return I.getLinePath(Mt,!1);var k=Mt[0],u=[];O.each(Mt,function(Y){u.push(Y.x),u.push(Y.y)});var G=I.catmullRom2bezier(u,pt,null);return G.unshift(["M",k.x,k.y]),G}S.getSpline=Yt;function Tt(Mt,pt){return Mt.x<=pt.x&&Mt.maxX>=pt.x&&Mt.y<=pt.y&&Mt.maxY>pt.y}S.isInBox=Tt;function Dt(Mt){var pt=Mt.parent,k=null;return pt&&(k=pt.views.filter(function(u){return u!==Mt})),k}S.getSilbings=Dt;function Bt(Mt,pt){var k=Mt.getCoordinate();return k.invert(pt)}function Et(Mt,pt,k){var u=Bt(Mt,k);return pt.getCoordinate().convert(u)}S.getSiblingPoint=Et;function zt(Mt,pt,k,u){var G=!1;return O.each(Mt,function(Y){if(Y[k]===pt[k]&&Y[u]===pt[u])return G=!0,!1}),G}S.isInRecords=zt;function jt(Mt,pt){var k=Mt.getScaleByField(pt);return!k&&Mt.views&&O.each(Mt.views,function(u){if(k=jt(u,pt),k)return!1}),k}S.getScaleByField=jt},94194:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),O=d(85506),I=function(){function _(T){this.actions=[],this.event=null,this.cacheMap={},this.view=T}return _.prototype.cache=function(){for(var T=[],A=0;A<arguments.length;A++)T[A]=arguments[A];if(T.length===1)return this.cacheMap[T[0]];T.length===2&&(this.cacheMap[T[0]]=T[1])},_.prototype.getAction=function(T){return this.actions.find(function(A){return A.name===T})},_.prototype.addAction=function(T){this.actions.push(T)},_.prototype.removeAction=function(T){var A=this.actions,C=this.actions.indexOf(T);C>=0&&A.splice(C,1)},_.prototype.getCurrentPoint=function(){var T=this.event;if(T)if(T.target instanceof HTMLElement){var A=this.view.getCanvas(),C=A.getPointByClient(T.clientX,T.clientY);return C}else return{x:T.x,y:T.y};return null},_.prototype.getCurrentShape=function(){return b.get(this.event,["gEvent","shape"])},_.prototype.isInPlot=function(){var T=this.getCurrentPoint();return T?this.view.isPointInPlot(T):!1},_.prototype.isInShape=function(T){var A=this.getCurrentShape();return A?A.get("name")===T:!1},_.prototype.isInComponent=function(T){var A=O.getComponents(this.view),C=this.getCurrentPoint();return C?!!A.find(function(E){var p=E.getBBox();return T?E.get("name")===T&&O.isInBox(p,C):O.isInBox(p,C)}):!1},_.prototype.destroy=function(){this.view=null,this.event=null,b.each(this.actions.slice(),function(T){T.destroy()}),this.actions=null,this.cacheMap=null},_}();S.default=I},86050:function(dt,S,d){"use strict";var b;b={value:!0};var O=d(13008),I=d(49242),_=d(9154),T=O.__importDefault(d(94194)),A=O.__importDefault(d(38144));function C(y,m){var g=y.split(":"),M=g[0],L=m.getAction(M)||_.createAction(M,m);if(!L)throw new Error("There is no action named "+M);var B=g[1];return{action:L,methodName:B}}function E(y){var m=y.action,g=y.methodName;if(m[g])m[g]();else throw new Error("Action("+m.name+") doesn't have a method called "+g)}var p={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},w=function(y){O.__extends(m,y);function m(g,M){var L=y.call(this,g,M)||this;return L.callbackCaches={},L.emitCaches={},L.steps=M,L}return m.prototype.init=function(){this.initContext(),y.prototype.init.call(this)},m.prototype.destroy=function(){y.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},m.prototype.initEvents=function(){var g=this;I.each(this.steps,function(M,L){I.each(M,function(B){var N=g.getActionCallback(L,B);N&&g.bindEvent(B.trigger,N)})})},m.prototype.clearEvents=function(){var g=this;I.each(this.steps,function(M,L){I.each(M,function(B){var N=g.getActionCallback(L,B);N&&g.offEvent(B.trigger,N)})})},m.prototype.initContext=function(){var g=this.view,M=new T.default(g);this.context=M;var L=this.steps;I.each(L,function(B){I.each(B,function(N){if(I.isFunction(N.action))N.actionObject={action:_.createCallbackAction(N.action,M),methodName:"execute"};else if(I.isString(N.action))N.actionObject=C(N.action,M);else if(I.isArray(N.action)){var j=N.action;N.actionObject=[],I.each(j,function(tt){N.actionObject.push(C(tt,M))})}})})},m.prototype.isAllowStep=function(g){var M=this.currentStepName,L=this.steps;if(M===g||g===p.SHOW_ENABLE)return!0;if(g===p.PROCESSING)return M===p.START;if(g===p.START)return M!==p.PROCESSING;if(g===p.END)return M===p.PROCESSING||M===p.START;if(g===p.ROLLBACK){if(L[p.END])return M===p.END;if(M===p.START)return!0}return!1},m.prototype.isAllowExcute=function(g,M){if(this.isAllowStep(g)){var L=this.getKey(g,M);return M.once&&this.emitCaches[L]?!1:M.isEnable?M.isEnable(this.context):!0}return!1},m.prototype.enterStep=function(g){this.currentStepName=g,this.emitCaches={}},m.prototype.afterExecute=function(g,M){g!==p.SHOW_ENABLE&&this.currentStepName!==g&&this.enterStep(g);var L=this.getKey(g,M);this.emitCaches[L]=!0},m.prototype.getKey=function(g,M){return g+M.trigger+M.action},m.prototype.getActionCallback=function(g,M){var L=this,B=this.context,N=this.callbackCaches,j=M.actionObject;if(M.action&&j){var tt=this.getKey(g,M);if(!N[tt]){var H=function(J){B.event=J,L.isAllowExcute(g,M)?(I.isArray(j)?I.each(j,function(ct){B.event=J,E(ct)}):(B.event=J,E(j)),L.afterExecute(g,M),M.callback&&(B.event=J,M.callback(B))):B.event=null};M.debounce?N[tt]=I.debounce(H,M.debounce.wait,M.debounce.immediate):M.throttle?N[tt]=I.throttle(H,M.throttle.wait,{leading:M.throttle.leading,trailing:M.throttle.trailing}):N[tt]=H}return N[tt]}return null},m.prototype.bindEvent=function(g,M){var L=g.split(":");L[0]==="window"?window.addEventListener(L[1],M):L[0]==="document"?document.addEventListener(L[1],M):this.view.on(g,M)},m.prototype.offEvent=function(g,M){var L=g.split(":");L[0]==="window"?window.removeEventListener(L[1],M):L[0]==="document"?document.removeEventListener(L[1],M):this.view.off(g,M)},m}(A.default);b=w},38144:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function b(O,I){this.view=O,this.cfg=I}return b.prototype.init=function(){this.initEvents()},b.prototype.initEvents=function(){},b.prototype.clearEvents=function(){},b.prototype.destroy=function(){this.clearEvents()},b}();S.default=d},62810:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.toPoints=S.getRegionBBox=S.BBox=void 0;var b=d(49242),O=d(78646),I=function(){function T(A,C,E,p){A===void 0&&(A=0),C===void 0&&(C=0),E===void 0&&(E=0),p===void 0&&(p=0),this.x=A,this.y=C,this.height=p,this.width=E}return T.fromRange=function(A,C,E,p){return new T(A,C,E-A,p-C)},Object.defineProperty(T.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),T.prototype.isEqual=function(A){return this.x===A.x&&this.y===A.y&&this.width===A.width&&this.height===A.height},T.prototype.clone=function(){return new T(this.x,this.y,this.width,this.height)},T.prototype.add=function(){for(var A=[],C=0;C<arguments.length;C++)A[C]=arguments[C];var E=this.clone();return b.each(A,function(p){E.x=Math.min(p.x,E.x),E.y=Math.min(p.y,E.y),E.width=Math.max(p.maxX,E.maxX)-E.x,E.height=Math.max(p.maxY,E.maxY)-E.y}),E},T.prototype.merge=function(){for(var A=[],C=0;C<arguments.length;C++)A[C]=arguments[C];var E=this.clone();return b.each(A,function(p){E.x=Math.max(p.x,E.x),E.y=Math.max(p.y,E.y),E.width=Math.min(p.maxX,E.maxX)-E.x,E.height=Math.min(p.maxY,E.maxY)-E.y}),E},T.prototype.cut=function(A,C){var E=A.width,p=A.height;switch(C){case O.DIRECTION.TOP:case O.DIRECTION.TOP_LEFT:case O.DIRECTION.TOP_RIGHT:return T.fromRange(this.minX,this.minY+p,this.maxX,this.maxY);case O.DIRECTION.RIGHT:case O.DIRECTION.RIGHT_TOP:case O.DIRECTION.RIGHT_BOTTOM:return T.fromRange(this.minX,this.minY,this.maxX-E,this.maxY);case O.DIRECTION.BOTTOM:case O.DIRECTION.BOTTOM_LEFT:case O.DIRECTION.BOTTOM_RIGHT:return T.fromRange(this.minX,this.minY,this.maxX,this.maxY-p);case O.DIRECTION.LEFT:case O.DIRECTION.LEFT_TOP:case O.DIRECTION.LEFT_BOTTOM:return T.fromRange(this.minX+E,this.minY,this.maxX,this.maxY);default:return this}},T.prototype.shrink=function(A){var C=A[0],E=A[1],p=A[2],w=A[3];return new T(this.x+w,this.y+C,this.width-w-E,this.height-C-p)},T.prototype.exceed=function(A){return[Math.max(-this.minY+A.minY,0),Math.max(this.maxX-A.maxX,0),Math.max(this.maxY-A.maxY,0),Math.max(-this.minX+A.minX,0)]},T.prototype.size=function(){return this.width*this.height},T}();S.BBox=I,S.getRegionBBox=function(T,A){var C=A.start,E=A.end;return new I(T.x+T.width*C.x,T.y+T.height*C.y,T.width*Math.abs(E.x-C.x),T.height*Math.abs(E.y-C.y))};function _(T){return[[T.minX,T.minY],[T.maxX,T.minY],[T.maxX,T.maxY],[T.minX,T.maxY]]}S.toPoints=_},83714:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getCoordinateClipCfg=S.getAngleByPoint=S.isPointInCoordinate=S.getDistanceToCenter=S.isFullCircle=S.getXDimensionLength=void 0;var b=d(38674),O=d(10521);function I(p){if(p.isPolar&&!p.isTransposed)return(p.endAngle-p.startAngle)*p.getRadius();var w=p.convert({x:0,y:0}),y=p.convert({x:1,y:0});return Math.sqrt(Math.pow(y.x-w.x,2)+Math.pow(y.y-w.y,2))}S.getXDimensionLength=I;function _(p){if(p.isPolar){var w=p.startAngle,y=p.endAngle;return y-w==Math.PI*2}return!1}S.isFullCircle=_;function T(p,w){var y=p.getCenter();return Math.sqrt(Math.pow(w.x-y.x,2)+Math.pow(w.y-y.y,2))}S.getDistanceToCenter=T;function A(p,w){var y=!1;if(p)if(p.type==="theta"){var m=p.start,g=p.end;y=O.isBetween(w.x,m.x,g.x)&&O.isBetween(w.y,m.y,g.y)}else{var M=p.invert(w);y=O.isBetween(M.x,0,1)&&O.isBetween(M.y,0,1)}return y}S.isPointInCoordinate=A;function C(p,w){var y=p.getCenter();return Math.atan2(w.y-y.y,w.x-y.x)}S.getAngleByPoint=C;function E(p,w){w===void 0&&(w=0);var y=p.start,m=p.end,g=p.getWidth(),M=p.getHeight();if(p.isPolar){var L=p.startAngle,B=p.endAngle,N=p.getCenter(),j=p.getRadius();return{type:"path",startState:{path:b.getSectorPath(N.x,N.y,j+w,L,L)},endState:function(H){var J=(B-L)*H+L,ct=b.getSectorPath(N.x,N.y,j+w,L,J);return{path:ct}},attrs:{path:b.getSectorPath(N.x,N.y,j+w,L,B)}}}var tt;return p.isTransposed?tt={height:M+w*2}:tt={width:g+w*2},{type:"rect",startState:{x:y.x-w,y:m.y-w,width:p.isTransposed?g+w*2:0,height:p.isTransposed?0:M+w*2},endState:tt,attrs:{x:y.x-w,y:m.y-w,width:g+w*2,height:M+w*2}}}S.getCoordinateClipCfg=E},38674:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getReplaceAttrs=S.getPolygonCentroid=S.getAngle=S.getArcPath=S.getSectorPath=S.polarToCartesian=void 0;var b=d(49242);function O(p){if(b.isEmpty(p))return null;var w=p[0].x,y=p[0].x,m=p[0].y,g=p[0].y;return b.each(p,function(M){w=w>M.x?M.x:w,y=y<M.x?M.x:y,m=m>M.y?M.y:m,g=g<M.y?M.y:g}),{minX:w,maxX:y,minY:m,maxY:g,centerX:(w+y)/2,centerY:(m+g)/2}}function I(p,w,y,m){return{x:p+y*Math.cos(m),y:w+y*Math.sin(m)}}S.polarToCartesian=I;function _(p,w,y,m,g,M){M===void 0&&(M=0);var L=I(p,w,y,m),B=I(p,w,y,g),N=I(p,w,M,m),j=I(p,w,M,g);if(g-m==Math.PI*2){var tt=I(p,w,y,m+Math.PI),H=I(p,w,M,m+Math.PI),J=[["M",L.x,L.y],["A",y,y,0,1,1,tt.x,tt.y],["A",y,y,0,1,1,B.x,B.y],["M",N.x,N.y]];return M&&(J.push(["A",M,M,0,1,0,H.x,H.y]),J.push(["A",M,M,0,1,0,j.x,j.y])),J.push(["M",L.x,L.y]),J.push(["Z"]),J}var ct=g-m<=Math.PI?0:1,ut=[["M",L.x,L.y],["A",y,y,0,ct,1,B.x,B.y],["L",j.x,j.y]];return M&&ut.push(["A",M,M,0,ct,0,N.x,N.y]),ut.push(["L",L.x,L.y]),ut.push(["Z"]),ut}S.getSectorPath=_;function T(p,w,y,m,g){var M=I(p,w,y,m),L=I(p,w,y,g);if(b.isNumberEqual(g-m,Math.PI*2)){var B=I(p,w,y,m+Math.PI);return[["M",M.x,M.y],["A",y,y,0,1,1,B.x,B.y],["A",y,y,0,1,1,M.x,M.y],["A",y,y,0,1,0,B.x,B.y],["A",y,y,0,1,0,M.x,M.y],["Z"]]}var N=g-m<=Math.PI?0:1;return[["M",M.x,M.y],["A",y,y,0,N,1,L.x,L.y]]}S.getArcPath=T;function A(p,w){var y=p.points,m=O(y),g,M,L=w.startAngle,B=w.endAngle,N=B-L;return w.isTransposed?(g=m.maxY*N,M=m.minY*N):(g=m.maxX*N,M=m.minX*N),g+=L,M+=L,{startAngle:M,endAngle:g}}S.getAngle=A;function C(p,w){if(b.isNumber(p)&&b.isNumber(w))return[p,w];for(var y=-1,m=0,g=0,M,L=p.length-1,B,N=0;++y<p.length;)M=L,L=y,N+=B=p[M]*w[L]-p[L]*w[M],m+=(p[M]+p[L])*B,g+=(w[M]+w[L])*B;return N*=3,[m/N,g/N]}S.getPolygonCentroid=C;function E(p,w){var y=p.attr(),m=w.attr();return b.each(y,function(g,M){m[M]===void 0&&(m[M]=void 0)}),m}S.getReplaceAttrs=E},10521:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.uniq=S.omit=S.padEnd=S.isBetween=void 0;var b=d(49242);function O(A,C,E){var p=Math.min(C,E),w=Math.max(C,E);return A>=p&&A<=w}S.isBetween=O;function I(A,C,E){if(b.isString(A))return A.padEnd(C,E);if(b.isArray(A)){var p=A.length;if(p<C)for(var w=C-p,y=0;y<w;y++)A.push(E)}return A}S.padEnd=I;function _(A,C){return C.forEach(function(E){delete A[E]}),A}S.omit=_;function T(A,C,E){C===void 0&&(C=[]),E===void 0&&(E={});for(var p=0,w=A;p<w.length;p++){var y=w[p];E[y]||(C.push(y),E[y]=!0)}return C}S.uniq=T},90835:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MarkerSymbols=void 0,S.MarkerSymbols={hexagon:function(d,b,O){var I=O/2*Math.sqrt(3);return[["M",d,b-O],["L",d+I,b-O/2],["L",d+I,b+O/2],["L",d,b+O],["L",d-I,b+O/2],["L",d-I,b-O/2],["Z"]]},bowtie:function(d,b,O){var I=O-1.5;return[["M",d-O,b-I],["L",d+O,b+I],["L",d+O,b-I],["L",d-O,b+I],["Z"]]},cross:function(d,b,O){return[["M",d-O,b-O],["L",d+O,b+O],["M",d+O,b-O],["L",d-O,b+O]]},tick:function(d,b,O){return[["M",d-O/2,b-O],["L",d+O/2,b-O],["M",d,b-O],["L",d,b+O],["M",d-O/2,b+O],["L",d+O/2,b+O]]},plus:function(d,b,O){return[["M",d-O,b],["L",d+O,b],["M",d,b-O],["L",d,b+O]]},hyphen:function(d,b,O){return[["M",d-O,b],["L",d+O,b]]},line:function(d,b,O){return[["M",d,b-O],["L",d,b+O]]}}},95152:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getName=S.syncScale=S.createScaleByField=void 0;var b=d(13008),O=d(49242),I=d(96397),_=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function T(p){var w="linear";return _.test(p)?w="time":O.isString(p)&&(w="cat"),w}function A(p,w,y){var m=w||[];if(O.isNumber(p)||O.isNil(O.firstValue(m,p))&&O.isEmpty(y)){var g=I.getScale("identity");return new g({field:p.toString(),values:[p]})}var M=O.valuesOfKey(m,p),L=O.get(y,"type",T(M[0])),B=I.getScale(L);return new B(b.__assign({field:p,values:M},y))}S.createScaleByField=A;function C(p,w){if(p.type!=="identity"&&w.type!=="identity"){var y={};for(var m in w)Object.prototype.hasOwnProperty.call(w,m)&&(y[m]=w[m]);p.change(y)}}S.syncScale=C;function E(p){return p.alias||p.field}S.getName=E},97127:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getTooltipItems=S.findDataByPoint=void 0;var b=d(13008),O=d(49242),I=d(78646),_=d(95152);function T(B,N,j){var tt=j.translate(B),H=j.translate(N);return O.isNumberEqual(tt,H)}function A(B,N){var j=N.coordinate,tt=N.getXScale(),H=tt.range,J=H[H.length-1],ct=H[0],ut=j.invert(B),At=ut.x;return j.isPolar&&At>(1+J)/2&&(At=ct),tt.translate(tt.invert(At))}function C(B,N,j){var tt=j.coordinate,H=j.getYScale(),J=H.field,ct=tt.invert(N),ut=H.invert(ct.y),At=O.find(B,function(St){var Yt=St[I.FIELD_ORIGIN];return Yt[J][0]<=ut&&Yt[J][1]>=ut});return At||B[B.length-1]}var E=O.memoize(function(B){if(B.isCategory)return 1;for(var N=B.values,j=N.length,tt=B.translate(N[0]),H=tt,J=0;J<j;J++){var ct=N[J],ut=B.translate(ct);ut<tt&&(tt=ut),ut>H&&(H=ut)}return(H-tt)/(j-1)});function p(B,N,j){var tt=j;if(!j){var H=N.getAttribute("position"),J=H.getFields();tt=J[0]}var ct=N.scales;return ct[tt]?ct[tt].getText(B[tt]):O.hasKey(B,tt)?B[tt]:tt}function w(B){var N=O.values(B.attributes);return O.filter(N,function(j){return O.contains(I.GROUP_ATTRS,j.type)})}function y(B){for(var N=w(B),j,tt=0,H=N;tt<H.length;tt++){var J=H[tt],ct=J.getScale(J.type);if(ct&&ct.isLinear){j=ct;break}}var ut=B.getXScale(),At=B.getYScale();return j||At||ut}function m(B,N){var j=N.field,tt=B[j];if(O.isArray(tt)){var H=tt.map(function(J){return N.getText(J)});return H.join("-")}return N.getText(tt)}function g(B,N){var j,tt=N.getGroupScales();if(tt.length&&(j=tt[0]),j){var H=j.field;return j.getText(B[H])}var J=y(N);return _.getName(J)}function M(B,N,j){if(N.length===0)return null;var tt=j.type,H=j.getXScale(),J=j.getYScale(),ct=H.field,ut=J.field,At=null;if(tt==="heatmap"||tt==="point"){for(var St=j.coordinate,Yt=St.invert(B),Tt=H.invert(Yt.x),Dt=J.invert(Yt.y),Bt=Infinity,Et=0;Et<N.length;Et++){var zt=N[Et],jt=zt[I.FIELD_ORIGIN],Mt=Math.pow(jt[ct]-Tt,2)+Math.pow(jt[ut]-Dt,2);Mt<Bt&&(Bt=Mt,At=zt)}return At}var pt=N[0],k=N[N.length-1],u=A(B,j),G=pt[I.FIELD_ORIGIN][ct],Y=pt[I.FIELD_ORIGIN][ut],V=k[I.FIELD_ORIGIN][ct],U=J.isLinear&&O.isArray(Y);if(O.isArray(G)){for(var Et=0;Et<N.length;Et++){var et=N[Et],jt=et[I.FIELD_ORIGIN];if(H.translate(jt[ct][0])<=u&&H.translate(jt[ct][1])>=u)if(U)O.isArray(At)||(At=[]),At.push(et);else{At=et;break}}O.isArray(At)&&(At=C(At,B,j))}else{var ht=void 0;if(!H.isLinear&&H.type!=="timeCat"){for(var Et=0;Et<N.length;Et++){var et=N[Et],jt=et[I.FIELD_ORIGIN];if(T(jt[ct],u,H))if(U)O.isArray(At)||(At=[]),At.push(et);else{At=et;break}else H.translate(jt[ct])<=u&&(k=et,ht=N[Et+1])}O.isArray(At)&&(At=C(At,B,j))}else{if((u>H.translate(V)||u<H.translate(G))&&(u>H.max||u<H.min))return null;for(var Ft=0,bt=N.length-1,at=void 0;Ft<=bt;){at=Math.floor((Ft+bt)/2);var xt=N[at][I.FIELD_ORIGIN][ct];if(T(xt,u,H))return N[at];H.translate(xt)<=H.translate(u)?(Ft=at+1,k=N[at],ht=N[at+1]):(bt===0&&(k=N[0]),bt=at-1)}}k&&ht&&Math.abs(H.translate(k[I.FIELD_ORIGIN][ct])-u)>Math.abs(H.translate(ht[I.FIELD_ORIGIN][ct])-u)&&(k=ht)}var lt=E(j.getXScale());return!At&&Math.abs(H.translate(k[I.FIELD_ORIGIN][ct])-u)<=lt/2&&(At=k),At}S.findDataByPoint=M;function L(B,N,j){j===void 0&&(j="");var tt=B[I.FIELD_ORIGIN],H=p(tt,N,j),J=N.tooltipOption,ct=N.theme.defaultColor,ut=[],At,St;function Yt(Y,V){if(!O.isNil(V)&&V!==""){var U={title:H,data:tt,mappingData:B,name:Y,value:V,color:B.color||ct,marker:!0};ut.push(U)}}if(O.isObject(J)){var Tt=J.fields,Dt=J.callback;if(Dt){var Bt=Tt.map(function(Y){return B[I.FIELD_ORIGIN][Y]}),Et=Dt.apply(void 0,Bt),zt=b.__assign({data:B[I.FIELD_ORIGIN],mappingData:B,title:H,color:B.color||ct,marker:!0},Et);ut.push(zt)}else for(var jt=N.scales,Mt=0,pt=Tt;Mt<pt.length;Mt++){var k=pt[Mt];if(!O.isNil(tt[k])){var u=jt[k];At=_.getName(u),St=u.getText(tt[k]),Yt(At,St)}}}else{var G=y(N);O.isNil(tt[G.field])||(St=m(tt,G),At=g(tt,N),Yt(At,St))}return ut}S.getTooltipItems=L},13008:function(dt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return O},__assign:function(){return I},__rest:function(){return _},__decorate:function(){return T},__param:function(){return A},__esDecorate:function(){return C},__runInitializers:function(){return E},__propKey:function(){return p},__setFunctionName:function(){return w},__metadata:function(){return y},__awaiter:function(){return m},__generator:function(){return g},__createBinding:function(){return M},__exportStar:function(){return L},__values:function(){return B},__read:function(){return N},__spread:function(){return j},__spreadArrays:function(){return tt},__spreadArray:function(){return H},__await:function(){return J},__asyncGenerator:function(){return ct},__asyncDelegator:function(){return ut},__asyncValues:function(){return At},__makeTemplateObject:function(){return St},__importStar:function(){return Tt},__importDefault:function(){return Dt},__classPrivateFieldGet:function(){return Bt},__classPrivateFieldSet:function(){return Et},__classPrivateFieldIn:function(){return zt},__addDisposableResource:function(){return jt},__disposeResources:function(){return pt}});var b=function(k,u){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,Y){G.__proto__=Y}||function(G,Y){for(var V in Y)Object.prototype.hasOwnProperty.call(Y,V)&&(G[V]=Y[V])},b(k,u)};function O(k,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");b(k,u);function G(){this.constructor=k}k.prototype=u===null?Object.create(u):(G.prototype=u.prototype,new G)}var I=function(){return I=Object.assign||function(u){for(var G,Y=1,V=arguments.length;Y<V;Y++){G=arguments[Y];for(var U in G)Object.prototype.hasOwnProperty.call(G,U)&&(u[U]=G[U])}return u},I.apply(this,arguments)};function _(k,u){var G={};for(var Y in k)Object.prototype.hasOwnProperty.call(k,Y)&&u.indexOf(Y)<0&&(G[Y]=k[Y]);if(k!=null&&typeof Object.getOwnPropertySymbols=="function")for(var V=0,Y=Object.getOwnPropertySymbols(k);V<Y.length;V++)u.indexOf(Y[V])<0&&Object.prototype.propertyIsEnumerable.call(k,Y[V])&&(G[Y[V]]=k[Y[V]]);return G}function T(k,u,G,Y){var V=arguments.length,U=V<3?u:Y===null?Y=Object.getOwnPropertyDescriptor(u,G):Y,et;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(k,u,G,Y);else for(var ht=k.length-1;ht>=0;ht--)(et=k[ht])&&(U=(V<3?et(U):V>3?et(u,G,U):et(u,G))||U);return V>3&&U&&Object.defineProperty(u,G,U),U}function A(k,u){return function(G,Y){u(G,Y,k)}}function C(k,u,G,Y,V,U){function et(Ct){if(Ct!==void 0&&typeof Ct!="function")throw new TypeError("Function expected");return Ct}for(var ht=Y.kind,Ft=ht==="getter"?"get":ht==="setter"?"set":"value",bt=!u&&k?Y.static?k:k.prototype:null,at=u||(bt?Object.getOwnPropertyDescriptor(bt,Y.name):{}),xt,lt=!1,it=G.length-1;it>=0;it--){var yt={};for(var ft in Y)yt[ft]=ft==="access"?{}:Y[ft];for(var ft in Y.access)yt.access[ft]=Y.access[ft];yt.addInitializer=function(Ct){if(lt)throw new TypeError("Cannot add initializers after decoration has completed");U.push(et(Ct||null))};var st=(0,G[it])(ht==="accessor"?{get:at.get,set:at.set}:at[Ft],yt);if(ht==="accessor"){if(st===void 0)continue;if(st===null||typeof st!="object")throw new TypeError("Object expected");(xt=et(st.get))&&(at.get=xt),(xt=et(st.set))&&(at.set=xt),(xt=et(st.init))&&V.unshift(xt)}else(xt=et(st))&&(ht==="field"?V.unshift(xt):at[Ft]=xt)}bt&&Object.defineProperty(bt,Y.name,at),lt=!0}function E(k,u,G){for(var Y=arguments.length>2,V=0;V<u.length;V++)G=Y?u[V].call(k,G):u[V].call(k);return Y?G:void 0}function p(k){return typeof k=="symbol"?k:"".concat(k)}function w(k,u,G){return typeof u=="symbol"&&(u=u.description?"[".concat(u.description,"]"):""),Object.defineProperty(k,"name",{configurable:!0,value:G?"".concat(G," ",u):u})}function y(k,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(k,u)}function m(k,u,G,Y){function V(U){return U instanceof G?U:new G(function(et){et(U)})}return new(G||(G=Promise))(function(U,et){function ht(at){try{bt(Y.next(at))}catch(xt){et(xt)}}function Ft(at){try{bt(Y.throw(at))}catch(xt){et(xt)}}function bt(at){at.done?U(at.value):V(at.value).then(ht,Ft)}bt((Y=Y.apply(k,u||[])).next())})}function g(k,u){var G={label:0,sent:function(){if(U[0]&1)throw U[1];return U[1]},trys:[],ops:[]},Y,V,U,et;return et={next:ht(0),throw:ht(1),return:ht(2)},typeof Symbol=="function"&&(et[Symbol.iterator]=function(){return this}),et;function ht(bt){return function(at){return Ft([bt,at])}}function Ft(bt){if(Y)throw new TypeError("Generator is already executing.");for(;et&&(et=0,bt[0]&&(G=0)),G;)try{if(Y=1,V&&(U=bt[0]&2?V.return:bt[0]?V.throw||((U=V.return)&&U.call(V),0):V.next)&&!(U=U.call(V,bt[1])).done)return U;switch(V=0,U&&(bt=[bt[0]&2,U.value]),bt[0]){case 0:case 1:U=bt;break;case 4:return G.label++,{value:bt[1],done:!1};case 5:G.label++,V=bt[1],bt=[0];continue;case 7:bt=G.ops.pop(),G.trys.pop();continue;default:if(U=G.trys,!(U=U.length>0&&U[U.length-1])&&(bt[0]===6||bt[0]===2)){G=0;continue}if(bt[0]===3&&(!U||bt[1]>U[0]&&bt[1]<U[3])){G.label=bt[1];break}if(bt[0]===6&&G.label<U[1]){G.label=U[1],U=bt;break}if(U&&G.label<U[2]){G.label=U[2],G.ops.push(bt);break}U[2]&&G.ops.pop(),G.trys.pop();continue}bt=u.call(k,G)}catch(at){bt=[6,at],V=0}finally{Y=U=0}if(bt[0]&5)throw bt[1];return{value:bt[0]?bt[1]:void 0,done:!0}}}var M=Object.create?function(k,u,G,Y){Y===void 0&&(Y=G);var V=Object.getOwnPropertyDescriptor(u,G);(!V||("get"in V?!u.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return u[G]}}),Object.defineProperty(k,Y,V)}:function(k,u,G,Y){Y===void 0&&(Y=G),k[Y]=u[G]};function L(k,u){for(var G in k)G!=="default"&&!Object.prototype.hasOwnProperty.call(u,G)&&M(u,k,G)}function B(k){var u=typeof Symbol=="function"&&Symbol.iterator,G=u&&k[u],Y=0;if(G)return G.call(k);if(k&&typeof k.length=="number")return{next:function(){return k&&Y>=k.length&&(k=void 0),{value:k&&k[Y++],done:!k}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}function N(k,u){var G=typeof Symbol=="function"&&k[Symbol.iterator];if(!G)return k;var Y=G.call(k),V,U=[],et;try{for(;(u===void 0||u-- >0)&&!(V=Y.next()).done;)U.push(V.value)}catch(ht){et={error:ht}}finally{try{V&&!V.done&&(G=Y.return)&&G.call(Y)}finally{if(et)throw et.error}}return U}function j(){for(var k=[],u=0;u<arguments.length;u++)k=k.concat(N(arguments[u]));return k}function tt(){for(var k=0,u=0,G=arguments.length;u<G;u++)k+=arguments[u].length;for(var Y=Array(k),V=0,u=0;u<G;u++)for(var U=arguments[u],et=0,ht=U.length;et<ht;et++,V++)Y[V]=U[et];return Y}function H(k,u,G){if(G||arguments.length===2)for(var Y=0,V=u.length,U;Y<V;Y++)(U||!(Y in u))&&(U||(U=Array.prototype.slice.call(u,0,Y)),U[Y]=u[Y]);return k.concat(U||Array.prototype.slice.call(u))}function J(k){return this instanceof J?(this.v=k,this):new J(k)}function ct(k,u,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y=G.apply(k,u||[]),V,U=[];return V={},et("next"),et("throw"),et("return"),V[Symbol.asyncIterator]=function(){return this},V;function et(lt){Y[lt]&&(V[lt]=function(it){return new Promise(function(yt,ft){U.push([lt,it,yt,ft])>1||ht(lt,it)})})}function ht(lt,it){try{Ft(Y[lt](it))}catch(yt){xt(U[0][3],yt)}}function Ft(lt){lt.value instanceof J?Promise.resolve(lt.value.v).then(bt,at):xt(U[0][2],lt)}function bt(lt){ht("next",lt)}function at(lt){ht("throw",lt)}function xt(lt,it){lt(it),U.shift(),U.length&&ht(U[0][0],U[0][1])}}function ut(k){var u,G;return u={},Y("next"),Y("throw",function(V){throw V}),Y("return"),u[Symbol.iterator]=function(){return this},u;function Y(V,U){u[V]=k[V]?function(et){return(G=!G)?{value:J(k[V](et)),done:!1}:U?U(et):et}:U}}function At(k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=k[Symbol.asyncIterator],G;return u?u.call(k):(k=typeof B=="function"?B(k):k[Symbol.iterator](),G={},Y("next"),Y("throw"),Y("return"),G[Symbol.asyncIterator]=function(){return this},G);function Y(U){G[U]=k[U]&&function(et){return new Promise(function(ht,Ft){et=k[U](et),V(ht,Ft,et.done,et.value)})}}function V(U,et,ht,Ft){Promise.resolve(Ft).then(function(bt){U({value:bt,done:ht})},et)}}function St(k,u){return Object.defineProperty?Object.defineProperty(k,"raw",{value:u}):k.raw=u,k}var Yt=Object.create?function(k,u){Object.defineProperty(k,"default",{enumerable:!0,value:u})}:function(k,u){k.default=u};function Tt(k){if(k&&k.__esModule)return k;var u={};if(k!=null)for(var G in k)G!=="default"&&Object.prototype.hasOwnProperty.call(k,G)&&M(u,k,G);return Yt(u,k),u}function Dt(k){return k&&k.__esModule?k:{default:k}}function Bt(k,u,G,Y){if(G==="a"&&!Y)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?k!==u||!Y:!u.has(k))throw new TypeError("Cannot read private member from an object whose class did not declare it");return G==="m"?Y:G==="a"?Y.call(k):Y?Y.value:u.get(k)}function Et(k,u,G,Y,V){if(Y==="m")throw new TypeError("Private method is not writable");if(Y==="a"&&!V)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?k!==u||!V:!u.has(k))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Y==="a"?V.call(k,G):V?V.value=G:u.set(k,G),G}function zt(k,u){if(u===null||typeof u!="object"&&typeof u!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof k=="function"?u===k:k.has(u)}function jt(k,u,G){if(u!=null){if(typeof u!="object"&&typeof u!="function")throw new TypeError("Object expected.");var Y;if(G){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");Y=u[Symbol.asyncDispose]}if(Y===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");Y=u[Symbol.dispose]}if(typeof Y!="function")throw new TypeError("Object not disposable.");k.stack.push({value:u,dispose:Y,async:G})}else G&&k.stack.push({async:!0});return u}var Mt=typeof SuppressedError=="function"?SuppressedError:function(k,u,G){var Y=new Error(G);return Y.name="SuppressedError",Y.error=k,Y.suppressed=u,Y};function pt(k){function u(Y){k.error=k.hasError?new Mt(Y,k.error,"An error was suppressed during disposal."):Y,k.hasError=!0}function G(){for(;k.stack.length;){var Y=k.stack.pop();try{var V=Y.dispose&&Y.dispose.call(Y.value);if(Y.async)return Promise.resolve(V).then(G,function(U){return u(U),G()})}catch(U){u(U)}}if(k.hasError)throw k.error}return G()}S.default={__extends:O,__assign:I,__rest:_,__decorate:T,__param:A,__metadata:y,__awaiter:m,__generator:g,__createBinding:M,__exportStar:L,__values:B,__read:N,__spread:j,__spreadArrays:tt,__spreadArray:H,__await:J,__asyncGenerator:ct,__asyncDelegator:ut,__asyncValues:At,__makeTemplateObject:St,__importStar:Tt,__importDefault:Dt,__classPrivateFieldGet:Bt,__classPrivateFieldSet:Et,__classPrivateFieldIn:zt,__addDisposableResource:jt,__disposeResources:pt}},25155:function(dt){"use strict";var S=!1,d=function(){};if(S){var b=function(I,_){var T=arguments.length;_=new Array(T>1?T-1:0);for(var A=1;A<T;A++)_[A-1]=arguments[A];var C=0,E="Warning: "+I.replace(/%s/g,function(){return _[C++]});typeof console!="undefined"&&console.error(E);try{throw new Error(E)}catch(p){}};d=function(O,I,_){var T=arguments.length;_=new Array(T>2?T-2:0);for(var A=2;A<T;A++)_[A-2]=arguments[A];if(I===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");O||b.apply(null,[I].concat(_))}}dt.exports=d},74988:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setMatrixArrayType=I,S.toRadian=T,S.equals=A;var d=S.EPSILON=1e-6,b=S.ARRAY_TYPE=typeof Float32Array!="undefined"?Float32Array:Array,O=S.RANDOM=Math.random;function I(C){S.ARRAY_TYPE=b=C}var _=Math.PI/180;function T(C){return C*_}function A(C,E){return Math.abs(C-E)<=d*Math.max(1,Math.abs(C),Math.abs(E))}},31502:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.sub=S.mul=void 0,S.create=_,S.fromMat4=T,S.clone=A,S.copy=C,S.fromValues=E,S.set=p,S.identity=w,S.transpose=y,S.invert=m,S.adjoint=g,S.determinant=M,S.multiply=L,S.translate=B,S.rotate=N,S.scale=j,S.fromTranslation=tt,S.fromRotation=H,S.fromScaling=J,S.fromMat2d=ct,S.fromQuat=ut,S.normalFromMat4=At,S.projection=St,S.str=Yt,S.frob=Tt,S.add=Dt,S.subtract=Bt,S.multiplyScalar=Et,S.multiplyScalarAndAdd=zt,S.exactEquals=jt,S.equals=Mt;var b=d(74988),O=I(b);function I(u){if(u&&u.__esModule)return u;var G={};if(u!=null)for(var Y in u)Object.prototype.hasOwnProperty.call(u,Y)&&(G[Y]=u[Y]);return G.default=u,G}function _(){var u=new O.ARRAY_TYPE(9);return O.ARRAY_TYPE!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[5]=0,u[6]=0,u[7]=0),u[0]=1,u[4]=1,u[8]=1,u}function T(u,G){return u[0]=G[0],u[1]=G[1],u[2]=G[2],u[3]=G[4],u[4]=G[5],u[5]=G[6],u[6]=G[8],u[7]=G[9],u[8]=G[10],u}function A(u){var G=new O.ARRAY_TYPE(9);return G[0]=u[0],G[1]=u[1],G[2]=u[2],G[3]=u[3],G[4]=u[4],G[5]=u[5],G[6]=u[6],G[7]=u[7],G[8]=u[8],G}function C(u,G){return u[0]=G[0],u[1]=G[1],u[2]=G[2],u[3]=G[3],u[4]=G[4],u[5]=G[5],u[6]=G[6],u[7]=G[7],u[8]=G[8],u}function E(u,G,Y,V,U,et,ht,Ft,bt){var at=new O.ARRAY_TYPE(9);return at[0]=u,at[1]=G,at[2]=Y,at[3]=V,at[4]=U,at[5]=et,at[6]=ht,at[7]=Ft,at[8]=bt,at}function p(u,G,Y,V,U,et,ht,Ft,bt,at){return u[0]=G,u[1]=Y,u[2]=V,u[3]=U,u[4]=et,u[5]=ht,u[6]=Ft,u[7]=bt,u[8]=at,u}function w(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=1,u[5]=0,u[6]=0,u[7]=0,u[8]=1,u}function y(u,G){if(u===G){var Y=G[1],V=G[2],U=G[5];u[1]=G[3],u[2]=G[6],u[3]=Y,u[5]=G[7],u[6]=V,u[7]=U}else u[0]=G[0],u[1]=G[3],u[2]=G[6],u[3]=G[1],u[4]=G[4],u[5]=G[7],u[6]=G[2],u[7]=G[5],u[8]=G[8];return u}function m(u,G){var Y=G[0],V=G[1],U=G[2],et=G[3],ht=G[4],Ft=G[5],bt=G[6],at=G[7],xt=G[8],lt=xt*ht-Ft*at,it=-xt*et+Ft*bt,yt=at*et-ht*bt,ft=Y*lt+V*it+U*yt;return ft?(ft=1/ft,u[0]=lt*ft,u[1]=(-xt*V+U*at)*ft,u[2]=(Ft*V-U*ht)*ft,u[3]=it*ft,u[4]=(xt*Y-U*bt)*ft,u[5]=(-Ft*Y+U*et)*ft,u[6]=yt*ft,u[7]=(-at*Y+V*bt)*ft,u[8]=(ht*Y-V*et)*ft,u):null}function g(u,G){var Y=G[0],V=G[1],U=G[2],et=G[3],ht=G[4],Ft=G[5],bt=G[6],at=G[7],xt=G[8];return u[0]=ht*xt-Ft*at,u[1]=U*at-V*xt,u[2]=V*Ft-U*ht,u[3]=Ft*bt-et*xt,u[4]=Y*xt-U*bt,u[5]=U*et-Y*Ft,u[6]=et*at-ht*bt,u[7]=V*bt-Y*at,u[8]=Y*ht-V*et,u}function M(u){var G=u[0],Y=u[1],V=u[2],U=u[3],et=u[4],ht=u[5],Ft=u[6],bt=u[7],at=u[8];return G*(at*et-ht*bt)+Y*(-at*U+ht*Ft)+V*(bt*U-et*Ft)}function L(u,G,Y){var V=G[0],U=G[1],et=G[2],ht=G[3],Ft=G[4],bt=G[5],at=G[6],xt=G[7],lt=G[8],it=Y[0],yt=Y[1],ft=Y[2],st=Y[3],Ct=Y[4],Rt=Y[5],re=Y[6],pe=Y[7],Me=Y[8];return u[0]=it*V+yt*ht+ft*at,u[1]=it*U+yt*Ft+ft*xt,u[2]=it*et+yt*bt+ft*lt,u[3]=st*V+Ct*ht+Rt*at,u[4]=st*U+Ct*Ft+Rt*xt,u[5]=st*et+Ct*bt+Rt*lt,u[6]=re*V+pe*ht+Me*at,u[7]=re*U+pe*Ft+Me*xt,u[8]=re*et+pe*bt+Me*lt,u}function B(u,G,Y){var V=G[0],U=G[1],et=G[2],ht=G[3],Ft=G[4],bt=G[5],at=G[6],xt=G[7],lt=G[8],it=Y[0],yt=Y[1];return u[0]=V,u[1]=U,u[2]=et,u[3]=ht,u[4]=Ft,u[5]=bt,u[6]=it*V+yt*ht+at,u[7]=it*U+yt*Ft+xt,u[8]=it*et+yt*bt+lt,u}function N(u,G,Y){var V=G[0],U=G[1],et=G[2],ht=G[3],Ft=G[4],bt=G[5],at=G[6],xt=G[7],lt=G[8],it=Math.sin(Y),yt=Math.cos(Y);return u[0]=yt*V+it*ht,u[1]=yt*U+it*Ft,u[2]=yt*et+it*bt,u[3]=yt*ht-it*V,u[4]=yt*Ft-it*U,u[5]=yt*bt-it*et,u[6]=at,u[7]=xt,u[8]=lt,u}function j(u,G,Y){var V=Y[0],U=Y[1];return u[0]=V*G[0],u[1]=V*G[1],u[2]=V*G[2],u[3]=U*G[3],u[4]=U*G[4],u[5]=U*G[5],u[6]=G[6],u[7]=G[7],u[8]=G[8],u}function tt(u,G){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=1,u[5]=0,u[6]=G[0],u[7]=G[1],u[8]=1,u}function H(u,G){var Y=Math.sin(G),V=Math.cos(G);return u[0]=V,u[1]=Y,u[2]=0,u[3]=-Y,u[4]=V,u[5]=0,u[6]=0,u[7]=0,u[8]=1,u}function J(u,G){return u[0]=G[0],u[1]=0,u[2]=0,u[3]=0,u[4]=G[1],u[5]=0,u[6]=0,u[7]=0,u[8]=1,u}function ct(u,G){return u[0]=G[0],u[1]=G[1],u[2]=0,u[3]=G[2],u[4]=G[3],u[5]=0,u[6]=G[4],u[7]=G[5],u[8]=1,u}function ut(u,G){var Y=G[0],V=G[1],U=G[2],et=G[3],ht=Y+Y,Ft=V+V,bt=U+U,at=Y*ht,xt=V*ht,lt=V*Ft,it=U*ht,yt=U*Ft,ft=U*bt,st=et*ht,Ct=et*Ft,Rt=et*bt;return u[0]=1-lt-ft,u[3]=xt-Rt,u[6]=it+Ct,u[1]=xt+Rt,u[4]=1-at-ft,u[7]=yt-st,u[2]=it-Ct,u[5]=yt+st,u[8]=1-at-lt,u}function At(u,G){var Y=G[0],V=G[1],U=G[2],et=G[3],ht=G[4],Ft=G[5],bt=G[6],at=G[7],xt=G[8],lt=G[9],it=G[10],yt=G[11],ft=G[12],st=G[13],Ct=G[14],Rt=G[15],re=Y*Ft-V*ht,pe=Y*bt-U*ht,Me=Y*at-et*ht,Xe=V*bt-U*Ft,Be=V*at-et*Ft,Re=U*at-et*bt,Ke=xt*st-lt*ft,ar=xt*Ct-it*ft,Mr=xt*Rt-yt*ft,sr=lt*Ct-it*st,Xr=lt*Rt-yt*st,pn=it*Rt-yt*Ct,jr=re*pn-pe*Xr+Me*sr+Xe*Mr-Be*ar+Re*Ke;return jr?(jr=1/jr,u[0]=(Ft*pn-bt*Xr+at*sr)*jr,u[1]=(bt*Mr-ht*pn-at*ar)*jr,u[2]=(ht*Xr-Ft*Mr+at*Ke)*jr,u[3]=(U*Xr-V*pn-et*sr)*jr,u[4]=(Y*pn-U*Mr+et*ar)*jr,u[5]=(V*Mr-Y*Xr-et*Ke)*jr,u[6]=(st*Re-Ct*Be+Rt*Xe)*jr,u[7]=(Ct*Me-ft*Re-Rt*pe)*jr,u[8]=(ft*Be-st*Me+Rt*re)*jr,u):null}function St(u,G,Y){return u[0]=2/G,u[1]=0,u[2]=0,u[3]=0,u[4]=-2/Y,u[5]=0,u[6]=-1,u[7]=1,u[8]=1,u}function Yt(u){return"mat3("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+", "+u[4]+", "+u[5]+", "+u[6]+", "+u[7]+", "+u[8]+")"}function Tt(u){return Math.sqrt(Math.pow(u[0],2)+Math.pow(u[1],2)+Math.pow(u[2],2)+Math.pow(u[3],2)+Math.pow(u[4],2)+Math.pow(u[5],2)+Math.pow(u[6],2)+Math.pow(u[7],2)+Math.pow(u[8],2))}function Dt(u,G,Y){return u[0]=G[0]+Y[0],u[1]=G[1]+Y[1],u[2]=G[2]+Y[2],u[3]=G[3]+Y[3],u[4]=G[4]+Y[4],u[5]=G[5]+Y[5],u[6]=G[6]+Y[6],u[7]=G[7]+Y[7],u[8]=G[8]+Y[8],u}function Bt(u,G,Y){return u[0]=G[0]-Y[0],u[1]=G[1]-Y[1],u[2]=G[2]-Y[2],u[3]=G[3]-Y[3],u[4]=G[4]-Y[4],u[5]=G[5]-Y[5],u[6]=G[6]-Y[6],u[7]=G[7]-Y[7],u[8]=G[8]-Y[8],u}function Et(u,G,Y){return u[0]=G[0]*Y,u[1]=G[1]*Y,u[2]=G[2]*Y,u[3]=G[3]*Y,u[4]=G[4]*Y,u[5]=G[5]*Y,u[6]=G[6]*Y,u[7]=G[7]*Y,u[8]=G[8]*Y,u}function zt(u,G,Y,V){return u[0]=G[0]+Y[0]*V,u[1]=G[1]+Y[1]*V,u[2]=G[2]+Y[2]*V,u[3]=G[3]+Y[3]*V,u[4]=G[4]+Y[4]*V,u[5]=G[5]+Y[5]*V,u[6]=G[6]+Y[6]*V,u[7]=G[7]+Y[7]*V,u[8]=G[8]+Y[8]*V,u}function jt(u,G){return u[0]===G[0]&&u[1]===G[1]&&u[2]===G[2]&&u[3]===G[3]&&u[4]===G[4]&&u[5]===G[5]&&u[6]===G[6]&&u[7]===G[7]&&u[8]===G[8]}function Mt(u,G){var Y=u[0],V=u[1],U=u[2],et=u[3],ht=u[4],Ft=u[5],bt=u[6],at=u[7],xt=u[8],lt=G[0],it=G[1],yt=G[2],ft=G[3],st=G[4],Ct=G[5],Rt=G[6],re=G[7],pe=G[8];return Math.abs(Y-lt)<=O.EPSILON*Math.max(1,Math.abs(Y),Math.abs(lt))&&Math.abs(V-it)<=O.EPSILON*Math.max(1,Math.abs(V),Math.abs(it))&&Math.abs(U-yt)<=O.EPSILON*Math.max(1,Math.abs(U),Math.abs(yt))&&Math.abs(et-ft)<=O.EPSILON*Math.max(1,Math.abs(et),Math.abs(ft))&&Math.abs(ht-st)<=O.EPSILON*Math.max(1,Math.abs(ht),Math.abs(st))&&Math.abs(Ft-Ct)<=O.EPSILON*Math.max(1,Math.abs(Ft),Math.abs(Ct))&&Math.abs(bt-Rt)<=O.EPSILON*Math.max(1,Math.abs(bt),Math.abs(Rt))&&Math.abs(at-re)<=O.EPSILON*Math.max(1,Math.abs(at),Math.abs(re))&&Math.abs(xt-pe)<=O.EPSILON*Math.max(1,Math.abs(xt),Math.abs(pe))}var pt=S.mul=L,k=S.sub=Bt},76172:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.forEach=S.sqrLen=S.sqrDist=S.dist=S.div=S.mul=S.sub=S.len=void 0,S.create=_,S.clone=T,S.fromValues=A,S.copy=C,S.set=E,S.add=p,S.subtract=w,S.multiply=y,S.divide=m,S.ceil=g,S.floor=M,S.min=L,S.max=B,S.round=N,S.scale=j,S.scaleAndAdd=tt,S.distance=H,S.squaredDistance=J,S.length=ct,S.squaredLength=ut,S.negate=At,S.inverse=St,S.normalize=Yt,S.dot=Tt,S.cross=Dt,S.lerp=Bt,S.random=Et,S.transformMat2=zt,S.transformMat2d=jt,S.transformMat3=Mt,S.transformMat4=pt,S.rotate=k,S.angle=u,S.str=G,S.exactEquals=Y,S.equals=V;var b=d(74988),O=I(b);function I(it){if(it&&it.__esModule)return it;var yt={};if(it!=null)for(var ft in it)Object.prototype.hasOwnProperty.call(it,ft)&&(yt[ft]=it[ft]);return yt.default=it,yt}function _(){var it=new O.ARRAY_TYPE(2);return O.ARRAY_TYPE!=Float32Array&&(it[0]=0,it[1]=0),it}function T(it){var yt=new O.ARRAY_TYPE(2);return yt[0]=it[0],yt[1]=it[1],yt}function A(it,yt){var ft=new O.ARRAY_TYPE(2);return ft[0]=it,ft[1]=yt,ft}function C(it,yt){return it[0]=yt[0],it[1]=yt[1],it}function E(it,yt,ft){return it[0]=yt,it[1]=ft,it}function p(it,yt,ft){return it[0]=yt[0]+ft[0],it[1]=yt[1]+ft[1],it}function w(it,yt,ft){return it[0]=yt[0]-ft[0],it[1]=yt[1]-ft[1],it}function y(it,yt,ft){return it[0]=yt[0]*ft[0],it[1]=yt[1]*ft[1],it}function m(it,yt,ft){return it[0]=yt[0]/ft[0],it[1]=yt[1]/ft[1],it}function g(it,yt){return it[0]=Math.ceil(yt[0]),it[1]=Math.ceil(yt[1]),it}function M(it,yt){return it[0]=Math.floor(yt[0]),it[1]=Math.floor(yt[1]),it}function L(it,yt,ft){return it[0]=Math.min(yt[0],ft[0]),it[1]=Math.min(yt[1],ft[1]),it}function B(it,yt,ft){return it[0]=Math.max(yt[0],ft[0]),it[1]=Math.max(yt[1],ft[1]),it}function N(it,yt){return it[0]=Math.round(yt[0]),it[1]=Math.round(yt[1]),it}function j(it,yt,ft){return it[0]=yt[0]*ft,it[1]=yt[1]*ft,it}function tt(it,yt,ft,st){return it[0]=yt[0]+ft[0]*st,it[1]=yt[1]+ft[1]*st,it}function H(it,yt){var ft=yt[0]-it[0],st=yt[1]-it[1];return Math.sqrt(ft*ft+st*st)}function J(it,yt){var ft=yt[0]-it[0],st=yt[1]-it[1];return ft*ft+st*st}function ct(it){var yt=it[0],ft=it[1];return Math.sqrt(yt*yt+ft*ft)}function ut(it){var yt=it[0],ft=it[1];return yt*yt+ft*ft}function At(it,yt){return it[0]=-yt[0],it[1]=-yt[1],it}function St(it,yt){return it[0]=1/yt[0],it[1]=1/yt[1],it}function Yt(it,yt){var ft=yt[0],st=yt[1],Ct=ft*ft+st*st;return Ct>0&&(Ct=1/Math.sqrt(Ct),it[0]=yt[0]*Ct,it[1]=yt[1]*Ct),it}function Tt(it,yt){return it[0]*yt[0]+it[1]*yt[1]}function Dt(it,yt,ft){var st=yt[0]*ft[1]-yt[1]*ft[0];return it[0]=it[1]=0,it[2]=st,it}function Bt(it,yt,ft,st){var Ct=yt[0],Rt=yt[1];return it[0]=Ct+st*(ft[0]-Ct),it[1]=Rt+st*(ft[1]-Rt),it}function Et(it,yt){yt=yt||1;var ft=O.RANDOM()*2*Math.PI;return it[0]=Math.cos(ft)*yt,it[1]=Math.sin(ft)*yt,it}function zt(it,yt,ft){var st=yt[0],Ct=yt[1];return it[0]=ft[0]*st+ft[2]*Ct,it[1]=ft[1]*st+ft[3]*Ct,it}function jt(it,yt,ft){var st=yt[0],Ct=yt[1];return it[0]=ft[0]*st+ft[2]*Ct+ft[4],it[1]=ft[1]*st+ft[3]*Ct+ft[5],it}function Mt(it,yt,ft){var st=yt[0],Ct=yt[1];return it[0]=ft[0]*st+ft[3]*Ct+ft[6],it[1]=ft[1]*st+ft[4]*Ct+ft[7],it}function pt(it,yt,ft){var st=yt[0],Ct=yt[1];return it[0]=ft[0]*st+ft[4]*Ct+ft[12],it[1]=ft[1]*st+ft[5]*Ct+ft[13],it}function k(it,yt,ft,st){var Ct=yt[0]-ft[0],Rt=yt[1]-ft[1],re=Math.sin(st),pe=Math.cos(st);return it[0]=Ct*pe-Rt*re+ft[0],it[1]=Ct*re+Rt*pe+ft[1],it}function u(it,yt){var ft=it[0],st=it[1],Ct=yt[0],Rt=yt[1],re=ft*ft+st*st;re>0&&(re=1/Math.sqrt(re));var pe=Ct*Ct+Rt*Rt;pe>0&&(pe=1/Math.sqrt(pe));var Me=(ft*Ct+st*Rt)*re*pe;return Me>1?0:Me<-1?Math.PI:Math.acos(Me)}function G(it){return"vec2("+it[0]+", "+it[1]+")"}function Y(it,yt){return it[0]===yt[0]&&it[1]===yt[1]}function V(it,yt){var ft=it[0],st=it[1],Ct=yt[0],Rt=yt[1];return Math.abs(ft-Ct)<=O.EPSILON*Math.max(1,Math.abs(ft),Math.abs(Ct))&&Math.abs(st-Rt)<=O.EPSILON*Math.max(1,Math.abs(st),Math.abs(Rt))}var U=S.len=ct,et=S.sub=w,ht=S.mul=y,Ft=S.div=m,bt=S.dist=H,at=S.sqrDist=J,xt=S.sqrLen=ut,lt=S.forEach=function(){var it=_();return function(yt,ft,st,Ct,Rt,re){var pe=void 0,Me=void 0;for(ft||(ft=2),st||(st=0),Ct?Me=Math.min(Ct*ft+st,yt.length):Me=yt.length,pe=st;pe<Me;pe+=ft)it[0]=yt[pe],it[1]=yt[pe+1],Rt(it,it,re),yt[pe]=it[0],yt[pe+1]=it[1];return yt}}()},88395:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.forEach=S.sqrLen=S.len=S.sqrDist=S.dist=S.div=S.mul=S.sub=void 0,S.create=_,S.clone=T,S.length=A,S.fromValues=C,S.copy=E,S.set=p,S.add=w,S.subtract=y,S.multiply=m,S.divide=g,S.ceil=M,S.floor=L,S.min=B,S.max=N,S.round=j,S.scale=tt,S.scaleAndAdd=H,S.distance=J,S.squaredDistance=ct,S.squaredLength=ut,S.negate=At,S.inverse=St,S.normalize=Yt,S.dot=Tt,S.cross=Dt,S.lerp=Bt,S.hermite=Et,S.bezier=zt,S.random=jt,S.transformMat4=Mt,S.transformMat3=pt,S.transformQuat=k,S.rotateX=u,S.rotateY=G,S.rotateZ=Y,S.angle=V,S.str=U,S.exactEquals=et,S.equals=ht;var b=d(74988),O=I(b);function I(st){if(st&&st.__esModule)return st;var Ct={};if(st!=null)for(var Rt in st)Object.prototype.hasOwnProperty.call(st,Rt)&&(Ct[Rt]=st[Rt]);return Ct.default=st,Ct}function _(){var st=new O.ARRAY_TYPE(3);return O.ARRAY_TYPE!=Float32Array&&(st[0]=0,st[1]=0,st[2]=0),st}function T(st){var Ct=new O.ARRAY_TYPE(3);return Ct[0]=st[0],Ct[1]=st[1],Ct[2]=st[2],Ct}function A(st){var Ct=st[0],Rt=st[1],re=st[2];return Math.sqrt(Ct*Ct+Rt*Rt+re*re)}function C(st,Ct,Rt){var re=new O.ARRAY_TYPE(3);return re[0]=st,re[1]=Ct,re[2]=Rt,re}function E(st,Ct){return st[0]=Ct[0],st[1]=Ct[1],st[2]=Ct[2],st}function p(st,Ct,Rt,re){return st[0]=Ct,st[1]=Rt,st[2]=re,st}function w(st,Ct,Rt){return st[0]=Ct[0]+Rt[0],st[1]=Ct[1]+Rt[1],st[2]=Ct[2]+Rt[2],st}function y(st,Ct,Rt){return st[0]=Ct[0]-Rt[0],st[1]=Ct[1]-Rt[1],st[2]=Ct[2]-Rt[2],st}function m(st,Ct,Rt){return st[0]=Ct[0]*Rt[0],st[1]=Ct[1]*Rt[1],st[2]=Ct[2]*Rt[2],st}function g(st,Ct,Rt){return st[0]=Ct[0]/Rt[0],st[1]=Ct[1]/Rt[1],st[2]=Ct[2]/Rt[2],st}function M(st,Ct){return st[0]=Math.ceil(Ct[0]),st[1]=Math.ceil(Ct[1]),st[2]=Math.ceil(Ct[2]),st}function L(st,Ct){return st[0]=Math.floor(Ct[0]),st[1]=Math.floor(Ct[1]),st[2]=Math.floor(Ct[2]),st}function B(st,Ct,Rt){return st[0]=Math.min(Ct[0],Rt[0]),st[1]=Math.min(Ct[1],Rt[1]),st[2]=Math.min(Ct[2],Rt[2]),st}function N(st,Ct,Rt){return st[0]=Math.max(Ct[0],Rt[0]),st[1]=Math.max(Ct[1],Rt[1]),st[2]=Math.max(Ct[2],Rt[2]),st}function j(st,Ct){return st[0]=Math.round(Ct[0]),st[1]=Math.round(Ct[1]),st[2]=Math.round(Ct[2]),st}function tt(st,Ct,Rt){return st[0]=Ct[0]*Rt,st[1]=Ct[1]*Rt,st[2]=Ct[2]*Rt,st}function H(st,Ct,Rt,re){return st[0]=Ct[0]+Rt[0]*re,st[1]=Ct[1]+Rt[1]*re,st[2]=Ct[2]+Rt[2]*re,st}function J(st,Ct){var Rt=Ct[0]-st[0],re=Ct[1]-st[1],pe=Ct[2]-st[2];return Math.sqrt(Rt*Rt+re*re+pe*pe)}function ct(st,Ct){var Rt=Ct[0]-st[0],re=Ct[1]-st[1],pe=Ct[2]-st[2];return Rt*Rt+re*re+pe*pe}function ut(st){var Ct=st[0],Rt=st[1],re=st[2];return Ct*Ct+Rt*Rt+re*re}function At(st,Ct){return st[0]=-Ct[0],st[1]=-Ct[1],st[2]=-Ct[2],st}function St(st,Ct){return st[0]=1/Ct[0],st[1]=1/Ct[1],st[2]=1/Ct[2],st}function Yt(st,Ct){var Rt=Ct[0],re=Ct[1],pe=Ct[2],Me=Rt*Rt+re*re+pe*pe;return Me>0&&(Me=1/Math.sqrt(Me),st[0]=Ct[0]*Me,st[1]=Ct[1]*Me,st[2]=Ct[2]*Me),st}function Tt(st,Ct){return st[0]*Ct[0]+st[1]*Ct[1]+st[2]*Ct[2]}function Dt(st,Ct,Rt){var re=Ct[0],pe=Ct[1],Me=Ct[2],Xe=Rt[0],Be=Rt[1],Re=Rt[2];return st[0]=pe*Re-Me*Be,st[1]=Me*Xe-re*Re,st[2]=re*Be-pe*Xe,st}function Bt(st,Ct,Rt,re){var pe=Ct[0],Me=Ct[1],Xe=Ct[2];return st[0]=pe+re*(Rt[0]-pe),st[1]=Me+re*(Rt[1]-Me),st[2]=Xe+re*(Rt[2]-Xe),st}function Et(st,Ct,Rt,re,pe,Me){var Xe=Me*Me,Be=Xe*(2*Me-3)+1,Re=Xe*(Me-2)+Me,Ke=Xe*(Me-1),ar=Xe*(3-2*Me);return st[0]=Ct[0]*Be+Rt[0]*Re+re[0]*Ke+pe[0]*ar,st[1]=Ct[1]*Be+Rt[1]*Re+re[1]*Ke+pe[1]*ar,st[2]=Ct[2]*Be+Rt[2]*Re+re[2]*Ke+pe[2]*ar,st}function zt(st,Ct,Rt,re,pe,Me){var Xe=1-Me,Be=Xe*Xe,Re=Me*Me,Ke=Be*Xe,ar=3*Me*Be,Mr=3*Re*Xe,sr=Re*Me;return st[0]=Ct[0]*Ke+Rt[0]*ar+re[0]*Mr+pe[0]*sr,st[1]=Ct[1]*Ke+Rt[1]*ar+re[1]*Mr+pe[1]*sr,st[2]=Ct[2]*Ke+Rt[2]*ar+re[2]*Mr+pe[2]*sr,st}function jt(st,Ct){Ct=Ct||1;var Rt=O.RANDOM()*2*Math.PI,re=O.RANDOM()*2-1,pe=Math.sqrt(1-re*re)*Ct;return st[0]=Math.cos(Rt)*pe,st[1]=Math.sin(Rt)*pe,st[2]=re*Ct,st}function Mt(st,Ct,Rt){var re=Ct[0],pe=Ct[1],Me=Ct[2],Xe=Rt[3]*re+Rt[7]*pe+Rt[11]*Me+Rt[15];return Xe=Xe||1,st[0]=(Rt[0]*re+Rt[4]*pe+Rt[8]*Me+Rt[12])/Xe,st[1]=(Rt[1]*re+Rt[5]*pe+Rt[9]*Me+Rt[13])/Xe,st[2]=(Rt[2]*re+Rt[6]*pe+Rt[10]*Me+Rt[14])/Xe,st}function pt(st,Ct,Rt){var re=Ct[0],pe=Ct[1],Me=Ct[2];return st[0]=re*Rt[0]+pe*Rt[3]+Me*Rt[6],st[1]=re*Rt[1]+pe*Rt[4]+Me*Rt[7],st[2]=re*Rt[2]+pe*Rt[5]+Me*Rt[8],st}function k(st,Ct,Rt){var re=Rt[0],pe=Rt[1],Me=Rt[2],Xe=Rt[3],Be=Ct[0],Re=Ct[1],Ke=Ct[2],ar=pe*Ke-Me*Re,Mr=Me*Be-re*Ke,sr=re*Re-pe*Be,Xr=pe*sr-Me*Mr,pn=Me*ar-re*sr,jr=re*Mr-pe*ar,en=Xe*2;return ar*=en,Mr*=en,sr*=en,Xr*=2,pn*=2,jr*=2,st[0]=Be+ar+Xr,st[1]=Re+Mr+pn,st[2]=Ke+sr+jr,st}function u(st,Ct,Rt,re){var pe=[],Me=[];return pe[0]=Ct[0]-Rt[0],pe[1]=Ct[1]-Rt[1],pe[2]=Ct[2]-Rt[2],Me[0]=pe[0],Me[1]=pe[1]*Math.cos(re)-pe[2]*Math.sin(re),Me[2]=pe[1]*Math.sin(re)+pe[2]*Math.cos(re),st[0]=Me[0]+Rt[0],st[1]=Me[1]+Rt[1],st[2]=Me[2]+Rt[2],st}function G(st,Ct,Rt,re){var pe=[],Me=[];return pe[0]=Ct[0]-Rt[0],pe[1]=Ct[1]-Rt[1],pe[2]=Ct[2]-Rt[2],Me[0]=pe[2]*Math.sin(re)+pe[0]*Math.cos(re),Me[1]=pe[1],Me[2]=pe[2]*Math.cos(re)-pe[0]*Math.sin(re),st[0]=Me[0]+Rt[0],st[1]=Me[1]+Rt[1],st[2]=Me[2]+Rt[2],st}function Y(st,Ct,Rt,re){var pe=[],Me=[];return pe[0]=Ct[0]-Rt[0],pe[1]=Ct[1]-Rt[1],pe[2]=Ct[2]-Rt[2],Me[0]=pe[0]*Math.cos(re)-pe[1]*Math.sin(re),Me[1]=pe[0]*Math.sin(re)+pe[1]*Math.cos(re),Me[2]=pe[2],st[0]=Me[0]+Rt[0],st[1]=Me[1]+Rt[1],st[2]=Me[2]+Rt[2],st}function V(st,Ct){var Rt=C(st[0],st[1],st[2]),re=C(Ct[0],Ct[1],Ct[2]);Yt(Rt,Rt),Yt(re,re);var pe=Tt(Rt,re);return pe>1?0:pe<-1?Math.PI:Math.acos(pe)}function U(st){return"vec3("+st[0]+", "+st[1]+", "+st[2]+")"}function et(st,Ct){return st[0]===Ct[0]&&st[1]===Ct[1]&&st[2]===Ct[2]}function ht(st,Ct){var Rt=st[0],re=st[1],pe=st[2],Me=Ct[0],Xe=Ct[1],Be=Ct[2];return Math.abs(Rt-Me)<=O.EPSILON*Math.max(1,Math.abs(Rt),Math.abs(Me))&&Math.abs(re-Xe)<=O.EPSILON*Math.max(1,Math.abs(re),Math.abs(Xe))&&Math.abs(pe-Be)<=O.EPSILON*Math.max(1,Math.abs(pe),Math.abs(Be))}var Ft=S.sub=y,bt=S.mul=m,at=S.div=g,xt=S.dist=J,lt=S.sqrDist=ct,it=S.len=A,yt=S.sqrLen=ut,ft=S.forEach=function(){var st=_();return function(Ct,Rt,re,pe,Me,Xe){var Be=void 0,Re=void 0;for(Rt||(Rt=3),re||(re=0),pe?Re=Math.min(pe*Rt+re,Ct.length):Re=Ct.length,Be=re;Be<Re;Be+=Rt)st[0]=Ct[Be],st[1]=Ct[Be+1],st[2]=Ct[Be+2],Me(st,st,Xe),Ct[Be]=st[0],Ct[Be+1]=st[1],Ct[Be+2]=st[2];return Ct}}()},92640:function(dt,S,d){function b(w,y){w.prototype=Object.create(y.prototype),w.prototype.constructor=w,O(w,y)}function O(w,y){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,M){return g.__proto__=M,g},O(w,y)}var I=d(4905),_=d(90390),T=d(30130),A=d(22965),C=function(w){b(y,w);function y(){return w.apply(this,arguments)||this}var m=y.prototype;return m.execute=function(){var M=this;return T(M.rootNode,M.options,_)},y}(I),E={};function p(w,y){return y=A.assign({},E,y),new C(w,y).execute()}dt.exports=p},34542:function(dt,S,d){function b(w,y){w.prototype=Object.create(y.prototype),w.prototype.constructor=w,O(w,y)}function O(w,y){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,M){return g.__proto__=M,g},O(w,y)}var I=d(4905),_=d(37133),T=d(30130),A=d(22965),C=function(w){b(y,w);function y(){return w.apply(this,arguments)||this}var m=y.prototype;return m.execute=function(){var M=this;return M.rootNode.width=0,T(M.rootNode,M.options,_)},y}(I),E={};function p(w,y){return y=A.assign({},E,y),new C(w,y).execute()}dt.exports=p},57088:function(dt,S,d){function b(m,g){m.prototype=Object.create(g.prototype),m.prototype.constructor=m,O(m,g)}function O(m,g){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,B){return L.__proto__=B,L},O(m,g)}var I=d(4905),_=d(10568),T=d(59286),A=d(22965),C=["LR","RL","H"],E=C[0],p=function(m){b(g,m);function g(){return m.apply(this,arguments)||this}var M=g.prototype;return M.execute=function(){var B=this,N=B.options,j=B.rootNode;N.isHorizontal=!0;var tt=N.indent,H=tt===void 0?20:tt,J=N.dropCap,ct=J===void 0?!0:J,ut=N.direction,At=ut===void 0?E:ut,St=N.align;if(At&&C.indexOf(At)===-1)throw new TypeError("Invalid direction: "+At);if(At===C[0])_(j,H,ct,St);else if(At===C[1])_(j,H,ct,St),j.right2left();else if(At===C[2]){var Yt=T(j,N),Tt=Yt.left,Dt=Yt.right;_(Tt,H,ct,St),Tt.right2left(),_(Dt,H,ct,St);var Bt=Tt.getBoundingBox();Dt.translate(Bt.width,0),j.x=Dt.x-j.width/2}return j},g}(I),w={};function y(m,g){return g=A.assign({},w,g),new p(m,g).execute()}dt.exports=y},77201:function(dt,S,d){var b={compactBox:d(92640),dendrogram:d(34542),indented:d(57088),mindmap:d(1355)};dt.exports=b},4905:function(dt,S,d){var b=d(27249),O=function(){function I(T,A){A===void 0&&(A={});var C=this;C.options=A,C.rootNode=b(T,A)}var _=I.prototype;return _.execute=function(){throw new Error("please override this method")},I}();dt.exports=O},37133:function(dt,S,d){var b=d(22965);function O(T,A){T===void 0&&(T=0),A===void 0&&(A=[]);var C=this;C.x=C.y=0,C.leftChild=C.rightChild=null,C.height=0,C.children=A}var I={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function _(T,A,C){C?(A.x=T.x,A.y=T.y):(A.x=T.y,A.y=T.x),T.children.forEach(function(E,p){_(E,A.children[p],C)})}dt.exports=function(T,A){A===void 0&&(A={}),A=b.assign({},I,A);var C=0;function E(g){if(!g)return null;g.width=0,g.depth&&g.depth>C&&(C=g.depth);var M=g.children,L=M.length,B=new O(g.height,[]);return M.forEach(function(N,j){var tt=E(N);B.children.push(tt),j===0&&(B.leftChild=tt),j===L-1&&(B.rightChild=tt)}),B.originNode=g,B.isLeaf=g.isLeaf(),B}function p(g){if(g.isLeaf||g.children.length===0)g.drawingDepth=C;else{var M=g.children.map(function(B){return p(B)}),L=Math.min.apply(null,M);g.drawingDepth=L-1}return g.drawingDepth}var w;function y(g){g.x=g.drawingDepth*A.rankSep,g.isLeaf?(g.y=0,w&&(g.y=w.y+w.height+A.nodeSep,g.originNode.parent!==w.originNode.parent&&(g.y+=A.subTreeSep)),w=g):(g.children.forEach(function(M){y(M)}),g.y=(g.leftChild.y+g.rightChild.y)/2)}var m=E(T);return p(m),y(m),_(m,T,A.isHorizontal),T}},30130:function(dt,S,d){var b=d(59286),O=["LR","RL","TB","BT","H","V"],I=["LR","RL","H"],_=function(C){return I.indexOf(C)>-1},T=O[0];dt.exports=function(A,C,E){var p=C.direction||T;if(C.isHorizontal=_(p),p&&O.indexOf(p)===-1)throw new TypeError("Invalid direction: "+p);if(p===O[0])E(A,C);else if(p===O[1])E(A,C),A.right2left();else if(p===O[2])E(A,C);else if(p===O[3])E(A,C),A.bottom2top();else if(p===O[4]||p===O[5]){var w=b(A,C),y=w.left,m=w.right;E(y,C),E(m,C),C.isHorizontal?y.right2left():y.bottom2top(),m.translate(y.x-m.x,y.y-m.y),A.x=y.x,A.y=m.y;var g=A.getBoundingBox();C.isHorizontal?g.top<0&&A.translate(0,-g.top):g.left<0&&A.translate(-g.left,0)}var M=C.fixedRoot;return M===void 0&&(M=!0),M&&A.translate(-(A.x+A.width/2+A.hgap),-(A.y+A.height/2+A.vgap)),A}},27249:function(dt,S,d){var b=d(22965),O=18,I=O*2,_=O,T={getId:function(p){return p.id||p.name},getPreH:function(p){return p.preH||0},getPreV:function(p){return p.preV||0},getHGap:function(p){return p.hgap||_},getVGap:function(p){return p.vgap||_},getChildren:function(p){return p.children},getHeight:function(p){return p.height||I},getWidth:function(p){var w=p.label||" ";return p.width||w.split("").length*O}};function A(E,p){var w=this;if(w.vgap=w.hgap=0,E instanceof A)return E;w.data=E;var y=p.getHGap(E),m=p.getVGap(E);return w.preH=p.getPreH(E),w.preV=p.getPreV(E),w.width=p.getWidth(E),w.height=p.getHeight(E),w.width+=w.preH,w.height+=w.preV,w.id=p.getId(E),w.x=w.y=0,w.depth=0,w.children||(w.children=[]),w.addGap(y,m),w}b.assign(A.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(p,w){var y=this;y.hgap+=p,y.vgap+=w,y.width+=2*p,y.height+=2*w},eachNode:function(p){for(var w=this,y=[w],m;m=y.shift();)p(m),y=m.children.concat(y)},DFTraverse:function(p){this.eachNode(p)},BFTraverse:function(p){for(var w=this,y=[w],m;m=y.shift();)p(m),y=y.concat(m.children)},getBoundingBox:function(){var p={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(w){p.left=Math.min(p.left,w.x),p.top=Math.min(p.top,w.y),p.width=Math.max(p.width,w.x+w.width),p.height=Math.max(p.height,w.y+w.height)}),p},translate:function(p,w){p===void 0&&(p=0),w===void 0&&(w=0),this.eachNode(function(y){y.x+=p,y.y+=w,y.x+=y.preH,y.y+=y.preV})},right2left:function(){var p=this,w=p.getBoundingBox();p.eachNode(function(y){y.x=y.x-(y.x-w.left)*2-y.width}),p.translate(w.width,0)},bottom2top:function(){var p=this,w=p.getBoundingBox();p.eachNode(function(y){y.y=y.y-(y.y-w.top)*2-y.height}),p.translate(0,w.height)}});function C(E,p,w){p===void 0&&(p={}),p=b.assign({},T,p);var y=new A(E,p),m=[y],g;if(!w&&!E.collapsed){for(;g=m.shift();)if(!g.data.collapsed){var M=p.getChildren(g.data),L=M?M.length:0;if(g.children=new Array(L),M&&L)for(var B=0;B<L;B++){var N=new A(M[B],p);g.children[B]=N,m.push(N),N.parent=g,N.depth=g.depth+1}}}return y}dt.exports=C},10568:function(dt,S,d){var b=d(22965);function O(I,_,T,A,C){var E=typeof T=="function"?T(I):T*I.depth;if(!A)try{if(I.id===I.parent.children[0].id){I.x+=E,I.y=_?_.y:0;return}}catch(y){}if(I.x+=E,_){if(I.y=_.y+b.getHeight(_,I,C),_.parent&&I.parent.id!==_.parent.id){var p=_.parent,w=p.y+b.getHeight(p,I,C);I.y=w>I.y?w:I.y}}else I.y=0}dt.exports=function(I,_,T,A){var C=null;I.eachNode(function(E){O(E,C,_,T,A),C=E})}},24461:function(dt,S,d){var b=d(22965);function O(T,A){var C=0;return T.children.length?T.children.forEach(function(E){C+=O(E,A)}):C=T.height,T._subTreeSep=A.getSubTreeSep(T.data),T.totalHeight=Math.max(T.height,C)+2*T._subTreeSep,T.totalHeight}function I(T){var A=T.children,C=A.length;if(C){A.forEach(function(g){I(g)});var E=A[0],p=A[C-1],w=p.y-E.y+p.height,y=0;if(A.forEach(function(g){y+=g.totalHeight}),w>T.height)T.y=E.y+w/2-T.height/2;else if(A.length!==1||T.height>y){var m=T.y+(T.height-w)/2-E.y;A.forEach(function(g){g.translate(0,m)})}else T.y=(E.y+E.height/2+p.y+p.height/2)/2-T.height/2}}var _={getSubTreeSep:function(){return 0}};dt.exports=function(T,A){A===void 0&&(A={}),A=b.assign({},_,A),T.parent={x:0,width:0,height:0,y:0},T.BFTraverse(function(C){C.x=C.parent.x+C.parent.width}),T.parent=null,O(T,A),T.startY=0,T.y=T.totalHeight/2-T.height/2,T.eachNode(function(C){var E=C.children,p=E.length;if(p){var w=E[0];if(w.startY=C.startY+C._subTreeSep,p===1)w.y=C.y+C.height/2-w.height/2;else{w.y=w.startY+w.totalHeight/2-w.height/2;for(var y=1;y<p;y++){var m=E[y];m.startY=E[y-1].startY+E[y-1].totalHeight,m.y=m.startY+m.totalHeight/2-m.height/2}}}}),I(T)}},90390:function(dt){function S(T,A,C,E){E===void 0&&(E=[]);var p=this;p.w=T||0,p.h=A||0,p.y=C||0,p.x=0,p.c=E||[],p.cs=E.length,p.prelim=0,p.mod=0,p.shift=0,p.change=0,p.tl=null,p.tr=null,p.el=null,p.er=null,p.msel=0,p.mser=0}S.fromNode=function(T,A){if(!T)return null;var C=[];return T.children.forEach(function(E){C.push(S.fromNode(E,A))}),A?new S(T.height,T.width,T.x,C):new S(T.width,T.height,T.y,C)};function d(T,A,C){C?T.y+=A:T.x+=A,T.children.forEach(function(E){d(E,A,C)})}function b(T,A){var C=A?T.y:T.x;return T.children.forEach(function(E){C=Math.min(b(E,A),C)}),C}function O(T,A){var C=b(T,A);d(T,-C,A)}function I(T,A,C){C?A.y=T.x:A.x=T.x,T.c.forEach(function(E,p){I(E,A.children[p],C)})}function _(T,A,C){C===void 0&&(C=0),A?(T.x=C,C+=T.width):(T.y=C,C+=T.height),T.children.forEach(function(E){_(E,A,C)})}dt.exports=function(T,A){A===void 0&&(A={});var C=A.isHorizontal;function E(ut){if(ut.cs===0){p(ut);return}E(ut.c[0]);for(var At=J(M(ut.c[0].el),0,null),St=1;St<ut.cs;++St){E(ut.c[St]);var Yt=M(ut.c[St].er);w(ut,St,At),At=J(Yt,St,At)}N(ut),p(ut)}function p(ut){ut.cs===0?(ut.el=ut,ut.er=ut,ut.msel=ut.mser=0):(ut.el=ut.c[0].el,ut.msel=ut.c[0].msel,ut.er=ut.c[ut.cs-1].er,ut.mser=ut.c[ut.cs-1].mser)}function w(ut,At,St){for(var Yt=ut.c[At-1],Tt=Yt.mod,Dt=ut.c[At],Bt=Dt.mod;Yt!==null&&Dt!==null;){M(Yt)>St.low&&(St=St.nxt);var Et=Tt+Yt.prelim+Yt.w-(Bt+Dt.prelim);Et>0&&(Bt+=Et,y(ut,At,St.index,Et));var zt=M(Yt),jt=M(Dt);zt<=jt&&(Yt=g(Yt),Yt!==null&&(Tt+=Yt.mod)),zt>=jt&&(Dt=m(Dt),Dt!==null&&(Bt+=Dt.mod))}!Yt&&!!Dt?L(ut,At,Dt,Bt):!!Yt&&!Dt&&B(ut,At,Yt,Tt)}function y(ut,At,St,Yt){ut.c[At].mod+=Yt,ut.c[At].msel+=Yt,ut.c[At].mser+=Yt,tt(ut,At,St,Yt)}function m(ut){return ut.cs===0?ut.tl:ut.c[0]}function g(ut){return ut.cs===0?ut.tr:ut.c[ut.cs-1]}function M(ut){return ut.y+ut.h}function L(ut,At,St,Yt){var Tt=ut.c[0].el;Tt.tl=St;var Dt=Yt-St.mod-ut.c[0].msel;Tt.mod+=Dt,Tt.prelim-=Dt,ut.c[0].el=ut.c[At].el,ut.c[0].msel=ut.c[At].msel}function B(ut,At,St,Yt){var Tt=ut.c[At].er;Tt.tr=St;var Dt=Yt-St.mod-ut.c[At].mser;Tt.mod+=Dt,Tt.prelim-=Dt,ut.c[At].er=ut.c[At-1].er,ut.c[At].mser=ut.c[At-1].mser}function N(ut){ut.prelim=(ut.c[0].prelim+ut.c[0].mod+ut.c[ut.cs-1].mod+ut.c[ut.cs-1].prelim+ut.c[ut.cs-1].w)/2-ut.w/2}function j(ut,At){At+=ut.mod,ut.x=ut.prelim+At,H(ut);for(var St=0;St<ut.cs;St++)j(ut.c[St],At)}function tt(ut,At,St,Yt){if(St!==At-1){var Tt=At-St;ut.c[St+1].shift+=Yt/Tt,ut.c[At].shift-=Yt/Tt,ut.c[At].change-=Yt-Yt/Tt}}function H(ut){for(var At=0,St=0,Yt=0;Yt<ut.cs;Yt++)At+=ut.c[Yt].shift,St+=At+ut.c[Yt].change,ut.c[Yt].mod+=St}function J(ut,At,St){for(;St!==null&&ut>=St.low;)St=St.nxt;return{low:ut,index:At,nxt:St}}_(T,C);var ct=S.fromNode(T,C);return E(ct),j(ct,0),I(ct,T,C),O(T,C),T}},59286:function(dt,S,d){var b=d(27249);dt.exports=function(O,I){for(var _=b(O.data,I,!0),T=b(O.data,I,!0),A=O.children.length,C=Math.round(A/2),E=I.getSide||function(m,g){return g<C?"right":"left"},p=0;p<A;p++){var w=O.children[p],y=E(w,p);y==="right"?T.children.push(w):_.children.push(w)}return _.eachNode(function(m){m.isRoot()||(m.side="left")}),T.eachNode(function(m){m.isRoot()||(m.side="right")}),{left:_,right:T}}},1355:function(dt,S,d){function b(w,y){w.prototype=Object.create(y.prototype),w.prototype.constructor=w,O(w,y)}function O(w,y){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,M){return g.__proto__=M,g},O(w,y)}var I=d(4905),_=d(24461),T=d(30130),A=d(22965),C=function(w){b(y,w);function y(){return w.apply(this,arguments)||this}var m=y.prototype;return m.execute=function(){var M=this;return T(M.rootNode,M.options,_)},y}(I),E={};function p(w,y){return y=A.assign({},E,y),new C(w,y).execute()}dt.exports=p},22965:function(dt,S,d){var b=d(49242),O=b.mix;function I(_,T,A,C){return C===void 0&&(C="height"),A==="center"?(_[C]+T[C])/2:_.height}dt.exports={assign:O,getHeight:I}},31506:function(dt,S,d){"use strict";d.r(S),d.d(S,{leftTranslate:function(){return I},leftRotate:function(){return _},leftScale:function(){return T},transform:function(){return C},direction:function(){return E},angleTo:function(){return p},vertical:function(){return w}});var b=d(35600),O=d(31437);function I(y,m,g){var M=[0,0,0,0,0,0,0,0,0];return b.fromTranslation(M,g),b.multiply(y,M,m)}function _(y,m,g){var M=[0,0,0,0,0,0,0,0,0];return b.fromRotation(M,g),b.multiply(y,M,m)}function T(y,m,g){var M=[0,0,0,0,0,0,0,0,0];return b.fromScaling(M,g),b.multiply(y,M,m)}function A(y,m,g){return b.multiply(y,g,m)}function C(y,m){for(var g=y?[].concat(y):[1,0,0,0,1,0,0,0,1],M=0,L=m.length;M<L;M++){var B=m[M];switch(B[0]){case"t":I(g,g,[B[1],B[2]]);break;case"s":T(g,g,[B[1],B[2]]);break;case"r":_(g,g,B[1]);break;case"m":A(g,g,B[1]);break;default:break}}return g}function E(y,m){return y[0]*m[1]-m[0]*y[1]}function p(y,m,g){var M=O.angle(y,m),L=E(y,m)>=0;return g?L?Math.PI*2-M:M:L?M:Math.PI*2-M}function w(y,m,g){return g?(y[0]=m[1],y[1]=-1*m[0]):(y[0]=-1*m[1],y[1]=m[0]),y}},43567:function(dt,S,d){"use strict";d.r(S),d.d(S,{mat3:function(){return b},vec2:function(){return O},vec3:function(){return I},ext:function(){return _}});var b=d(35600),O=d(31437),I=d(77160),_=d(31506)},57350:function(dt,S,d){"use strict";d.r(S),d.d(S,{catmullRom2Bezier:function(){return p},fillPath:function(){return g},fillPathByDiff:function(){return B},formatPath:function(){return tt},getArcParams:function(){return Be},getLineIntersect:function(){return Mr},isPointInPolygon:function(){return jr},isPolygonsIntersect:function(){return yi},parsePath:function(){return T},parsePathArray:function(){return Rt},parsePathString:function(){return At},path2Absolute:function(){return Tt},path2Curve:function(){return Y},path2Segments:function(){return Ke},pathIntersection:function(){return st},reactPath:function(){return H}});var b=d(49242),O=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,I=/[^\s\,]+/ig;function _(te){var he=te||[];if((0,b.isArray)(he))return he;if((0,b.isString)(he))return he=he.match(O),(0,b.each)(he,function(be,Se){if(be=be.match(I),be[0].length>1){var Le=be[0].charAt(0);be.splice(1,0,be[0].substr(1)),be[0]=Le}(0,b.each)(be,function(Ne,Fe){isNaN(Ne)||(be[Fe]=+Ne)}),he[Se]=be}),he}var T=_,A=d(31437);function C(te,he,be,Se){var Le=[],Ne=!!Se,Fe,Ve,Ae,rr,Qe,Pt,Ot;if(Ne){Ae=Se[0],rr=Se[1];for(var W=0,R=te.length;W<R;W+=1){var F=te[W];Ae=A.min([0,0],Ae,F),rr=A.max([0,0],rr,F)}}for(var W=0,rt=te.length;W<rt;W+=1){var F=te[W];if(W===0&&!be)Ot=F;else if(W===rt-1&&!be)Pt=F,Le.push(Ot),Le.push(Pt);else{var kt=[W?W-1:rt-1,W-1][be?0:1];Fe=te[kt],Ve=te[be?(W+1)%rt:W+1];var Vt=[0,0];Vt=A.sub(Vt,Ve,Fe),Vt=A.scale(Vt,Vt,he);var Gt=A.distance(F,Fe),Kt=A.distance(F,Ve),we=Gt+Kt;we!==0&&(Gt/=we,Kt/=we);var me=A.scale([0,0],Vt,-Gt),_e=A.scale([0,0],Vt,Kt);Pt=A.add([0,0],F,me),Qe=A.add([0,0],F,_e),Qe=A.min([0,0],Qe,A.max([0,0],Ve,F)),Qe=A.max([0,0],Qe,A.min([0,0],Ve,F)),me=A.sub([0,0],Qe,F),me=A.scale([0,0],me,-Gt/Kt),Pt=A.add([0,0],F,me),Pt=A.min([0,0],Pt,A.max([0,0],Fe,F)),Pt=A.max([0,0],Pt,A.min([0,0],Fe,F)),_e=A.sub([0,0],F,Pt),_e=A.scale([0,0],_e,Kt/Gt),Qe=A.add([0,0],F,_e),Ne&&(Pt=A.max([0,0],Pt,Ae),Pt=A.min([0,0],Pt,rr),Qe=A.max([0,0],Qe,Ae),Qe=A.min([0,0],Qe,rr)),Le.push(Ot),Le.push(Pt),Ot=Qe}}return be&&Le.push(Le.shift()),Le}function E(te,he,be){he===void 0&&(he=!1),be===void 0&&(be=[[0,0],[1,1]]);for(var Se=!!he,Le=[],Ne=0,Fe=te.length;Ne<Fe;Ne+=2)Le.push([te[Ne],te[Ne+1]]);for(var Ve=C(Le,.4,Se,be),Ae=Le.length,rr=[],Qe,Pt,Ot,Ne=0;Ne<Ae-1;Ne+=1)Qe=Ve[Ne*2],Pt=Ve[Ne*2+1],Ot=Le[Ne+1],rr.push(["C",Qe[0],Qe[1],Pt[0],Pt[1],Ot[0],Ot[1]]);return Se&&(Qe=Ve[Ae],Pt=Ve[Ae+1],Ot=Le[0],rr.push(["C",Qe[0],Qe[1],Pt[0],Pt[1],Ot[0],Ot[1]])),rr}var p=E;function w(te,he){var be=[],Se=[];function Le(Ne,Fe){if(Ne.length===1)be.push(Ne[0]),Se.push(Ne[0]);else{for(var Ve=[],Ae=0;Ae<Ne.length-1;Ae++)Ae===0&&be.push(Ne[0]),Ae===Ne.length-2&&Se.push(Ne[Ae+1]),Ve[Ae]=[(1-Fe)*Ne[Ae][0]+Fe*Ne[Ae+1][0],(1-Fe)*Ne[Ae][1]+Fe*Ne[Ae+1][1]];Le(Ve,Fe)}}return te.length&&Le(te,he),{left:be,right:Se.reverse()}}function y(te,he,be){var Se=[[te[1],te[2]]];be=be||2;var Le=[];he[0]==="A"?(Se.push(he[6]),Se.push(he[7])):he[0]==="C"?(Se.push([he[1],he[2]]),Se.push([he[3],he[4]]),Se.push([he[5],he[6]])):he[0]==="S"||he[0]==="Q"?(Se.push([he[1],he[2]]),Se.push([he[3],he[4]])):Se.push([he[1],he[2]]);for(var Ne=Se,Fe=1/be,Ve=0;Ve<be-1;Ve++){var Ae=Fe/(1-Fe*Ve),rr=w(Ne,Ae);Le.push(rr.left),Ne=rr.right}Le.push(Ne);var Qe=Le.map(function(Pt){var Ot=[];return Pt.length===4&&(Ot.push("C"),Ot=Ot.concat(Pt[2])),Pt.length>=3&&(Pt.length===3&&Ot.push("Q"),Ot=Ot.concat(Pt[1])),Pt.length===2&&Ot.push("L"),Ot=Ot.concat(Pt[Pt.length-1]),Ot});return Qe}function m(te,he,be){if(be===1)return[[].concat(te)];var Se=[];if(he[0]==="L"||he[0]==="C"||he[0]==="Q")Se=Se.concat(y(te,he,be));else{var Le=[].concat(te);Le[0]==="M"&&(Le[0]="L");for(var Ne=0;Ne<=be-1;Ne++)Se.push(Le)}return Se}function g(te,he){if(te.length===1)return te;var be=te.length-1,Se=he.length-1,Le=be/Se,Ne=[];if(te.length===1&&te[0][0]==="M"){for(var Fe=0;Fe<Se-be;Fe++)te.push(te[0]);return te}for(var Fe=0;Fe<Se;Fe++){var Ve=Math.floor(Le*Fe);Ne[Ve]=(Ne[Ve]||0)+1}var Ae=Ne.reduce(function(rr,Qe,Pt){return Pt===be?rr.concat(te[be]):rr.concat(m(te[Pt],te[Pt+1],Qe))},[]);return Ae.unshift(te[0]),(he[Se]==="Z"||he[Se]==="z")&&Ae.push("Z"),Ae}function M(te,he,be){var Se=null,Le=be;return he<Le&&(Le=he,Se="add"),te<Le&&(Le=te,Se="del"),{type:Se,min:Le}}var L=function(te,he){var be=te.length,Se=he.length,Le,Ne,Fe=0;if(be===0||Se===0)return null;for(var Ve=[],Ae=0;Ae<=be;Ae++)Ve[Ae]=[],Ve[Ae][0]={min:Ae};for(var rr=0;rr<=Se;rr++)Ve[0][rr]={min:rr};for(var Ae=1;Ae<=be;Ae++){Le=te[Ae-1];for(var rr=1;rr<=Se;rr++){Ne=he[rr-1],(0,b.isEqual)(Le,Ne)?Fe=0:Fe=1;var Qe=Ve[Ae-1][rr].min+1,Pt=Ve[Ae][rr-1].min+1,Ot=Ve[Ae-1][rr-1].min+Fe;Ve[Ae][rr]=M(Qe,Pt,Ot)}}return Ve};function B(te,he){var be=L(te,he),Se=te.length,Le=he.length,Ne=[],Fe=1,Ve=1;if(be[Se][Le]!==Se){for(var Ae=1;Ae<=Se;Ae++){var rr=be[Ae][Ae].min;Ve=Ae;for(var Qe=Fe;Qe<=Le;Qe++)be[Ae][Qe].min<rr&&(rr=be[Ae][Qe].min,Ve=Qe);Fe=Ve,be[Ae][Fe].type&&Ne.push({index:Ae-1,type:be[Ae][Fe].type})}for(var Ae=Ne.length-1;Ae>=0;Ae--)Fe=Ne[Ae].index,Ne[Ae].type==="add"?te.splice(Fe,0,[].concat(te[Fe])):te.splice(Fe,1)}if(Se=te.length,Se<Le)for(var Ae=0;Ae<Le-Se;Ae++)te[Se-1][0]==="z"||te[Se-1][0]==="Z"?te.splice(Se-2,0,te[Se-2]):te.push(te[Se-1]);return te}function N(te){var he=[];switch(te[0]){case"M":he.push([te[1],te[2]]);break;case"L":he.push([te[1],te[2]]);break;case"A":he.push([te[6],te[7]]);break;case"Q":he.push([te[3],te[4]]),he.push([te[1],te[2]]);break;case"T":he.push([te[1],te[2]]);break;case"C":he.push([te[5],te[6]]),he.push([te[1],te[2]]),he.push([te[3],te[4]]);break;case"S":he.push([te[3],te[4]]),he.push([te[1],te[2]]);break;case"H":he.push([te[1],te[1]]);break;case"V":he.push([te[1],te[1]]);break;default:}return he}function j(te,he,be){for(var Se=[].concat(te),Le,Ne=1/(be+1),Fe=N(he)[0],Ve=1;Ve<=be;Ve++)Ne*=Ve,Le=Math.floor(te.length*Ne),Le===0?Se.unshift([Fe[0]*Ne+te[Le][0]*(1-Ne),Fe[1]*Ne+te[Le][1]*(1-Ne)]):Se.splice(Le,0,[Fe[0]*Ne+te[Le][0]*(1-Ne),Fe[1]*Ne+te[Le][1]*(1-Ne)]);return Se}function tt(te,he){if(te.length<=1)return te;for(var be,Se=0;Se<he.length;Se++)if(te[Se][0]!==he[Se][0])switch(be=N(te[Se]),he[Se][0]){case"M":te[Se]=["M"].concat(be[0]);break;case"L":te[Se]=["L"].concat(be[0]);break;case"A":te[Se]=[].concat(he[Se]),te[Se][6]=be[0][0],te[Se][7]=be[0][1];break;case"Q":if(be.length<2)if(Se>0)be=j(be,te[Se-1],1);else{te[Se]=he[Se];break}te[Se]=["Q"].concat(be.reduce(function(Le,Ne){return Le.concat(Ne)},[]));break;case"T":te[Se]=["T"].concat(be[0]);break;case"C":if(be.length<3)if(Se>0)be=j(be,te[Se-1],2);else{te[Se]=he[Se];break}te[Se]=["C"].concat(be.reduce(function(Le,Ne){return Le.concat(Ne)},[]));break;case"S":if(be.length<2)if(Se>0)be=j(be,te[Se-1],1);else{te[Se]=he[Se];break}te[Se]=["S"].concat(be.reduce(function(Le,Ne){return Le.concat(Ne)},[]));break;default:te[Se]=he[Se]}return te}function H(te,he,be,Se,Le){return Le?[["M",+te+ +Le,he],["l",be-Le*2,0],["a",Le,Le,0,0,1,Le,Le],["l",0,Se-Le*2],["a",Le,Le,0,0,1,-Le,Le],["l",Le*2-be,0],["a",Le,Le,0,0,1,-Le,-Le],["l",0,Le*2-Se],["a",Le,Le,0,0,1,Le,-Le],["z"]]:[["M",te,he],["l",be,0],["l",0,Se],["l",-be,0],["z"]]}var J=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,ct=new RegExp("([a-z])["+J+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+J+"]*,?["+J+"]*)+)","ig"),ut=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+J+"]*,?["+J+"]*","ig");function At(te){if(!te)return null;if((0,b.isArray)(te))return te;var he={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},be=[];return String(te).replace(ct,function(Se,Le,Ne){var Fe=[],Ve=Le.toLowerCase();if(Ne.replace(ut,function(Ae,rr){rr&&Fe.push(+rr)}),Ve==="m"&&Fe.length>2&&(be.push([Le].concat(Fe.splice(0,2))),Ve="l",Le=Le==="m"?"l":"L"),Ve==="o"&&Fe.length===1&&be.push([Le,Fe[0]]),Ve==="r")be.push([Le].concat(Fe));else for(;Fe.length>=he[Ve]&&(be.push([Le].concat(Fe.splice(0,he[Ve]))),!!he[Ve]););return""}),be}var St=/[a-z]/;function Yt(te,he){return[he[0]+(he[0]-te[0]),he[1]+(he[1]-te[1])]}function Tt(te){var he=At(te);if(!he||!he.length)return[["M",0,0]];for(var be=!1,Se=0;Se<he.length;Se++){var Le=he[Se][0];if(St.test(Le)||["V","H","T","S"].indexOf(Le)>=0){be=!0;break}}if(!be)return he;var Ne=[],Fe=0,Ve=0,Ae=0,rr=0,Qe=0,Pt,Ot,W=he[0];(W[0]==="M"||W[0]==="m")&&(Fe=+W[1],Ve=+W[2],Ae=Fe,rr=Ve,Qe++,Ne[0]=["M",Fe,Ve]);for(var Se=Qe,R=he.length;Se<R;Se++){var F=he[Se],rt=Ne[Se-1],kt=[],Le=F[0],Vt=Le.toUpperCase();if(Le!==Vt)switch(kt[0]=Vt,Vt){case"A":kt[1]=F[1],kt[2]=F[2],kt[3]=F[3],kt[4]=F[4],kt[5]=F[5],kt[6]=+F[6]+Fe,kt[7]=+F[7]+Ve;break;case"V":kt[1]=+F[1]+Ve;break;case"H":kt[1]=+F[1]+Fe;break;case"M":Ae=+F[1]+Fe,rr=+F[2]+Ve,kt[1]=Ae,kt[2]=rr;break;default:for(var Gt=1,Kt=F.length;Gt<Kt;Gt++)kt[Gt]=+F[Gt]+(Gt%2?Fe:Ve)}else kt=he[Se];switch(Vt){case"Z":Fe=+Ae,Ve=+rr;break;case"H":Fe=kt[1],kt=["L",Fe,Ve];break;case"V":Ve=kt[1],kt=["L",Fe,Ve];break;case"T":Fe=kt[1],Ve=kt[2];var we=Yt([rt[1],rt[2]],[rt[3],rt[4]]);kt=["Q",we[0],we[1],Fe,Ve];break;case"S":Fe=kt[kt.length-2],Ve=kt[kt.length-1];var me=rt.length,_e=Yt([rt[me-4],rt[me-3]],[rt[me-2],rt[me-1]]);kt=["C",_e[0],_e[1],kt[1],kt[2],Fe,Ve];break;case"M":Ae=kt[kt.length-2],rr=kt[kt.length-1];break;default:Fe=kt[kt.length-2],Ve=kt[kt.length-1]}Ne.push(kt)}return Ne}var Dt=Math.PI*2,Bt=function(te,he,be,Se,Le,Ne,Fe){var Ve=te.x,Ae=te.y;Ve*=he,Ae*=be;var rr=Se*Ve-Le*Ae,Qe=Le*Ve+Se*Ae;return{x:rr+Ne,y:Qe+Fe}},Et=function(te,he){var be=he===1.5707963267948966?.551915024494:he===-1.5707963267948966?-.551915024494:4/3*Math.tan(he/4),Se=Math.cos(te),Le=Math.sin(te),Ne=Math.cos(te+he),Fe=Math.sin(te+he);return[{x:Se-Le*be,y:Le+Se*be},{x:Ne+Fe*be,y:Fe-Ne*be},{x:Ne,y:Fe}]},zt=function(te,he,be,Se){var Le=te*Se-he*be<0?-1:1,Ne=te*be+he*Se;return Ne>1&&(Ne=1),Ne<-1&&(Ne=-1),Le*Math.acos(Ne)},jt=function(te,he,be,Se,Le,Ne,Fe,Ve,Ae,rr,Qe,Pt){var Ot=Math.pow(Le,2),W=Math.pow(Ne,2),R=Math.pow(Qe,2),F=Math.pow(Pt,2),rt=Ot*W-Ot*F-W*R;rt<0&&(rt=0),rt/=Ot*F+W*R,rt=Math.sqrt(rt)*(Fe===Ve?-1:1);var kt=rt*Le/Ne*Pt,Vt=rt*-Ne/Le*Qe,Gt=rr*kt-Ae*Vt+(te+be)/2,Kt=Ae*kt+rr*Vt+(he+Se)/2,we=(Qe-kt)/Le,me=(Pt-Vt)/Ne,_e=(-Qe-kt)/Le,qe=(-Pt-Vt)/Ne,De=zt(1,0,we,me),dr=zt(we,me,_e,qe);return Ve===0&&dr>0&&(dr-=Dt),Ve===1&&dr<0&&(dr+=Dt),[Gt,Kt,De,dr]},Mt=function(te){var he=te.px,be=te.py,Se=te.cx,Le=te.cy,Ne=te.rx,Fe=te.ry,Ve=te.xAxisRotation,Ae=Ve===void 0?0:Ve,rr=te.largeArcFlag,Qe=rr===void 0?0:rr,Pt=te.sweepFlag,Ot=Pt===void 0?0:Pt,W=[];if(Ne===0||Fe===0)return[{x1:0,y1:0,x2:0,y2:0,x:Se,y:Le}];var R=Math.sin(Ae*Dt/360),F=Math.cos(Ae*Dt/360),rt=F*(he-Se)/2+R*(be-Le)/2,kt=-R*(he-Se)/2+F*(be-Le)/2;if(rt===0&&kt===0)return[{x1:0,y1:0,x2:0,y2:0,x:Se,y:Le}];Ne=Math.abs(Ne),Fe=Math.abs(Fe);var Vt=Math.pow(rt,2)/Math.pow(Ne,2)+Math.pow(kt,2)/Math.pow(Fe,2);Vt>1&&(Ne*=Math.sqrt(Vt),Fe*=Math.sqrt(Vt));var Gt=jt(he,be,Se,Le,Ne,Fe,Qe,Ot,R,F,rt,kt),Kt=Gt[0],we=Gt[1],me=Gt[2],_e=Gt[3],qe=Math.abs(_e)/(Dt/4);Math.abs(1-qe)<1e-7&&(qe=1);var De=Math.max(Math.ceil(qe),1);_e/=De;for(var dr=0;dr<De;dr++)W.push(Et(me,_e)),me+=_e;return W.map(function(Rr){var Oe=Bt(Rr[0],Ne,Fe,F,R,Kt,we),je=Oe.x,nr=Oe.y,Je=Bt(Rr[1],Ne,Fe,F,R,Kt,we),hr=Je.x,un=Je.y,Qr=Bt(Rr[2],Ne,Fe,F,R,Kt,we),Pr=Qr.x,Hr=Qr.y;return{x1:je,y1:nr,x2:hr,y2:un,x:Pr,y:Hr}})};function pt(te,he,be,Se,Le,Ne,Fe,Ve,Ae){var rr=Mt({px:te,py:he,cx:Ve,cy:Ae,rx:be,ry:Se,xAxisRotation:Le,largeArcFlag:Ne,sweepFlag:Fe});return rr.reduce(function(Qe,Pt){var Ot=Pt.x1,W=Pt.y1,R=Pt.x2,F=Pt.y2,rt=Pt.x,kt=Pt.y;return Qe.push(Ot,W,R,F,rt,kt),Qe},[])}function k(te,he,be,Se,Le,Ne){var Fe=1/3,Ve=2/3;return[Fe*te+Ve*be,Fe*he+Ve*Se,Fe*Le+Ve*be,Fe*Ne+Ve*Se,Le,Ne]}function u(te,he,be,Se){return[te,he,be,Se,be,Se]}function G(te,he){"TQ".indexOf(te[0])<0&&(he.qx=null,he.qy=null);var be=te.slice(1),Se=be[0],Le=be[1];switch(te[0]){case"M":return he.x=Se,he.y=Le,te;case"A":return["C"].concat(pt.apply(0,[he.x1,he.y1].concat(te.slice(1))));case"Q":return he.qx=Se,he.qy=Le,["C"].concat(k.apply(0,[he.x1,he.y1].concat(te.slice(1))));case"L":return["C"].concat(u(he.x1,he.y1,te[1],te[2]));case"H":return["C"].concat(u(he.x1,he.y1,te[1],he.y1));case"V":return["C"].concat(u(he.x1,he.y1,he.x1,te[1]));case"Z":return["C"].concat(u(he.x1,he.y1,he.x,he.y));default:}return te}function Y(te,he){he===void 0&&(he=!1);for(var be=Tt(te),Se={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},Le=[],Ne="",Fe=be.length,Ve,Ae,rr=[],Qe=0;Qe<Fe;Qe+=1)be[Qe]&&(Ne=be[Qe][0]),Le[Qe]=Ne,be[Qe]=G(be[Qe],Se),V(be,Le,Qe),Fe=be.length,Ne==="Z"&&rr.push(Qe),Ve=be[Qe],Ae=Ve.length,Se.x1=+Ve[Ae-2],Se.y1=+Ve[Ae-1],Se.x2=+Ve[Ae-4]||Se.x1,Se.y2=+Ve[Ae-3]||Se.y1;return he?[be,rr]:be}function V(te,he,be){if(te[be].length>7){te[be].shift();for(var Se=te[be],Le=be;Se.length;)he[be]="A",te.splice(Le+=1,0,["C"].concat(Se.splice(0,6)));te.splice(be,1)}}var U=function(te,he,be,Se,Le){var Ne=-3*he+9*be-9*Se+3*Le,Fe=te*Ne+6*he-12*be+6*Se;return te*Fe-3*he+3*be},et=function(te,he,be,Se,Le,Ne,Fe,Ve,Ae){Ae===null&&(Ae=1),Ae=Ae>1?1:Ae<0?0:Ae;for(var rr=Ae/2,Qe=12,Pt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Ot=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],W=0,R=0;R<Qe;R++){var F=rr*Pt[R]+rr,rt=U(F,te,be,Le,Fe),kt=U(F,he,Se,Ne,Ve),Vt=rt*rt+kt*kt;W+=Ot[R]*Math.sqrt(Vt)}return rr*W},ht=function(te,he,be,Se,Le,Ne,Fe,Ve){for(var Ae=[],rr=[[],[]],Qe,Pt,Ot,W,R=0;R<2;++R){if(R===0?(Pt=6*te-12*be+6*Le,Qe=-3*te+9*be-9*Le+3*Fe,Ot=3*be-3*te):(Pt=6*he-12*Se+6*Ne,Qe=-3*he+9*Se-9*Ne+3*Ve,Ot=3*Se-3*he),Math.abs(Qe)<1e-12){if(Math.abs(Pt)<1e-12)continue;W=-Ot/Pt,W>0&&W<1&&Ae.push(W);continue}var F=Pt*Pt-4*Ot*Qe,rt=Math.sqrt(F);if(!(F<0)){var kt=(-Pt+rt)/(2*Qe);kt>0&&kt<1&&Ae.push(kt);var Vt=(-Pt-rt)/(2*Qe);Vt>0&&Vt<1&&Ae.push(Vt)}}for(var Gt=Ae.length,Kt=Gt,we;Gt--;)W=Ae[Gt],we=1-W,rr[0][Gt]=we*we*we*te+3*we*we*W*be+3*we*W*W*Le+W*W*W*Fe,rr[1][Gt]=we*we*we*he+3*we*we*W*Se+3*we*W*W*Ne+W*W*W*Ve;return rr[0][Kt]=te,rr[1][Kt]=he,rr[0][Kt+1]=Fe,rr[1][Kt+1]=Ve,rr[0].length=rr[1].length=Kt+2,{min:{x:Math.min.apply(0,rr[0]),y:Math.min.apply(0,rr[1])},max:{x:Math.max.apply(0,rr[0]),y:Math.max.apply(0,rr[1])}}},Ft=function(te,he,be,Se,Le,Ne,Fe,Ve){if(!(Math.max(te,be)<Math.min(Le,Fe)||Math.min(te,be)>Math.max(Le,Fe)||Math.max(he,Se)<Math.min(Ne,Ve)||Math.min(he,Se)>Math.max(Ne,Ve))){var Ae=(te*Se-he*be)*(Le-Fe)-(te-be)*(Le*Ve-Ne*Fe),rr=(te*Se-he*be)*(Ne-Ve)-(he-Se)*(Le*Ve-Ne*Fe),Qe=(te-be)*(Ne-Ve)-(he-Se)*(Le-Fe);if(!!Qe){var Pt=Ae/Qe,Ot=rr/Qe,W=+Pt.toFixed(2),R=+Ot.toFixed(2);if(!(W<+Math.min(te,be).toFixed(2)||W>+Math.max(te,be).toFixed(2)||W<+Math.min(Le,Fe).toFixed(2)||W>+Math.max(Le,Fe).toFixed(2)||R<+Math.min(he,Se).toFixed(2)||R>+Math.max(he,Se).toFixed(2)||R<+Math.min(Ne,Ve).toFixed(2)||R>+Math.max(Ne,Ve).toFixed(2)))return{x:Pt,y:Ot}}}},bt=function(te,he,be){return he>=te.x&&he<=te.x+te.width&&be>=te.y&&be<=te.y+te.height},at=function(te,he,be,Se){return te===null&&(te=he=be=Se=0),he===null&&(he=te.y,be=te.width,Se=te.height,te=te.x),{x:te,y:he,width:be,w:be,height:Se,h:Se,x2:te+be,y2:he+Se,cx:te+be/2,cy:he+Se/2,r1:Math.min(be,Se)/2,r2:Math.max(be,Se)/2,r0:Math.sqrt(be*be+Se*Se)/2,path:H(te,he,be,Se),vb:[te,he,be,Se].join(" ")}},xt=function(te,he){return te=at(te),he=at(he),bt(he,te.x,te.y)||bt(he,te.x2,te.y)||bt(he,te.x,te.y2)||bt(he,te.x2,te.y2)||bt(te,he.x,he.y)||bt(te,he.x2,he.y)||bt(te,he.x,he.y2)||bt(te,he.x2,he.y2)||(te.x<he.x2&&te.x>he.x||he.x<te.x2&&he.x>te.x)&&(te.y<he.y2&&te.y>he.y||he.y<te.y2&&he.y>te.y)},lt=function(te,he,be,Se,Le,Ne,Fe,Ve){(0,b.isArray)(te)||(te=[te,he,be,Se,Le,Ne,Fe,Ve]);var Ae=ht.apply(null,te);return at(Ae.min.x,Ae.min.y,Ae.max.x-Ae.min.x,Ae.max.y-Ae.min.y)},it=function(te,he,be,Se,Le,Ne,Fe,Ve,Ae){var rr=1-Ae,Qe=Math.pow(rr,3),Pt=Math.pow(rr,2),Ot=Ae*Ae,W=Ot*Ae,R=Qe*te+Pt*3*Ae*be+rr*3*Ae*Ae*Le+W*Fe,F=Qe*he+Pt*3*Ae*Se+rr*3*Ae*Ae*Ne+W*Ve,rt=te+2*Ae*(be-te)+Ot*(Le-2*be+te),kt=he+2*Ae*(Se-he)+Ot*(Ne-2*Se+he),Vt=be+2*Ae*(Le-be)+Ot*(Fe-2*Le+be),Gt=Se+2*Ae*(Ne-Se)+Ot*(Ve-2*Ne+Se),Kt=rr*te+Ae*be,we=rr*he+Ae*Se,me=rr*Le+Ae*Fe,_e=rr*Ne+Ae*Ve,qe=90-Math.atan2(rt-Vt,kt-Gt)*180/Math.PI;return{x:R,y:F,m:{x:rt,y:kt},n:{x:Vt,y:Gt},start:{x:Kt,y:we},end:{x:me,y:_e},alpha:qe}},yt=function(te,he,be){var Se=lt(te),Le=lt(he);if(!xt(Se,Le))return be?0:[];for(var Ne=et.apply(0,te),Fe=et.apply(0,he),Ve=~~(Ne/8),Ae=~~(Fe/8),rr=[],Qe=[],Pt={},Ot=be?0:[],W=0;W<Ve+1;W++){var R=it.apply(0,te.concat(W/Ve));rr.push({x:R.x,y:R.y,t:W/Ve})}for(var W=0;W<Ae+1;W++){var R=it.apply(0,he.concat(W/Ae));Qe.push({x:R.x,y:R.y,t:W/Ae})}for(var W=0;W<Ve;W++)for(var F=0;F<Ae;F++){var rt=rr[W],kt=rr[W+1],Vt=Qe[F],Gt=Qe[F+1],Kt=Math.abs(kt.x-rt.x)<.001?"y":"x",we=Math.abs(Gt.x-Vt.x)<.001?"y":"x",me=Ft(rt.x,rt.y,kt.x,kt.y,Vt.x,Vt.y,Gt.x,Gt.y);if(me){if(Pt[me.x.toFixed(4)]===me.y.toFixed(4))continue;Pt[me.x.toFixed(4)]=me.y.toFixed(4);var _e=rt.t+Math.abs((me[Kt]-rt[Kt])/(kt[Kt]-rt[Kt]))*(kt.t-rt.t),qe=Vt.t+Math.abs((me[we]-Vt[we])/(Gt[we]-Vt[we]))*(Gt.t-Vt.t);_e>=0&&_e<=1&&qe>=0&&qe<=1&&(be?Ot++:Ot.push({x:me.x,y:me.y,t1:_e,t2:qe}))}}return Ot},ft=function(te,he,be){te=Y(te),he=Y(he);for(var Se,Le,Ne,Fe,Ve,Ae,rr,Qe,Pt,Ot,W=be?0:[],R=0,F=te.length;R<F;R++){var rt=te[R];if(rt[0]==="M")Se=Ve=rt[1],Le=Ae=rt[2];else{rt[0]==="C"?(Pt=[Se,Le].concat(rt.slice(1)),Se=Pt[6],Le=Pt[7]):(Pt=[Se,Le,Se,Le,Ve,Ae,Ve,Ae],Se=Ve,Le=Ae);for(var kt=0,Vt=he.length;kt<Vt;kt++){var Gt=he[kt];if(Gt[0]==="M")Ne=rr=Gt[1],Fe=Qe=Gt[2];else{Gt[0]==="C"?(Ot=[Ne,Fe].concat(Gt.slice(1)),Ne=Ot[6],Fe=Ot[7]):(Ot=[Ne,Fe,Ne,Fe,rr,Qe,rr,Qe],Ne=rr,Fe=Qe);var Kt=yt(Pt,Ot,be);if(be)W+=Kt;else{for(var we=0,me=Kt.length;we<me;we++)Kt[we].segment1=R,Kt[we].segment2=kt,Kt[we].bez1=Pt,Kt[we].bez2=Ot;W=W.concat(Kt)}}}}}return W};function st(te,he){return ft(te,he)}var Ct=/,?([a-z]),?/gi;function Rt(te){return te.join(",").replace(Ct,"$1")}function re(te){return Math.sqrt(te[0]*te[0]+te[1]*te[1])}function pe(te,he){return re(te)*re(he)?(te[0]*he[0]+te[1]*he[1])/(re(te)*re(he)):1}function Me(te,he){return(te[0]*he[1]<te[1]*he[0]?-1:1)*Math.acos(pe(te,he))}function Xe(te,he){return te[0]===he[0]&&te[1]===he[1]}function Be(te,he){var be=he[1],Se=he[2],Le=(0,b.mod)((0,b.toRadian)(he[3]),Math.PI*2),Ne=he[4],Fe=he[5],Ve=te[0],Ae=te[1],rr=he[6],Qe=he[7],Pt=Math.cos(Le)*(Ve-rr)/2+Math.sin(Le)*(Ae-Qe)/2,Ot=-1*Math.sin(Le)*(Ve-rr)/2+Math.cos(Le)*(Ae-Qe)/2,W=Pt*Pt/(be*be)+Ot*Ot/(Se*Se);W>1&&(be*=Math.sqrt(W),Se*=Math.sqrt(W));var R=be*be*(Ot*Ot)+Se*Se*(Pt*Pt),F=R?Math.sqrt((be*be*(Se*Se)-R)/R):1;Ne===Fe&&(F*=-1),isNaN(F)&&(F=0);var rt=Se?F*be*Ot/Se:0,kt=be?F*-Se*Pt/be:0,Vt=(Ve+rr)/2+Math.cos(Le)*rt-Math.sin(Le)*kt,Gt=(Ae+Qe)/2+Math.sin(Le)*rt+Math.cos(Le)*kt,Kt=[(Pt-rt)/be,(Ot-kt)/Se],we=[(-1*Pt-rt)/be,(-1*Ot-kt)/Se],me=Me([1,0],Kt),_e=Me(Kt,we);return pe(Kt,we)<=-1&&(_e=Math.PI),pe(Kt,we)>=1&&(_e=0),Fe===0&&_e>0&&(_e=_e-2*Math.PI),Fe===1&&_e<0&&(_e=_e+2*Math.PI),{cx:Vt,cy:Gt,rx:Xe(te,[rr,Qe])?0:be,ry:Xe(te,[rr,Qe])?0:Se,startAngle:me,endAngle:me+_e,xRotation:Le,arcFlag:Ne,sweepFlag:Fe}}function Re(te,he){return[he[0]+(he[0]-te[0]),he[1]+(he[1]-te[1])]}function Ke(te){te=T(te);for(var he=[],be=null,Se=null,Le=null,Ne=0,Fe=te.length,Ve=0;Ve<Fe;Ve++){var Ae=te[Ve];Se=te[Ve+1];var rr=Ae[0],Qe={command:rr,prePoint:be,params:Ae,startTangent:null,endTangent:null};switch(rr){case"M":Le=[Ae[1],Ae[2]],Ne=Ve;break;case"A":var Pt=Be(be,Ae);Qe.arcParams=Pt;break;default:break}if(rr==="Z")be=Le,Se=te[Ne+1];else{var Ot=Ae.length;be=[Ae[Ot-2],Ae[Ot-1]]}Se&&Se[0]==="Z"&&(Se=te[Ne],he[Ne]&&(he[Ne].prePoint=be)),Qe.currentPoint=be,he[Ne]&&Xe(be,he[Ne].currentPoint)&&(he[Ne].prePoint=Qe.prePoint);var W=Se?[Se[Se.length-2],Se[Se.length-1]]:null;Qe.nextPoint=W;var R=Qe.prePoint;if(["L","H","V"].includes(rr))Qe.startTangent=[R[0]-be[0],R[1]-be[1]],Qe.endTangent=[be[0]-R[0],be[1]-R[1]];else if(rr==="Q"){var F=[Ae[1],Ae[2]];Qe.startTangent=[R[0]-F[0],R[1]-F[1]],Qe.endTangent=[be[0]-F[0],be[1]-F[1]]}else if(rr==="T"){var rt=he[Ve-1],F=Re(rt.currentPoint,R);rt.command==="Q"?(Qe.command="Q",Qe.startTangent=[R[0]-F[0],R[1]-F[1]],Qe.endTangent=[be[0]-F[0],be[1]-F[1]]):(Qe.command="TL",Qe.startTangent=[R[0]-be[0],R[1]-be[1]],Qe.endTangent=[be[0]-R[0],be[1]-R[1]])}else if(rr==="C"){var kt=[Ae[1],Ae[2]],Vt=[Ae[3],Ae[4]];Qe.startTangent=[R[0]-kt[0],R[1]-kt[1]],Qe.endTangent=[be[0]-Vt[0],be[1]-Vt[1]],Qe.startTangent[0]===0&&Qe.startTangent[1]===0&&(Qe.startTangent=[kt[0]-Vt[0],kt[1]-Vt[1]]),Qe.endTangent[0]===0&&Qe.endTangent[1]===0&&(Qe.endTangent=[Vt[0]-kt[0],Vt[1]-kt[1]])}else if(rr==="S"){var rt=he[Ve-1],kt=Re(rt.currentPoint,R),Vt=[Ae[1],Ae[2]];rt.command==="C"?(Qe.command="C",Qe.startTangent=[R[0]-kt[0],R[1]-kt[1]],Qe.endTangent=[be[0]-Vt[0],be[1]-Vt[1]]):(Qe.command="SQ",Qe.startTangent=[R[0]-Vt[0],R[1]-Vt[1]],Qe.endTangent=[be[0]-Vt[0],be[1]-Vt[1]])}else if(rr==="A"){var Gt=.001,Kt=Qe.arcParams||{},we=Kt.cx,me=we===void 0?0:we,_e=Kt.cy,qe=_e===void 0?0:_e,De=Kt.rx,dr=De===void 0?0:De,Rr=Kt.ry,Oe=Rr===void 0?0:Rr,je=Kt.sweepFlag,nr=je===void 0?0:je,Je=Kt.startAngle,hr=Je===void 0?0:Je,un=Kt.endAngle,Qr=un===void 0?0:un;nr===0&&(Gt*=-1);var Pr=dr*Math.cos(hr-Gt)+me,Hr=Oe*Math.sin(hr-Gt)+qe;Qe.startTangent=[Pr-Le[0],Hr-Le[1]];var wn=dr*Math.cos(hr+Qr+Gt)+me,fn=Oe*Math.sin(hr+Qr-Gt)+qe;Qe.endTangent=[R[0]-wn,R[1]-fn]}he.push(Qe)}return he}var ar=function(te,he,be){return te>=he&&te<=be};function Mr(te,he,be,Se){var Le=.001,Ne={x:be.x-te.x,y:be.y-te.y},Fe={x:he.x-te.x,y:he.y-te.y},Ve={x:Se.x-be.x,y:Se.y-be.y},Ae=Fe.x*Ve.y-Fe.y*Ve.x,rr=Ae*Ae,Qe=Fe.x*Fe.x+Fe.y*Fe.y,Pt=Ve.x*Ve.x+Ve.y*Ve.y,Ot=null;if(rr>Le*Qe*Pt){var W=(Ne.x*Ve.y-Ne.y*Ve.x)/Ae,R=(Ne.x*Fe.y-Ne.y*Fe.x)/Ae;ar(W,0,1)&&ar(R,0,1)&&(Ot={x:te.x+W*Fe.x,y:te.y+W*Fe.y})}return Ot}var sr=1e-6;function Xr(te){return Math.abs(te)<sr?0:te<0?-1:1}function pn(te,he,be){return(be[0]-te[0])*(he[1]-te[1])==(he[0]-te[0])*(be[1]-te[1])&&Math.min(te[0],he[0])<=be[0]&&be[0]<=Math.max(te[0],he[0])&&Math.min(te[1],he[1])<=be[1]&&be[1]<=Math.max(te[1],he[1])}function jr(te,he,be){var Se=!1,Le=te.length;if(Le<=2)return!1;for(var Ne=0;Ne<Le;Ne++){var Fe=te[Ne],Ve=te[(Ne+1)%Le];if(pn(Fe,Ve,[he,be]))return!0;Xr(Fe[1]-be)>0!=Xr(Ve[1]-be)>0&&Xr(he-(be-Fe[1])*(Fe[0]-Ve[0])/(Fe[1]-Ve[1])-Fe[0])<0&&(Se=!Se)}return Se}function en(te){for(var he=[],be=te.length,Se=0;Se<be-1;Se++){var Le=te[Se],Ne=te[Se+1];he.push({from:{x:Le[0],y:Le[1]},to:{x:Ne[0],y:Ne[1]}})}if(he.length>1){var Fe=te[0],Ve=te[be-1];he.push({from:{x:Ve[0],y:Ve[1]},to:{x:Fe[0],y:Fe[1]}})}return he}function Xn(te,he){var be=!1;return(0,b.each)(te,function(Se){if(Mr(Se.from,Se.to,he.from,he.to))return be=!0,!1}),be}function ni(te){var he=te.map(function(Se){return Se[0]}),be=te.map(function(Se){return Se[1]});return{minX:Math.min.apply(null,he),maxX:Math.max.apply(null,he),minY:Math.min.apply(null,be),maxY:Math.max.apply(null,be)}}function gi(te,he){return!(he.minX>te.maxX||he.maxX<te.minX||he.minY>te.maxY||he.maxY<te.minY)}function yi(te,he){if(te.length<2||he.length<2)return!1;var be=ni(te),Se=ni(he);if(!gi(be,Se))return!1;var Le=!1;if((0,b.each)(he,function(Ae){if(jr(te,Ae[0],Ae[1]))return Le=!0,!1}),Le||((0,b.each)(te,function(Ae){if(jr(he,Ae[0],Ae[1]))return Le=!0,!1}),Le))return!0;var Ne=en(te),Fe=en(he),Ve=!1;return(0,b.each)(Fe,function(Ae){if(Xn(Ne,Ae))return Ve=!0,!1}),Ve}},84023:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.isSamePoint=void 0;var b=d(49242);function O(C){return Math.sqrt(C[0]*C[0]+C[1]*C[1])}function I(C,E){return O(C)*O(E)?(C[0]*E[0]+C[1]*E[1])/(O(C)*O(E)):1}function _(C,E){return(C[0]*E[1]<C[1]*E[0]?-1:1)*Math.acos(I(C,E))}function T(C,E){return C[0]===E[0]&&C[1]===E[1]}S.isSamePoint=T;function A(C,E){var p=E[1],w=E[2],y=(0,b.mod)((0,b.toRadian)(E[3]),Math.PI*2),m=E[4],g=E[5],M=C[0],L=C[1],B=E[6],N=E[7],j=Math.cos(y)*(M-B)/2+Math.sin(y)*(L-N)/2,tt=-1*Math.sin(y)*(M-B)/2+Math.cos(y)*(L-N)/2,H=j*j/(p*p)+tt*tt/(w*w);H>1&&(p*=Math.sqrt(H),w*=Math.sqrt(H));var J=p*p*(tt*tt)+w*w*(j*j),ct=J?Math.sqrt((p*p*(w*w)-J)/J):1;m===g&&(ct*=-1),isNaN(ct)&&(ct=0);var ut=w?ct*p*tt/w:0,At=p?ct*-w*j/p:0,St=(M+B)/2+Math.cos(y)*ut-Math.sin(y)*At,Yt=(L+N)/2+Math.sin(y)*ut+Math.cos(y)*At,Tt=[(j-ut)/p,(tt-At)/w],Dt=[(-1*j-ut)/p,(-1*tt-At)/w],Bt=_([1,0],Tt),Et=_(Tt,Dt);return I(Tt,Dt)<=-1&&(Et=Math.PI),I(Tt,Dt)>=1&&(Et=0),g===0&&Et>0&&(Et=Et-2*Math.PI),g===1&&Et<0&&(Et=Et+2*Math.PI),{cx:St,cy:Yt,rx:T(C,[B,N])?0:p,ry:T(C,[B,N])?0:w,startAngle:Bt,endAngle:Bt+Et,xRotation:y,arcFlag:m,sweepFlag:g}}S.default=A},21528:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(O,I,_){return O>=I&&O<=_};function b(O,I,_,T){var A=.001,C={x:_.x-O.x,y:_.y-O.y},E={x:I.x-O.x,y:I.y-O.y},p={x:T.x-_.x,y:T.y-_.y},w=E.x*p.y-E.y*p.x,y=w*w,m=E.x*E.x+E.y*E.y,g=p.x*p.x+p.y*p.y,M=null;if(y>A*m*g){var L=(C.x*p.y-C.y*p.x)/w,B=(C.x*E.y-C.y*E.x)/w;d(L,0,1)&&d(B,0,1)&&(M={x:O.x+L*E.x,y:O.y+L*E.y})}return M}S.default=b},70146:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66957),O=d(21528),I=d(49242);function _(p){for(var w=[],y=p.length,m=0;m<y-1;m++){var g=p[m],M=p[m+1];w.push({from:{x:g[0],y:g[1]},to:{x:M[0],y:M[1]}})}if(w.length>1){var L=p[0],B=p[y-1];w.push({from:{x:B[0],y:B[1]},to:{x:L[0],y:L[1]}})}return w}function T(p,w){var y=!1;return(0,I.each)(p,function(m){if((0,O.default)(m.from,m.to,w.from,w.to))return y=!0,!1}),y}function A(p){var w=p.map(function(m){return m[0]}),y=p.map(function(m){return m[1]});return{minX:Math.min.apply(null,w),maxX:Math.max.apply(null,w),minY:Math.min.apply(null,y),maxY:Math.max.apply(null,y)}}function C(p,w){return!(w.minX>p.maxX||w.maxX<p.minX||w.minY>p.maxY||w.maxY<p.minY)}function E(p,w){if(p.length<2||w.length<2)return!1;var y=A(p),m=A(w);if(!C(y,m))return!1;var g=!1;if((0,I.each)(w,function(N){if((0,b.default)(p,N[0],N[1]))return g=!0,!1}),g||((0,I.each)(p,function(N){if((0,b.default)(w,N[0],N[1]))return g=!0,!1}),g))return!0;var M=_(p),L=_(w),B=!1;return(0,I.each)(L,function(N){if(T(M,N))return B=!0,!1}),B}S.default=E},28498:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),O=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,I=new RegExp("([a-z])["+O+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+O+"]*,?["+O+"]*)+)","ig"),_=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+O+"]*,?["+O+"]*","ig");function T(A){if(!A)return null;if((0,b.isArray)(A))return A;var C={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},E=[];return String(A).replace(I,function(p,w,y){var m=[],g=w.toLowerCase();if(y.replace(_,function(M,L){L&&m.push(+L)}),g==="m"&&m.length>2&&(E.push([w].concat(m.splice(0,2))),g="l",w=w==="m"?"l":"L"),g==="o"&&m.length===1&&E.push([w,m[0]]),g==="r")E.push([w].concat(m));else for(;m.length>=C[g]&&(E.push([w].concat(m.splice(0,C[g]))),!!C[g]););return""}),E}S.default=T},80315:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(49242),O=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,I=/[^\s\,]+/ig;function _(T){var A=T||[];if((0,b.isArray)(A))return A;if((0,b.isString)(A))return A=A.match(O),(0,b.each)(A,function(C,E){if(C=C.match(I),C[0].length>1){var p=C[0].charAt(0);C.splice(1,0,C[0].substr(1)),C[0]=p}(0,b.each)(C,function(w,y){isNaN(w)||(C[y]=+w)}),A[E]=C}),A}S.default=_},74479:function(dt,S,d){"use strict";var b;b={value:!0};var O=d(28498),I=/[a-z]/;function _(A,C){return[C[0]+(C[0]-A[0]),C[1]+(C[1]-A[1])]}function T(A){var C=(0,O.default)(A);if(!C||!C.length)return[["M",0,0]];for(var E=!1,p=0;p<C.length;p++){var w=C[p][0];if(I.test(w)||["V","H","T","S"].indexOf(w)>=0){E=!0;break}}if(!E)return C;var y=[],m=0,g=0,M=0,L=0,B=0,N,j,tt=C[0];(tt[0]==="M"||tt[0]==="m")&&(m=+tt[1],g=+tt[2],M=m,L=g,B++,y[0]=["M",m,g]);for(var p=B,H=C.length;p<H;p++){var J=C[p],ct=y[p-1],ut=[],w=J[0],At=w.toUpperCase();if(w!==At)switch(ut[0]=At,At){case"A":ut[1]=J[1],ut[2]=J[2],ut[3]=J[3],ut[4]=J[4],ut[5]=J[5],ut[6]=+J[6]+m,ut[7]=+J[7]+g;break;case"V":ut[1]=+J[1]+g;break;case"H":ut[1]=+J[1]+m;break;case"M":M=+J[1]+m,L=+J[2]+g,ut[1]=M,ut[2]=L;break;default:for(var St=1,Yt=J.length;St<Yt;St++)ut[St]=+J[St]+(St%2?m:g)}else ut=C[p];switch(At){case"Z":m=+M,g=+L;break;case"H":m=ut[1],ut=["L",m,g];break;case"V":g=ut[1],ut=["L",m,g];break;case"T":m=ut[1],g=ut[2];var Tt=_([ct[1],ct[2]],[ct[3],ct[4]]);ut=["Q",Tt[0],Tt[1],m,g];break;case"S":m=ut[ut.length-2],g=ut[ut.length-1];var Dt=ct.length,Bt=_([ct[Dt-4],ct[Dt-3]],[ct[Dt-2],ct[Dt-1]]);ut=["C",Bt[0],Bt[1],ut[1],ut[2],m,g];break;case"M":M=ut[ut.length-2],L=ut[ut.length-1];break;default:m=ut[ut.length-2],g=ut[ut.length-1]}y.push(ut)}return y}S.Z=T},49274:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(84023),O=d(84023),I=d(80315);function _(A,C){return[C[0]+(C[0]-A[0]),C[1]+(C[1]-A[1])]}function T(A){A=(0,I.default)(A);for(var C=[],E=null,p=null,w=null,y=0,m=A.length,g=0;g<m;g++){var M=A[g];p=A[g+1];var L=M[0],B={command:L,prePoint:E,params:M,startTangent:null,endTangent:null};switch(L){case"M":w=[M[1],M[2]],y=g;break;case"A":var N=(0,b.default)(E,M);B.arcParams=N;break;default:break}if(L==="Z")E=w,p=A[y+1];else{var j=M.length;E=[M[j-2],M[j-1]]}p&&p[0]==="Z"&&(p=A[y],C[y]&&(C[y].prePoint=E)),B.currentPoint=E,C[y]&&(0,O.isSamePoint)(E,C[y].currentPoint)&&(C[y].prePoint=B.prePoint);var tt=p?[p[p.length-2],p[p.length-1]]:null;B.nextPoint=tt;var H=B.prePoint;if(["L","H","V"].includes(L))B.startTangent=[H[0]-E[0],H[1]-E[1]],B.endTangent=[E[0]-H[0],E[1]-H[1]];else if(L==="Q"){var J=[M[1],M[2]];B.startTangent=[H[0]-J[0],H[1]-J[1]],B.endTangent=[E[0]-J[0],E[1]-J[1]]}else if(L==="T"){var ct=C[g-1],J=_(ct.currentPoint,H);ct.command==="Q"?(B.command="Q",B.startTangent=[H[0]-J[0],H[1]-J[1]],B.endTangent=[E[0]-J[0],E[1]-J[1]]):(B.command="TL",B.startTangent=[H[0]-E[0],H[1]-E[1]],B.endTangent=[E[0]-H[0],E[1]-H[1]])}else if(L==="C"){var ut=[M[1],M[2]],At=[M[3],M[4]];B.startTangent=[H[0]-ut[0],H[1]-ut[1]],B.endTangent=[E[0]-At[0],E[1]-At[1]],B.startTangent[0]===0&&B.startTangent[1]===0&&(B.startTangent=[ut[0]-At[0],ut[1]-At[1]]),B.endTangent[0]===0&&B.endTangent[1]===0&&(B.endTangent=[At[0]-ut[0],At[1]-ut[1]])}else if(L==="S"){var ct=C[g-1],ut=_(ct.currentPoint,H),At=[M[1],M[2]];ct.command==="C"?(B.command="C",B.startTangent=[H[0]-ut[0],H[1]-ut[1]],B.endTangent=[E[0]-At[0],E[1]-At[1]]):(B.command="SQ",B.startTangent=[H[0]-At[0],H[1]-At[1]],B.endTangent=[E[0]-At[0],E[1]-At[1]])}else if(L==="A"){var St=.001,Yt=B.arcParams||{},Tt=Yt.cx,Dt=Tt===void 0?0:Tt,Bt=Yt.cy,Et=Bt===void 0?0:Bt,zt=Yt.rx,jt=zt===void 0?0:zt,Mt=Yt.ry,pt=Mt===void 0?0:Mt,k=Yt.sweepFlag,u=k===void 0?0:k,G=Yt.startAngle,Y=G===void 0?0:G,V=Yt.endAngle,U=V===void 0?0:V;u===0&&(St*=-1);var et=jt*Math.cos(Y-St)+Dt,ht=pt*Math.sin(Y-St)+Et;B.startTangent=[et-w[0],ht-w[1]];var Ft=jt*Math.cos(Y+U+St)+Dt,bt=pt*Math.sin(Y+U-St)+Et;B.endTangent=[H[0]-Ft,H[1]-bt]}C.push(B)}return C}S.default=T},66957:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-6;function b(_){return Math.abs(_)<d?0:_<0?-1:1}function O(_,T,A){return(A[0]-_[0])*(T[1]-_[1])==(T[0]-_[0])*(A[1]-_[1])&&Math.min(_[0],T[0])<=A[0]&&A[0]<=Math.max(_[0],T[0])&&Math.min(_[1],T[1])<=A[1]&&A[1]<=Math.max(_[1],T[1])}function I(_,T,A){var C=!1,E=_.length;if(E<=2)return!1;for(var p=0;p<E;p++){var w=_[p],y=_[(p+1)%E];if(O(w,y,[T,A]))return!0;b(w[1]-A)>0!=b(y[1]-A)>0&&b(T-(A-w[1])*(w[0]-y[0])/(w[1]-y[1])-w[0])<0&&(C=!C)}return C}S.default=I},72469:function(dt,S,d){"use strict";d.r(S),d.d(S,{Category:function(){return w},Identity:function(){return Ae},Linear:function(){return Ke},Log:function(){return en},Pow:function(){return ni},Quantile:function(){return Se},Quantize:function(){return he},Scale:function(){return C},Time:function(){return yi},TimeCat:function(){return Me},getScale:function(){return Ne},getTickMethod:function(){return _},registerScale:function(){return Fe},registerTickMethod:function(){return T}});var b={};d.r(b),d.d(b,{assign:function(){return H},default:function(){return ht},defaultI18n:function(){return St},format:function(){return V},parse:function(){return U},setGlobalDateI18n:function(){return Tt},setGlobalDateMasks:function(){return Y}});var O=d(49242),I={};function _(Ut){return I[Ut]}function T(Ut,ie){I[Ut]=ie}var A=function(){function Ut(ie){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=ie,this.initCfg(),this.init()}return Ut.prototype.translate=function(ie){return ie},Ut.prototype.change=function(ie){(0,O.assign)(this.__cfg__,ie),this.init()},Ut.prototype.clone=function(){return this.constructor(this.__cfg__)},Ut.prototype.getTicks=function(){var ie=this;return(0,O.map)(this.ticks,function(se,Ce){return(0,O.isObject)(se)?se:{text:ie.getText(se,Ce),tickValue:se,value:ie.scale(se)}})},Ut.prototype.getText=function(ie,se){var Ce=this.formatter,Te=Ce?Ce(ie,se):ie;return(0,O.isNil)(Te)||!(0,O.isFunction)(Te.toString)?"":Te.toString()},Ut.prototype.getConfig=function(ie){return this.__cfg__[ie]},Ut.prototype.init=function(){(0,O.assign)(this,this.__cfg__),this.setDomain(),(0,O.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},Ut.prototype.initCfg=function(){},Ut.prototype.setDomain=function(){},Ut.prototype.calculateTicks=function(){var ie=this.tickMethod,se=[];if((0,O.isString)(ie)){var Ce=_(ie);if(!Ce)throw new Error("There is no method to to calculate ticks!");se=Ce(this)}else(0,O.isFunction)(ie)&&(se=ie(this));return se},Ut.prototype.rangeMin=function(){return this.range[0]},Ut.prototype.rangeMax=function(){return this.range[1]},Ut.prototype.calcPercent=function(ie,se,Ce){return(0,O.isNumber)(ie)?(ie-se)/(Ce-se):NaN},Ut.prototype.calcValue=function(ie,se,Ce){return se+ie*(Ce-se)},Ut}(),C=A,E=d(65353),p=function(Ut){(0,E.__extends)(ie,Ut);function ie(){var se=Ut!==null&&Ut.apply(this,arguments)||this;return se.type="cat",se.isCategory=!0,se}return ie.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var se=0;se<this.values.length;se++)this.translateIndexMap.set(this.values[se],se)}},ie.prototype.translate=function(se){this.buildIndexMap();var Ce=this.translateIndexMap.get(se);return Ce===void 0&&(Ce=(0,O.isNumber)(se)?se:NaN),Ce},ie.prototype.scale=function(se){var Ce=this.translate(se),Te=this.calcPercent(Ce,this.min,this.max);return this.calcValue(Te,this.rangeMin(),this.rangeMax())},ie.prototype.invert=function(se){var Ce=this.max-this.min,Te=this.calcPercent(se,this.rangeMin(),this.rangeMax()),ke=Math.round(Ce*Te)+this.min;return ke<this.min||ke>this.max?NaN:this.values[ke]},ie.prototype.getText=function(se){for(var Ce=[],Te=1;Te<arguments.length;Te++)Ce[Te-1]=arguments[Te];var ke=se;return(0,O.isNumber)(se)&&!this.values.includes(se)&&(ke=this.values[ke]),Ut.prototype.getText.apply(this,(0,E.__spreadArrays)([ke],Ce))},ie.prototype.initCfg=function(){this.tickMethod="cat"},ie.prototype.setDomain=function(){if((0,O.isNil)(this.getConfig("min"))&&(this.min=0),(0,O.isNil)(this.getConfig("max"))){var se=this.values.length;this.max=se>1?se-1:se}this.translateIndexMap&&(this.translateIndexMap=void 0)},ie}(C),w=p,y=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,m="\\d\\d?",g="\\d\\d",M="\\d{3}",L="\\d{4}",B="[^\\s]+",N=/\[([^]*?)\]/gm;function j(Ut,ie){for(var se=[],Ce=0,Te=Ut.length;Ce<Te;Ce++)se.push(Ut[Ce].substr(0,ie));return se}var tt=function(Ut){return function(ie,se){var Ce=se[Ut].map(function(ke){return ke.toLowerCase()}),Te=Ce.indexOf(ie.toLowerCase());return Te>-1?Te:null}};function H(Ut){for(var ie=[],se=1;se<arguments.length;se++)ie[se-1]=arguments[se];for(var Ce=0,Te=ie;Ce<Te.length;Ce++){var ke=Te[Ce];for(var ir in ke)Ut[ir]=ke[ir]}return Ut}var J=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ct=["January","February","March","April","May","June","July","August","September","October","November","December"],ut=j(ct,3),At=j(J,3),St={dayNamesShort:At,dayNames:J,monthNamesShort:ut,monthNames:ct,amPm:["am","pm"],DoFn:function(Ut){return Ut+["th","st","nd","rd"][Ut%10>3?0:(Ut-Ut%10!=10?1:0)*Ut%10]}},Yt=H({},St),Tt=function(Ut){return Yt=H(Yt,Ut)},Dt=function(Ut){return Ut.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Bt=function(Ut,ie){for(ie===void 0&&(ie=2),Ut=String(Ut);Ut.length<ie;)Ut="0"+Ut;return Ut},Et={D:function(Ut){return String(Ut.getDate())},DD:function(Ut){return Bt(Ut.getDate())},Do:function(Ut,ie){return ie.DoFn(Ut.getDate())},d:function(Ut){return String(Ut.getDay())},dd:function(Ut){return Bt(Ut.getDay())},ddd:function(Ut,ie){return ie.dayNamesShort[Ut.getDay()]},dddd:function(Ut,ie){return ie.dayNames[Ut.getDay()]},M:function(Ut){return String(Ut.getMonth()+1)},MM:function(Ut){return Bt(Ut.getMonth()+1)},MMM:function(Ut,ie){return ie.monthNamesShort[Ut.getMonth()]},MMMM:function(Ut,ie){return ie.monthNames[Ut.getMonth()]},YY:function(Ut){return Bt(String(Ut.getFullYear()),4).substr(2)},YYYY:function(Ut){return Bt(Ut.getFullYear(),4)},h:function(Ut){return String(Ut.getHours()%12||12)},hh:function(Ut){return Bt(Ut.getHours()%12||12)},H:function(Ut){return String(Ut.getHours())},HH:function(Ut){return Bt(Ut.getHours())},m:function(Ut){return String(Ut.getMinutes())},mm:function(Ut){return Bt(Ut.getMinutes())},s:function(Ut){return String(Ut.getSeconds())},ss:function(Ut){return Bt(Ut.getSeconds())},S:function(Ut){return String(Math.round(Ut.getMilliseconds()/100))},SS:function(Ut){return Bt(Math.round(Ut.getMilliseconds()/10),2)},SSS:function(Ut){return Bt(Ut.getMilliseconds(),3)},a:function(Ut,ie){return Ut.getHours()<12?ie.amPm[0]:ie.amPm[1]},A:function(Ut,ie){return Ut.getHours()<12?ie.amPm[0].toUpperCase():ie.amPm[1].toUpperCase()},ZZ:function(Ut){var ie=Ut.getTimezoneOffset();return(ie>0?"-":"+")+Bt(Math.floor(Math.abs(ie)/60)*100+Math.abs(ie)%60,4)},Z:function(Ut){var ie=Ut.getTimezoneOffset();return(ie>0?"-":"+")+Bt(Math.floor(Math.abs(ie)/60),2)+":"+Bt(Math.abs(ie)%60,2)}},zt=function(Ut){return+Ut-1},jt=[null,m],Mt=[null,B],pt=["isPm",B,function(Ut,ie){var se=Ut.toLowerCase();return se===ie.amPm[0]?0:se===ie.amPm[1]?1:null}],k=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(Ut){var ie=(Ut+"").match(/([+-]|\d\d)/gi);if(ie){var se=+ie[1]*60+parseInt(ie[2],10);return ie[0]==="+"?se:-se}return 0}],u={D:["day",m],DD:["day",g],Do:["day",m+B,function(Ut){return parseInt(Ut,10)}],M:["month",m,zt],MM:["month",g,zt],YY:["year",g,function(Ut){var ie=new Date,se=+(""+ie.getFullYear()).substr(0,2);return+(""+(+Ut>68?se-1:se)+Ut)}],h:["hour",m,void 0,"isPm"],hh:["hour",g,void 0,"isPm"],H:["hour",m],HH:["hour",g],m:["minute",m],mm:["minute",g],s:["second",m],ss:["second",g],YYYY:["year",L],S:["millisecond","\\d",function(Ut){return+Ut*100}],SS:["millisecond",g,function(Ut){return+Ut*10}],SSS:["millisecond",M],d:jt,dd:jt,ddd:Mt,dddd:Mt,MMM:["month",B,tt("monthNamesShort")],MMMM:["month",B,tt("monthNames")],a:pt,A:pt,ZZ:k,Z:k},G={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Y=function(Ut){return H(G,Ut)},V=function(Ut,ie,se){if(ie===void 0&&(ie=G.default),se===void 0&&(se={}),typeof Ut=="number"&&(Ut=new Date(Ut)),Object.prototype.toString.call(Ut)!=="[object Date]"||isNaN(Ut.getTime()))throw new Error("Invalid Date pass to format");ie=G[ie]||ie;var Ce=[];ie=ie.replace(N,function(ke,ir){return Ce.push(ir),"@@@"});var Te=H(H({},Yt),se);return ie=ie.replace(y,function(ke){return Et[ke](Ut,Te)}),ie.replace(/@@@/g,function(){return Ce.shift()})};function U(Ut,ie,se){if(se===void 0&&(se={}),typeof ie!="string")throw new Error("Invalid format in fecha parse");if(ie=G[ie]||ie,Ut.length>1e3)return null;var Ce=new Date,Te={year:Ce.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},ke=[],ir=[],or=ie.replace(N,function(ti,Sr){return ir.push(Dt(Sr)),"@@@"}),Or={},Cr={};or=Dt(or).replace(y,function(ti){var Sr=u[ti],ii=Sr[0],ea=Sr[1],yn=Sr[3];if(Or[ii])throw new Error("Invalid format. "+ii+" specified twice in format");return Or[ii]=!0,yn&&(Cr[yn]=!0),ke.push(Sr),"("+ea+")"}),Object.keys(Cr).forEach(function(ti){if(!Or[ti])throw new Error("Invalid format. "+ti+" is required in specified format")}),or=or.replace(/@@@/g,function(){return ir.shift()});var Ar=Ut.match(new RegExp(or,"i"));if(!Ar)return null;for(var hn=H(H({},Yt),se),sn=1;sn<Ar.length;sn++){var Jr=ke[sn-1],ln=Jr[0],Fn=Jr[2],kn=Fn?Fn(Ar[sn],hn):+Ar[sn];if(kn==null)return null;Te[ln]=kn}Te.isPm===1&&Te.hour!=null&&+Te.hour!=12?Te.hour=+Te.hour+12:Te.isPm===0&&+Te.hour==12&&(Te.hour=0);var Jn;if(Te.timezoneOffset==null){Jn=new Date(Te.year,Te.month,Te.day,Te.hour,Te.minute,Te.second,Te.millisecond);for(var Rn=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],sn=0,Ai=Rn.length;sn<Ai;sn++)if(Or[Rn[sn][0]]&&Te[Rn[sn][0]]!==Jn[Rn[sn][1]]())return null}else if(Jn=new Date(Date.UTC(Te.year,Te.month,Te.day,Te.hour,Te.minute-Te.timezoneOffset,Te.second,Te.millisecond)),Te.month>11||Te.month<0||Te.day>31||Te.day<1||Te.hour>23||Te.hour<0||Te.minute>59||Te.minute<0||Te.second>59||Te.second<0)return null;return Jn}var et={format:V,parse:U,defaultI18n:St,setGlobalDateI18n:Tt,setGlobalDateMasks:Y},ht=et;function Ft(Ut){return function(ie,se,Ce,Te){for(var ke=(0,O.isNil)(Ce)?0:Ce,ir=(0,O.isNil)(Te)?ie.length:Te;ke<ir;){var or=ke+ir>>>1;Ut(ie[or])>se?ir=or:ke=or+1}return ke}}var bt="format";function at(Ut,ie){var se=b[bt]||ht[bt];return se(Ut,ie)}function xt(Ut){return(0,O.isString)(Ut)&&(Ut.indexOf("T")>0?Ut=new Date(Ut).getTime():Ut=new Date(Ut.replace(/-/gi,"/")).getTime()),(0,O.isDate)(Ut)&&(Ut=Ut.getTime()),Ut}var lt=1e3,it=60*lt,yt=60*it,ft=24*yt,st=ft*31,Ct=ft*365,Rt=[["HH:mm:ss",lt],["HH:mm:ss",lt*10],["HH:mm:ss",lt*30],["HH:mm",it],["HH:mm",it*10],["HH:mm",it*30],["HH",yt],["HH",yt*6],["HH",yt*12],["YYYY-MM-DD",ft],["YYYY-MM-DD",ft*4],["YYYY-WW",ft*7],["YYYY-MM",st],["YYYY-MM",st*4],["YYYY-MM",st*6],["YYYY",ft*380]];function re(Ut,ie,se){var Ce=(ie-Ut)/se,Te=Ft(function(ir){return ir[1]})(Rt,Ce)-1,ke=Rt[Te];return Te<0?ke=Rt[0]:Te>=Rt.length&&(ke=(0,O.last)(Rt)),ke}var pe=function(Ut){(0,E.__extends)(ie,Ut);function ie(){var se=Ut!==null&&Ut.apply(this,arguments)||this;return se.type="timeCat",se}return ie.prototype.translate=function(se){se=xt(se);var Ce=this.values.indexOf(se);return Ce===-1&&((0,O.isNumber)(se)&&se<this.values.length?Ce=se:Ce=NaN),Ce},ie.prototype.getText=function(se,Ce){var Te=this.translate(se);if(Te>-1){var ke=this.values[Te],ir=this.formatter;return ke=ir?ir(ke,Ce):at(ke,this.mask),ke}return se},ie.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},ie.prototype.setDomain=function(){var se=this.values;(0,O.each)(se,function(Ce,Te){se[Te]=xt(Ce)}),se.sort(function(Ce,Te){return Ce-Te}),Ut.prototype.setDomain.call(this)},ie}(w),Me=pe,Xe=function(Ut){(0,E.__extends)(ie,Ut);function ie(){var se=Ut!==null&&Ut.apply(this,arguments)||this;return se.isContinuous=!0,se}return ie.prototype.scale=function(se){if((0,O.isNil)(se))return NaN;var Ce=this.rangeMin(),Te=this.rangeMax(),ke=this.max,ir=this.min;if(ke===ir)return Ce;var or=this.getScalePercent(se);return Ce+or*(Te-Ce)},ie.prototype.init=function(){Ut.prototype.init.call(this);var se=this.ticks,Ce=(0,O.head)(se),Te=(0,O.last)(se);Ce<this.min&&(this.min=Ce),Te>this.max&&(this.max=Te),(0,O.isNil)(this.minLimit)||(this.min=Ce),(0,O.isNil)(this.maxLimit)||(this.max=Te)},ie.prototype.setDomain=function(){var se=(0,O.getRange)(this.values),Ce=se.min,Te=se.max;(0,O.isNil)(this.min)&&(this.min=Ce),(0,O.isNil)(this.max)&&(this.max=Te),this.min>this.max&&(this.min=Ce,this.max=Te)},ie.prototype.calculateTicks=function(){var se=this,Ce=Ut.prototype.calculateTicks.call(this);return this.nice||(Ce=(0,O.filter)(Ce,function(Te){return Te>=se.min&&Te<=se.max})),Ce},ie.prototype.getScalePercent=function(se){var Ce=this.max,Te=this.min;return(se-Te)/(Ce-Te)},ie.prototype.getInvertPercent=function(se){return(se-this.rangeMin())/(this.rangeMax()-this.rangeMin())},ie}(C),Be=Xe,Re=function(Ut){(0,E.__extends)(ie,Ut);function ie(){var se=Ut!==null&&Ut.apply(this,arguments)||this;return se.type="linear",se.isLinear=!0,se}return ie.prototype.invert=function(se){var Ce=this.getInvertPercent(se);return this.min+Ce*(this.max-this.min)},ie.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},ie}(Be),Ke=Re;function ar(Ut,ie){var se=Math.E,Ce;return ie>=0?Ce=Math.pow(se,Math.log(ie)/Ut):Ce=Math.pow(se,Math.log(-ie)/Ut)*-1,Ce}function Mr(Ut,ie){return Ut===1?1:Math.log(ie)/Math.log(Ut)}function sr(Ut,ie,se){(0,O.isNil)(se)&&(se=Math.max.apply(null,Ut));var Ce=se;return(0,O.each)(Ut,function(Te){Te>0&&Te<Ce&&(Ce=Te)}),Ce===se&&(Ce=se/ie),Ce>1&&(Ce=1),Ce}function Xr(Ut){var ie=Ut.toString().split(/[eE]/),se=(ie[0].split(".")[1]||"").length-+(ie[1]||0);return se>0?se:0}function pn(Ut,ie){var se=Xr(Ut),Ce=Xr(ie),Te=Math.pow(10,Math.max(se,Ce));return(Ut*Te+ie*Te)/Te}var jr=function(Ut){(0,E.__extends)(ie,Ut);function ie(){var se=Ut!==null&&Ut.apply(this,arguments)||this;return se.type="log",se}return ie.prototype.invert=function(se){var Ce=this.base,Te=Mr(Ce,this.max),ke=this.rangeMin(),ir=this.rangeMax()-ke,or,Or=this.positiveMin;if(Or){if(se===0)return 0;or=Mr(Ce,Or/Ce);var Cr=1/(Te-or)*ir;if(se<Cr)return se/Cr*Or}else or=Mr(Ce,this.min);var Ar=(se-ke)/ir,hn=Ar*(Te-or)+or;return Math.pow(Ce,hn)},ie.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},ie.prototype.setDomain=function(){Ut.prototype.setDomain.call(this);var se=this.min;if(se<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");se===0&&(this.positiveMin=sr(this.values,this.base,this.max))},ie.prototype.getScalePercent=function(se){var Ce=this.max,Te=this.min;if(Ce===Te||se<=0)return 0;var ke=this.base,ir=this.positiveMin;ir&&(Te=ir*1/ke);var or;return se<ir?or=se/ir/(Mr(ke,Ce)-Mr(ke,Te)):or=(Mr(ke,se)-Mr(ke,Te))/(Mr(ke,Ce)-Mr(ke,Te)),or},ie}(Be),en=jr,Xn=function(Ut){(0,E.__extends)(ie,Ut);function ie(){var se=Ut!==null&&Ut.apply(this,arguments)||this;return se.type="pow",se}return ie.prototype.invert=function(se){var Ce=this.getInvertPercent(se),Te=this.exponent,ke=ar(Te,this.max),ir=ar(Te,this.min),or=Ce*(ke-ir)+ir,Or=or>=0?1:-1;return Math.pow(or,Te)*Or},ie.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},ie.prototype.getScalePercent=function(se){var Ce=this.max,Te=this.min;if(Ce===Te)return 0;var ke=this.exponent,ir=(ar(ke,se)-ar(ke,Te))/(ar(ke,Ce)-ar(ke,Te));return ir},ie}(Be),ni=Xn,gi=function(Ut){(0,E.__extends)(ie,Ut);function ie(){var se=Ut!==null&&Ut.apply(this,arguments)||this;return se.type="time",se}return ie.prototype.getText=function(se,Ce){var Te=this.translate(se),ke=this.formatter;return ke?ke(Te,Ce):at(Te,this.mask)},ie.prototype.scale=function(se){var Ce=se;return((0,O.isString)(Ce)||(0,O.isDate)(Ce))&&(Ce=this.translate(Ce)),Ut.prototype.scale.call(this,Ce)},ie.prototype.translate=function(se){return xt(se)},ie.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},ie.prototype.setDomain=function(){var se=this.values,Ce=this.getConfig("min"),Te=this.getConfig("max");if((!(0,O.isNil)(Ce)||!(0,O.isNumber)(Ce))&&(this.min=this.translate(this.min)),(!(0,O.isNil)(Te)||!(0,O.isNumber)(Te))&&(this.max=this.translate(this.max)),se&&se.length){var ke=[],ir=Infinity,or=ir,Or=0;(0,O.each)(se,function(Cr){var Ar=xt(Cr);if(isNaN(Ar))throw new TypeError("Invalid Time: "+Cr+" in time scale!");ir>Ar?(or=ir,ir=Ar):or>Ar&&(or=Ar),Or<Ar&&(Or=Ar),ke.push(Ar)}),se.length>1&&(this.minTickInterval=or-ir),(0,O.isNil)(Ce)&&(this.min=ir),(0,O.isNil)(Te)&&(this.max=Or)}},ie}(Ke),yi=gi,te=function(Ut){(0,E.__extends)(ie,Ut);function ie(){var se=Ut!==null&&Ut.apply(this,arguments)||this;return se.type="quantize",se}return ie.prototype.invert=function(se){var Ce=this.ticks,Te=Ce.length,ke=this.getInvertPercent(se),ir=Math.floor(ke*(Te-1));if(ir>=Te-1)return(0,O.last)(Ce);if(ir<0)return(0,O.head)(Ce);var or=Ce[ir],Or=Ce[ir+1],Cr=ir/(Te-1),Ar=(ir+1)/(Te-1);return or+(ke-Cr)/(Ar-Cr)*(Or-or)},ie.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},ie.prototype.calculateTicks=function(){var se=Ut.prototype.calculateTicks.call(this);return this.nice||((0,O.last)(se)!==this.max&&se.push(this.max),(0,O.head)(se)!==this.min&&se.unshift(this.min)),se},ie.prototype.getScalePercent=function(se){var Ce=this.ticks;if(se<(0,O.head)(Ce))return 0;if(se>(0,O.last)(Ce))return 1;var Te=0;return(0,O.each)(Ce,function(ke,ir){if(se>=ke)Te=ir;else return!1}),Te/(Ce.length-1)},ie}(Be),he=te,be=function(Ut){(0,E.__extends)(ie,Ut);function ie(){var se=Ut!==null&&Ut.apply(this,arguments)||this;return se.type="quantile",se}return ie.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},ie}(he),Se=be,Le={};function Ne(Ut){return Le[Ut]}function Fe(Ut,ie){if(Ne(Ut))throw new Error("type '"+Ut+"' existed.");Le[Ut]=ie}var Ve=function(Ut){(0,E.__extends)(ie,Ut);function ie(){var se=Ut!==null&&Ut.apply(this,arguments)||this;return se.type="identity",se.isIdentity=!0,se}return ie.prototype.calculateTicks=function(){return this.values},ie.prototype.scale=function(se){return this.values[0]!==se&&(0,O.isNumber)(se)?se:this.range[0]},ie.prototype.invert=function(se){var Ce=this.range;return se<Ce[0]||se>Ce[1]?NaN:this.values[0]},ie}(C),Ae=Ve;function rr(Ut){var ie=Ut.values,se=Ut.tickInterval,Ce=Ut.tickCount,Te=Ut.showLast;if((0,O.isNumber)(se)){var ke=(0,O.filter)(ie,function(ln,Fn){return Fn%se==0}),ir=(0,O.last)(ie);return Te&&(0,O.last)(ke)!==ir&&ke.push(ir),ke}var or=ie.length,Or=Ut.min,Cr=Ut.max;if((0,O.isNil)(Or)&&(Or=0),(0,O.isNil)(Cr)&&(Cr=ie.length-1),!(0,O.isNumber)(Ce)||Ce>=or)return ie.slice(Or,Cr+1);if(Ce<=0||Cr<=0)return[];for(var Ar=Ce===1?or:Math.floor(or/(Ce-1)),hn=[],sn=Or,Jr=0;Jr<Ce&&!(sn>=Cr);Jr++)sn=Math.min(Or+Jr*Ar,Cr),Jr===Ce-1&&Te?hn.push(ie[Cr]):hn.push(ie[sn]);return hn}function Qe(Ut){var ie=Ut.min,se=Ut.max,Ce=Ut.nice,Te=Ut.tickCount,ke=new F;return ke.domain([ie,se]),Ce&&ke.nice(Te),ke.ticks(Te)}var Pt=5,Ot=Math.sqrt(50),W=Math.sqrt(10),R=Math.sqrt(2),F=function(){function Ut(){this._domain=[0,1]}return Ut.prototype.domain=function(ie){return ie?(this._domain=Array.from(ie,Number),this):this._domain.slice()},Ut.prototype.nice=function(ie){var se,Ce;ie===void 0&&(ie=Pt);var Te=this._domain.slice(),ke=0,ir=this._domain.length-1,or=this._domain[ke],Or=this._domain[ir],Cr;return Or<or&&(se=[Or,or],or=se[0],Or=se[1],Ce=[ir,ke],ke=Ce[0],ir=Ce[1]),Cr=kt(or,Or,ie),Cr>0?(or=Math.floor(or/Cr)*Cr,Or=Math.ceil(Or/Cr)*Cr,Cr=kt(or,Or,ie)):Cr<0&&(or=Math.ceil(or*Cr)/Cr,Or=Math.floor(Or*Cr)/Cr,Cr=kt(or,Or,ie)),Cr>0?(Te[ke]=Math.floor(or/Cr)*Cr,Te[ir]=Math.ceil(Or/Cr)*Cr,this.domain(Te)):Cr<0&&(Te[ke]=Math.ceil(or*Cr)/Cr,Te[ir]=Math.floor(Or*Cr)/Cr,this.domain(Te)),this},Ut.prototype.ticks=function(ie){return ie===void 0&&(ie=Pt),rt(this._domain[0],this._domain[this._domain.length-1],ie||Pt)},Ut}();function rt(Ut,ie,se){var Ce,Te=-1,ke,ir,or;if(ie=+ie,Ut=+Ut,se=+se,Ut===ie&&se>0)return[Ut];if((Ce=ie<Ut)&&(ke=Ut,Ut=ie,ie=ke),(or=kt(Ut,ie,se))===0||!isFinite(or))return[];if(or>0)for(Ut=Math.ceil(Ut/or),ie=Math.floor(ie/or),ir=new Array(ke=Math.ceil(ie-Ut+1));++Te<ke;)ir[Te]=(Ut+Te)*or;else for(Ut=Math.floor(Ut*or),ie=Math.ceil(ie*or),ir=new Array(ke=Math.ceil(Ut-ie+1));++Te<ke;)ir[Te]=(Ut-Te)/or;return Ce&&ir.reverse(),ir}function kt(Ut,ie,se){var Ce=(ie-Ut)/Math.max(0,se),Te=Math.floor(Math.log(Ce)/Math.LN10),ke=Ce/Math.pow(10,Te);return Te>=0?(ke>=Ot?10:ke>=W?5:ke>=R?2:1)*Math.pow(10,Te):-Math.pow(10,-Te)/(ke>=Ot?10:ke>=W?5:ke>=R?2:1)}function Vt(Ut,ie,se){var Ce;return se==="ceil"?Ce=Math.ceil(Ut/ie):se==="floor"?Ce=Math.floor(Ut/ie):Ce=Math.round(Ut/ie),Ce*ie}function Gt(Ut,ie,se){var Ce=Vt(Ut,se,"floor"),Te=Vt(ie,se,"ceil");Ce=(0,O.fixedBase)(Ce,se),Te=(0,O.fixedBase)(Te,se);for(var ke=[],ir=Math.max((Te-Ce)/(Math.pow(2,12)-1),se),or=Ce;or<=Te;or=or+ir){var Or=(0,O.fixedBase)(or,ir);ke.push(Or)}return{min:Ce,max:Te,ticks:ke}}function Kt(Ut,ie,se){var Ce,Te=Ut.minLimit,ke=Ut.maxLimit,ir=Ut.min,or=Ut.max,Or=Ut.tickCount,Cr=Or===void 0?5:Or,Ar=(0,O.isNil)(Te)?(0,O.isNil)(ie)?ir:ie:Te,hn=(0,O.isNil)(ke)?(0,O.isNil)(se)?or:se:ke;if(Ar>hn&&(Ce=[Ar,hn],hn=Ce[0],Ar=Ce[1]),Cr<=2)return[Ar,hn];for(var sn=(hn-Ar)/(Cr-1),Jr=[],ln=0;ln<Cr;ln++)Jr.push(Ar+sn*ln);return Jr}function we(Ut){var ie=Ut.min,se=Ut.max,Ce=Ut.tickInterval,Te=Ut.minLimit,ke=Ut.maxLimit,ir=Qe(Ut);return!(0,O.isNil)(Te)||!(0,O.isNil)(ke)?Kt(Ut,(0,O.head)(ir),(0,O.last)(ir)):Ce?Gt(ie,se,Ce).ticks:ir}function me(Ut){return Math.abs(Ut)<1e-15?Ut:parseFloat(Ut.toFixed(15))}var _e=[1,5,2,2.5,4,3],qe=null,De=Number.EPSILON*100;function dr(Ut,ie){return(Ut%ie+ie)%ie}function Rr(Ut){return Math.round(Ut*1e12)/1e12}function Oe(Ut,ie,se,Ce,Te,ke){var ir=(0,O.size)(ie),or=(0,O.indexOf)(ie,Ut),Or=0,Cr=dr(Ce,ke);return(Cr<De||ke-Cr<De)&&Ce<=0&&Te>=0&&(Or=1),1-or/(ir-1)-se+Or}function je(Ut,ie,se){var Ce=(0,O.size)(ie),Te=(0,O.indexOf)(ie,Ut),ke=1;return 1-Te/(Ce-1)-se+ke}function nr(Ut,ie,se,Ce,Te,ke){var ir=(Ut-1)/(ke-Te),or=(ie-1)/(Math.max(ke,Ce)-Math.min(se,Te));return 2-Math.max(ir/or,or/ir)}function Je(Ut,ie){return Ut>=ie?2-(Ut-1)/(ie-1):1}function hr(Ut,ie,se,Ce){var Te=ie-Ut;return 1-.5*(Math.pow(ie-Ce,2)+Math.pow(Ut-se,2))/Math.pow(.1*Te,2)}function un(Ut,ie,se){var Ce=ie-Ut;if(se>Ce){var Te=(se-Ce)/2;return 1-Math.pow(Te,2)/Math.pow(.1*Ce,2)}return 1}function Qr(){return 1}function Pr(Ut,ie,se,Ce,Te,ke){se===void 0&&(se=5),Ce===void 0&&(Ce=!0),Te===void 0&&(Te=_e),ke===void 0&&(ke=[.25,.2,.5,.05]);var ir=se<0?0:Math.round(se);if(Number.isNaN(Ut)||Number.isNaN(ie)||typeof Ut!="number"||typeof ie!="number"||!ir)return{min:0,max:0,ticks:[]};if(ie-Ut<1e-15||ir===1)return{min:Ut,max:ie,ticks:[Ut]};if(ie-Ut>1e148){var or=se||5,Or=(ie-Ut)/or;return{min:Ut,max:ie,ticks:Array(or).fill(null).map(function(oi,ra){return me(Ut+Or*ra)})}}for(var Cr={score:-2,lmin:0,lmax:0,lstep:0},Ar=1;Ar<Infinity;){for(var hn=0;hn<Te.length;hn+=1){var sn=Te[hn],Jr=je(sn,Te,Ar);if(ke[0]*Jr+ke[1]+ke[2]+ke[3]<Cr.score){Ar=Infinity;break}for(var ln=2;ln<Infinity;){var Fn=Je(ln,ir);if(ke[0]*Jr+ke[1]+ke[2]*Fn+ke[3]<Cr.score)break;for(var kn=(ie-Ut)/(ln+1)/Ar/sn,Jn=Math.ceil(Math.log10(kn));Jn<Infinity;){var Rn=Ar*sn*Math.pow(10,Jn),Ai=un(Ut,ie,Rn*(ln-1));if(ke[0]*Jr+ke[1]*Ai+ke[2]*Fn+ke[3]<Cr.score)break;var ti=Math.floor(ie/Rn)*Ar-(ln-1)*Ar,Sr=Math.ceil(Ut/Rn)*Ar;if(ti<=Sr)for(var or=Sr-ti,ii=0;ii<=or;ii+=1){var ea=ti+ii,yn=ea*(Rn/Ar),Ti=yn+Rn*(ln-1),_i=Rn,ai=Oe(sn,Te,Ar,yn,Ti,_i),Oi=hr(Ut,ie,yn,Ti),ca=nr(ln,ir,Ut,ie,yn,Ti),zi=Qr(),mi=ke[0]*ai+ke[1]*Oi+ke[2]*ca+ke[3]*zi;mi>Cr.score&&(!Ce||yn<=Ut&&Ti>=ie)&&(Cr.lmin=yn,Cr.lmax=Ti,Cr.lstep=_i,Cr.score=mi)}Jn+=1}ln+=1}}Ar+=1}var xi=me(Cr.lmax),In=me(Cr.lmin),Ki=me(Cr.lstep),Li=Math.floor(Rr((xi-In)/Ki))+1,Ii=new Array(Li);Ii[0]=me(In);for(var hn=1;hn<Li;hn++)Ii[hn]=me(Ii[hn-1]+Ki);return{min:Math.min(Ut,(0,O.head)(Ii)),max:Math.max(ie,(0,O.last)(Ii)),ticks:Ii}}function Hr(Ut){var ie=Ut.min,se=Ut.max,Ce=Ut.tickCount,Te=Ut.nice,ke=Ut.tickInterval,ir=Ut.minLimit,or=Ut.maxLimit,Or=Pr(ie,se,Ce,Te).ticks;return!(0,O.isNil)(ir)||!(0,O.isNil)(or)?Kt(Ut,(0,O.head)(Or),(0,O.last)(Or)):ke?Gt(ie,se,ke).ticks:Or}function wn(Ut){var ie=Ut.base,se=Ut.tickCount,Ce=Ut.min,Te=Ut.max,ke=Ut.values,ir,or=Mr(ie,Te);if(Ce>0)ir=Math.floor(Mr(ie,Ce));else{var Or=sr(ke,ie,Te);ir=Math.floor(Mr(ie,Or))}for(var Cr=or-ir,Ar=Math.ceil(Cr/se),hn=[],sn=ir;sn<or+Ar;sn=sn+Ar)hn.push(Math.pow(ie,sn));return Ce<=0&&hn.unshift(0),hn}function fn(Ut,ie,se){if(se===void 0&&(se=5),Ut===ie)return{max:ie,min:Ut,ticks:[Ut]};var Ce=se<0?0:Math.round(se);if(Ce===0)return{max:ie,min:Ut,ticks:[]};var Te=1.5,ke=.5+1.5*Te,ir=ie-Ut,or=ir/Ce,Or=Math.pow(10,Math.floor(Math.log10(or))),Cr=Or;2*Or-or<Te*(or-Cr)&&(Cr=2*Or,5*Or-or<ke*(or-Cr)&&(Cr=5*Or,10*Or-or<Te*(or-Cr)&&(Cr=10*Or)));for(var Ar=Math.ceil(ie/Cr),hn=Math.floor(Ut/Cr),sn=Math.max(Ar*Cr,ie),Jr=Math.min(hn*Cr,Ut),ln=Math.floor((sn-Jr)/Cr)+1,Fn=new Array(ln),kn=0;kn<ln;kn++)Fn[kn]=me(Jr+kn*Cr);return{min:Jr,max:sn,ticks:Fn}}function Er(Ut){var ie=Ut.exponent,se=Ut.tickCount,Ce=Math.ceil(ar(ie,Ut.max)),Te=Math.floor(ar(ie,Ut.min)),ke=fn(Te,Ce,se).ticks;return ke.map(function(ir){var or=ir>=0?1:-1;return Math.pow(ir,ie)*or})}function on(Ut,ie){var se=Ut.length*ie;return ie===1?Ut[Ut.length-1]:ie===0?Ut[0]:se%1!=0?Ut[Math.ceil(se)-1]:Ut.length%2==0?(Ut[se-1]+Ut[se])/2:Ut[se]}function Dn(Ut){var ie=Ut.tickCount,se=Ut.values;if(!se||!se.length)return[];for(var Ce=se.slice().sort(function(or,Or){return or-Or}),Te=[],ke=0;ke<ie;ke++){var ir=ke/(ie-1);Te.push(on(Ce,ir))}return Te}function Mn(Ut){var ie=Ut.min,se=Ut.max,Ce=Ut.tickCount,Te=Ut.tickInterval,ke=Ut.minLimit,ir=Ut.maxLimit,or=fn(ie,se,Ce).ticks;return!(0,O.isNil)(ke)||!(0,O.isNil)(ir)?Kt(Ut,(0,O.head)(or),(0,O.last)(or)):Te?Gt(ie,se,Te).ticks:or}function de(Ut){var ie=Ut.min,se=Ut.max,Ce=Ut.minTickInterval,Te=Ut.tickInterval,ke=Ut.tickCount;if(Te)ke=Math.ceil((se-ie)/Te);else{Te=re(ie,se,ke)[1];var ir=(se-ie)/Te,or=ir/ke;or>1&&(Te=Te*Math.ceil(or)),Ce&&Te<Ce&&(Te=Ce)}Te=Math.max(Math.floor((se-ie)/(Math.pow(2,12)-1)),Te);for(var Or=[],Cr=ie;Cr<se+Te;Cr+=Te)Or.push(Cr);return Or}function Wt(Ut){var ie=rr((0,E.__assign)({showLast:!0},Ut));return ie}function ve(Ut){return new Date(Ut).getFullYear()}function Ee(Ut){return new Date(Ut,0,1).getTime()}function Ge(Ut){return new Date(Ut).getMonth()}function tr(Ut,ie){var se=ve(Ut),Ce=ve(ie),Te=Ge(Ut),ke=Ge(ie);return(Ce-se)*12+(ke-Te)%12}function vr(Ut,ie){return new Date(Ut,ie,1).getTime()}function cr(Ut,ie){return Math.ceil((ie-Ut)/ft)}function Gr(Ut,ie){return Math.ceil((ie-Ut)/yt)}function rn(Ut,ie){return Math.ceil((ie-Ut)/(60*1e3))}function Vn(Ut){var ie=Ut.min,se=Ut.max,Ce=Ut.minTickInterval,Te=Ut.tickCount,ke=Ut.tickInterval,ir=[];ke||(ke=(se-ie)/Te,Ce&&ke<Ce&&(ke=Ce)),ke=Math.max(Math.floor((se-ie)/(Math.pow(2,12)-1)),ke);var or=ve(ie);if(ke>Ct)for(var Or=ve(se),Cr=Math.ceil(ke/Ct),Ar=or;Ar<=Or+Cr;Ar=Ar+Cr)ir.push(Ee(Ar));else if(ke>st)for(var hn=Math.ceil(ke/st),sn=Ge(ie),Jr=tr(ie,se),Ar=0;Ar<=Jr+hn;Ar=Ar+hn)ir.push(vr(or,Ar+sn));else if(ke>ft)for(var ln=new Date(ie),Fn=ln.getFullYear(),kn=ln.getMonth(),Jn=ln.getDate(),Rn=Math.ceil(ke/ft),Ai=cr(ie,se),Ar=0;Ar<Ai+Rn;Ar=Ar+Rn)ir.push(new Date(Fn,kn,Jn+Ar).getTime());else if(ke>yt)for(var ln=new Date(ie),Fn=ln.getFullYear(),kn=ln.getMonth(),Rn=ln.getDate(),ti=ln.getHours(),Sr=Math.ceil(ke/yt),ii=Gr(ie,se),Ar=0;Ar<=ii+Sr;Ar=Ar+Sr)ir.push(new Date(Fn,kn,Rn,ti+Ar).getTime());else if(ke>it)for(var ea=rn(ie,se),yn=Math.ceil(ke/it),Ar=0;Ar<=ea+yn;Ar=Ar+yn)ir.push(ie+Ar*it);else{var Ti=ke;Ti<lt&&(Ti=lt);for(var _i=Math.floor(ie/lt)*lt,ai=Math.ceil((se-ie)/lt),Oi=Math.ceil(Ti/lt),Ar=0;Ar<ai+Oi;Ar=Ar+Oi)ir.push(_i+Ar*lt)}return ir.length>=512&&console.warn("Notice: current ticks length("+ir.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+ke+") is too small, increase the value to solve the problem!"),ir}T("cat",rr),T("time-cat",Wt),T("wilkinson-extended",Hr),T("r-pretty",Mn),T("time",de),T("time-pretty",Vn),T("log",wn),T("pow",Er),T("quantile",Dn),T("d3-linear",we),Fe("cat",w),Fe("category",w),Fe("identity",Ae),Fe("linear",Ke),Fe("log",en),Fe("pow",ni),Fe("time",yi),Fe("timeCat",Me),Fe("quantize",he),Fe("quantile",Se)},49242:function(dt,S,d){"use strict";d.r(S),d.d(S,{Cache:function(){return We},assign:function(){return xi},augment:function(){return Ki},clamp:function(){return W},clearAnimationFrame:function(){return zi},clone:function(){return Ii},contains:function(){return _},debounce:function(){return ra},deepMix:function(){return Sa},difference:function(){return E},each:function(){return j},endsWith:function(){return pn},every:function(){return en},extend:function(){return Ma},filter:function(){return A},find:function(){return Dt},findIndex:function(){return Et},firstValue:function(){return jt},fixedBase:function(){return F},flatten:function(){return pt},flattenDeep:function(){return u},forIn:function(){return de},get:function(){return z},getEllipsisText:function(){return ye},getRange:function(){return U},getType:function(){return Or},getWrapBehavior:function(){return Le},group:function(){return be},groupBy:function(){return te},groupToMap:function(){return he},has:function(){return Wt},hasKey:function(){return ve},hasValue:function(){return tr},head:function(){return Ke},identity:function(){return ot},includes:function(){return _},indexOf:function(){return $i},isArguments:function(){return Ar},isArray:function(){return L},isArrayLike:function(){return O},isBoolean:function(){return sn},isDate:function(){return ln},isDecimal:function(){return Gt},isElement:function(){return Oi},isEmpty:function(){return ui},isEqual:function(){return cn},isEqualWith:function(){return Vi},isError:function(){return kn},isEven:function(){return we},isFinite:function(){return Jn},isFunction:function(){return m},isInteger:function(){return _e},isMatch:function(){return ct},isNegative:function(){return De},isNil:function(){return M},isNull:function(){return Ai},isNumber:function(){return kt},isNumberEqual:function(){return Rr},isObject:function(){return B},isObjectLike:function(){return At},isOdd:function(){return je},isPlainObject:function(){return Yt},isPositive:function(){return Je},isPrototype:function(){return ii},isRegExp:function(){return yn},isString:function(){return Rt},isType:function(){return y},isUndefined:function(){return _i},keys:function(){return H},last:function(){return ar},lowerCase:function(){return Gr},lowerFirst:function(){return Vn},map:function(){return Hi},mapValues:function(){return wt},max:function(){return G},maxBy:function(){return hr},measureTextWidth:function(){return oe},memoize:function(){return na},min:function(){return Y},minBy:function(){return un},mix:function(){return xi},mod:function(){return Pr},noop:function(){return $},number2color:function(){return rr},omit:function(){return Ht},parseRadius:function(){return Pt},pick:function(){return Lt},pull:function(){return at},pullAt:function(){return it},reduce:function(){return ft},remove:function(){return Ct},requestAnimationFrame:function(){return ca},set:function(){return nt},size:function(){return _t},some:function(){return ni},sortBy:function(){return pe},startsWith:function(){return sr},substitute:function(){return ie},throttle:function(){return qt},toArray:function(){return ge},toDegree:function(){return fn},toInteger:function(){return Er},toRadian:function(){return Mn},toString:function(){return vr},union:function(){return Be},uniq:function(){return Me},uniqueId:function(){return Q},upperCase:function(){return Ce},upperFirst:function(){return ke},values:function(){return Ge},valuesOfKey:function(){return Re},wrapBehavior:function(){return Fe}});var b=function(It){return It!==null&&typeof It!="function"&&isFinite(It.length)},O=b,I=function(It,$t){return O(It)?It.indexOf($t)>-1:!1},_=I,T=function(It,$t){if(!O(It))return It;for(var le=[],fe=0;fe<It.length;fe++){var Ie=It[fe];$t(Ie,fe)&&le.push(Ie)}return le},A=T,C=function(It,$t){return $t===void 0&&($t=[]),A(It,function(le){return!_($t,le)})},E=C,p={}.toString,w=function(It,$t){return p.call(It)==="[object "+$t+"]"},y=w,m=function(It){return y(It,"Function")},g=function(It){return It==null},M=g,L=function(It){return Array.isArray?Array.isArray(It):y(It,"Array")},B=function(It){var $t=typeof It;return It!==null&&$t==="object"||$t==="function"};function N(It,$t){if(!!It){var le;if(L(It))for(var fe=0,Ie=It.length;fe<Ie&&(le=$t(It[fe],fe),le!==!1);fe++);else if(B(It)){for(var $e in It)if(It.hasOwnProperty($e)&&(le=$t(It[$e],$e),le===!1))break}}}var j=N,tt=Object.keys?function(It){return Object.keys(It)}:function(It){var $t=[];return j(It,function(le,fe){m(It)&&fe==="prototype"||$t.push(fe)}),$t},H=tt;function J(It,$t){var le=H($t),fe=le.length;if(M(It))return!fe;for(var Ie=0;Ie<fe;Ie+=1){var $e=le[Ie];if($t[$e]!==It[$e]||!($e in It))return!1}return!0}var ct=J,ut=function(It){return typeof It=="object"&&It!==null},At=ut,St=function(It){if(!At(It)||!y(It,"Object"))return!1;if(Object.getPrototypeOf(It)===null)return!0;for(var $t=It;Object.getPrototypeOf($t)!==null;)$t=Object.getPrototypeOf($t);return Object.getPrototypeOf(It)===$t},Yt=St;function Tt(It,$t){if(!L(It))return null;var le;if(m($t)&&(le=$t),Yt($t)&&(le=function(Ie){return ct(Ie,$t)}),le){for(var fe=0;fe<It.length;fe+=1)if(le(It[fe]))return It[fe]}return null}var Dt=Tt;function Bt(It,$t,le){le===void 0&&(le=0);for(var fe=le;fe<It.length;fe++)if($t(It[fe],fe))return fe;return-1}var Et=Bt,zt=function(It,$t){for(var le=null,fe=0;fe<It.length;fe++){var Ie=It[fe],$e=Ie[$t];if(!M($e)){L($e)?le=$e[0]:le=$e;break}}return le},jt=zt,Mt=function(It){if(!L(It))return[];for(var $t=[],le=0;le<It.length;le++)$t=$t.concat(It[le]);return $t},pt=Mt,k=function(It,$t){if($t===void 0&&($t=[]),!L(It))$t.push(It);else for(var le=0;le<It.length;le+=1)k(It[le],$t);return $t},u=k,G=function(It){if(!!L(It))return It.reduce(function($t,le){return Math.max($t,le)},It[0])},Y=function(It){if(!!L(It))return It.reduce(function($t,le){return Math.min($t,le)},It[0])},V=function(It){var $t=It.filter(function(br){return!isNaN(br)});if(!$t.length)return{min:0,max:0};if(L(It[0])){for(var le=[],fe=0;fe<It.length;fe++)le=le.concat(It[fe]);$t=le}var Ie=G($t),$e=Y($t);return{min:$e,max:Ie}},U=V,et=Array.prototype,ht=et.splice,Ft=et.indexOf,bt=function(It){for(var $t=[],le=1;le<arguments.length;le++)$t[le-1]=arguments[le];for(var fe=0;fe<$t.length;fe++)for(var Ie=$t[fe],$e=-1;($e=Ft.call(It,Ie))>-1;)ht.call(It,$e,1);return It},at=bt,xt=Array.prototype.splice,lt=function($t,le){if(!O($t))return[];for(var fe=$t?le.length:0,Ie=fe-1;fe--;){var $e=void 0,br=le[fe];(fe===Ie||br!==$e)&&($e=br,xt.call($t,br,1))}return $t},it=lt,yt=function(It,$t,le){if(!L(It)&&!Yt(It))return It;var fe=le;return j(It,function(Ie,$e){fe=$t(fe,Ie,$e)}),fe},ft=yt,st=function(It,$t){var le=[];if(!O(It))return le;for(var fe=-1,Ie=[],$e=It.length;++fe<$e;){var br=It[fe];$t(br,fe,It)&&(le.push(br),Ie.push(fe))}return it(It,Ie),le},Ct=st,Rt=function(It){return y(It,"String")};function re(It,$t){var le;if(m($t))le=function(Ie,$e){return $t(Ie)-$t($e)};else{var fe=[];Rt($t)?fe.push($t):L($t)&&(fe=$t),le=function(Ie,$e){for(var br=0;br<fe.length;br+=1){var Lr=fe[br];if(Ie[Lr]>$e[Lr])return 1;if(Ie[Lr]<$e[Lr])return-1}return 0}}return It.sort(le),It}var pe=re;function Me(It,$t){$t===void 0&&($t=new Map);var le=[];if(Array.isArray(It))for(var fe=0,Ie=It.length;fe<Ie;fe++){var $e=It[fe];$t.has($e)||(le.push($e),$t.set($e,!0))}return le}var Xe=function(){for(var It=[],$t=0;$t<arguments.length;$t++)It[$t]=arguments[$t];return Me([].concat.apply([],It))},Be=Xe,Re=function(It,$t){for(var le=[],fe={},Ie=0;Ie<It.length;Ie++){var $e=It[Ie],br=$e[$t];if(!M(br)){L(br)||(br=[br]);for(var Lr=0;Lr<br.length;Lr++){var Tr=br[Lr];fe[Tr]||(le.push(Tr),fe[Tr]=!0)}}}return le};function Ke(It){if(O(It))return It[0]}function ar(It){if(O(It)){var $t=It;return $t[$t.length-1]}}function Mr(It,$t){return L(It)||Rt(It)?It[0]===$t:!1}var sr=Mr;function Xr(It,$t){return L(It)||Rt(It)?It[It.length-1]===$t:!1}var pn=Xr,jr=function(It,$t){for(var le=0;le<It.length;le++)if(!$t(It[le],le))return!1;return!0},en=jr,Xn=function(It,$t){for(var le=0;le<It.length;le++)if($t(It[le],le))return!0;return!1},ni=Xn,gi=Object.prototype.hasOwnProperty;function yi(It,$t){if(!$t||!L(It))return{};for(var le={},fe=m($t)?$t:function(Lr){return Lr[$t]},Ie,$e=0;$e<It.length;$e++){var br=It[$e];Ie=fe(br),gi.call(le,Ie)?le[Ie].push(br):le[Ie]=[br]}return le}var te=yi;function he(It,$t){if(!$t)return{0:It};if(!m($t)){var le=L($t)?$t:$t.replace(/\s+/g,"").split("*");$t=function(fe){for(var Ie="_",$e=0,br=le.length;$e<br;$e++)Ie+=fe[le[$e]]&&fe[le[$e]].toString();return Ie}}return te(It,$t)}var be=function(It,$t){if(!$t)return[It];var le=he(It,$t),fe=[];for(var Ie in le)fe.push(le[Ie]);return fe};function Se(It,$t){return It["_wrap_"+$t]}var Le=Se;function Ne(It,$t){if(It["_wrap_"+$t])return It["_wrap_"+$t];var le=function(fe){It[$t](fe)};return It["_wrap_"+$t]=le,le}var Fe=Ne,Ve={};function Ae(It){var $t=Ve[It];if(!$t){for(var le=It.toString(16),fe=le.length;fe<6;fe++)le="0"+le;$t="#"+le,Ve[It]=$t}return $t}var rr=Ae;function Qe(It){var $t=0,le=0,fe=0,Ie=0;return L(It)?It.length===1?$t=le=fe=Ie=It[0]:It.length===2?($t=fe=It[0],le=Ie=It[1]):It.length===3?($t=It[0],le=Ie=It[1],fe=It[2]):($t=It[0],le=It[1],fe=It[2],Ie=It[3]):$t=le=fe=Ie=It,{r1:$t,r2:le,r3:fe,r4:Ie}}var Pt=Qe,Ot=function(It,$t,le){return It<$t?$t:It>le?le:It},W=Ot,R=function(It,$t){var le=$t.toString(),fe=le.indexOf(".");if(fe===-1)return Math.round(It);var Ie=le.substr(fe+1).length;return Ie>20&&(Ie=20),parseFloat(It.toFixed(Ie))},F=R,rt=function(It){return y(It,"Number")},kt=rt,Vt=function(It){return kt(It)&&It%1!=0},Gt=Vt,Kt=function(It){return kt(It)&&It%2==0},we=Kt,me=Number.isInteger?Number.isInteger:function(It){return kt(It)&&It%1==0},_e=me,qe=function(It){return kt(It)&&It<0},De=qe,dr=1e-5;function Rr(It,$t,le){return le===void 0&&(le=dr),Math.abs(It-$t)<le}var Oe=function(It){return kt(It)&&It%2!=0},je=Oe,nr=function(It){return kt(It)&&It>0},Je=nr,hr=function(It,$t){if(!!L(It)){for(var le,fe=-Infinity,Ie=0;Ie<It.length;Ie++){var $e=It[Ie],br=m($t)?$t($e):$e[$t];br>fe&&(le=$e,fe=br)}return le}},un=function(It,$t){if(!!L(It)){for(var le,fe=Infinity,Ie=0;Ie<It.length;Ie++){var $e=It[Ie],br=m($t)?$t($e):$e[$t];br<fe&&(le=$e,fe=br)}return le}},Qr=function(It,$t){return(It%$t+$t)%$t},Pr=Qr,Hr=180/Math.PI,wn=function(It){return Hr*It},fn=wn,Er=parseInt,on=Math.PI/180,Dn=function(It){return on*It},Mn=Dn,de=j,Wt=function(It,$t){return It.hasOwnProperty($t)},ve=Wt,Ee=Object.values?function(It){return Object.values(It)}:function(It){var $t=[];return j(It,function(le,fe){m(It)&&fe==="prototype"||$t.push(le)}),$t},Ge=Ee,tr=function(It,$t){return _(Ge(It),$t)},vr=function(It){return M(It)?"":It.toString()},cr=function(It){return vr(It).toLowerCase()},Gr=cr,rn=function(It){var $t=vr(It);return $t.charAt(0).toLowerCase()+$t.substring(1)},Vn=rn;function Ut(It,$t){return!It||!$t?It:It.replace(/\\?\{([^{}]+)\}/g,function(le,fe){return le.charAt(0)==="\\"?le.slice(1):$t[fe]===void 0?"":$t[fe]})}var ie=Ut,se=function(It){return vr(It).toUpperCase()},Ce=se,Te=function(It){var $t=vr(It);return $t.charAt(0).toUpperCase()+$t.substring(1)},ke=Te,ir={}.toString,or=function(It){return ir.call(It).replace(/^\[object /,"").replace(/]$/,"")},Or=or,Cr=function(It){return y(It,"Arguments")},Ar=Cr,hn=function(It){return y(It,"Boolean")},sn=hn,Jr=function(It){return y(It,"Date")},ln=Jr,Fn=function(It){return y(It,"Error")},kn=Fn;function Jn(It){return kt(It)&&isFinite(It)}var Rn=function(It){return It===null},Ai=Rn,ti=Object.prototype,Sr=function(It){var $t=It&&It.constructor,le=typeof $t=="function"&&$t.prototype||ti;return It===le},ii=Sr,ea=function(It){return y(It,"RegExp")},yn=ea,Ti=function(It){return It===void 0},_i=Ti,ai=function(It){return It instanceof Element||It instanceof HTMLDocument},Oi=ai;function ca(It){var $t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(le){return setTimeout(le,16)};return $t(It)}function zi(It){var $t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;$t(It)}function mi(It,$t){for(var le in $t)$t.hasOwnProperty(le)&&le!=="constructor"&&$t[le]!==void 0&&(It[le]=$t[le])}function xi(It,$t,le,fe){return $t&&mi(It,$t),le&&mi(It,le),fe&&mi(It,fe),It}var In=function(){for(var It=[],$t=0;$t<arguments.length;$t++)It[$t]=arguments[$t];for(var le=It[0],fe=1;fe<It.length;fe++){var Ie=It[fe];m(Ie)&&(Ie=Ie.prototype),xi(le.prototype,Ie)}},Ki=In,Li=function(It){if(typeof It!="object"||It===null)return It;var $t;if(L(It)){$t=[];for(var le=0,fe=It.length;le<fe;le++)typeof It[le]=="object"&&It[le]!=null?$t[le]=Li(It[le]):$t[le]=It[le]}else{$t={};for(var Ie in It)typeof It[Ie]=="object"&&It[Ie]!=null?$t[Ie]=Li(It[Ie]):$t[Ie]=It[Ie]}return $t},Ii=Li;function oi(It,$t,le){var fe;return function(){var Ie=this,$e=arguments,br=function(){fe=null,le||It.apply(Ie,$e)},Lr=le&&!fe;clearTimeout(fe),fe=setTimeout(br,$t),Lr&&It.apply(Ie,$e)}}var ra=oi,na=function(It,$t){if(!m(It))throw new TypeError("Expected a function");var le=function(){for(var fe=[],Ie=0;Ie<arguments.length;Ie++)fe[Ie]=arguments[Ie];var $e=$t?$t.apply(this,fe):fe[0],br=le.cache;if(br.has($e))return br.get($e);var Lr=It.apply(this,fe);return br.set($e,Lr),Lr};return le.cache=new Map,le},Da=5;function va(It,$t,le,fe){le=le||0,fe=fe||Da;for(var Ie in $t)if($t.hasOwnProperty(Ie)){var $e=$t[Ie];$e!==null&&Yt($e)?(Yt(It[Ie])||(It[Ie]={}),le<fe?va(It[Ie],$e,le+1,fe):It[Ie]=$t[Ie]):L($e)?(It[Ie]=[],It[Ie]=It[Ie].concat($e)):$e!==void 0&&(It[Ie]=$e)}}var wa=function(It){for(var $t=[],le=1;le<arguments.length;le++)$t[le-1]=arguments[le];for(var fe=0;fe<$t.length;fe+=1)va(It,$t[fe]);return It},Sa=wa,qn=function(It,$t,le,fe){m($t)||(le=$t,$t=It,It=function(){});var Ie=Object.create?function(br,Lr){return Object.create(br,{constructor:{value:Lr}})}:function(br,Lr){function Tr(){}Tr.prototype=br;var gr=new Tr;return gr.constructor=Lr,gr},$e=Ie($t.prototype,It);return It.prototype=xi($e,It.prototype),It.superclass=Ie($t.prototype,$t),xi($e,le),xi(It,fe),It},Ma=qn,da=function(It,$t){if(!O(It))return-1;var le=Array.prototype.indexOf;if(le)return le.call(It,$t);for(var fe=-1,Ie=0;Ie<It.length;Ie++)if(It[Ie]===$t){fe=Ie;break}return fe},$i=da,Xi=Object.prototype.hasOwnProperty;function zr(It){if(M(It))return!0;if(O(It))return!It.length;var $t=Or(It);if($t==="Map"||$t==="Set")return!It.size;if(ii(It))return!Object.keys(It).length;for(var le in It)if(Xi.call(It,le))return!1;return!0}var ui=zr,Nn=function(It,$t){if(It===$t)return!0;if(!It||!$t||Rt(It)||Rt($t))return!1;if(O(It)||O($t)){if(It.length!==$t.length)return!1;for(var le=!0,fe=0;fe<It.length&&(le=Nn(It[fe],$t[fe]),!!le);fe++);return le}if(At(It)||At($t)){var Ie=Object.keys(It),$e=Object.keys($t);if(Ie.length!==$e.length)return!1;for(var le=!0,fe=0;fe<Ie.length&&(le=Nn(It[Ie[fe]],$t[Ie[fe]]),!!le);fe++);return le}return!1},cn=Nn,Vi=function(It,$t,le){return m(le)?!!le(It,$t):cn(It,$t)},vn=function(It,$t){if(!O(It))return It;for(var le=[],fe=0;fe<It.length;fe++){var Ie=It[fe];le.push($t(Ie,fe))}return le},Hi=vn,Qt=function(It){return It},wt=function(It,$t){$t===void 0&&($t=Qt);var le={};return B(It)&&!M(It)&&Object.keys(It).forEach(function(fe){le[fe]=$t(It[fe],fe)}),le},z=function(It,$t,le){for(var fe=0,Ie=Rt($t)?$t.split("."):$t;It&&fe<Ie.length;)It=It[Ie[fe++]];return It===void 0||fe<Ie.length?le:It},nt=function(It,$t,le){var fe=It,Ie=Rt($t)?$t.split("."):$t;return Ie.forEach(function($e,br){br<Ie.length-1?(B(fe[$e])||(fe[$e]=kt(Ie[br+1])?[]:{}),fe=fe[$e]):fe[$e]=le}),It},vt=Object.prototype.hasOwnProperty,Lt=function(It,$t){if(It===null||!Yt(It))return{};var le={};return j($t,function(fe){vt.call(It,fe)&&(le[fe]=It[fe])}),le},Ht=function(It,$t){return ft(It,function(le,fe,Ie){return $t.includes(Ie)||(le[Ie]=fe),le},{})},qt=function(It,$t,le){var fe,Ie,$e,br,Lr=0;le||(le={});var Tr=function(){Lr=le.leading===!1?0:Date.now(),fe=null,br=It.apply(Ie,$e),fe||(Ie=$e=null)},gr=function(){var Ur=Date.now();!Lr&&le.leading===!1&&(Lr=Ur);var Yn=$t-(Ur-Lr);return Ie=this,$e=arguments,Yn<=0||Yn>$t?(fe&&(clearTimeout(fe),fe=null),Lr=Ur,br=It.apply(Ie,$e),fe||(Ie=$e=null)):!fe&&le.trailing!==!1&&(fe=setTimeout(Tr,Yn)),br};return gr.cancel=function(){clearTimeout(fe),Lr=0,fe=Ie=$e=null},gr},ge=function(It){return O(It)?Array.prototype.slice.call(It):[]},q={},Q=function(It){return It=It||"g",q[It]?q[It]+=1:q[It]=1,It+q[It]},$=function(){},ot=function(It){return It};function _t(It){return M(It)?0:O(It)?It.length:Object.keys(It).length}var Xt=d(65353),ae,oe=na(function(It,$t){$t===void 0&&($t={});var le=$t.fontSize,fe=$t.fontFamily,Ie=$t.fontWeight,$e=$t.fontStyle,br=$t.fontVariant;return ae||(ae=document.createElement("canvas").getContext("2d")),ae.font=[$e,br,Ie,le+"px",fe].join(" "),ae.measureText(Rt(It)?It:"").width},function(It,$t){return $t===void 0&&($t={}),(0,Xt.__spreadArrays)([It],Ge($t)).join("")}),ye=function(It,$t,le,fe){fe===void 0&&(fe="...");var Ie=16,$e=oe(fe,le),br=Rt(It)?It:vr(It),Lr=$t,Tr=[],gr,Ur;if(oe(It,le)<=$t)return It;for(;gr=br.substr(0,Ie),Ur=oe(gr,le),!(Ur+$e>Lr&&Ur>Lr);)if(Tr.push(gr),Lr-=Ur,br=br.substr(Ie),!br)return Tr.join("");for(;gr=br.substr(0,1),Ur=oe(gr,le),!(Ur+$e>Lr);)if(Tr.push(gr),Lr-=Ur,br=br.substr(1),!br)return Tr.join("");return""+Tr.join("")+fe},ze=function(){function It(){this.map={}}return It.prototype.has=function($t){return this.map[$t]!==void 0},It.prototype.get=function($t,le){var fe=this.map[$t];return fe===void 0?le:fe},It.prototype.set=function($t,le){this.map[$t]=le},It.prototype.clear=function(){this.map={}},It.prototype.delete=function($t){delete this.map[$t]},It.prototype.size=function(){return Object.keys(this.map).length},It}(),We=ze},99581:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66974),O=d(46812),I=function(){for(var _=[],T=0;T<arguments.length;T++)_[T]=arguments[T];for(var A=_[0],C=1;C<_.length;C++){var E=_[C];O.default(E)&&(E=E.prototype),b.default(A.prototype,E)}};S.default=I},68039:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function b(){this.map={}}return b.prototype.has=function(O){return this.map[O]!==void 0},b.prototype.get=function(O,I){var _=this.map[O];return _===void 0?I:_},b.prototype.set=function(O,I){this.map[O]=I},b.prototype.clear=function(){this.map={}},b.prototype.delete=function(O){delete this.map[O]},b.prototype.size=function(){return Object.keys(this.map).length},b}();S.default=d},37339:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(b,O,I){return b<O?O:b>I?I:b};S.default=d},35755:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(b){var O=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;O(b)}S.default=d},8289:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),O=function(I){if(typeof I!="object"||I===null)return I;var _;if(b.default(I)){_=[];for(var T=0,A=I.length;T<A;T++)typeof I[T]=="object"&&I[T]!=null?_[T]=O(I[T]):_[T]=I[T]}else{_={};for(var C in I)typeof I[C]=="object"&&I[C]!=null?_[C]=O(I[C]):_[C]=I[C]}return _};S.default=O},75349:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(48102),O=function(I,_){return b.default(I)?I.indexOf(_)>-1:!1};S.default=O},79663:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(b,O,I){var _;return function(){var T=this,A=arguments,C=function(){_=null,I||b.apply(T,A)},E=I&&!_;clearTimeout(_),_=setTimeout(C,O),E&&b.apply(T,A)}}S.default=d},90497:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),O=d(15907),I=5;function _(A,C,E,p){E=E||0,p=p||I;for(var w in C)if(C.hasOwnProperty(w)){var y=C[w];y!==null&&O.default(y)?(O.default(A[w])||(A[w]={}),E<p?_(A[w],y,E+1,p):A[w]=C[w]):b.default(y)?(A[w]=[],A[w]=A[w].concat(y)):y!==void 0&&(A[w]=y)}}var T=function(A){for(var C=[],E=1;E<arguments.length;E++)C[E-1]=arguments[E];for(var p=0;p<C.length;p+=1)_(A,C[p]);return A};S.default=T},25430:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(40007),O=d(75349),I=function(_,T){return T===void 0&&(T=[]),b.default(_,function(A){return!O.default(T,A)})};S.default=I},27154:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),O=d(33643);function I(_,T){if(!!_){var A;if(b.default(_))for(var C=0,E=_.length;C<E&&(A=T(_[C],C),A!==!1);C++);else if(O.default(_)){for(var p in _)if(_.hasOwnProperty(p)&&(A=T(_[p],p),A===!1))break}}}S.default=I},61846:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),O=d(21830);function I(_,T){return b.default(_)||O.default(_)?_[_.length-1]===T:!1}S.default=I},8153:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(b,O){for(var I=0;I<b.length;I++)if(!O(b[I],I))return!1;return!0};S.default=d},13829:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66974),O=d(46812),I=function(_,T,A,C){O.default(T)||(A=T,T=_,_=function(){});var E=Object.create?function(w,y){return Object.create(w,{constructor:{value:y}})}:function(w,y){function m(){}m.prototype=w;var g=new m;return g.constructor=y,g},p=E(T.prototype,_);return _.prototype=b.default(p,_.prototype),_.superclass=E(T.prototype,T),b.default(p,A),b.default(_,C),_};S.default=I},40007:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(48102),O=function(I,_){if(!b.default(I))return I;for(var T=[],A=0;A<I.length;A++){var C=I[A];_(C,A)&&T.push(C)}return T};S.default=O},90871:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(b,O,I){I===void 0&&(I=0);for(var _=I;_<b.length;_++)if(O(b[_],_))return _;return-1}S.default=d},32114:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(46812),O=d(20253),I=d(66631),_=d(15907);function T(A,C){if(!I.default(A))return null;var E;if(b.default(C)&&(E=C),_.default(C)&&(E=function(w){return O.default(w,C)}),E){for(var p=0;p<A.length;p+=1)if(E(A[p]))return A[p]}return null}S.default=T},84521:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(73890),O=d(66631),I=function(_,T){for(var A=null,C=0;C<_.length;C++){var E=_[C],p=E[T];if(!b.default(p)){O.default(p)?A=p[0]:A=p;break}}return A};S.default=I},14266:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(b,O){var I=O.toString(),_=I.indexOf(".");if(_===-1)return Math.round(b);var T=I.substr(_+1).length;return T>20&&(T=20),parseFloat(b.toFixed(T))};S.default=d},61917:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),O=function(I,_){if(_===void 0&&(_=[]),!b.default(I))_.push(I);else for(var T=0;T<I.length;T+=1)O(I[T],_);return _};S.default=O},30267:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),O=function(I){if(!b.default(I))return[];for(var _=[],T=0;T<I.length;T++)_=_.concat(I[T]);return _};S.default=O},8361:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(27154);S.default=b.default},65616:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(21830),O=d(78127),I=d(13754);S.default=function(_,T,A,C){C===void 0&&(C="...");var E=16,p=I.default(C,A),w=b.default(_)?_:O.default(_),y=T,m=[],g,M;if(I.default(_,A)<=T)return _;for(;g=w.substr(0,E),M=I.default(g,A),!(M+p>y&&M>y);)if(m.push(g),y-=M,w=w.substr(E),!w)return m.join("");for(;g=w.substr(0,1),M=I.default(g,A),!(M+p>y);)if(m.push(g),y-=M,w=w.substr(1),!w)return m.join("");return""+m.join("")+C}},83236:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),O=d(14705),I=d(45356),_=function(T){var A=T.filter(function(y){return!isNaN(y)});if(!A.length)return{min:0,max:0};if(b.default(T[0])){for(var C=[],E=0;E<T.length;E++)C=C.concat(T[E]);A=C}var p=O.default(A),w=I.default(A);return{min:w,max:p}};S.default=_},89175:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={}.toString,b=function(O){return d.call(O).replace(/^\[object /,"").replace(/]$/,"")};S.default=b},71668:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(b,O){return b["_wrap_"+O]}S.default=d},58070:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(21830);S.default=function(O,I,_){for(var T=0,A=b.default(I)?I.split("."):I;O&&T<A.length;)O=O[A[T++]];return O===void 0||T<A.length?_:O}},54544:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),O=d(46812),I=Object.prototype.hasOwnProperty;function _(T,A){if(!A||!b.default(T))return{};for(var C={},E=O.default(A)?A:function(m){return m[A]},p,w=0;w<T.length;w++){var y=T[w];p=E(y),I.call(C,p)?C[p].push(y):C[p]=[y]}return C}S.default=_},64725:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),O=d(46812),I=d(54544);function _(T,A){if(!A)return{0:T};if(!O.default(A)){var C=b.default(A)?A:A.replace(/\s+/g,"").split("*");A=function(E){for(var p="_",w=0,y=C.length;w<y;w++)p+=E[C[w]]&&E[C[w]].toString();return p}}return I.default(T,A)}S.default=_},93597:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(64725);S.default=function(O,I){if(!I)return[O];var _=b.default(O,I),T=[];for(var A in _)T.push(_[A]);return T}},97507:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(57921);S.default=b.default},99969:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(75349),O=d(91161);S.default=function(I,_){return b.default(O.default(I),_)}},57921:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d,b){return d.hasOwnProperty(b)}},41169:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(48102);function O(I){if(b.default(I))return I[0]}S.default=O},80870:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d){return d}},40035:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(48102),O=function(I,_){if(!b.default(I))return-1;var T=Array.prototype.indexOf;if(T)return T.call(I,_);for(var A=-1,C=0;C<I.length;C++)if(I[C]===_){A=C;break}return A};S.default=O},50229:function(dt,S,d){"use strict";var b;b={value:!0};var O=d(75349);b={enumerable:!0,get:function(){return O.default}},b={enumerable:!0,get:function(){return O.default}};var I=d(25430);b={enumerable:!0,get:function(){return I.default}};var _=d(32114);b={enumerable:!0,get:function(){return _.default}};var T=d(90871);b={enumerable:!0,get:function(){return T.default}};var A=d(84521);b={enumerable:!0,get:function(){return A.default}};var C=d(30267);b={enumerable:!0,get:function(){return C.default}};var E=d(61917);b={enumerable:!0,get:function(){return E.default}};var p=d(83236);b={enumerable:!0,get:function(){return p.default}};var w=d(5220);b={enumerable:!0,get:function(){return w.default}};var y=d(50779);b={enumerable:!0,get:function(){return y.default}};var m=d(13847);b={enumerable:!0,get:function(){return m.default}};var g=d(89757);b={enumerable:!0,get:function(){return g.default}};var M=d(27599);b={enumerable:!0,get:function(){return M.default}};var L=d(58632);b={enumerable:!0,get:function(){return L.default}};var B=d(12619);b={enumerable:!0,get:function(){return B.default}};var N=d(29208);b={enumerable:!0,get:function(){return N.default}};var j=d(41169);b={enumerable:!0,get:function(){return j.default}};var tt=d(95145);b={enumerable:!0,get:function(){return tt.default}};var H=d(680);b={enumerable:!0,get:function(){return H.default}};var J=d(61846);b={enumerable:!0,get:function(){return J.default}};var ct=d(40007);b={enumerable:!0,get:function(){return ct.default}};var ut=d(8153);b={enumerable:!0,get:function(){return ut.default}};var At=d(58175);b={enumerable:!0,get:function(){return At.default}};var St=d(93597);b={enumerable:!0,get:function(){return St.default}};var Yt=d(54544);b={enumerable:!0,get:function(){return Yt.default}};var Tt=d(64725);b={enumerable:!0,get:function(){return Tt.default}};var Dt=d(71668);b={enumerable:!0,get:function(){return Dt.default}};var Bt=d(61262);Object.defineProperty(S,"Ko",{enumerable:!0,get:function(){return Bt.default}});var Et=d(45145);b={enumerable:!0,get:function(){return Et.default}};var zt=d(85418);b={enumerable:!0,get:function(){return zt.default}};var jt=d(37339);b={enumerable:!0,get:function(){return jt.default}};var Mt=d(14266);b={enumerable:!0,get:function(){return Mt.default}};var pt=d(51008);b={enumerable:!0,get:function(){return pt.default}};var k=d(45420);b={enumerable:!0,get:function(){return k.default}};var u=d(68221);b={enumerable:!0,get:function(){return u.default}};var G=d(58706);b={enumerable:!0,get:function(){return G.default}};var Y=d(39984);b={enumerable:!0,get:function(){return Y.default}};var V=d(32705);b={enumerable:!0,get:function(){return V.default}};var U=d(75732);b={enumerable:!0,get:function(){return U.default}};var et=d(14705);b={enumerable:!0,get:function(){return et.default}};var ht=d(38935);b={enumerable:!0,get:function(){return ht.default}};var Ft=d(45356);b={enumerable:!0,get:function(){return Ft.default}};var bt=d(89857);b={enumerable:!0,get:function(){return bt.default}};var at=d(5253);b={enumerable:!0,get:function(){return at.default}};var xt=d(2119);b={enumerable:!0,get:function(){return xt.default}};var lt=d(23196);b={enumerable:!0,get:function(){return lt.default}};var it=d(9217);b={enumerable:!0,get:function(){return it.default}};var yt=d(8361);b={enumerable:!0,get:function(){return yt.default}};var ft=d(57921);b={enumerable:!0,get:function(){return ft.default}};var st=d(97507);b={enumerable:!0,get:function(){return st.default}};var Ct=d(99969);b={enumerable:!0,get:function(){return Ct.default}};var Rt=d(85050);b={enumerable:!0,get:function(){return Rt.default}};var re=d(20253);b={enumerable:!0,get:function(){return re.default}};var pe=d(91161);b={enumerable:!0,get:function(){return pe.default}};var Me=d(88362);b={enumerable:!0,get:function(){return Me.default}};var Xe=d(56095);b={enumerable:!0,get:function(){return Xe.default}};var Be=d(35541);b={enumerable:!0,get:function(){return Be.default}};var Re=d(72660);b={enumerable:!0,get:function(){return Re.default}};var Ke=d(85260);b={enumerable:!0,get:function(){return Ke.default}};var ar=d(89175);b={enumerable:!0,get:function(){return ar.default}};var Mr=d(55039);b={enumerable:!0,get:function(){return Mr.default}};var sr=d(66631);b={enumerable:!0,get:function(){return sr.default}};var Xr=d(48102);b={enumerable:!0,get:function(){return Xr.default}};var pn=d(25873);b={enumerable:!0,get:function(){return pn.default}};var jr=d(79396);b={enumerable:!0,get:function(){return jr.default}};var en=d(14230);b={enumerable:!0,get:function(){return en.default}};var Xn=d(46812);b={enumerable:!0,get:function(){return Xn.default}};var ni=d(73420);b={enumerable:!0,get:function(){return ni.default}};var gi=d(73890);b={enumerable:!0,get:function(){return gi.default}};var yi=d(85497);b={enumerable:!0,get:function(){return yi.default}};var te=d(16185);b={enumerable:!0,get:function(){return te.default}};var he=d(33643);b={enumerable:!0,get:function(){return he.default}};var be=d(70441);b={enumerable:!0,get:function(){return be.default}};var Se=d(15907);b={enumerable:!0,get:function(){return Se.default}};var Le=d(26296);b={enumerable:!0,get:function(){return Le.default}};var Ne=d(7877);b={enumerable:!0,get:function(){return Ne.default}};var Fe=d(21830);Object.defineProperty(S,"HD",{enumerable:!0,get:function(){return Fe.default}});var Ve=d(44235);b={enumerable:!0,get:function(){return Ve.default}};var Ae=d(25523);b={enumerable:!0,get:function(){return Ae.default}};var rr=d(58417);b={enumerable:!0,get:function(){return rr.default}};var Qe=d(98229);b={enumerable:!0,get:function(){return Qe.default}};var Pt=d(35755);b={enumerable:!0,get:function(){return Pt.default}};var Ot=d(99581);b={enumerable:!0,get:function(){return Ot.default}};var W=d(8289);Object.defineProperty(S,"d9",{enumerable:!0,get:function(){return W.default}});var R=d(79663);b={enumerable:!0,get:function(){return R.default}};var F=d(99834);b={enumerable:!0,get:function(){return F.default}};var rt=d(90497);Object.defineProperty(S,"b$",{enumerable:!0,get:function(){return rt.default}});var kt=d(27154);Object.defineProperty(S,"S6",{enumerable:!0,get:function(){return kt.default}});var Vt=d(13829);b={enumerable:!0,get:function(){return Vt.default}};var Gt=d(40035);b={enumerable:!0,get:function(){return Gt.default}};var Kt=d(64029);b={enumerable:!0,get:function(){return Kt.default}};var we=d(212);b={enumerable:!0,get:function(){return we.default}};var me=d(18112);b={enumerable:!0,get:function(){return me.default}};var _e=d(92693);b={enumerable:!0,get:function(){return _e.default}};var qe=d(53497);b={enumerable:!0,get:function(){return qe.default}};var De=d(66974);b={enumerable:!0,get:function(){return De.default}},b={enumerable:!0,get:function(){return De.default}};var dr=d(58070);b={enumerable:!0,get:function(){return dr.default}};var Rr=d(64119);b={enumerable:!0,get:function(){return Rr.default}};var Oe=d(24263);b={enumerable:!0,get:function(){return Oe.default}};var je=d(14179);b={enumerable:!0,get:function(){return je.default}};var nr=d(60979);b={enumerable:!0,get:function(){return nr.default}};var Je=d(66668);b={enumerable:!0,get:function(){return Je.default}};var hr=d(78127);b={enumerable:!0,get:function(){return hr.default}};var un=d(67250);b={enumerable:!0,get:function(){return un.default}};var Qr=d(26851);b={enumerable:!0,get:function(){return Qr.default}};var Pr=d(80870);b={enumerable:!0,get:function(){return Pr.default}};var Hr=d(30597);b={enumerable:!0,get:function(){return Hr.default}};var wn=d(13754);b={enumerable:!0,get:function(){return wn.default}};var fn=d(65616);b={enumerable:!0,get:function(){return fn.default}};var Er=d(68039);b={enumerable:!0,get:function(){return Er.default}}},55039:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(44235),O=function(I){return b.default(I,"Arguments")};S.default=O},48102:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(b){return b!==null&&typeof b!="function"&&isFinite(b.length)};S.default=d},66631:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(44235);S.default=function(O){return Array.isArray?Array.isArray(O):b.default(O,"Array")}},25873:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(44235),O=function(I){return b.default(I,"Boolean")};S.default=O},79396:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(44235),O=function(I){return b.default(I,"Date")};S.default=O},51008:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(16185),O=function(I){return b.default(I)&&I%1!=0};S.default=O},58417:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(b){return b instanceof Element||b instanceof HTMLDocument};S.default=d},64029:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(73890),O=d(48102),I=d(89175),_=d(26296),T=Object.prototype.hasOwnProperty;function A(C){if(b.default(C))return!0;if(O.default(C))return!C.length;var E=I.default(C);if(E==="Map"||E==="Set")return!C.size;if(_.default(C))return!Object.keys(C).length;for(var p in C)if(T.call(C,p))return!1;return!0}S.default=A},18112:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(46812),O=d(212);S.default=function(I,_,T){return b.default(T)?!!T(I,_):O.default(I,_)}},212:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(70441),O=d(48102),I=d(21830),_=function(T,A){if(T===A)return!0;if(!T||!A||I.default(T)||I.default(A))return!1;if(O.default(T)||O.default(A)){if(T.length!==A.length)return!1;for(var C=!0,E=0;E<T.length&&(C=_(T[E],A[E]),!!C);E++);return C}if(b.default(T)||b.default(A)){var p=Object.keys(T),w=Object.keys(A);if(p.length!==w.length)return!1;for(var C=!0,E=0;E<p.length&&(C=_(T[p[E]],A[p[E]]),!!C);E++);return C}return!1};S.default=_},14230:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(44235),O=function(I){return b.default(I,"Error")};S.default=O},45420:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(16185),O=function(I){return b.default(I)&&I%2==0};S.default=O},73420:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(16185);function O(I){return b.default(I)&&isFinite(I)}S.default=O},46812:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(44235);S.default=function(O){return b.default(O,"Function")}},68221:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(16185),O=Number.isInteger?Number.isInteger:function(I){return b.default(I)&&I%1==0};S.default=O},20253:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(73890),O=d(85050);function I(_,T){var A=O.default(T),C=A.length;if(b.default(_))return!C;for(var E=0;E<C;E+=1){var p=A[E];if(T[p]!==_[p]||!(p in _))return!1}return!0}S.default=I},58706:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(16185),O=function(I){return b.default(I)&&I<0};S.default=O},73890:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(b){return b==null};S.default=d},85497:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(b){return b===null};S.default=d},39984:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-5;function b(O,I,_){return _===void 0&&(_=d),Math.abs(O-I)<_}S.default=b},16185:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(44235),O=function(I){return b.default(I,"Number")};S.default=O},70441:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(b){return typeof b=="object"&&b!==null};S.default=d},33643:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d){var b=typeof d;return d!==null&&b==="object"||b==="function"}},32705:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(16185),O=function(I){return b.default(I)&&I%2!=0};S.default=O},15907:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(70441),O=d(44235),I=function(_){if(!b.default(_)||!O.default(_,"Object"))return!1;if(Object.getPrototypeOf(_)===null)return!0;for(var T=_;Object.getPrototypeOf(T)!==null;)T=Object.getPrototypeOf(T);return Object.getPrototypeOf(_)===T};S.default=I},75732:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(16185),O=function(I){return b.default(I)&&I>0};S.default=O},26296:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Object.prototype,b=function(O){var I=O&&O.constructor,_=typeof I=="function"&&I.prototype||d;return O===_};S.default=b},7877:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(44235),O=function(I){return b.default(I,"RegExp")};S.default=O},21830:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(44235);S.default=function(O){return b.default(O,"String")}},44235:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={}.toString,b=function(O,I){return d.call(O)==="[object "+I+"]"};S.default=b},25523:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(b){return b===void 0};S.default=d},85050:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(27154),O=d(46812),I=Object.keys?function(_){return Object.keys(_)}:function(_){var T=[];return b.default(_,function(A,C){O.default(_)&&C==="prototype"||T.push(C)}),T};S.default=I},95145:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(48102);function O(I){if(b.default(I)){var _=I;return _[_.length-1]}}S.default=O},88362:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(78127),O=function(I){return b.default(I).toLowerCase()};S.default=O},56095:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(78127),O=function(I){var _=b.default(I);return _.charAt(0).toLowerCase()+_.substring(1)};S.default=O},53497:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(73890),O=d(33643),I=function(_){return _};S.default=function(_,T){T===void 0&&(T=I);var A={};return O.default(_)&&!b.default(_)&&Object.keys(_).forEach(function(C){A[C]=T(_[C],C)}),A}},92693:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(48102),O=function(I,_){if(!b.default(I))return I;for(var T=[],A=0;A<I.length;A++){var C=I[A];T.push(_(C,A))}return T};S.default=O},38935:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),O=d(46812);S.default=function(I,_){if(!!b.default(I)){for(var T,A=-Infinity,C=0;C<I.length;C++){var E=I[C],p=O.default(_)?_(E):E[_];p>A&&(T=E,A=p)}return T}}},14705:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631);S.default=function(O){if(!!b.default(O))return O.reduce(function(I,_){return Math.max(I,_)},O[0])}},13754:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(65353),O=d(91161),I=d(99834),_=d(21830),T;S.default=I.default(function(A,C){C===void 0&&(C={});var E=C.fontSize,p=C.fontFamily,w=C.fontWeight,y=C.fontStyle,m=C.fontVariant;return T||(T=document.createElement("canvas").getContext("2d")),T.font=[y,m,w,E+"px",p].join(" "),T.measureText(_.default(A)?A:"").width},function(A,C){return C===void 0&&(C={}),b.__spreadArrays([A],O.default(C)).join("")})},99834:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(46812);S.default=function(O,I){if(!b.default(O))throw new TypeError("Expected a function");var _=function(){for(var T=[],A=0;A<arguments.length;A++)T[A]=arguments[A];var C=I?I.apply(this,T):T[0],E=_.cache;if(E.has(C))return E.get(C);var p=O.apply(this,T);return E.set(C,p),p};return _.cache=new Map,_}},89857:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),O=d(46812);S.default=function(I,_){if(!!b.default(I)){for(var T,A=Infinity,C=0;C<I.length;C++){var E=I[C],p=O.default(_)?_(E):E[_];p<A&&(T=E,A=p)}return T}}},45356:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631);S.default=function(O){if(!!b.default(O))return O.reduce(function(I,_){return Math.min(I,_)},O[0])}},66974:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(O,I){for(var _ in I)I.hasOwnProperty(_)&&_!=="constructor"&&I[_]!==void 0&&(O[_]=I[_])}function b(O,I,_,T){return I&&d(O,I),_&&d(O,_),T&&d(O,T),O}S.default=b},5253:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(b,O){return(b%O+O)%O};S.default=d},26851:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(){}},45145:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={};function b(O){var I=d[O];if(!I){for(var _=O.toString(16),T=_.length;T<6;T++)_="0"+_;I="#"+_,d[O]=I}return I}S.default=b},14179:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(13847);S.default=function(O,I){return b.default(O,function(_,T,A){return I.includes(A)||(_[A]=T),_},{})}},85418:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631);function O(I){var _=0,T=0,A=0,C=0;return b.default(I)?I.length===1?_=T=A=C=I[0]:I.length===2?(_=A=I[0],T=C=I[1]):I.length===3?(_=I[0],T=C=I[1],A=I[2]):(_=I[0],T=I[1],A=I[2],C=I[3]):_=T=A=C=I,{r1:_,r2:T,r3:A,r4:C}}S.default=O},24263:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(27154),O=d(15907),I=Object.prototype.hasOwnProperty;S.default=function(_,T){if(_===null||!O.default(_))return{};var A={};return b.default(T,function(C){I.call(_,C)&&(A[C]=_[C])}),A}},50779:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(48102),O=Array.prototype.splice,I=function(T,A){if(!b.default(T))return[];for(var C=T?A.length:0,E=C-1;C--;){var p=void 0,w=A[C];(C===E||w!==p)&&(p=w,O.call(T,w,1))}return T};S.default=I},5220:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Array.prototype,b=d.splice,O=d.indexOf,I=function(_){for(var T=[],A=1;A<arguments.length;A++)T[A-1]=arguments[A];for(var C=0;C<T.length;C++)for(var E=T[C],p=-1;(p=O.call(_,E))>-1;)b.call(_,p,1);return _};S.default=I},13847:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(27154),O=d(66631),I=d(15907),_=function(T,A,C){if(!O.default(T)&&!I.default(T))return T;var E=C;return b.default(T,function(p,w){E=A(E,p,w)}),E};S.default=_},89757:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(48102),O=d(50779),I=function(_,T){var A=[];if(!b.default(_))return A;for(var C=-1,E=[],p=_.length;++C<p;){var w=_[C];T(w,C,_)&&(A.push(w),E.push(C))}return O.default(_,E),A};S.default=I},98229:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(b){var O=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(I){return setTimeout(I,16)};return O(b)}S.default=d},64119:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(33643),O=d(21830),I=d(16185);S.default=function(_,T,A){var C=_,E=O.default(T)?T.split("."):T;return E.forEach(function(p,w){w<E.length-1?(b.default(C[p])||(C[p]=I.default(E[w+1])?[]:{}),C=C[p]):C[p]=A}),_}},30597:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(73890),O=d(48102);function I(_){return b.default(_)?0:O.default(_)?_.length:Object.keys(_).length}S.default=I},58175:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(b,O){for(var I=0;I<b.length;I++)if(O(b[I],I))return!0;return!1};S.default=d},27599:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),O=d(21830),I=d(46812);function _(T,A){var C;if(I.default(A))C=function(p,w){return A(p)-A(w)};else{var E=[];O.default(A)?E.push(A):b.default(A)&&(E=A),C=function(p,w){for(var y=0;y<E.length;y+=1){var m=E[y];if(p[m]>w[m])return 1;if(p[m]<w[m])return-1}return 0}}return T.sort(C),T}S.default=_},680:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),O=d(21830);function I(_,T){return b.default(_)||O.default(_)?_[0]===T:!1}S.default=I},35541:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(b,O){return!b||!O?b:b.replace(/\\?\{([^{}]+)\}/g,function(I,_){return I.charAt(0)==="\\"?I.slice(1):O[_]===void 0?"":O[_]})}S.default=d},60979:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d,b,O){var I,_,T,A,C=0;O||(O={});var E=function(){C=O.leading===!1?0:Date.now(),I=null,A=d.apply(_,T),I||(_=T=null)},p=function(){var w=Date.now();!C&&O.leading===!1&&(C=w);var y=b-(w-C);return _=this,T=arguments,y<=0||y>b?(I&&(clearTimeout(I),I=null),C=w,A=d.apply(_,T),I||(_=T=null)):!I&&O.trailing!==!1&&(I=setTimeout(E,y)),A};return p.cancel=function(){clearTimeout(I),C=0,I=_=T=null},p}},66668:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(48102);S.default=function(O){return b.default(O)?Array.prototype.slice.call(O):[]}},2119:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=180/Math.PI,b=function(O){return d*O};S.default=b},23196:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=parseInt},9217:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Math.PI/180,b=function(O){return d*O};S.default=b},78127:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(73890);S.default=function(O){return b.default(O)?"":O.toString()}},58632:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(12619),O=function(){for(var I=[],_=0;_<arguments.length;_++)I[_]=arguments[_];return b.default([].concat.apply([],I))};S.default=O},12619:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(b,O){O===void 0&&(O=new Map);var I=[];if(Array.isArray(b))for(var _=0,T=b.length;_<T;_++){var A=b[_];O.has(A)||(I.push(A),O.set(A,!0))}return I}S.default=d},67250:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={};S.default=function(b){return b=b||"g",d[b]?d[b]+=1:d[b]=1,b+d[b]}},72660:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(78127),O=function(I){return b.default(I).toUpperCase()};S.default=O},85260:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(78127),O=function(I){var _=b.default(I);return _.charAt(0).toUpperCase()+_.substring(1)};S.default=O},29208:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(66631),O=d(73890);S.default=function(I,_){for(var T=[],A={},C=0;C<I.length;C++){var E=I[C],p=E[_];if(!O.default(p)){b.default(p)||(p=[p]);for(var w=0;w<p.length;w++){var y=p[w];A[y]||(T.push(y),A[y]=!0)}}}return T}},91161:function(dt,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var b=d(27154),O=d(46812),I=Object.values?function(_){return Object.values(_)}:function(_){var T=[];return b.default(_,function(A,C){O.default(_)&&C==="prototype"||T.push(A)}),T};S.default=I},61262:function(dt,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(b,O){if(b["_wrap_"+O])return b["_wrap_"+O];var I=function(_){b[O](_)};return b["_wrap_"+O]=I,I}S.default=d},263:function(dt){function S(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}dt.exports=S,dt.exports.__esModule=!0,dt.exports.default=dt.exports},46507:function(dt){function S(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}dt.exports=S,dt.exports.__esModule=!0,dt.exports.default=dt.exports},21364:function(dt){function S(b,O){for(var I=0;I<O.length;I++){var _=O[I];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,_.key,_)}}function d(b,O,I){return O&&S(b.prototype,O),I&&S(b,I),Object.defineProperty(b,"prototype",{writable:!1}),b}dt.exports=d,dt.exports.__esModule=!0,dt.exports.default=dt.exports},25102:function(dt,S,d){var b=d(74752),O=d(63213),I=d(26416);function _(T){var A=O();return function(){var E=b(T),p;if(A){var w=b(this).constructor;p=Reflect.construct(E,arguments,w)}else p=E.apply(this,arguments);return I(this,p)}}dt.exports=_,dt.exports.__esModule=!0,dt.exports.default=dt.exports},74752:function(dt){function S(d){return dt.exports=S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},dt.exports.__esModule=!0,dt.exports.default=dt.exports,S(d)}dt.exports=S,dt.exports.__esModule=!0,dt.exports.default=dt.exports},79764:function(dt,S,d){var b=d(31748);function O(I,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(_&&_.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),_&&b(I,_)}dt.exports=O,dt.exports.__esModule=!0,dt.exports.default=dt.exports},63213:function(dt){function S(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(d){return!1}}dt.exports=S,dt.exports.__esModule=!0,dt.exports.default=dt.exports},26416:function(dt,S,d){var b=d(74770).default,O=d(263);function I(_,T){if(T&&(b(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(_)}dt.exports=I,dt.exports.__esModule=!0,dt.exports.default=dt.exports},31748:function(dt){function S(d,b){return dt.exports=S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,_){return I.__proto__=_,I},dt.exports.__esModule=!0,dt.exports.default=dt.exports,S(d,b)}dt.exports=S,dt.exports.__esModule=!0,dt.exports.default=dt.exports},74770:function(dt){function S(d){return dt.exports=S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},dt.exports.__esModule=!0,dt.exports.default=dt.exports,S(d)}dt.exports=S,dt.exports.__esModule=!0,dt.exports.default=dt.exports},62117:function(dt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return O},__assign:function(){return I},__rest:function(){return _},__decorate:function(){return T},__param:function(){return A},__metadata:function(){return C},__awaiter:function(){return E},__generator:function(){return p},__createBinding:function(){return w},__exportStar:function(){return y},__values:function(){return m},__read:function(){return g},__spread:function(){return M},__spreadArrays:function(){return L},__await:function(){return B},__asyncGenerator:function(){return N},__asyncDelegator:function(){return j},__asyncValues:function(){return tt},__makeTemplateObject:function(){return H},__importStar:function(){return J},__importDefault:function(){return ct},__classPrivateFieldGet:function(){return ut},__classPrivateFieldSet:function(){return At}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var b=function(Yt,Tt){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Dt,Bt){Dt.__proto__=Bt}||function(Dt,Bt){for(var Et in Bt)Bt.hasOwnProperty(Et)&&(Dt[Et]=Bt[Et])},b(Yt,Tt)};function O(St,Yt){b(St,Yt);function Tt(){this.constructor=St}St.prototype=Yt===null?Object.create(Yt):(Tt.prototype=Yt.prototype,new Tt)}var I=function(){return I=Object.assign||function(Tt){for(var Dt,Bt=1,Et=arguments.length;Bt<Et;Bt++){Dt=arguments[Bt];for(var zt in Dt)Object.prototype.hasOwnProperty.call(Dt,zt)&&(Tt[zt]=Dt[zt])}return Tt},I.apply(this,arguments)};function _(St,Yt){var Tt={};for(var Dt in St)Object.prototype.hasOwnProperty.call(St,Dt)&&Yt.indexOf(Dt)<0&&(Tt[Dt]=St[Dt]);if(St!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Bt=0,Dt=Object.getOwnPropertySymbols(St);Bt<Dt.length;Bt++)Yt.indexOf(Dt[Bt])<0&&Object.prototype.propertyIsEnumerable.call(St,Dt[Bt])&&(Tt[Dt[Bt]]=St[Dt[Bt]]);return Tt}function T(St,Yt,Tt,Dt){var Bt=arguments.length,Et=Bt<3?Yt:Dt===null?Dt=Object.getOwnPropertyDescriptor(Yt,Tt):Dt,zt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Et=Reflect.decorate(St,Yt,Tt,Dt);else for(var jt=St.length-1;jt>=0;jt--)(zt=St[jt])&&(Et=(Bt<3?zt(Et):Bt>3?zt(Yt,Tt,Et):zt(Yt,Tt))||Et);return Bt>3&&Et&&Object.defineProperty(Yt,Tt,Et),Et}function A(St,Yt){return function(Tt,Dt){Yt(Tt,Dt,St)}}function C(St,Yt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(St,Yt)}function E(St,Yt,Tt,Dt){function Bt(Et){return Et instanceof Tt?Et:new Tt(function(zt){zt(Et)})}return new(Tt||(Tt=Promise))(function(Et,zt){function jt(k){try{pt(Dt.next(k))}catch(u){zt(u)}}function Mt(k){try{pt(Dt.throw(k))}catch(u){zt(u)}}function pt(k){k.done?Et(k.value):Bt(k.value).then(jt,Mt)}pt((Dt=Dt.apply(St,Yt||[])).next())})}function p(St,Yt){var Tt={label:0,sent:function(){if(Et[0]&1)throw Et[1];return Et[1]},trys:[],ops:[]},Dt,Bt,Et,zt;return zt={next:jt(0),throw:jt(1),return:jt(2)},typeof Symbol=="function"&&(zt[Symbol.iterator]=function(){return this}),zt;function jt(pt){return function(k){return Mt([pt,k])}}function Mt(pt){if(Dt)throw new TypeError("Generator is already executing.");for(;Tt;)try{if(Dt=1,Bt&&(Et=pt[0]&2?Bt.return:pt[0]?Bt.throw||((Et=Bt.return)&&Et.call(Bt),0):Bt.next)&&!(Et=Et.call(Bt,pt[1])).done)return Et;switch(Bt=0,Et&&(pt=[pt[0]&2,Et.value]),pt[0]){case 0:case 1:Et=pt;break;case 4:return Tt.label++,{value:pt[1],done:!1};case 5:Tt.label++,Bt=pt[1],pt=[0];continue;case 7:pt=Tt.ops.pop(),Tt.trys.pop();continue;default:if(Et=Tt.trys,!(Et=Et.length>0&&Et[Et.length-1])&&(pt[0]===6||pt[0]===2)){Tt=0;continue}if(pt[0]===3&&(!Et||pt[1]>Et[0]&&pt[1]<Et[3])){Tt.label=pt[1];break}if(pt[0]===6&&Tt.label<Et[1]){Tt.label=Et[1],Et=pt;break}if(Et&&Tt.label<Et[2]){Tt.label=Et[2],Tt.ops.push(pt);break}Et[2]&&Tt.ops.pop(),Tt.trys.pop();continue}pt=Yt.call(St,Tt)}catch(k){pt=[6,k],Bt=0}finally{Dt=Et=0}if(pt[0]&5)throw pt[1];return{value:pt[0]?pt[1]:void 0,done:!0}}}function w(St,Yt,Tt,Dt){Dt===void 0&&(Dt=Tt),St[Dt]=Yt[Tt]}function y(St,Yt){for(var Tt in St)Tt!=="default"&&!Yt.hasOwnProperty(Tt)&&(Yt[Tt]=St[Tt])}function m(St){var Yt=typeof Symbol=="function"&&Symbol.iterator,Tt=Yt&&St[Yt],Dt=0;if(Tt)return Tt.call(St);if(St&&typeof St.length=="number")return{next:function(){return St&&Dt>=St.length&&(St=void 0),{value:St&&St[Dt++],done:!St}}};throw new TypeError(Yt?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(St,Yt){var Tt=typeof Symbol=="function"&&St[Symbol.iterator];if(!Tt)return St;var Dt=Tt.call(St),Bt,Et=[],zt;try{for(;(Yt===void 0||Yt-- >0)&&!(Bt=Dt.next()).done;)Et.push(Bt.value)}catch(jt){zt={error:jt}}finally{try{Bt&&!Bt.done&&(Tt=Dt.return)&&Tt.call(Dt)}finally{if(zt)throw zt.error}}return Et}function M(){for(var St=[],Yt=0;Yt<arguments.length;Yt++)St=St.concat(g(arguments[Yt]));return St}function L(){for(var St=0,Yt=0,Tt=arguments.length;Yt<Tt;Yt++)St+=arguments[Yt].length;for(var Dt=Array(St),Bt=0,Yt=0;Yt<Tt;Yt++)for(var Et=arguments[Yt],zt=0,jt=Et.length;zt<jt;zt++,Bt++)Dt[Bt]=Et[zt];return Dt}function B(St){return this instanceof B?(this.v=St,this):new B(St)}function N(St,Yt,Tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Dt=Tt.apply(St,Yt||[]),Bt,Et=[];return Bt={},zt("next"),zt("throw"),zt("return"),Bt[Symbol.asyncIterator]=function(){return this},Bt;function zt(G){Dt[G]&&(Bt[G]=function(Y){return new Promise(function(V,U){Et.push([G,Y,V,U])>1||jt(G,Y)})})}function jt(G,Y){try{Mt(Dt[G](Y))}catch(V){u(Et[0][3],V)}}function Mt(G){G.value instanceof B?Promise.resolve(G.value.v).then(pt,k):u(Et[0][2],G)}function pt(G){jt("next",G)}function k(G){jt("throw",G)}function u(G,Y){G(Y),Et.shift(),Et.length&&jt(Et[0][0],Et[0][1])}}function j(St){var Yt,Tt;return Yt={},Dt("next"),Dt("throw",function(Bt){throw Bt}),Dt("return"),Yt[Symbol.iterator]=function(){return this},Yt;function Dt(Bt,Et){Yt[Bt]=St[Bt]?function(zt){return(Tt=!Tt)?{value:B(St[Bt](zt)),done:Bt==="return"}:Et?Et(zt):zt}:Et}}function tt(St){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Yt=St[Symbol.asyncIterator],Tt;return Yt?Yt.call(St):(St=typeof m=="function"?m(St):St[Symbol.iterator](),Tt={},Dt("next"),Dt("throw"),Dt("return"),Tt[Symbol.asyncIterator]=function(){return this},Tt);function Dt(Et){Tt[Et]=St[Et]&&function(zt){return new Promise(function(jt,Mt){zt=St[Et](zt),Bt(jt,Mt,zt.done,zt.value)})}}function Bt(Et,zt,jt,Mt){Promise.resolve(Mt).then(function(pt){Et({value:pt,done:jt})},zt)}}function H(St,Yt){return Object.defineProperty?Object.defineProperty(St,"raw",{value:Yt}):St.raw=Yt,St}function J(St){if(St&&St.__esModule)return St;var Yt={};if(St!=null)for(var Tt in St)Object.hasOwnProperty.call(St,Tt)&&(Yt[Tt]=St[Tt]);return Yt.default=St,Yt}function ct(St){return St&&St.__esModule?St:{default:St}}function ut(St,Yt){if(!Yt.has(St))throw new TypeError("attempted to get private field on non-instance");return Yt.get(St)}function At(St,Yt,Tt){if(!Yt.has(St))throw new TypeError("attempted to set private field on non-instance");return Yt.set(St,Tt),Tt}},8108:function(dt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return O},__assign:function(){return I},__rest:function(){return _},__decorate:function(){return T},__param:function(){return A},__metadata:function(){return C},__awaiter:function(){return E},__generator:function(){return p},__createBinding:function(){return w},__exportStar:function(){return y},__values:function(){return m},__read:function(){return g},__spread:function(){return M},__spreadArrays:function(){return L},__await:function(){return B},__asyncGenerator:function(){return N},__asyncDelegator:function(){return j},__asyncValues:function(){return tt},__makeTemplateObject:function(){return H},__importStar:function(){return J},__importDefault:function(){return ct},__classPrivateFieldGet:function(){return ut},__classPrivateFieldSet:function(){return At}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var b=function(Yt,Tt){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Dt,Bt){Dt.__proto__=Bt}||function(Dt,Bt){for(var Et in Bt)Bt.hasOwnProperty(Et)&&(Dt[Et]=Bt[Et])},b(Yt,Tt)};function O(St,Yt){b(St,Yt);function Tt(){this.constructor=St}St.prototype=Yt===null?Object.create(Yt):(Tt.prototype=Yt.prototype,new Tt)}var I=function(){return I=Object.assign||function(Tt){for(var Dt,Bt=1,Et=arguments.length;Bt<Et;Bt++){Dt=arguments[Bt];for(var zt in Dt)Object.prototype.hasOwnProperty.call(Dt,zt)&&(Tt[zt]=Dt[zt])}return Tt},I.apply(this,arguments)};function _(St,Yt){var Tt={};for(var Dt in St)Object.prototype.hasOwnProperty.call(St,Dt)&&Yt.indexOf(Dt)<0&&(Tt[Dt]=St[Dt]);if(St!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Bt=0,Dt=Object.getOwnPropertySymbols(St);Bt<Dt.length;Bt++)Yt.indexOf(Dt[Bt])<0&&Object.prototype.propertyIsEnumerable.call(St,Dt[Bt])&&(Tt[Dt[Bt]]=St[Dt[Bt]]);return Tt}function T(St,Yt,Tt,Dt){var Bt=arguments.length,Et=Bt<3?Yt:Dt===null?Dt=Object.getOwnPropertyDescriptor(Yt,Tt):Dt,zt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Et=Reflect.decorate(St,Yt,Tt,Dt);else for(var jt=St.length-1;jt>=0;jt--)(zt=St[jt])&&(Et=(Bt<3?zt(Et):Bt>3?zt(Yt,Tt,Et):zt(Yt,Tt))||Et);return Bt>3&&Et&&Object.defineProperty(Yt,Tt,Et),Et}function A(St,Yt){return function(Tt,Dt){Yt(Tt,Dt,St)}}function C(St,Yt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(St,Yt)}function E(St,Yt,Tt,Dt){function Bt(Et){return Et instanceof Tt?Et:new Tt(function(zt){zt(Et)})}return new(Tt||(Tt=Promise))(function(Et,zt){function jt(k){try{pt(Dt.next(k))}catch(u){zt(u)}}function Mt(k){try{pt(Dt.throw(k))}catch(u){zt(u)}}function pt(k){k.done?Et(k.value):Bt(k.value).then(jt,Mt)}pt((Dt=Dt.apply(St,Yt||[])).next())})}function p(St,Yt){var Tt={label:0,sent:function(){if(Et[0]&1)throw Et[1];return Et[1]},trys:[],ops:[]},Dt,Bt,Et,zt;return zt={next:jt(0),throw:jt(1),return:jt(2)},typeof Symbol=="function"&&(zt[Symbol.iterator]=function(){return this}),zt;function jt(pt){return function(k){return Mt([pt,k])}}function Mt(pt){if(Dt)throw new TypeError("Generator is already executing.");for(;Tt;)try{if(Dt=1,Bt&&(Et=pt[0]&2?Bt.return:pt[0]?Bt.throw||((Et=Bt.return)&&Et.call(Bt),0):Bt.next)&&!(Et=Et.call(Bt,pt[1])).done)return Et;switch(Bt=0,Et&&(pt=[pt[0]&2,Et.value]),pt[0]){case 0:case 1:Et=pt;break;case 4:return Tt.label++,{value:pt[1],done:!1};case 5:Tt.label++,Bt=pt[1],pt=[0];continue;case 7:pt=Tt.ops.pop(),Tt.trys.pop();continue;default:if(Et=Tt.trys,!(Et=Et.length>0&&Et[Et.length-1])&&(pt[0]===6||pt[0]===2)){Tt=0;continue}if(pt[0]===3&&(!Et||pt[1]>Et[0]&&pt[1]<Et[3])){Tt.label=pt[1];break}if(pt[0]===6&&Tt.label<Et[1]){Tt.label=Et[1],Et=pt;break}if(Et&&Tt.label<Et[2]){Tt.label=Et[2],Tt.ops.push(pt);break}Et[2]&&Tt.ops.pop(),Tt.trys.pop();continue}pt=Yt.call(St,Tt)}catch(k){pt=[6,k],Bt=0}finally{Dt=Et=0}if(pt[0]&5)throw pt[1];return{value:pt[0]?pt[1]:void 0,done:!0}}}function w(St,Yt,Tt,Dt){Dt===void 0&&(Dt=Tt),St[Dt]=Yt[Tt]}function y(St,Yt){for(var Tt in St)Tt!=="default"&&!Yt.hasOwnProperty(Tt)&&(Yt[Tt]=St[Tt])}function m(St){var Yt=typeof Symbol=="function"&&Symbol.iterator,Tt=Yt&&St[Yt],Dt=0;if(Tt)return Tt.call(St);if(St&&typeof St.length=="number")return{next:function(){return St&&Dt>=St.length&&(St=void 0),{value:St&&St[Dt++],done:!St}}};throw new TypeError(Yt?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(St,Yt){var Tt=typeof Symbol=="function"&&St[Symbol.iterator];if(!Tt)return St;var Dt=Tt.call(St),Bt,Et=[],zt;try{for(;(Yt===void 0||Yt-- >0)&&!(Bt=Dt.next()).done;)Et.push(Bt.value)}catch(jt){zt={error:jt}}finally{try{Bt&&!Bt.done&&(Tt=Dt.return)&&Tt.call(Dt)}finally{if(zt)throw zt.error}}return Et}function M(){for(var St=[],Yt=0;Yt<arguments.length;Yt++)St=St.concat(g(arguments[Yt]));return St}function L(){for(var St=0,Yt=0,Tt=arguments.length;Yt<Tt;Yt++)St+=arguments[Yt].length;for(var Dt=Array(St),Bt=0,Yt=0;Yt<Tt;Yt++)for(var Et=arguments[Yt],zt=0,jt=Et.length;zt<jt;zt++,Bt++)Dt[Bt]=Et[zt];return Dt}function B(St){return this instanceof B?(this.v=St,this):new B(St)}function N(St,Yt,Tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Dt=Tt.apply(St,Yt||[]),Bt,Et=[];return Bt={},zt("next"),zt("throw"),zt("return"),Bt[Symbol.asyncIterator]=function(){return this},Bt;function zt(G){Dt[G]&&(Bt[G]=function(Y){return new Promise(function(V,U){Et.push([G,Y,V,U])>1||jt(G,Y)})})}function jt(G,Y){try{Mt(Dt[G](Y))}catch(V){u(Et[0][3],V)}}function Mt(G){G.value instanceof B?Promise.resolve(G.value.v).then(pt,k):u(Et[0][2],G)}function pt(G){jt("next",G)}function k(G){jt("throw",G)}function u(G,Y){G(Y),Et.shift(),Et.length&&jt(Et[0][0],Et[0][1])}}function j(St){var Yt,Tt;return Yt={},Dt("next"),Dt("throw",function(Bt){throw Bt}),Dt("return"),Yt[Symbol.iterator]=function(){return this},Yt;function Dt(Bt,Et){Yt[Bt]=St[Bt]?function(zt){return(Tt=!Tt)?{value:B(St[Bt](zt)),done:Bt==="return"}:Et?Et(zt):zt}:Et}}function tt(St){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Yt=St[Symbol.asyncIterator],Tt;return Yt?Yt.call(St):(St=typeof m=="function"?m(St):St[Symbol.iterator](),Tt={},Dt("next"),Dt("throw"),Dt("return"),Tt[Symbol.asyncIterator]=function(){return this},Tt);function Dt(Et){Tt[Et]=St[Et]&&function(zt){return new Promise(function(jt,Mt){zt=St[Et](zt),Bt(jt,Mt,zt.done,zt.value)})}}function Bt(Et,zt,jt,Mt){Promise.resolve(Mt).then(function(pt){Et({value:pt,done:jt})},zt)}}function H(St,Yt){return Object.defineProperty?Object.defineProperty(St,"raw",{value:Yt}):St.raw=Yt,St}function J(St){if(St&&St.__esModule)return St;var Yt={};if(St!=null)for(var Tt in St)Object.hasOwnProperty.call(St,Tt)&&(Yt[Tt]=St[Tt]);return Yt.default=St,Yt}function ct(St){return St&&St.__esModule?St:{default:St}}function ut(St,Yt){if(!Yt.has(St))throw new TypeError("attempted to get private field on non-instance");return Yt.get(St)}function At(St,Yt,Tt){if(!Yt.has(St))throw new TypeError("attempted to set private field on non-instance");return Yt.set(St,Tt),Tt}},37651:function(dt,S,d){"use strict";var b,O=d(26416).default,I=d(79764).default,_=d(25102).default,T=d(46507).default,A=d(21364).default;b={value:!0};var C=d(44091),E=d(74805),p=" ".repeat(2),w=" ".repeat(4);function y(){return m(this)}function m(Pt){var Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=Ot.maxRows,R=W===void 0?15:W,F=Ot.maxColumns,rt=F===void 0?10:F,kt=Ot.maxNumSize,Vt=kt===void 0?8:kt,Gt=Ot.padMinus,Kt=Gt===void 0?"auto":Gt;return"".concat(Pt.constructor.name,` {
`).concat(p,`[
`).concat(w).concat(g(Pt,R,rt,Vt,Kt),`
`).concat(p,`]
`).concat(p,"rows: ").concat(Pt.rows,`
`).concat(p,"columns: ").concat(Pt.columns,`
}`)}function g(Pt,Ot,W,R,F){var rt=Pt.rows,kt=Pt.columns,Vt=Math.min(rt,Ot),Gt=Math.min(kt,W),Kt=[];if(F==="auto"){F=!1;t:for(var we=0;we<Vt;we++)for(var me=0;me<Gt;me++)if(Pt.get(we,me)<0){F=!0;break t}}for(var _e=0;_e<Vt;_e++){for(var qe=[],De=0;De<Gt;De++)qe.push(M(Pt.get(_e,De),R,F));Kt.push("".concat(qe.join(" ")))}return Gt!==kt&&(Kt[Kt.length-1]+=" ... ".concat(kt-W," more columns")),Vt!==rt&&Kt.push("... ".concat(rt-Ot," more rows")),Kt.join(`
`.concat(w))}function M(Pt,Ot,W){return(Pt>=0&&W?" ".concat(L(Pt,Ot-1)):L(Pt,Ot)).padEnd(Ot)}function L(Pt,Ot){var W=Pt.toString();if(W.length<=Ot)return W;var R=Pt.toFixed(Ot);if(R.length>Ot&&(R=Pt.toFixed(Math.max(0,Ot-(R.length-Ot)))),R.length<=Ot&&!R.startsWith("0.000")&&!R.startsWith("-0.000"))return R;var F=Pt.toExponential(Ot);return F.length>Ot&&(F=Pt.toExponential(Math.max(0,Ot-(F.length-Ot)))),F.slice(0)}function B(Pt,Ot){Pt.prototype.add=function(R){return typeof R=="number"?this.addS(R):this.addM(R)},Pt.prototype.addS=function(R){for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,this.get(F,rt)+R);return this},Pt.prototype.addM=function(R){if(R=Ot.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,this.get(F,rt)+R.get(F,rt));return this},Pt.add=function(R,F){var rt=new Ot(R);return rt.add(F)},Pt.prototype.sub=function(R){return typeof R=="number"?this.subS(R):this.subM(R)},Pt.prototype.subS=function(R){for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,this.get(F,rt)-R);return this},Pt.prototype.subM=function(R){if(R=Ot.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,this.get(F,rt)-R.get(F,rt));return this},Pt.sub=function(R,F){var rt=new Ot(R);return rt.sub(F)},Pt.prototype.subtract=Pt.prototype.sub,Pt.prototype.subtractS=Pt.prototype.subS,Pt.prototype.subtractM=Pt.prototype.subM,Pt.subtract=Pt.sub,Pt.prototype.mul=function(R){return typeof R=="number"?this.mulS(R):this.mulM(R)},Pt.prototype.mulS=function(R){for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,this.get(F,rt)*R);return this},Pt.prototype.mulM=function(R){if(R=Ot.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,this.get(F,rt)*R.get(F,rt));return this},Pt.mul=function(R,F){var rt=new Ot(R);return rt.mul(F)},Pt.prototype.multiply=Pt.prototype.mul,Pt.prototype.multiplyS=Pt.prototype.mulS,Pt.prototype.multiplyM=Pt.prototype.mulM,Pt.multiply=Pt.mul,Pt.prototype.div=function(R){return typeof R=="number"?this.divS(R):this.divM(R)},Pt.prototype.divS=function(R){for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,this.get(F,rt)/R);return this},Pt.prototype.divM=function(R){if(R=Ot.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,this.get(F,rt)/R.get(F,rt));return this},Pt.div=function(R,F){var rt=new Ot(R);return rt.div(F)},Pt.prototype.divide=Pt.prototype.div,Pt.prototype.divideS=Pt.prototype.divS,Pt.prototype.divideM=Pt.prototype.divM,Pt.divide=Pt.div,Pt.prototype.mod=function(R){return typeof R=="number"?this.modS(R):this.modM(R)},Pt.prototype.modS=function(R){for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,this.get(F,rt)%R);return this},Pt.prototype.modM=function(R){if(R=Ot.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,this.get(F,rt)%R.get(F,rt));return this},Pt.mod=function(R,F){var rt=new Ot(R);return rt.mod(F)},Pt.prototype.modulus=Pt.prototype.mod,Pt.prototype.modulusS=Pt.prototype.modS,Pt.prototype.modulusM=Pt.prototype.modM,Pt.modulus=Pt.mod,Pt.prototype.and=function(R){return typeof R=="number"?this.andS(R):this.andM(R)},Pt.prototype.andS=function(R){for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,this.get(F,rt)&R);return this},Pt.prototype.andM=function(R){if(R=Ot.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,this.get(F,rt)&R.get(F,rt));return this},Pt.and=function(R,F){var rt=new Ot(R);return rt.and(F)},Pt.prototype.or=function(R){return typeof R=="number"?this.orS(R):this.orM(R)},Pt.prototype.orS=function(R){for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,this.get(F,rt)|R);return this},Pt.prototype.orM=function(R){if(R=Ot.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,this.get(F,rt)|R.get(F,rt));return this},Pt.or=function(R,F){var rt=new Ot(R);return rt.or(F)},Pt.prototype.xor=function(R){return typeof R=="number"?this.xorS(R):this.xorM(R)},Pt.prototype.xorS=function(R){for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,this.get(F,rt)^R);return this},Pt.prototype.xorM=function(R){if(R=Ot.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,this.get(F,rt)^R.get(F,rt));return this},Pt.xor=function(R,F){var rt=new Ot(R);return rt.xor(F)},Pt.prototype.leftShift=function(R){return typeof R=="number"?this.leftShiftS(R):this.leftShiftM(R)},Pt.prototype.leftShiftS=function(R){for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,this.get(F,rt)<<R);return this},Pt.prototype.leftShiftM=function(R){if(R=Ot.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,this.get(F,rt)<<R.get(F,rt));return this},Pt.leftShift=function(R,F){var rt=new Ot(R);return rt.leftShift(F)},Pt.prototype.signPropagatingRightShift=function(R){return typeof R=="number"?this.signPropagatingRightShiftS(R):this.signPropagatingRightShiftM(R)},Pt.prototype.signPropagatingRightShiftS=function(R){for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,this.get(F,rt)>>R);return this},Pt.prototype.signPropagatingRightShiftM=function(R){if(R=Ot.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,this.get(F,rt)>>R.get(F,rt));return this},Pt.signPropagatingRightShift=function(R,F){var rt=new Ot(R);return rt.signPropagatingRightShift(F)},Pt.prototype.rightShift=function(R){return typeof R=="number"?this.rightShiftS(R):this.rightShiftM(R)},Pt.prototype.rightShiftS=function(R){for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,this.get(F,rt)>>>R);return this},Pt.prototype.rightShiftM=function(R){if(R=Ot.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,this.get(F,rt)>>>R.get(F,rt));return this},Pt.rightShift=function(R,F){var rt=new Ot(R);return rt.rightShift(F)},Pt.prototype.zeroFillRightShift=Pt.prototype.rightShift,Pt.prototype.zeroFillRightShiftS=Pt.prototype.rightShiftS,Pt.prototype.zeroFillRightShiftM=Pt.prototype.rightShiftM,Pt.zeroFillRightShift=Pt.rightShift,Pt.prototype.not=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,~this.get(R,F));return this},Pt.not=function(R){var F=new Ot(R);return F.not()},Pt.prototype.abs=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.abs(this.get(R,F)));return this},Pt.abs=function(R){var F=new Ot(R);return F.abs()},Pt.prototype.acos=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.acos(this.get(R,F)));return this},Pt.acos=function(R){var F=new Ot(R);return F.acos()},Pt.prototype.acosh=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.acosh(this.get(R,F)));return this},Pt.acosh=function(R){var F=new Ot(R);return F.acosh()},Pt.prototype.asin=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.asin(this.get(R,F)));return this},Pt.asin=function(R){var F=new Ot(R);return F.asin()},Pt.prototype.asinh=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.asinh(this.get(R,F)));return this},Pt.asinh=function(R){var F=new Ot(R);return F.asinh()},Pt.prototype.atan=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.atan(this.get(R,F)));return this},Pt.atan=function(R){var F=new Ot(R);return F.atan()},Pt.prototype.atanh=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.atanh(this.get(R,F)));return this},Pt.atanh=function(R){var F=new Ot(R);return F.atanh()},Pt.prototype.cbrt=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.cbrt(this.get(R,F)));return this},Pt.cbrt=function(R){var F=new Ot(R);return F.cbrt()},Pt.prototype.ceil=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.ceil(this.get(R,F)));return this},Pt.ceil=function(R){var F=new Ot(R);return F.ceil()},Pt.prototype.clz32=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.clz32(this.get(R,F)));return this},Pt.clz32=function(R){var F=new Ot(R);return F.clz32()},Pt.prototype.cos=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.cos(this.get(R,F)));return this},Pt.cos=function(R){var F=new Ot(R);return F.cos()},Pt.prototype.cosh=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.cosh(this.get(R,F)));return this},Pt.cosh=function(R){var F=new Ot(R);return F.cosh()},Pt.prototype.exp=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.exp(this.get(R,F)));return this},Pt.exp=function(R){var F=new Ot(R);return F.exp()},Pt.prototype.expm1=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.expm1(this.get(R,F)));return this},Pt.expm1=function(R){var F=new Ot(R);return F.expm1()},Pt.prototype.floor=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.floor(this.get(R,F)));return this},Pt.floor=function(R){var F=new Ot(R);return F.floor()},Pt.prototype.fround=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.fround(this.get(R,F)));return this},Pt.fround=function(R){var F=new Ot(R);return F.fround()},Pt.prototype.log=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.log(this.get(R,F)));return this},Pt.log=function(R){var F=new Ot(R);return F.log()},Pt.prototype.log1p=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.log1p(this.get(R,F)));return this},Pt.log1p=function(R){var F=new Ot(R);return F.log1p()},Pt.prototype.log10=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.log10(this.get(R,F)));return this},Pt.log10=function(R){var F=new Ot(R);return F.log10()},Pt.prototype.log2=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.log2(this.get(R,F)));return this},Pt.log2=function(R){var F=new Ot(R);return F.log2()},Pt.prototype.round=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.round(this.get(R,F)));return this},Pt.round=function(R){var F=new Ot(R);return F.round()},Pt.prototype.sign=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.sign(this.get(R,F)));return this},Pt.sign=function(R){var F=new Ot(R);return F.sign()},Pt.prototype.sin=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.sin(this.get(R,F)));return this},Pt.sin=function(R){var F=new Ot(R);return F.sin()},Pt.prototype.sinh=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.sinh(this.get(R,F)));return this},Pt.sinh=function(R){var F=new Ot(R);return F.sinh()},Pt.prototype.sqrt=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.sqrt(this.get(R,F)));return this},Pt.sqrt=function(R){var F=new Ot(R);return F.sqrt()},Pt.prototype.tan=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.tan(this.get(R,F)));return this},Pt.tan=function(R){var F=new Ot(R);return F.tan()},Pt.prototype.tanh=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.tanh(this.get(R,F)));return this},Pt.tanh=function(R){var F=new Ot(R);return F.tanh()},Pt.prototype.trunc=function(){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,Math.trunc(this.get(R,F)));return this},Pt.trunc=function(R){var F=new Ot(R);return F.trunc()},Pt.pow=function(R,F){var rt=new Ot(R);return rt.pow(F)},Pt.prototype.pow=function(R){return typeof R=="number"?this.powS(R):this.powM(R)},Pt.prototype.powS=function(R){for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,Math.pow(this.get(F,rt),R));return this},Pt.prototype.powM=function(R){if(R=Ot.checkMatrix(R),this.rows!==R.rows||this.columns!==R.columns)throw new RangeError("Matrices dimensions must be equal");for(var F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.set(F,rt,Math.pow(this.get(F,rt),R.get(F,rt)));return this}}function N(Pt,Ot,W){var R=W?Pt.rows:Pt.rows-1;if(Ot<0||Ot>R)throw new RangeError("Row index out of range")}function j(Pt,Ot,W){var R=W?Pt.columns:Pt.columns-1;if(Ot<0||Ot>R)throw new RangeError("Column index out of range")}function tt(Pt,Ot){if(Ot.to1DArray&&(Ot=Ot.to1DArray()),Ot.length!==Pt.columns)throw new RangeError("vector size must be the same as the number of columns");return Ot}function H(Pt,Ot){if(Ot.to1DArray&&(Ot=Ot.to1DArray()),Ot.length!==Pt.rows)throw new RangeError("vector size must be the same as the number of rows");return Ot}function J(Pt,Ot){if(!C.isAnyArray(Ot))throw new TypeError("row indices must be an array");for(var W=0;W<Ot.length;W++)if(Ot[W]<0||Ot[W]>=Pt.rows)throw new RangeError("row indices are out of range")}function ct(Pt,Ot){if(!C.isAnyArray(Ot))throw new TypeError("column indices must be an array");for(var W=0;W<Ot.length;W++)if(Ot[W]<0||Ot[W]>=Pt.columns)throw new RangeError("column indices are out of range")}function ut(Pt,Ot,W,R,F){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(St("startRow",Ot),St("endRow",W),St("startColumn",R),St("endColumn",F),Ot>W||R>F||Ot<0||Ot>=Pt.rows||W<0||W>=Pt.rows||R<0||R>=Pt.columns||F<0||F>=Pt.columns)throw new RangeError("Submatrix indices are out of range")}function At(Pt){for(var Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,W=[],R=0;R<Pt;R++)W.push(Ot);return W}function St(Pt,Ot){if(typeof Ot!="number")throw new TypeError("".concat(Pt," must be a number"))}function Yt(Pt){if(Pt.isEmpty())throw new Error("Empty matrix has no elements to index")}function Tt(Pt){for(var Ot=At(Pt.rows),W=0;W<Pt.rows;++W)for(var R=0;R<Pt.columns;++R)Ot[W]+=Pt.get(W,R);return Ot}function Dt(Pt){for(var Ot=At(Pt.columns),W=0;W<Pt.rows;++W)for(var R=0;R<Pt.columns;++R)Ot[R]+=Pt.get(W,R);return Ot}function Bt(Pt){for(var Ot=0,W=0;W<Pt.rows;W++)for(var R=0;R<Pt.columns;R++)Ot+=Pt.get(W,R);return Ot}function Et(Pt){for(var Ot=At(Pt.rows,1),W=0;W<Pt.rows;++W)for(var R=0;R<Pt.columns;++R)Ot[W]*=Pt.get(W,R);return Ot}function zt(Pt){for(var Ot=At(Pt.columns,1),W=0;W<Pt.rows;++W)for(var R=0;R<Pt.columns;++R)Ot[R]*=Pt.get(W,R);return Ot}function jt(Pt){for(var Ot=1,W=0;W<Pt.rows;W++)for(var R=0;R<Pt.columns;R++)Ot*=Pt.get(W,R);return Ot}function Mt(Pt,Ot,W){for(var R=Pt.rows,F=Pt.columns,rt=[],kt=0;kt<R;kt++){for(var Vt=0,Gt=0,Kt=0,we=0;we<F;we++)Kt=Pt.get(kt,we)-W[kt],Vt+=Kt,Gt+=Kt*Kt;Ot?rt.push((Gt-Vt*Vt/F)/(F-1)):rt.push((Gt-Vt*Vt/F)/F)}return rt}function pt(Pt,Ot,W){for(var R=Pt.rows,F=Pt.columns,rt=[],kt=0;kt<F;kt++){for(var Vt=0,Gt=0,Kt=0,we=0;we<R;we++)Kt=Pt.get(we,kt)-W[kt],Vt+=Kt,Gt+=Kt*Kt;Ot?rt.push((Gt-Vt*Vt/R)/(R-1)):rt.push((Gt-Vt*Vt/R)/R)}return rt}function k(Pt,Ot,W){for(var R=Pt.rows,F=Pt.columns,rt=R*F,kt=0,Vt=0,Gt=0,Kt=0;Kt<R;Kt++)for(var we=0;we<F;we++)Gt=Pt.get(Kt,we)-W,kt+=Gt,Vt+=Gt*Gt;return Ot?(Vt-kt*kt/rt)/(rt-1):(Vt-kt*kt/rt)/rt}function u(Pt,Ot){for(var W=0;W<Pt.rows;W++)for(var R=0;R<Pt.columns;R++)Pt.set(W,R,Pt.get(W,R)-Ot[W])}function G(Pt,Ot){for(var W=0;W<Pt.rows;W++)for(var R=0;R<Pt.columns;R++)Pt.set(W,R,Pt.get(W,R)-Ot[R])}function Y(Pt,Ot){for(var W=0;W<Pt.rows;W++)for(var R=0;R<Pt.columns;R++)Pt.set(W,R,Pt.get(W,R)-Ot)}function V(Pt){for(var Ot=[],W=0;W<Pt.rows;W++){for(var R=0,F=0;F<Pt.columns;F++)R+=Math.pow(Pt.get(W,F),2)/(Pt.columns-1);Ot.push(Math.sqrt(R))}return Ot}function U(Pt,Ot){for(var W=0;W<Pt.rows;W++)for(var R=0;R<Pt.columns;R++)Pt.set(W,R,Pt.get(W,R)/Ot[W])}function et(Pt){for(var Ot=[],W=0;W<Pt.columns;W++){for(var R=0,F=0;F<Pt.rows;F++)R+=Math.pow(Pt.get(F,W),2)/(Pt.rows-1);Ot.push(Math.sqrt(R))}return Ot}function ht(Pt,Ot){for(var W=0;W<Pt.rows;W++)for(var R=0;R<Pt.columns;R++)Pt.set(W,R,Pt.get(W,R)/Ot[R])}function Ft(Pt){for(var Ot=Pt.size-1,W=0,R=0;R<Pt.columns;R++)for(var F=0;F<Pt.rows;F++)W+=Math.pow(Pt.get(F,R),2)/Ot;return Math.sqrt(W)}function bt(Pt,Ot){for(var W=0;W<Pt.rows;W++)for(var R=0;R<Pt.columns;R++)Pt.set(W,R,Pt.get(W,R)/Ot)}var at=function(){function Pt(){T(this,Pt)}return A(Pt,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(W){if(typeof W!="function")throw new TypeError("callback must be a function");for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)W.call(this,R,F);return this}},{key:"to1DArray",value:function(){for(var W=[],R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)W.push(this.get(R,F));return W}},{key:"to2DArray",value:function(){for(var W=[],R=0;R<this.rows;R++){W.push([]);for(var F=0;F<this.columns;F++)W[R].push(this.get(R,F))}return W}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var W=0;W<this.rows;W++)for(var R=0;R<=W;R++)if(this.get(W,R)!==this.get(R,W))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var W=0,R=0,F=-1,rt=!0,kt=!1;W<this.rows&&rt;){for(R=0,kt=!1;R<this.columns&&kt===!1;)this.get(W,R)===0?R++:this.get(W,R)===1&&R>F?(kt=!0,F=R):(rt=!1,kt=!0);W++}return rt}},{key:"isReducedEchelonForm",value:function(){for(var W=0,R=0,F=-1,rt=!0,kt=!1;W<this.rows&&rt;){for(R=0,kt=!1;R<this.columns&&kt===!1;)this.get(W,R)===0?R++:this.get(W,R)===1&&R>F?(kt=!0,F=R):(rt=!1,kt=!0);for(var Vt=R+1;Vt<this.rows;Vt++)this.get(W,Vt)!==0&&(rt=!1);W++}return rt}},{key:"echelonForm",value:function(){for(var W=this.clone(),R=0,F=0;R<W.rows&&F<W.columns;){for(var rt=R,kt=R;kt<W.rows;kt++)W.get(kt,F)>W.get(rt,F)&&(rt=kt);if(W.get(rt,F)===0)F++;else{W.swapRows(R,rt);for(var Vt=W.get(R,F),Gt=F;Gt<W.columns;Gt++)W.set(R,Gt,W.get(R,Gt)/Vt);for(var Kt=R+1;Kt<W.rows;Kt++){var we=W.get(Kt,F)/W.get(R,F);W.set(Kt,F,0);for(var me=F+1;me<W.columns;me++)W.set(Kt,me,W.get(Kt,me)-W.get(R,me)*we)}R++,F++}}return W}},{key:"reducedEchelonForm",value:function(){for(var W=this.echelonForm(),R=W.columns,F=W.rows,rt=F-1;rt>=0;)if(W.maxRow(rt)===0)rt--;else{for(var kt=0,Vt=!1;kt<F&&Vt===!1;)W.get(rt,kt)===1?Vt=!0:kt++;for(var Gt=0;Gt<rt;Gt++)for(var Kt=W.get(Gt,kt),we=kt;we<R;we++){var me=W.get(Gt,we)-Kt*W.get(rt,we);W.set(Gt,we,me)}rt--}return W}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof W!="object")throw new TypeError("options must be an object");var R=W.rows,F=R===void 0?1:R,rt=W.columns,kt=rt===void 0?1:rt;if(!Number.isInteger(F)||F<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(kt)||kt<=0)throw new TypeError("columns must be a positive integer");for(var Vt=new it(this.rows*F,this.columns*kt),Gt=0;Gt<F;Gt++)for(var Kt=0;Kt<kt;Kt++)Vt.setSubMatrix(this,this.rows*Gt,this.columns*Kt);return Vt}},{key:"fill",value:function(W){for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,W);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(W){N(this,W);for(var R=[],F=0;F<this.columns;F++)R.push(this.get(W,F));return R}},{key:"getRowVector",value:function(W){return it.rowVector(this.getRow(W))}},{key:"setRow",value:function(W,R){N(this,W),R=tt(this,R);for(var F=0;F<this.columns;F++)this.set(W,F,R[F]);return this}},{key:"swapRows",value:function(W,R){N(this,W),N(this,R);for(var F=0;F<this.columns;F++){var rt=this.get(W,F);this.set(W,F,this.get(R,F)),this.set(R,F,rt)}return this}},{key:"getColumn",value:function(W){j(this,W);for(var R=[],F=0;F<this.rows;F++)R.push(this.get(F,W));return R}},{key:"getColumnVector",value:function(W){return it.columnVector(this.getColumn(W))}},{key:"setColumn",value:function(W,R){j(this,W),R=H(this,R);for(var F=0;F<this.rows;F++)this.set(F,W,R[F]);return this}},{key:"swapColumns",value:function(W,R){j(this,W),j(this,R);for(var F=0;F<this.rows;F++){var rt=this.get(F,W);this.set(F,W,this.get(F,R)),this.set(F,R,rt)}return this}},{key:"addRowVector",value:function(W){W=tt(this,W);for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,this.get(R,F)+W[F]);return this}},{key:"subRowVector",value:function(W){W=tt(this,W);for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,this.get(R,F)-W[F]);return this}},{key:"mulRowVector",value:function(W){W=tt(this,W);for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,this.get(R,F)*W[F]);return this}},{key:"divRowVector",value:function(W){W=tt(this,W);for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,this.get(R,F)/W[F]);return this}},{key:"addColumnVector",value:function(W){W=H(this,W);for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,this.get(R,F)+W[R]);return this}},{key:"subColumnVector",value:function(W){W=H(this,W);for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,this.get(R,F)-W[R]);return this}},{key:"mulColumnVector",value:function(W){W=H(this,W);for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,this.get(R,F)*W[R]);return this}},{key:"divColumnVector",value:function(W){W=H(this,W);for(var R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)this.set(R,F,this.get(R,F)/W[R]);return this}},{key:"mulRow",value:function(W,R){N(this,W);for(var F=0;F<this.columns;F++)this.set(W,F,this.get(W,F)*R);return this}},{key:"mulColumn",value:function(W,R){j(this,W);for(var F=0;F<this.rows;F++)this.set(F,W,this.get(F,W)*R);return this}},{key:"max",value:function(W){if(this.isEmpty())return NaN;switch(W){case"row":{for(var R=new Array(this.rows).fill(Number.NEGATIVE_INFINITY),F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.get(F,rt)>R[F]&&(R[F]=this.get(F,rt));return R}case"column":{for(var kt=new Array(this.columns).fill(Number.NEGATIVE_INFINITY),Vt=0;Vt<this.rows;Vt++)for(var Gt=0;Gt<this.columns;Gt++)this.get(Vt,Gt)>kt[Gt]&&(kt[Gt]=this.get(Vt,Gt));return kt}case void 0:{for(var Kt=this.get(0,0),we=0;we<this.rows;we++)for(var me=0;me<this.columns;me++)this.get(we,me)>Kt&&(Kt=this.get(we,me));return Kt}default:throw new Error("invalid option: ".concat(W))}}},{key:"maxIndex",value:function(){Yt(this);for(var W=this.get(0,0),R=[0,0],F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.get(F,rt)>W&&(W=this.get(F,rt),R[0]=F,R[1]=rt);return R}},{key:"min",value:function(W){if(this.isEmpty())return NaN;switch(W){case"row":{for(var R=new Array(this.rows).fill(Number.POSITIVE_INFINITY),F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.get(F,rt)<R[F]&&(R[F]=this.get(F,rt));return R}case"column":{for(var kt=new Array(this.columns).fill(Number.POSITIVE_INFINITY),Vt=0;Vt<this.rows;Vt++)for(var Gt=0;Gt<this.columns;Gt++)this.get(Vt,Gt)<kt[Gt]&&(kt[Gt]=this.get(Vt,Gt));return kt}case void 0:{for(var Kt=this.get(0,0),we=0;we<this.rows;we++)for(var me=0;me<this.columns;me++)this.get(we,me)<Kt&&(Kt=this.get(we,me));return Kt}default:throw new Error("invalid option: ".concat(W))}}},{key:"minIndex",value:function(){Yt(this);for(var W=this.get(0,0),R=[0,0],F=0;F<this.rows;F++)for(var rt=0;rt<this.columns;rt++)this.get(F,rt)<W&&(W=this.get(F,rt),R[0]=F,R[1]=rt);return R}},{key:"maxRow",value:function(W){if(N(this,W),this.isEmpty())return NaN;for(var R=this.get(W,0),F=1;F<this.columns;F++)this.get(W,F)>R&&(R=this.get(W,F));return R}},{key:"maxRowIndex",value:function(W){N(this,W),Yt(this);for(var R=this.get(W,0),F=[W,0],rt=1;rt<this.columns;rt++)this.get(W,rt)>R&&(R=this.get(W,rt),F[1]=rt);return F}},{key:"minRow",value:function(W){if(N(this,W),this.isEmpty())return NaN;for(var R=this.get(W,0),F=1;F<this.columns;F++)this.get(W,F)<R&&(R=this.get(W,F));return R}},{key:"minRowIndex",value:function(W){N(this,W),Yt(this);for(var R=this.get(W,0),F=[W,0],rt=1;rt<this.columns;rt++)this.get(W,rt)<R&&(R=this.get(W,rt),F[1]=rt);return F}},{key:"maxColumn",value:function(W){if(j(this,W),this.isEmpty())return NaN;for(var R=this.get(0,W),F=1;F<this.rows;F++)this.get(F,W)>R&&(R=this.get(F,W));return R}},{key:"maxColumnIndex",value:function(W){j(this,W),Yt(this);for(var R=this.get(0,W),F=[0,W],rt=1;rt<this.rows;rt++)this.get(rt,W)>R&&(R=this.get(rt,W),F[0]=rt);return F}},{key:"minColumn",value:function(W){if(j(this,W),this.isEmpty())return NaN;for(var R=this.get(0,W),F=1;F<this.rows;F++)this.get(F,W)<R&&(R=this.get(F,W));return R}},{key:"minColumnIndex",value:function(W){j(this,W),Yt(this);for(var R=this.get(0,W),F=[0,W],rt=1;rt<this.rows;rt++)this.get(rt,W)<R&&(R=this.get(rt,W),F[0]=rt);return F}},{key:"diag",value:function(){for(var W=Math.min(this.rows,this.columns),R=[],F=0;F<W;F++)R.push(this.get(F,F));return R}},{key:"norm",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius";switch(W){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError("unknown norm type: ".concat(W))}}},{key:"cumulativeSum",value:function(){for(var W=0,R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)W+=this.get(R,F),this.set(R,F,W);return this}},{key:"dot",value:function(W){Pt.isMatrix(W)&&(W=W.to1DArray());var R=this.to1DArray();if(R.length!==W.length)throw new RangeError("vectors do not have the same size");for(var F=0,rt=0;rt<R.length;rt++)F+=R[rt]*W[rt];return F}},{key:"mmul",value:function(W){W=it.checkMatrix(W);for(var R=this.rows,F=this.columns,rt=W.columns,kt=new it(R,rt),Vt=new Float64Array(F),Gt=0;Gt<rt;Gt++){for(var Kt=0;Kt<F;Kt++)Vt[Kt]=W.get(Kt,Gt);for(var we=0;we<R;we++){for(var me=0,_e=0;_e<F;_e++)me+=this.get(we,_e)*Vt[_e];kt.set(we,Gt,me)}}return kt}},{key:"strassen2x2",value:function(W){W=it.checkMatrix(W);var R=new it(2,2),F=this.get(0,0),rt=W.get(0,0),kt=this.get(0,1),Vt=W.get(0,1),Gt=this.get(1,0),Kt=W.get(1,0),we=this.get(1,1),me=W.get(1,1),_e=(F+we)*(rt+me),qe=(Gt+we)*rt,De=F*(Vt-me),dr=we*(Kt-rt),Rr=(F+kt)*me,Oe=(Gt-F)*(rt+Vt),je=(kt-we)*(Kt+me),nr=_e+dr-Rr+je,Je=De+Rr,hr=qe+dr,un=_e-qe+De+Oe;return R.set(0,0,nr),R.set(0,1,Je),R.set(1,0,hr),R.set(1,1,un),R}},{key:"strassen3x3",value:function(W){W=it.checkMatrix(W);var R=new it(3,3),F=this.get(0,0),rt=this.get(0,1),kt=this.get(0,2),Vt=this.get(1,0),Gt=this.get(1,1),Kt=this.get(1,2),we=this.get(2,0),me=this.get(2,1),_e=this.get(2,2),qe=W.get(0,0),De=W.get(0,1),dr=W.get(0,2),Rr=W.get(1,0),Oe=W.get(1,1),je=W.get(1,2),nr=W.get(2,0),Je=W.get(2,1),hr=W.get(2,2),un=(F+rt+kt-Vt-Gt-me-_e)*Oe,Qr=(F-Vt)*(-De+Oe),Pr=Gt*(-qe+De+Rr-Oe-je-nr+hr),Hr=(-F+Vt+Gt)*(qe-De+Oe),wn=(Vt+Gt)*(-qe+De),fn=F*qe,Er=(-F+we+me)*(qe-dr+je),on=(-F+we)*(dr-je),Dn=(we+me)*(-qe+dr),Mn=(F+rt+kt-Gt-Kt-we-me)*je,de=me*(-qe+dr+Rr-Oe-je-nr+Je),Wt=(-kt+me+_e)*(Oe+nr-Je),ve=(kt-_e)*(Oe-Je),Ee=kt*nr,Ge=(me+_e)*(-nr+Je),tr=(-kt+Gt+Kt)*(je+nr-hr),vr=(kt-Kt)*(je-hr),cr=(Gt+Kt)*(-nr+hr),Gr=rt*Rr,rn=Kt*Je,Vn=Vt*dr,Ut=we*De,ie=_e*hr,se=fn+Ee+Gr,Ce=un+Hr+wn+fn+Wt+Ee+Ge,Te=fn+Er+Dn+Mn+Ee+tr+cr,ke=Qr+Pr+Hr+fn+Ee+tr+vr,ir=Qr+Hr+wn+fn+rn,or=Ee+tr+vr+cr+Vn,Or=fn+Er+on+de+Wt+ve+Ee,Cr=Wt+ve+Ee+Ge+Ut,Ar=fn+Er+on+Dn+ie;return R.set(0,0,se),R.set(0,1,Ce),R.set(0,2,Te),R.set(1,0,ke),R.set(1,1,ir),R.set(1,2,or),R.set(2,0,Or),R.set(2,1,Cr),R.set(2,2,Ar),R}},{key:"mmulStrassen",value:function(W){W=it.checkMatrix(W);var R=this.clone(),F=R.rows,rt=R.columns,kt=W.rows,Vt=W.columns;rt!==kt&&console.warn("Multiplying ".concat(F," x ").concat(rt," and ").concat(kt," x ").concat(Vt," matrix: dimensions do not match."));function Gt(_e,qe,De){var dr=_e.rows,Rr=_e.columns;if(dr===qe&&Rr===De)return _e;var Oe=Pt.zeros(qe,De);return Oe=Oe.setSubMatrix(_e,0,0),Oe}var Kt=Math.max(F,kt),we=Math.max(rt,Vt);R=Gt(R,Kt,we),W=Gt(W,Kt,we);function me(_e,qe,De,dr){if(De<=512||dr<=512)return _e.mmul(qe);De%2==1&&dr%2==1?(_e=Gt(_e,De+1,dr+1),qe=Gt(qe,De+1,dr+1)):De%2==1?(_e=Gt(_e,De+1,dr),qe=Gt(qe,De+1,dr)):dr%2==1&&(_e=Gt(_e,De,dr+1),qe=Gt(qe,De,dr+1));var Rr=parseInt(_e.rows/2,10),Oe=parseInt(_e.columns/2,10),je=_e.subMatrix(0,Rr-1,0,Oe-1),nr=qe.subMatrix(0,Rr-1,0,Oe-1),Je=_e.subMatrix(0,Rr-1,Oe,_e.columns-1),hr=qe.subMatrix(0,Rr-1,Oe,qe.columns-1),un=_e.subMatrix(Rr,_e.rows-1,0,Oe-1),Qr=qe.subMatrix(Rr,qe.rows-1,0,Oe-1),Pr=_e.subMatrix(Rr,_e.rows-1,Oe,_e.columns-1),Hr=qe.subMatrix(Rr,qe.rows-1,Oe,qe.columns-1),wn=me(Pt.add(je,Pr),Pt.add(nr,Hr),Rr,Oe),fn=me(Pt.add(un,Pr),nr,Rr,Oe),Er=me(je,Pt.sub(hr,Hr),Rr,Oe),on=me(Pr,Pt.sub(Qr,nr),Rr,Oe),Dn=me(Pt.add(je,Je),Hr,Rr,Oe),Mn=me(Pt.sub(un,je),Pt.add(nr,hr),Rr,Oe),de=me(Pt.sub(Je,Pr),Pt.add(Qr,Hr),Rr,Oe),Wt=Pt.add(wn,on);Wt.sub(Dn),Wt.add(de);var ve=Pt.add(Er,Dn),Ee=Pt.add(fn,on),Ge=Pt.sub(wn,fn);Ge.add(Er),Ge.add(Mn);var tr=Pt.zeros(2*Wt.rows,2*Wt.columns);return tr=tr.setSubMatrix(Wt,0,0),tr=tr.setSubMatrix(ve,Wt.rows,0),tr=tr.setSubMatrix(Ee,0,Wt.columns),tr=tr.setSubMatrix(Ge,Wt.rows,Wt.columns),tr.subMatrix(0,De-1,0,dr-1)}return me(R,W,Kt,we)}},{key:"scaleRows",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof W!="object")throw new TypeError("options must be an object");var R=W.min,F=R===void 0?0:R,rt=W.max,kt=rt===void 0?1:rt;if(!Number.isFinite(F))throw new TypeError("min must be a number");if(!Number.isFinite(kt))throw new TypeError("max must be a number");if(F>=kt)throw new RangeError("min must be smaller than max");for(var Vt=new it(this.rows,this.columns),Gt=0;Gt<this.rows;Gt++){var Kt=this.getRow(Gt);Kt.length>0&&E(Kt,{min:F,max:kt,output:Kt}),Vt.setRow(Gt,Kt)}return Vt}},{key:"scaleColumns",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof W!="object")throw new TypeError("options must be an object");var R=W.min,F=R===void 0?0:R,rt=W.max,kt=rt===void 0?1:rt;if(!Number.isFinite(F))throw new TypeError("min must be a number");if(!Number.isFinite(kt))throw new TypeError("max must be a number");if(F>=kt)throw new RangeError("min must be smaller than max");for(var Vt=new it(this.rows,this.columns),Gt=0;Gt<this.columns;Gt++){var Kt=this.getColumn(Gt);Kt.length&&E(Kt,{min:F,max:kt,output:Kt}),Vt.setColumn(Gt,Kt)}return Vt}},{key:"flipRows",value:function(){for(var W=Math.ceil(this.columns/2),R=0;R<this.rows;R++)for(var F=0;F<W;F++){var rt=this.get(R,F),kt=this.get(R,this.columns-1-F);this.set(R,F,kt),this.set(R,this.columns-1-F,rt)}return this}},{key:"flipColumns",value:function(){for(var W=Math.ceil(this.rows/2),R=0;R<this.columns;R++)for(var F=0;F<W;F++){var rt=this.get(F,R),kt=this.get(this.rows-1-F,R);this.set(F,R,kt),this.set(this.rows-1-F,R,rt)}return this}},{key:"kroneckerProduct",value:function(W){W=it.checkMatrix(W);for(var R=this.rows,F=this.columns,rt=W.rows,kt=W.columns,Vt=new it(R*rt,F*kt),Gt=0;Gt<R;Gt++)for(var Kt=0;Kt<F;Kt++)for(var we=0;we<rt;we++)for(var me=0;me<kt;me++)Vt.set(rt*Gt+we,kt*Kt+me,this.get(Gt,Kt)*W.get(we,me));return Vt}},{key:"kroneckerSum",value:function(W){if(W=it.checkMatrix(W),!this.isSquare()||!W.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var R=this.rows,F=W.rows,rt=this.kroneckerProduct(it.eye(F,F)),kt=it.eye(R,R).kroneckerProduct(W);return rt.add(kt)}},{key:"transpose",value:function(){for(var W=new it(this.columns,this.rows),R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)W.set(F,R,this.get(R,F));return W}},{key:"sortRows",value:function(){for(var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xt,R=0;R<this.rows;R++)this.setRow(R,this.getRow(R).sort(W));return this}},{key:"sortColumns",value:function(){for(var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xt,R=0;R<this.columns;R++)this.setColumn(R,this.getColumn(R).sort(W));return this}},{key:"subMatrix",value:function(W,R,F,rt){ut(this,W,R,F,rt);for(var kt=new it(R-W+1,rt-F+1),Vt=W;Vt<=R;Vt++)for(var Gt=F;Gt<=rt;Gt++)kt.set(Vt-W,Gt-F,this.get(Vt,Gt));return kt}},{key:"subMatrixRow",value:function(W,R,F){if(R===void 0&&(R=0),F===void 0&&(F=this.columns-1),R>F||R<0||R>=this.columns||F<0||F>=this.columns)throw new RangeError("Argument out of range");for(var rt=new it(W.length,F-R+1),kt=0;kt<W.length;kt++)for(var Vt=R;Vt<=F;Vt++){if(W[kt]<0||W[kt]>=this.rows)throw new RangeError("Row index out of range: ".concat(W[kt]));rt.set(kt,Vt-R,this.get(W[kt],Vt))}return rt}},{key:"subMatrixColumn",value:function(W,R,F){if(R===void 0&&(R=0),F===void 0&&(F=this.rows-1),R>F||R<0||R>=this.rows||F<0||F>=this.rows)throw new RangeError("Argument out of range");for(var rt=new it(F-R+1,W.length),kt=0;kt<W.length;kt++)for(var Vt=R;Vt<=F;Vt++){if(W[kt]<0||W[kt]>=this.columns)throw new RangeError("Column index out of range: ".concat(W[kt]));rt.set(Vt-R,kt,this.get(Vt,W[kt]))}return rt}},{key:"setSubMatrix",value:function(W,R,F){if(W=it.checkMatrix(W),W.isEmpty())return this;var rt=R+W.rows-1,kt=F+W.columns-1;ut(this,R,rt,F,kt);for(var Vt=0;Vt<W.rows;Vt++)for(var Gt=0;Gt<W.columns;Gt++)this.set(R+Vt,F+Gt,W.get(Vt,Gt));return this}},{key:"selection",value:function(W,R){J(this,W),ct(this,R);for(var F=new it(W.length,R.length),rt=0;rt<W.length;rt++)for(var kt=W[rt],Vt=0;Vt<R.length;Vt++){var Gt=R[Vt];F.set(rt,Vt,this.get(kt,Gt))}return F}},{key:"trace",value:function(){for(var W=Math.min(this.rows,this.columns),R=0,F=0;F<W;F++)R+=this.get(F,F);return R}},{key:"clone",value:function(){for(var W=new it(this.rows,this.columns),R=0;R<this.rows;R++)for(var F=0;F<this.columns;F++)W.set(R,F,this.get(R,F));return W}},{key:"sum",value:function(W){switch(W){case"row":return Tt(this);case"column":return Dt(this);case void 0:return Bt(this);default:throw new Error("invalid option: ".concat(W))}}},{key:"product",value:function(W){switch(W){case"row":return Et(this);case"column":return zt(this);case void 0:return jt(this);default:throw new Error("invalid option: ".concat(W))}}},{key:"mean",value:function(W){var R=this.sum(W);switch(W){case"row":{for(var F=0;F<this.rows;F++)R[F]/=this.columns;return R}case"column":{for(var rt=0;rt<this.columns;rt++)R[rt]/=this.rows;return R}case void 0:return R/this.size;default:throw new Error("invalid option: ".concat(W))}}},{key:"variance",value:function(W){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof W=="object"&&(R=W,W=void 0),typeof R!="object")throw new TypeError("options must be an object");var F=R,rt=F.unbiased,kt=rt===void 0?!0:rt,Vt=F.mean,Gt=Vt===void 0?this.mean(W):Vt;if(typeof kt!="boolean")throw new TypeError("unbiased must be a boolean");switch(W){case"row":{if(!C.isAnyArray(Gt))throw new TypeError("mean must be an array");return Mt(this,kt,Gt)}case"column":{if(!C.isAnyArray(Gt))throw new TypeError("mean must be an array");return pt(this,kt,Gt)}case void 0:{if(typeof Gt!="number")throw new TypeError("mean must be a number");return k(this,kt,Gt)}default:throw new Error("invalid option: ".concat(W))}}},{key:"standardDeviation",value:function(W,R){typeof W=="object"&&(R=W,W=void 0);var F=this.variance(W,R);if(W===void 0)return Math.sqrt(F);for(var rt=0;rt<F.length;rt++)F[rt]=Math.sqrt(F[rt]);return F}},{key:"center",value:function(W){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof W=="object"&&(R=W,W=void 0),typeof R!="object")throw new TypeError("options must be an object");var F=R,rt=F.center,kt=rt===void 0?this.mean(W):rt;switch(W){case"row":{if(!C.isAnyArray(kt))throw new TypeError("center must be an array");return u(this,kt),this}case"column":{if(!C.isAnyArray(kt))throw new TypeError("center must be an array");return G(this,kt),this}case void 0:{if(typeof kt!="number")throw new TypeError("center must be a number");return Y(this,kt),this}default:throw new Error("invalid option: ".concat(W))}}},{key:"scale",value:function(W){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof W=="object"&&(R=W,W=void 0),typeof R!="object")throw new TypeError("options must be an object");var F=R.scale;switch(W){case"row":{if(F===void 0)F=V(this);else if(!C.isAnyArray(F))throw new TypeError("scale must be an array");return U(this,F),this}case"column":{if(F===void 0)F=et(this);else if(!C.isAnyArray(F))throw new TypeError("scale must be an array");return ht(this,F),this}case void 0:{if(F===void 0)F=Ft(this);else if(typeof F!="number")throw new TypeError("scale must be a number");return bt(this,F),this}default:throw new Error("invalid option: ".concat(W))}}},{key:"toString",value:function(W){return m(this,W)}}],[{key:"from1DArray",value:function(W,R,F){var rt=W*R;if(rt!==F.length)throw new RangeError("data length does not match given dimensions");for(var kt=new it(W,R),Vt=0;Vt<W;Vt++)for(var Gt=0;Gt<R;Gt++)kt.set(Vt,Gt,F[Vt*R+Gt]);return kt}},{key:"rowVector",value:function(W){for(var R=new it(1,W.length),F=0;F<W.length;F++)R.set(0,F,W[F]);return R}},{key:"columnVector",value:function(W){for(var R=new it(W.length,1),F=0;F<W.length;F++)R.set(F,0,W[F]);return R}},{key:"zeros",value:function(W,R){return new it(W,R)}},{key:"ones",value:function(W,R){return new it(W,R).fill(1)}},{key:"rand",value:function(W,R){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof F!="object")throw new TypeError("options must be an object");for(var rt=F.random,kt=rt===void 0?Math.random:rt,Vt=new it(W,R),Gt=0;Gt<W;Gt++)for(var Kt=0;Kt<R;Kt++)Vt.set(Gt,Kt,kt());return Vt}},{key:"randInt",value:function(W,R){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof F!="object")throw new TypeError("options must be an object");var rt=F.min,kt=rt===void 0?0:rt,Vt=F.max,Gt=Vt===void 0?1e3:Vt,Kt=F.random,we=Kt===void 0?Math.random:Kt;if(!Number.isInteger(kt))throw new TypeError("min must be an integer");if(!Number.isInteger(Gt))throw new TypeError("max must be an integer");if(kt>=Gt)throw new RangeError("min must be smaller than max");for(var me=Gt-kt,_e=new it(W,R),qe=0;qe<W;qe++)for(var De=0;De<R;De++){var dr=kt+Math.round(we()*me);_e.set(qe,De,dr)}return _e}},{key:"eye",value:function(W,R,F){R===void 0&&(R=W),F===void 0&&(F=1);for(var rt=Math.min(W,R),kt=this.zeros(W,R),Vt=0;Vt<rt;Vt++)kt.set(Vt,Vt,F);return kt}},{key:"diag",value:function(W,R,F){var rt=W.length;R===void 0&&(R=rt),F===void 0&&(F=R);for(var kt=Math.min(rt,R,F),Vt=this.zeros(R,F),Gt=0;Gt<kt;Gt++)Vt.set(Gt,Gt,W[Gt]);return Vt}},{key:"min",value:function(W,R){W=this.checkMatrix(W),R=this.checkMatrix(R);for(var F=W.rows,rt=W.columns,kt=new it(F,rt),Vt=0;Vt<F;Vt++)for(var Gt=0;Gt<rt;Gt++)kt.set(Vt,Gt,Math.min(W.get(Vt,Gt),R.get(Vt,Gt)));return kt}},{key:"max",value:function(W,R){W=this.checkMatrix(W),R=this.checkMatrix(R);for(var F=W.rows,rt=W.columns,kt=new this(F,rt),Vt=0;Vt<F;Vt++)for(var Gt=0;Gt<rt;Gt++)kt.set(Vt,Gt,Math.max(W.get(Vt,Gt),R.get(Vt,Gt)));return kt}},{key:"checkMatrix",value:function(W){return Pt.isMatrix(W)?W:new it(W)}},{key:"isMatrix",value:function(W){return W!=null&&W.klass==="Matrix"}}]),Pt}();at.prototype.klass="Matrix",typeof Symbol!="undefined"&&(at.prototype[Symbol.for("nodejs.util.inspect.custom")]=y);function xt(Pt,Ot){return Pt-Ot}function lt(Pt){return Pt.every(function(Ot){return typeof Ot=="number"})}at.random=at.rand,at.randomInt=at.randInt,at.diagonal=at.diag,at.prototype.diagonal=at.prototype.diag,at.identity=at.eye,at.prototype.negate=at.prototype.neg,at.prototype.tensorProduct=at.prototype.kroneckerProduct;var it=function(Pt){I(W,Pt);var Ot=_(W);function W(R,F){var rt;if(T(this,W),rt=Ot.call(this),W.isMatrix(R))return O(rt,R.clone());if(Number.isInteger(R)&&R>=0)if(rt.data=[],Number.isInteger(F)&&F>=0)for(var kt=0;kt<R;kt++)rt.data.push(new Float64Array(F));else throw new TypeError("nColumns must be a positive integer");else if(C.isAnyArray(R)){var Vt=R;if(R=Vt.length,F=R?Vt[0].length:0,typeof F!="number")throw new TypeError("Data must be a 2D array with at least one element");rt.data=[];for(var Gt=0;Gt<R;Gt++){if(Vt[Gt].length!==F)throw new RangeError("Inconsistent array dimensions");if(!lt(Vt[Gt]))throw new TypeError("Input data contains non-numeric values");rt.data.push(Float64Array.from(Vt[Gt]))}}else throw new TypeError("First argument must be a positive number or an array");return rt.rows=R,rt.columns=F,rt}return A(W,[{key:"set",value:function(F,rt,kt){return this.data[F][rt]=kt,this}},{key:"get",value:function(F,rt){return this.data[F][rt]}},{key:"removeRow",value:function(F){return N(this,F),this.data.splice(F,1),this.rows-=1,this}},{key:"addRow",value:function(F,rt){return rt===void 0&&(rt=F,F=this.rows),N(this,F,!0),rt=Float64Array.from(tt(this,rt)),this.data.splice(F,0,rt),this.rows+=1,this}},{key:"removeColumn",value:function(F){j(this,F);for(var rt=0;rt<this.rows;rt++){for(var kt=new Float64Array(this.columns-1),Vt=0;Vt<F;Vt++)kt[Vt]=this.data[rt][Vt];for(var Gt=F+1;Gt<this.columns;Gt++)kt[Gt-1]=this.data[rt][Gt];this.data[rt]=kt}return this.columns-=1,this}},{key:"addColumn",value:function(F,rt){typeof rt=="undefined"&&(rt=F,F=this.columns),j(this,F,!0),rt=H(this,rt);for(var kt=0;kt<this.rows;kt++){for(var Vt=new Float64Array(this.columns+1),Gt=0;Gt<F;Gt++)Vt[Gt]=this.data[kt][Gt];for(Vt[Gt++]=rt[kt];Gt<this.columns+1;Gt++)Vt[Gt]=this.data[kt][Gt-1];this.data[kt]=Vt}return this.columns+=1,this}}]),W}(at);B(at,it);var yt=function(Pt){I(W,Pt);var Ot=_(W);function W(R,F,rt){var kt;return T(this,W),kt=Ot.call(this),kt.matrix=R,kt.rows=F,kt.columns=rt,kt}return A(W)}(at),ft=function(Pt){I(W,Pt);var Ot=_(W);function W(R,F){var rt;return T(this,W),j(R,F),rt=Ot.call(this,R,R.rows,1),rt.column=F,rt}return A(W,[{key:"set",value:function(F,rt,kt){return this.matrix.set(F,this.column,kt),this}},{key:"get",value:function(F){return this.matrix.get(F,this.column)}}]),W}(yt),st=function(Pt){I(W,Pt);var Ot=_(W);function W(R,F){var rt;return T(this,W),ct(R,F),rt=Ot.call(this,R,R.rows,F.length),rt.columnIndices=F,rt}return A(W,[{key:"set",value:function(F,rt,kt){return this.matrix.set(F,this.columnIndices[rt],kt),this}},{key:"get",value:function(F,rt){return this.matrix.get(F,this.columnIndices[rt])}}]),W}(yt),Ct=function(Pt){I(W,Pt);var Ot=_(W);function W(R){return T(this,W),Ot.call(this,R,R.rows,R.columns)}return A(W,[{key:"set",value:function(F,rt,kt){return this.matrix.set(F,this.columns-rt-1,kt),this}},{key:"get",value:function(F,rt){return this.matrix.get(F,this.columns-rt-1)}}]),W}(yt),Rt=function(Pt){I(W,Pt);var Ot=_(W);function W(R){return T(this,W),Ot.call(this,R,R.rows,R.columns)}return A(W,[{key:"set",value:function(F,rt,kt){return this.matrix.set(this.rows-F-1,rt,kt),this}},{key:"get",value:function(F,rt){return this.matrix.get(this.rows-F-1,rt)}}]),W}(yt),re=function(Pt){I(W,Pt);var Ot=_(W);function W(R,F){var rt;return T(this,W),N(R,F),rt=Ot.call(this,R,1,R.columns),rt.row=F,rt}return A(W,[{key:"set",value:function(F,rt,kt){return this.matrix.set(this.row,rt,kt),this}},{key:"get",value:function(F,rt){return this.matrix.get(this.row,rt)}}]),W}(yt),pe=function(Pt){I(W,Pt);var Ot=_(W);function W(R,F){var rt;return T(this,W),J(R,F),rt=Ot.call(this,R,F.length,R.columns),rt.rowIndices=F,rt}return A(W,[{key:"set",value:function(F,rt,kt){return this.matrix.set(this.rowIndices[F],rt,kt),this}},{key:"get",value:function(F,rt){return this.matrix.get(this.rowIndices[F],rt)}}]),W}(yt),Me=function(Pt){I(W,Pt);var Ot=_(W);function W(R,F,rt){var kt;return T(this,W),J(R,F),ct(R,rt),kt=Ot.call(this,R,F.length,rt.length),kt.rowIndices=F,kt.columnIndices=rt,kt}return A(W,[{key:"set",value:function(F,rt,kt){return this.matrix.set(this.rowIndices[F],this.columnIndices[rt],kt),this}},{key:"get",value:function(F,rt){return this.matrix.get(this.rowIndices[F],this.columnIndices[rt])}}]),W}(yt),Xe=function(Pt){I(W,Pt);var Ot=_(W);function W(R,F,rt,kt,Vt){var Gt;return T(this,W),ut(R,F,rt,kt,Vt),Gt=Ot.call(this,R,rt-F+1,Vt-kt+1),Gt.startRow=F,Gt.startColumn=kt,Gt}return A(W,[{key:"set",value:function(F,rt,kt){return this.matrix.set(this.startRow+F,this.startColumn+rt,kt),this}},{key:"get",value:function(F,rt){return this.matrix.get(this.startRow+F,this.startColumn+rt)}}]),W}(yt),Be=function(Pt){I(W,Pt);var Ot=_(W);function W(R){return T(this,W),Ot.call(this,R,R.columns,R.rows)}return A(W,[{key:"set",value:function(F,rt,kt){return this.matrix.set(rt,F,kt),this}},{key:"get",value:function(F,rt){return this.matrix.get(rt,F)}}]),W}(yt),Re=function(Pt){I(W,Pt);var Ot=_(W);function W(R){var F,rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};T(this,W);var kt=rt.rows,Vt=kt===void 0?1:kt;if(R.length%Vt!=0)throw new Error("the data length is not divisible by the number of rows");return F=Ot.call(this),F.rows=Vt,F.columns=R.length/Vt,F.data=R,F}return A(W,[{key:"set",value:function(F,rt,kt){var Vt=this._calculateIndex(F,rt);return this.data[Vt]=kt,this}},{key:"get",value:function(F,rt){var kt=this._calculateIndex(F,rt);return this.data[kt]}},{key:"_calculateIndex",value:function(F,rt){return F*this.columns+rt}}]),W}(at),Ke=function(Pt){I(W,Pt);var Ot=_(W);function W(R){var F;return T(this,W),F=Ot.call(this),F.data=R,F.rows=R.length,F.columns=R[0].length,F}return A(W,[{key:"set",value:function(F,rt,kt){return this.data[F][rt]=kt,this}},{key:"get",value:function(F,rt){return this.data[F][rt]}}]),W}(at);function ar(Pt,Ot){if(C.isAnyArray(Pt))return Pt[0]&&C.isAnyArray(Pt[0])?new Ke(Pt):new Re(Pt,Ot);throw new Error("the argument is not an array")}var Mr=function(){function Pt(Ot){T(this,Pt),Ot=Ke.checkMatrix(Ot);var W=Ot.clone(),R=W.rows,F=W.columns,rt=new Float64Array(R),kt=1,Vt,Gt,Kt,we,me,_e,qe,De,dr;for(Vt=0;Vt<R;Vt++)rt[Vt]=Vt;for(De=new Float64Array(R),Gt=0;Gt<F;Gt++){for(Vt=0;Vt<R;Vt++)De[Vt]=W.get(Vt,Gt);for(Vt=0;Vt<R;Vt++){for(dr=Math.min(Vt,Gt),me=0,Kt=0;Kt<dr;Kt++)me+=W.get(Vt,Kt)*De[Kt];De[Vt]-=me,W.set(Vt,Gt,De[Vt])}for(we=Gt,Vt=Gt+1;Vt<R;Vt++)Math.abs(De[Vt])>Math.abs(De[we])&&(we=Vt);if(we!==Gt){for(Kt=0;Kt<F;Kt++)_e=W.get(we,Kt),W.set(we,Kt,W.get(Gt,Kt)),W.set(Gt,Kt,_e);qe=rt[we],rt[we]=rt[Gt],rt[Gt]=qe,kt=-kt}if(Gt<R&&W.get(Gt,Gt)!==0)for(Vt=Gt+1;Vt<R;Vt++)W.set(Vt,Gt,W.get(Vt,Gt)/W.get(Gt,Gt))}this.LU=W,this.pivotVector=rt,this.pivotSign=kt}return A(Pt,[{key:"isSingular",value:function(){for(var W=this.LU,R=W.columns,F=0;F<R;F++)if(W.get(F,F)===0)return!0;return!1}},{key:"solve",value:function(W){W=it.checkMatrix(W);var R=this.LU,F=R.rows;if(F!==W.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");var rt=W.columns,kt=W.subMatrixRow(this.pivotVector,0,rt-1),Vt=R.columns,Gt,Kt,we;for(we=0;we<Vt;we++)for(Gt=we+1;Gt<Vt;Gt++)for(Kt=0;Kt<rt;Kt++)kt.set(Gt,Kt,kt.get(Gt,Kt)-kt.get(we,Kt)*R.get(Gt,we));for(we=Vt-1;we>=0;we--){for(Kt=0;Kt<rt;Kt++)kt.set(we,Kt,kt.get(we,Kt)/R.get(we,we));for(Gt=0;Gt<we;Gt++)for(Kt=0;Kt<rt;Kt++)kt.set(Gt,Kt,kt.get(Gt,Kt)-kt.get(we,Kt)*R.get(Gt,we))}return kt}},{key:"determinant",get:function(){var W=this.LU;if(!W.isSquare())throw new Error("Matrix must be square");for(var R=this.pivotSign,F=W.columns,rt=0;rt<F;rt++)R*=W.get(rt,rt);return R}},{key:"lowerTriangularMatrix",get:function(){for(var W=this.LU,R=W.rows,F=W.columns,rt=new it(R,F),kt=0;kt<R;kt++)for(var Vt=0;Vt<F;Vt++)kt>Vt?rt.set(kt,Vt,W.get(kt,Vt)):kt===Vt?rt.set(kt,Vt,1):rt.set(kt,Vt,0);return rt}},{key:"upperTriangularMatrix",get:function(){for(var W=this.LU,R=W.rows,F=W.columns,rt=new it(R,F),kt=0;kt<R;kt++)for(var Vt=0;Vt<F;Vt++)kt<=Vt?rt.set(kt,Vt,W.get(kt,Vt)):rt.set(kt,Vt,0);return rt}},{key:"pivotPermutationVector",get:function(){return Array.from(this.pivotVector)}}]),Pt}();function sr(Pt,Ot){var W=0;return Math.abs(Pt)>Math.abs(Ot)?(W=Ot/Pt,Math.abs(Pt)*Math.sqrt(1+W*W)):Ot!==0?(W=Pt/Ot,Math.abs(Ot)*Math.sqrt(1+W*W)):0}var Xr=function(){function Pt(Ot){T(this,Pt),Ot=Ke.checkMatrix(Ot);var W=Ot.clone(),R=Ot.rows,F=Ot.columns,rt=new Float64Array(F),kt,Vt,Gt,Kt;for(Gt=0;Gt<F;Gt++){var we=0;for(kt=Gt;kt<R;kt++)we=sr(we,W.get(kt,Gt));if(we!==0){for(W.get(Gt,Gt)<0&&(we=-we),kt=Gt;kt<R;kt++)W.set(kt,Gt,W.get(kt,Gt)/we);for(W.set(Gt,Gt,W.get(Gt,Gt)+1),Vt=Gt+1;Vt<F;Vt++){for(Kt=0,kt=Gt;kt<R;kt++)Kt+=W.get(kt,Gt)*W.get(kt,Vt);for(Kt=-Kt/W.get(Gt,Gt),kt=Gt;kt<R;kt++)W.set(kt,Vt,W.get(kt,Vt)+Kt*W.get(kt,Gt))}}rt[Gt]=-we}this.QR=W,this.Rdiag=rt}return A(Pt,[{key:"solve",value:function(W){W=it.checkMatrix(W);var R=this.QR,F=R.rows;if(W.rows!==F)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");var rt=W.columns,kt=W.clone(),Vt=R.columns,Gt,Kt,we,me;for(we=0;we<Vt;we++)for(Kt=0;Kt<rt;Kt++){for(me=0,Gt=we;Gt<F;Gt++)me+=R.get(Gt,we)*kt.get(Gt,Kt);for(me=-me/R.get(we,we),Gt=we;Gt<F;Gt++)kt.set(Gt,Kt,kt.get(Gt,Kt)+me*R.get(Gt,we))}for(we=Vt-1;we>=0;we--){for(Kt=0;Kt<rt;Kt++)kt.set(we,Kt,kt.get(we,Kt)/this.Rdiag[we]);for(Gt=0;Gt<we;Gt++)for(Kt=0;Kt<rt;Kt++)kt.set(Gt,Kt,kt.get(Gt,Kt)-kt.get(we,Kt)*R.get(Gt,we))}return kt.subMatrix(0,Vt-1,0,rt-1)}},{key:"isFullRank",value:function(){for(var W=this.QR.columns,R=0;R<W;R++)if(this.Rdiag[R]===0)return!1;return!0}},{key:"upperTriangularMatrix",get:function(){var W=this.QR,R=W.columns,F=new it(R,R),rt,kt;for(rt=0;rt<R;rt++)for(kt=0;kt<R;kt++)rt<kt?F.set(rt,kt,W.get(rt,kt)):rt===kt?F.set(rt,kt,this.Rdiag[rt]):F.set(rt,kt,0);return F}},{key:"orthogonalMatrix",get:function(){var W=this.QR,R=W.rows,F=W.columns,rt=new it(R,F),kt,Vt,Gt,Kt;for(Gt=F-1;Gt>=0;Gt--){for(kt=0;kt<R;kt++)rt.set(kt,Gt,0);for(rt.set(Gt,Gt,1),Vt=Gt;Vt<F;Vt++)if(W.get(Gt,Gt)!==0){for(Kt=0,kt=Gt;kt<R;kt++)Kt+=W.get(kt,Gt)*rt.get(kt,Vt);for(Kt=-Kt/W.get(Gt,Gt),kt=Gt;kt<R;kt++)rt.set(kt,Vt,rt.get(kt,Vt)+Kt*W.get(kt,Gt))}}return rt}}]),Pt}(),pn=function(){function Pt(Ot){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(T(this,Pt),Ot=Ke.checkMatrix(Ot),Ot.isEmpty())throw new Error("Matrix must be non-empty");var R=Ot.rows,F=Ot.columns,rt=W.computeLeftSingularVectors,kt=rt===void 0?!0:rt,Vt=W.computeRightSingularVectors,Gt=Vt===void 0?!0:Vt,Kt=W.autoTranspose,we=Kt===void 0?!1:Kt,me=Boolean(kt),_e=Boolean(Gt),qe=!1,De;if(R<F)if(!we)De=Ot.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{De=Ot.transpose(),R=De.rows,F=De.columns,qe=!0;var dr=me;me=_e,_e=dr}else De=Ot.clone();for(var Rr=Math.min(R,F),Oe=Math.min(R+1,F),je=new Float64Array(Oe),nr=new it(R,Rr),Je=new it(F,F),hr=new Float64Array(F),un=new Float64Array(R),Qr=new Float64Array(Oe),Pr=0;Pr<Oe;Pr++)Qr[Pr]=Pr;for(var Hr=Math.min(R-1,F),wn=Math.max(0,Math.min(F-2,R)),fn=Math.max(Hr,wn),Er=0;Er<fn;Er++){if(Er<Hr){je[Er]=0;for(var on=Er;on<R;on++)je[Er]=sr(je[Er],De.get(on,Er));if(je[Er]!==0){De.get(Er,Er)<0&&(je[Er]=-je[Er]);for(var Dn=Er;Dn<R;Dn++)De.set(Dn,Er,De.get(Dn,Er)/je[Er]);De.set(Er,Er,De.get(Er,Er)+1)}je[Er]=-je[Er]}for(var Mn=Er+1;Mn<F;Mn++){if(Er<Hr&&je[Er]!==0){for(var de=0,Wt=Er;Wt<R;Wt++)de+=De.get(Wt,Er)*De.get(Wt,Mn);de=-de/De.get(Er,Er);for(var ve=Er;ve<R;ve++)De.set(ve,Mn,De.get(ve,Mn)+de*De.get(ve,Er))}hr[Mn]=De.get(Er,Mn)}if(me&&Er<Hr)for(var Ee=Er;Ee<R;Ee++)nr.set(Ee,Er,De.get(Ee,Er));if(Er<wn){hr[Er]=0;for(var Ge=Er+1;Ge<F;Ge++)hr[Er]=sr(hr[Er],hr[Ge]);if(hr[Er]!==0){hr[Er+1]<0&&(hr[Er]=0-hr[Er]);for(var tr=Er+1;tr<F;tr++)hr[tr]/=hr[Er];hr[Er+1]+=1}if(hr[Er]=-hr[Er],Er+1<R&&hr[Er]!==0){for(var vr=Er+1;vr<R;vr++)un[vr]=0;for(var cr=Er+1;cr<R;cr++)for(var Gr=Er+1;Gr<F;Gr++)un[cr]+=hr[Gr]*De.get(cr,Gr);for(var rn=Er+1;rn<F;rn++)for(var Vn=-hr[rn]/hr[Er+1],Ut=Er+1;Ut<R;Ut++)De.set(Ut,rn,De.get(Ut,rn)+Vn*un[Ut])}if(_e)for(var ie=Er+1;ie<F;ie++)Je.set(ie,Er,hr[ie])}}var se=Math.min(F,R+1);if(Hr<F&&(je[Hr]=De.get(Hr,Hr)),R<se&&(je[se-1]=0),wn+1<se&&(hr[wn]=De.get(wn,se-1)),hr[se-1]=0,me){for(var Ce=Hr;Ce<Rr;Ce++){for(var Te=0;Te<R;Te++)nr.set(Te,Ce,0);nr.set(Ce,Ce,1)}for(var ke=Hr-1;ke>=0;ke--)if(je[ke]!==0){for(var ir=ke+1;ir<Rr;ir++){for(var or=0,Or=ke;Or<R;Or++)or+=nr.get(Or,ke)*nr.get(Or,ir);or=-or/nr.get(ke,ke);for(var Cr=ke;Cr<R;Cr++)nr.set(Cr,ir,nr.get(Cr,ir)+or*nr.get(Cr,ke))}for(var Ar=ke;Ar<R;Ar++)nr.set(Ar,ke,-nr.get(Ar,ke));nr.set(ke,ke,1+nr.get(ke,ke));for(var hn=0;hn<ke-1;hn++)nr.set(hn,ke,0)}else{for(var sn=0;sn<R;sn++)nr.set(sn,ke,0);nr.set(ke,ke,1)}}if(_e)for(var Jr=F-1;Jr>=0;Jr--){if(Jr<wn&&hr[Jr]!==0)for(var ln=Jr+1;ln<F;ln++){for(var Fn=0,kn=Jr+1;kn<F;kn++)Fn+=Je.get(kn,Jr)*Je.get(kn,ln);Fn=-Fn/Je.get(Jr+1,Jr);for(var Jn=Jr+1;Jn<F;Jn++)Je.set(Jn,ln,Je.get(Jn,ln)+Fn*Je.get(Jn,Jr))}for(var Rn=0;Rn<F;Rn++)Je.set(Rn,Jr,0);Je.set(Jr,Jr,1)}for(var Ai=se-1,ti=Number.EPSILON;se>0;){var Sr=void 0,ii=void 0;for(Sr=se-2;Sr>=-1&&Sr!==-1;Sr--){var ea=Number.MIN_VALUE+ti*Math.abs(je[Sr]+Math.abs(je[Sr+1]));if(Math.abs(hr[Sr])<=ea||Number.isNaN(hr[Sr])){hr[Sr]=0;break}}if(Sr===se-2)ii=4;else{var yn=void 0;for(yn=se-1;yn>=Sr&&yn!==Sr;yn--){var Ti=(yn!==se?Math.abs(hr[yn]):0)+(yn!==Sr+1?Math.abs(hr[yn-1]):0);if(Math.abs(je[yn])<=ti*Ti){je[yn]=0;break}}yn===Sr?ii=3:yn===se-1?ii=1:(ii=2,Sr=yn)}switch(Sr++,ii){case 1:{var _i=hr[se-2];hr[se-2]=0;for(var ai=se-2;ai>=Sr;ai--){var Oi=sr(je[ai],_i),ca=je[ai]/Oi,zi=_i/Oi;if(je[ai]=Oi,ai!==Sr&&(_i=-zi*hr[ai-1],hr[ai-1]=ca*hr[ai-1]),_e)for(var mi=0;mi<F;mi++)Oi=ca*Je.get(mi,ai)+zi*Je.get(mi,se-1),Je.set(mi,se-1,-zi*Je.get(mi,ai)+ca*Je.get(mi,se-1)),Je.set(mi,ai,Oi)}break}case 2:{var xi=hr[Sr-1];hr[Sr-1]=0;for(var In=Sr;In<se;In++){var Ki=sr(je[In],xi),Li=je[In]/Ki,Ii=xi/Ki;if(je[In]=Ki,xi=-Ii*hr[In],hr[In]=Li*hr[In],me)for(var oi=0;oi<R;oi++)Ki=Li*nr.get(oi,In)+Ii*nr.get(oi,Sr-1),nr.set(oi,Sr-1,-Ii*nr.get(oi,In)+Li*nr.get(oi,Sr-1)),nr.set(oi,In,Ki)}break}case 3:{var ra=Math.max(Math.abs(je[se-1]),Math.abs(je[se-2]),Math.abs(hr[se-2]),Math.abs(je[Sr]),Math.abs(hr[Sr])),na=je[se-1]/ra,Da=je[se-2]/ra,va=hr[se-2]/ra,wa=je[Sr]/ra,Sa=hr[Sr]/ra,qn=((Da+na)*(Da-na)+va*va)/2,Ma=na*va*(na*va),da=0;(qn!==0||Ma!==0)&&(qn<0?da=0-Math.sqrt(qn*qn+Ma):da=Math.sqrt(qn*qn+Ma),da=Ma/(qn+da));for(var $i=(wa+na)*(wa-na)+da,Xi=wa*Sa,zr=Sr;zr<se-1;zr++){var ui=sr($i,Xi);ui===0&&(ui=Number.MIN_VALUE);var Nn=$i/ui,cn=Xi/ui;if(zr!==Sr&&(hr[zr-1]=ui),$i=Nn*je[zr]+cn*hr[zr],hr[zr]=Nn*hr[zr]-cn*je[zr],Xi=cn*je[zr+1],je[zr+1]=Nn*je[zr+1],_e)for(var Vi=0;Vi<F;Vi++)ui=Nn*Je.get(Vi,zr)+cn*Je.get(Vi,zr+1),Je.set(Vi,zr+1,-cn*Je.get(Vi,zr)+Nn*Je.get(Vi,zr+1)),Je.set(Vi,zr,ui);if(ui=sr($i,Xi),ui===0&&(ui=Number.MIN_VALUE),Nn=$i/ui,cn=Xi/ui,je[zr]=ui,$i=Nn*hr[zr]+cn*je[zr+1],je[zr+1]=-cn*hr[zr]+Nn*je[zr+1],Xi=cn*hr[zr+1],hr[zr+1]=Nn*hr[zr+1],me&&zr<R-1)for(var vn=0;vn<R;vn++)ui=Nn*nr.get(vn,zr)+cn*nr.get(vn,zr+1),nr.set(vn,zr+1,-cn*nr.get(vn,zr)+Nn*nr.get(vn,zr+1)),nr.set(vn,zr,ui)}hr[se-2]=$i;break}case 4:{if(je[Sr]<=0&&(je[Sr]=je[Sr]<0?-je[Sr]:0,_e))for(var Hi=0;Hi<=Ai;Hi++)Je.set(Hi,Sr,-Je.get(Hi,Sr));for(;Sr<Ai&&!(je[Sr]>=je[Sr+1]);){var Qt=je[Sr];if(je[Sr]=je[Sr+1],je[Sr+1]=Qt,_e&&Sr<F-1)for(var wt=0;wt<F;wt++)Qt=Je.get(wt,Sr+1),Je.set(wt,Sr+1,Je.get(wt,Sr)),Je.set(wt,Sr,Qt);if(me&&Sr<R-1)for(var z=0;z<R;z++)Qt=nr.get(z,Sr+1),nr.set(z,Sr+1,nr.get(z,Sr)),nr.set(z,Sr,Qt);Sr++}se--;break}}}if(qe){var nt=Je;Je=nr,nr=nt}this.m=R,this.n=F,this.s=je,this.U=nr,this.V=Je}return A(Pt,[{key:"solve",value:function(W){for(var R=W,F=this.threshold,rt=this.s.length,kt=it.zeros(rt,rt),Vt=0;Vt<rt;Vt++)Math.abs(this.s[Vt])<=F?kt.set(Vt,Vt,0):kt.set(Vt,Vt,1/this.s[Vt]);for(var Gt=this.U,Kt=this.rightSingularVectors,we=Kt.mmul(kt),me=Kt.rows,_e=Gt.rows,qe=it.zeros(me,_e),De=0;De<me;De++)for(var dr=0;dr<_e;dr++){for(var Rr=0,Oe=0;Oe<rt;Oe++)Rr+=we.get(De,Oe)*Gt.get(dr,Oe);qe.set(De,dr,Rr)}return qe.mmul(R)}},{key:"solveForDiagonal",value:function(W){return this.solve(it.diag(W))}},{key:"inverse",value:function(){for(var W=this.V,R=this.threshold,F=W.rows,rt=W.columns,kt=new it(F,this.s.length),Vt=0;Vt<F;Vt++)for(var Gt=0;Gt<rt;Gt++)Math.abs(this.s[Gt])>R&&kt.set(Vt,Gt,W.get(Vt,Gt)/this.s[Gt]);for(var Kt=this.U,we=Kt.rows,me=Kt.columns,_e=new it(F,we),qe=0;qe<F;qe++)for(var De=0;De<we;De++){for(var dr=0,Rr=0;Rr<me;Rr++)dr+=kt.get(qe,Rr)*Kt.get(De,Rr);_e.set(qe,De,dr)}return _e}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var W=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,R=0,F=this.s,rt=0,kt=F.length;rt<kt;rt++)F[rt]>W&&R++;return R}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return it.diag(this.s)}}]),Pt}();function jr(Pt){var Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Pt=Ke.checkMatrix(Pt),Ot?new pn(Pt).inverse():en(Pt,it.eye(Pt.rows))}function en(Pt,Ot){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return Pt=Ke.checkMatrix(Pt),Ot=Ke.checkMatrix(Ot),W?new pn(Pt).solve(Ot):Pt.isSquare()?new Mr(Pt).solve(Ot):new Xr(Pt).solve(Ot)}function Xn(Pt){if(Pt=it.checkMatrix(Pt),Pt.isSquare()){if(Pt.columns===0)return 1;var Ot,W,R,F;if(Pt.columns===2)return Ot=Pt.get(0,0),W=Pt.get(0,1),R=Pt.get(1,0),F=Pt.get(1,1),Ot*F-W*R;if(Pt.columns===3){var rt,kt,Vt;return rt=new Me(Pt,[1,2],[1,2]),kt=new Me(Pt,[1,2],[0,2]),Vt=new Me(Pt,[1,2],[0,1]),Ot=Pt.get(0,0),W=Pt.get(0,1),R=Pt.get(0,2),Ot*Xn(rt)-W*Xn(kt)+R*Xn(Vt)}else return new Mr(Pt).determinant}else throw Error("determinant can only be calculated for a square matrix")}function ni(Pt,Ot){for(var W=[],R=0;R<Pt;R++)R!==Ot&&W.push(R);return W}function gi(Pt,Ot,W){var R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e-9,F=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-9;if(Pt>F)return new Array(Ot.rows+1).fill(0);for(var rt=Ot.addRow(W,[0]),kt=0;kt<rt.rows;kt++)Math.abs(rt.get(kt,0))<R&&rt.set(kt,0,0);return rt.to1DArray()}function yi(Pt){var Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=Ot.thresholdValue,R=W===void 0?1e-9:W,F=Ot.thresholdError,rt=F===void 0?1e-9:F;Pt=it.checkMatrix(Pt);for(var kt=Pt.rows,Vt=new it(kt,kt),Gt=0;Gt<kt;Gt++){var Kt=it.columnVector(Pt.getRow(Gt)),we=Pt.subMatrixRow(ni(kt,Gt)).transpose(),me=new pn(we),_e=me.solve(Kt),qe=it.sub(Kt,we.mmul(_e)).abs().max();Vt.setRow(Gt,gi(qe,_e,Gt,R,rt))}return Vt}function te(Pt){var Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.EPSILON;if(Pt=it.checkMatrix(Pt),Pt.isEmpty())return Pt.transpose();for(var W=new pn(Pt,{autoTranspose:!0}),R=W.leftSingularVectors,F=W.rightSingularVectors,rt=W.diagonal,kt=0;kt<rt.length;kt++)Math.abs(rt[kt])>Ot?rt[kt]=1/rt[kt]:rt[kt]=0;return F.mmul(it.diag(rt).mmul(R.transpose()))}function he(Pt){var Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pt,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Pt=new it(Pt);var R=!1;if(typeof Ot=="object"&&!it.isMatrix(Ot)&&!C.isAnyArray(Ot)?(W=Ot,Ot=Pt,R=!0):Ot=new it(Ot),Pt.rows!==Ot.rows)throw new TypeError("Both matrices must have the same number of rows");var F=W,rt=F.center,kt=rt===void 0?!0:rt;kt&&(Pt=Pt.center("column"),R||(Ot=Ot.center("column")));for(var Vt=Pt.transpose().mmul(Ot),Gt=0;Gt<Vt.rows;Gt++)for(var Kt=0;Kt<Vt.columns;Kt++)Vt.set(Gt,Kt,Vt.get(Gt,Kt)*(1/(Pt.rows-1)));return Vt}function be(Pt){var Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pt,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Pt=new it(Pt);var R=!1;if(typeof Ot=="object"&&!it.isMatrix(Ot)&&!C.isAnyArray(Ot)?(W=Ot,Ot=Pt,R=!0):Ot=new it(Ot),Pt.rows!==Ot.rows)throw new TypeError("Both matrices must have the same number of rows");var F=W,rt=F.center,kt=rt===void 0?!0:rt,Vt=F.scale,Gt=Vt===void 0?!0:Vt;kt&&(Pt.center("column"),R||Ot.center("column")),Gt&&(Pt.scale("column"),R||Ot.scale("column"));for(var Kt=Pt.standardDeviation("column",{unbiased:!0}),we=R?Kt:Ot.standardDeviation("column",{unbiased:!0}),me=Pt.transpose().mmul(Ot),_e=0;_e<me.rows;_e++)for(var qe=0;qe<me.columns;qe++)me.set(_e,qe,me.get(_e,qe)*(1/(Kt[_e]*we[qe]))*(1/(Pt.rows-1)));return me}var Se=function(){function Pt(Ot){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};T(this,Pt);var R=W.assumeSymmetric,F=R===void 0?!1:R;if(Ot=Ke.checkMatrix(Ot),!Ot.isSquare())throw new Error("Matrix is not a square matrix");if(Ot.isEmpty())throw new Error("Matrix must be non-empty");var rt=Ot.columns,kt=new it(rt,rt),Vt=new Float64Array(rt),Gt=new Float64Array(rt),Kt=Ot,we,me,_e=!1;if(F?_e=!0:_e=Ot.isSymmetric(),_e){for(we=0;we<rt;we++)for(me=0;me<rt;me++)kt.set(we,me,Kt.get(we,me));Le(rt,Gt,Vt,kt),Ne(rt,Gt,Vt,kt)}else{var qe=new it(rt,rt),De=new Float64Array(rt);for(me=0;me<rt;me++)for(we=0;we<rt;we++)qe.set(we,me,Kt.get(we,me));Fe(rt,qe,De,kt),Ve(rt,Gt,Vt,kt,qe)}this.n=rt,this.e=Gt,this.d=Vt,this.V=kt}return A(Pt,[{key:"realEigenvalues",get:function(){return Array.from(this.d)}},{key:"imaginaryEigenvalues",get:function(){return Array.from(this.e)}},{key:"eigenvectorMatrix",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){var W=this.n,R=this.e,F=this.d,rt=new it(W,W),kt,Vt;for(kt=0;kt<W;kt++){for(Vt=0;Vt<W;Vt++)rt.set(kt,Vt,0);rt.set(kt,kt,F[kt]),R[kt]>0?rt.set(kt,kt+1,R[kt]):R[kt]<0&&rt.set(kt,kt-1,R[kt])}return rt}}]),Pt}();function Le(Pt,Ot,W,R){var F,rt,kt,Vt,Gt,Kt,we,me;for(Gt=0;Gt<Pt;Gt++)W[Gt]=R.get(Pt-1,Gt);for(Vt=Pt-1;Vt>0;Vt--){for(me=0,kt=0,Kt=0;Kt<Vt;Kt++)me=me+Math.abs(W[Kt]);if(me===0)for(Ot[Vt]=W[Vt-1],Gt=0;Gt<Vt;Gt++)W[Gt]=R.get(Vt-1,Gt),R.set(Vt,Gt,0),R.set(Gt,Vt,0);else{for(Kt=0;Kt<Vt;Kt++)W[Kt]/=me,kt+=W[Kt]*W[Kt];for(F=W[Vt-1],rt=Math.sqrt(kt),F>0&&(rt=-rt),Ot[Vt]=me*rt,kt=kt-F*rt,W[Vt-1]=F-rt,Gt=0;Gt<Vt;Gt++)Ot[Gt]=0;for(Gt=0;Gt<Vt;Gt++){for(F=W[Gt],R.set(Gt,Vt,F),rt=Ot[Gt]+R.get(Gt,Gt)*F,Kt=Gt+1;Kt<=Vt-1;Kt++)rt+=R.get(Kt,Gt)*W[Kt],Ot[Kt]+=R.get(Kt,Gt)*F;Ot[Gt]=rt}for(F=0,Gt=0;Gt<Vt;Gt++)Ot[Gt]/=kt,F+=Ot[Gt]*W[Gt];for(we=F/(kt+kt),Gt=0;Gt<Vt;Gt++)Ot[Gt]-=we*W[Gt];for(Gt=0;Gt<Vt;Gt++){for(F=W[Gt],rt=Ot[Gt],Kt=Gt;Kt<=Vt-1;Kt++)R.set(Kt,Gt,R.get(Kt,Gt)-(F*Ot[Kt]+rt*W[Kt]));W[Gt]=R.get(Vt-1,Gt),R.set(Vt,Gt,0)}}W[Vt]=kt}for(Vt=0;Vt<Pt-1;Vt++){if(R.set(Pt-1,Vt,R.get(Vt,Vt)),R.set(Vt,Vt,1),kt=W[Vt+1],kt!==0){for(Kt=0;Kt<=Vt;Kt++)W[Kt]=R.get(Kt,Vt+1)/kt;for(Gt=0;Gt<=Vt;Gt++){for(rt=0,Kt=0;Kt<=Vt;Kt++)rt+=R.get(Kt,Vt+1)*R.get(Kt,Gt);for(Kt=0;Kt<=Vt;Kt++)R.set(Kt,Gt,R.get(Kt,Gt)-rt*W[Kt])}}for(Kt=0;Kt<=Vt;Kt++)R.set(Kt,Vt+1,0)}for(Gt=0;Gt<Pt;Gt++)W[Gt]=R.get(Pt-1,Gt),R.set(Pt-1,Gt,0);R.set(Pt-1,Pt-1,1),Ot[0]=0}function Ne(Pt,Ot,W,R){var F,rt,kt,Vt,Gt,Kt,we,me,_e,qe,De,dr,Rr,Oe,je,nr;for(kt=1;kt<Pt;kt++)Ot[kt-1]=Ot[kt];Ot[Pt-1]=0;var Je=0,hr=0,un=Number.EPSILON;for(Kt=0;Kt<Pt;Kt++){for(hr=Math.max(hr,Math.abs(W[Kt])+Math.abs(Ot[Kt])),we=Kt;we<Pt&&!(Math.abs(Ot[we])<=un*hr);)we++;if(we>Kt)do{for(F=W[Kt],me=(W[Kt+1]-F)/(2*Ot[Kt]),_e=sr(me,1),me<0&&(_e=-_e),W[Kt]=Ot[Kt]/(me+_e),W[Kt+1]=Ot[Kt]*(me+_e),qe=W[Kt+1],rt=F-W[Kt],kt=Kt+2;kt<Pt;kt++)W[kt]-=rt;for(Je=Je+rt,me=W[we],De=1,dr=De,Rr=De,Oe=Ot[Kt+1],je=0,nr=0,kt=we-1;kt>=Kt;kt--)for(Rr=dr,dr=De,nr=je,F=De*Ot[kt],rt=De*me,_e=sr(me,Ot[kt]),Ot[kt+1]=je*_e,je=Ot[kt]/_e,De=me/_e,me=De*W[kt]-je*F,W[kt+1]=rt+je*(De*F+je*W[kt]),Gt=0;Gt<Pt;Gt++)rt=R.get(Gt,kt+1),R.set(Gt,kt+1,je*R.get(Gt,kt)+De*rt),R.set(Gt,kt,De*R.get(Gt,kt)-je*rt);me=-je*nr*Rr*Oe*Ot[Kt]/qe,Ot[Kt]=je*me,W[Kt]=De*me}while(Math.abs(Ot[Kt])>un*hr);W[Kt]=W[Kt]+Je,Ot[Kt]=0}for(kt=0;kt<Pt-1;kt++){for(Gt=kt,me=W[kt],Vt=kt+1;Vt<Pt;Vt++)W[Vt]<me&&(Gt=Vt,me=W[Vt]);if(Gt!==kt)for(W[Gt]=W[kt],W[kt]=me,Vt=0;Vt<Pt;Vt++)me=R.get(Vt,kt),R.set(Vt,kt,R.get(Vt,Gt)),R.set(Vt,Gt,me)}}function Fe(Pt,Ot,W,R){var F=0,rt=Pt-1,kt,Vt,Gt,Kt,we,me,_e;for(me=F+1;me<=rt-1;me++){for(_e=0,Kt=me;Kt<=rt;Kt++)_e=_e+Math.abs(Ot.get(Kt,me-1));if(_e!==0){for(Gt=0,Kt=rt;Kt>=me;Kt--)W[Kt]=Ot.get(Kt,me-1)/_e,Gt+=W[Kt]*W[Kt];for(Vt=Math.sqrt(Gt),W[me]>0&&(Vt=-Vt),Gt=Gt-W[me]*Vt,W[me]=W[me]-Vt,we=me;we<Pt;we++){for(kt=0,Kt=rt;Kt>=me;Kt--)kt+=W[Kt]*Ot.get(Kt,we);for(kt=kt/Gt,Kt=me;Kt<=rt;Kt++)Ot.set(Kt,we,Ot.get(Kt,we)-kt*W[Kt])}for(Kt=0;Kt<=rt;Kt++){for(kt=0,we=rt;we>=me;we--)kt+=W[we]*Ot.get(Kt,we);for(kt=kt/Gt,we=me;we<=rt;we++)Ot.set(Kt,we,Ot.get(Kt,we)-kt*W[we])}W[me]=_e*W[me],Ot.set(me,me-1,_e*Vt)}}for(Kt=0;Kt<Pt;Kt++)for(we=0;we<Pt;we++)R.set(Kt,we,Kt===we?1:0);for(me=rt-1;me>=F+1;me--)if(Ot.get(me,me-1)!==0){for(Kt=me+1;Kt<=rt;Kt++)W[Kt]=Ot.get(Kt,me-1);for(we=me;we<=rt;we++){for(Vt=0,Kt=me;Kt<=rt;Kt++)Vt+=W[Kt]*R.get(Kt,we);for(Vt=Vt/W[me]/Ot.get(me,me-1),Kt=me;Kt<=rt;Kt++)R.set(Kt,we,R.get(Kt,we)+Vt*W[Kt])}}}function Ve(Pt,Ot,W,R,F){var rt=Pt-1,kt=0,Vt=Pt-1,Gt=Number.EPSILON,Kt=0,we=0,me=0,_e=0,qe=0,De=0,dr=0,Rr=0,Oe,je,nr,Je,hr,un,Qr,Pr,Hr,wn,fn,Er,on,Dn,Mn;for(Oe=0;Oe<Pt;Oe++)for((Oe<kt||Oe>Vt)&&(W[Oe]=F.get(Oe,Oe),Ot[Oe]=0),je=Math.max(Oe-1,0);je<Pt;je++)we=we+Math.abs(F.get(Oe,je));for(;rt>=kt;){for(Je=rt;Je>kt&&(De=Math.abs(F.get(Je-1,Je-1))+Math.abs(F.get(Je,Je)),De===0&&(De=we),!(Math.abs(F.get(Je,Je-1))<Gt*De));)Je--;if(Je===rt)F.set(rt,rt,F.get(rt,rt)+Kt),W[rt]=F.get(rt,rt),Ot[rt]=0,rt--,Rr=0;else if(Je===rt-1){if(Qr=F.get(rt,rt-1)*F.get(rt-1,rt),me=(F.get(rt-1,rt-1)-F.get(rt,rt))/2,_e=me*me+Qr,dr=Math.sqrt(Math.abs(_e)),F.set(rt,rt,F.get(rt,rt)+Kt),F.set(rt-1,rt-1,F.get(rt-1,rt-1)+Kt),Pr=F.get(rt,rt),_e>=0){for(dr=me>=0?me+dr:me-dr,W[rt-1]=Pr+dr,W[rt]=W[rt-1],dr!==0&&(W[rt]=Pr-Qr/dr),Ot[rt-1]=0,Ot[rt]=0,Pr=F.get(rt,rt-1),De=Math.abs(Pr)+Math.abs(dr),me=Pr/De,_e=dr/De,qe=Math.sqrt(me*me+_e*_e),me=me/qe,_e=_e/qe,je=rt-1;je<Pt;je++)dr=F.get(rt-1,je),F.set(rt-1,je,_e*dr+me*F.get(rt,je)),F.set(rt,je,_e*F.get(rt,je)-me*dr);for(Oe=0;Oe<=rt;Oe++)dr=F.get(Oe,rt-1),F.set(Oe,rt-1,_e*dr+me*F.get(Oe,rt)),F.set(Oe,rt,_e*F.get(Oe,rt)-me*dr);for(Oe=kt;Oe<=Vt;Oe++)dr=R.get(Oe,rt-1),R.set(Oe,rt-1,_e*dr+me*R.get(Oe,rt)),R.set(Oe,rt,_e*R.get(Oe,rt)-me*dr)}else W[rt-1]=Pr+me,W[rt]=Pr+me,Ot[rt-1]=dr,Ot[rt]=-dr;rt=rt-2,Rr=0}else{if(Pr=F.get(rt,rt),Hr=0,Qr=0,Je<rt&&(Hr=F.get(rt-1,rt-1),Qr=F.get(rt,rt-1)*F.get(rt-1,rt)),Rr===10){for(Kt+=Pr,Oe=kt;Oe<=rt;Oe++)F.set(Oe,Oe,F.get(Oe,Oe)-Pr);De=Math.abs(F.get(rt,rt-1))+Math.abs(F.get(rt-1,rt-2)),Pr=Hr=.75*De,Qr=-.4375*De*De}if(Rr===30&&(De=(Hr-Pr)/2,De=De*De+Qr,De>0)){for(De=Math.sqrt(De),Hr<Pr&&(De=-De),De=Pr-Qr/((Hr-Pr)/2+De),Oe=kt;Oe<=rt;Oe++)F.set(Oe,Oe,F.get(Oe,Oe)-De);Kt+=De,Pr=Hr=Qr=.964}for(Rr=Rr+1,hr=rt-2;hr>=Je&&(dr=F.get(hr,hr),qe=Pr-dr,De=Hr-dr,me=(qe*De-Qr)/F.get(hr+1,hr)+F.get(hr,hr+1),_e=F.get(hr+1,hr+1)-dr-qe-De,qe=F.get(hr+2,hr+1),De=Math.abs(me)+Math.abs(_e)+Math.abs(qe),me=me/De,_e=_e/De,qe=qe/De,!(hr===Je||Math.abs(F.get(hr,hr-1))*(Math.abs(_e)+Math.abs(qe))<Gt*(Math.abs(me)*(Math.abs(F.get(hr-1,hr-1))+Math.abs(dr)+Math.abs(F.get(hr+1,hr+1))))));)hr--;for(Oe=hr+2;Oe<=rt;Oe++)F.set(Oe,Oe-2,0),Oe>hr+2&&F.set(Oe,Oe-3,0);for(nr=hr;nr<=rt-1&&(Dn=nr!==rt-1,nr!==hr&&(me=F.get(nr,nr-1),_e=F.get(nr+1,nr-1),qe=Dn?F.get(nr+2,nr-1):0,Pr=Math.abs(me)+Math.abs(_e)+Math.abs(qe),Pr!==0&&(me=me/Pr,_e=_e/Pr,qe=qe/Pr)),Pr!==0);nr++)if(De=Math.sqrt(me*me+_e*_e+qe*qe),me<0&&(De=-De),De!==0){for(nr!==hr?F.set(nr,nr-1,-De*Pr):Je!==hr&&F.set(nr,nr-1,-F.get(nr,nr-1)),me=me+De,Pr=me/De,Hr=_e/De,dr=qe/De,_e=_e/me,qe=qe/me,je=nr;je<Pt;je++)me=F.get(nr,je)+_e*F.get(nr+1,je),Dn&&(me=me+qe*F.get(nr+2,je),F.set(nr+2,je,F.get(nr+2,je)-me*dr)),F.set(nr,je,F.get(nr,je)-me*Pr),F.set(nr+1,je,F.get(nr+1,je)-me*Hr);for(Oe=0;Oe<=Math.min(rt,nr+3);Oe++)me=Pr*F.get(Oe,nr)+Hr*F.get(Oe,nr+1),Dn&&(me=me+dr*F.get(Oe,nr+2),F.set(Oe,nr+2,F.get(Oe,nr+2)-me*qe)),F.set(Oe,nr,F.get(Oe,nr)-me),F.set(Oe,nr+1,F.get(Oe,nr+1)-me*_e);for(Oe=kt;Oe<=Vt;Oe++)me=Pr*R.get(Oe,nr)+Hr*R.get(Oe,nr+1),Dn&&(me=me+dr*R.get(Oe,nr+2),R.set(Oe,nr+2,R.get(Oe,nr+2)-me*qe)),R.set(Oe,nr,R.get(Oe,nr)-me),R.set(Oe,nr+1,R.get(Oe,nr+1)-me*_e)}}}if(we!==0){for(rt=Pt-1;rt>=0;rt--)if(me=W[rt],_e=Ot[rt],_e===0)for(Je=rt,F.set(rt,rt,1),Oe=rt-1;Oe>=0;Oe--){for(Qr=F.get(Oe,Oe)-me,qe=0,je=Je;je<=rt;je++)qe=qe+F.get(Oe,je)*F.get(je,rt);if(Ot[Oe]<0)dr=Qr,De=qe;else if(Je=Oe,Ot[Oe]===0?F.set(Oe,rt,Qr!==0?-qe/Qr:-qe/(Gt*we)):(Pr=F.get(Oe,Oe+1),Hr=F.get(Oe+1,Oe),_e=(W[Oe]-me)*(W[Oe]-me)+Ot[Oe]*Ot[Oe],un=(Pr*De-dr*qe)/_e,F.set(Oe,rt,un),F.set(Oe+1,rt,Math.abs(Pr)>Math.abs(dr)?(-qe-Qr*un)/Pr:(-De-Hr*un)/dr)),un=Math.abs(F.get(Oe,rt)),Gt*un*un>1)for(je=Oe;je<=rt;je++)F.set(je,rt,F.get(je,rt)/un)}else if(_e<0)for(Je=rt-1,Math.abs(F.get(rt,rt-1))>Math.abs(F.get(rt-1,rt))?(F.set(rt-1,rt-1,_e/F.get(rt,rt-1)),F.set(rt-1,rt,-(F.get(rt,rt)-me)/F.get(rt,rt-1))):(Mn=Ae(0,-F.get(rt-1,rt),F.get(rt-1,rt-1)-me,_e),F.set(rt-1,rt-1,Mn[0]),F.set(rt-1,rt,Mn[1])),F.set(rt,rt-1,0),F.set(rt,rt,1),Oe=rt-2;Oe>=0;Oe--){for(wn=0,fn=0,je=Je;je<=rt;je++)wn=wn+F.get(Oe,je)*F.get(je,rt-1),fn=fn+F.get(Oe,je)*F.get(je,rt);if(Qr=F.get(Oe,Oe)-me,Ot[Oe]<0)dr=Qr,qe=wn,De=fn;else if(Je=Oe,Ot[Oe]===0?(Mn=Ae(-wn,-fn,Qr,_e),F.set(Oe,rt-1,Mn[0]),F.set(Oe,rt,Mn[1])):(Pr=F.get(Oe,Oe+1),Hr=F.get(Oe+1,Oe),Er=(W[Oe]-me)*(W[Oe]-me)+Ot[Oe]*Ot[Oe]-_e*_e,on=(W[Oe]-me)*2*_e,Er===0&&on===0&&(Er=Gt*we*(Math.abs(Qr)+Math.abs(_e)+Math.abs(Pr)+Math.abs(Hr)+Math.abs(dr))),Mn=Ae(Pr*qe-dr*wn+_e*fn,Pr*De-dr*fn-_e*wn,Er,on),F.set(Oe,rt-1,Mn[0]),F.set(Oe,rt,Mn[1]),Math.abs(Pr)>Math.abs(dr)+Math.abs(_e)?(F.set(Oe+1,rt-1,(-wn-Qr*F.get(Oe,rt-1)+_e*F.get(Oe,rt))/Pr),F.set(Oe+1,rt,(-fn-Qr*F.get(Oe,rt)-_e*F.get(Oe,rt-1))/Pr)):(Mn=Ae(-qe-Hr*F.get(Oe,rt-1),-De-Hr*F.get(Oe,rt),dr,_e),F.set(Oe+1,rt-1,Mn[0]),F.set(Oe+1,rt,Mn[1]))),un=Math.max(Math.abs(F.get(Oe,rt-1)),Math.abs(F.get(Oe,rt))),Gt*un*un>1)for(je=Oe;je<=rt;je++)F.set(je,rt-1,F.get(je,rt-1)/un),F.set(je,rt,F.get(je,rt)/un)}for(Oe=0;Oe<Pt;Oe++)if(Oe<kt||Oe>Vt)for(je=Oe;je<Pt;je++)R.set(Oe,je,F.get(Oe,je));for(je=Pt-1;je>=kt;je--)for(Oe=kt;Oe<=Vt;Oe++){for(dr=0,nr=kt;nr<=Math.min(je,Vt);nr++)dr=dr+R.get(Oe,nr)*F.get(nr,je);R.set(Oe,je,dr)}}}function Ae(Pt,Ot,W,R){var F,rt;return Math.abs(W)>Math.abs(R)?(F=R/W,rt=W+F*R,[(Pt+F*Ot)/rt,(Ot-F*Pt)/rt]):(F=W/R,rt=R+F*W,[(F*Pt+Ot)/rt,(F*Ot-Pt)/rt])}var rr=function(){function Pt(Ot){if(T(this,Pt),Ot=Ke.checkMatrix(Ot),!Ot.isSymmetric())throw new Error("Matrix is not symmetric");var W=Ot,R=W.rows,F=new it(R,R),rt=!0,kt,Vt,Gt;for(Vt=0;Vt<R;Vt++){var Kt=0;for(Gt=0;Gt<Vt;Gt++){var we=0;for(kt=0;kt<Gt;kt++)we+=F.get(Gt,kt)*F.get(Vt,kt);we=(W.get(Vt,Gt)-we)/F.get(Gt,Gt),F.set(Vt,Gt,we),Kt=Kt+we*we}for(Kt=W.get(Vt,Vt)-Kt,rt&=Kt>0,F.set(Vt,Vt,Math.sqrt(Math.max(Kt,0))),Gt=Vt+1;Gt<R;Gt++)F.set(Vt,Gt,0)}this.L=F,this.positiveDefinite=Boolean(rt)}return A(Pt,[{key:"isPositiveDefinite",value:function(){return this.positiveDefinite}},{key:"solve",value:function(W){W=Ke.checkMatrix(W);var R=this.L,F=R.rows;if(W.rows!==F)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");var rt=W.columns,kt=W.clone(),Vt,Gt,Kt;for(Kt=0;Kt<F;Kt++)for(Gt=0;Gt<rt;Gt++){for(Vt=0;Vt<Kt;Vt++)kt.set(Kt,Gt,kt.get(Kt,Gt)-kt.get(Vt,Gt)*R.get(Kt,Vt));kt.set(Kt,Gt,kt.get(Kt,Gt)/R.get(Kt,Kt))}for(Kt=F-1;Kt>=0;Kt--)for(Gt=0;Gt<rt;Gt++){for(Vt=Kt+1;Vt<F;Vt++)kt.set(Kt,Gt,kt.get(Kt,Gt)-kt.get(Vt,Gt)*R.get(Vt,Kt));kt.set(Kt,Gt,kt.get(Kt,Gt)/R.get(Kt,Kt))}return kt}},{key:"lowerTriangularMatrix",get:function(){return this.L}}]),Pt}(),Qe=A(function Pt(Ot){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};T(this,Pt),Ot=Ke.checkMatrix(Ot);var R=W.Y,F=W.scaleScores,rt=F===void 0?!1:F,kt=W.maxIterations,Vt=kt===void 0?1e3:kt,Gt=W.terminationCriteria,Kt=Gt===void 0?1e-10:Gt,we;if(R){if(C.isAnyArray(R)&&typeof R[0]=="number"?R=it.columnVector(R):R=Ke.checkMatrix(R),R.rows!==Ot.rows)throw new Error("Y should have the same number of rows as X");we=R.getColumnVector(0)}else we=Ot.getColumnVector(0);for(var me=1,_e,qe,De,dr,Rr=0;Rr<Vt&&me>Kt;Rr++)De=Ot.transpose().mmul(we).div(we.transpose().mmul(we).get(0,0)),De=De.div(De.norm()),_e=Ot.mmul(De).div(De.transpose().mmul(De).get(0,0)),Rr>0&&(me=_e.clone().sub(dr).pow(2).sum()),dr=_e.clone(),R?(qe=R.transpose().mmul(_e).div(_e.transpose().mmul(_e).get(0,0)),qe=qe.div(qe.norm()),we=R.mmul(qe).div(qe.transpose().mmul(qe).get(0,0))):we=_e;if(R){var Oe=Ot.transpose().mmul(_e).div(_e.transpose().mmul(_e).get(0,0));Oe=Oe.div(Oe.norm());var je=Ot.clone().sub(_e.clone().mmul(Oe.transpose())),nr=we.transpose().mmul(_e).div(_e.transpose().mmul(_e).get(0,0)),Je=R.clone().sub(_e.clone().mulS(nr.get(0,0)).mmul(qe.transpose()));this.t=_e,this.p=Oe.transpose(),this.w=De.transpose(),this.q=qe,this.u=we,this.s=_e.transpose().mmul(_e),this.xResidual=je,this.yResidual=Je,this.betas=nr}else this.w=De.transpose(),this.s=_e.transpose().mmul(_e).sqrt(),rt?this.t=_e.clone().div(this.s.get(0,0)):this.t=_e,this.xResidual=Ot.sub(_e.mmul(De.transpose()))});S.XA=at,S.a_=rr,S.yQ=rr,S.Ec=Se,S.dx=Se,S.LU=Mr,S.Rm=Mr,S.y3=it,S.qK=st,S.pb=ft,S.j=Ct,S.sO=Rt,S.BZ=pe,S.EK=re,S.Db=Me,S.Fx=Xe,S.tU=Be,S.Ym=Qe,S.rs=Qe,S.QR=Xr,S.TB=Xr,S.oH=pn,S.Sc=pn,S.it=Re,S.$r=Ke,S.QM=be,S.AV=he,b=it,S.GH=Xn,S.SO=jr,S.uZ=yi,S.yU=te,S.F1=en,S.re=ar},48168:function(dt,S,d){var b=d(39092),O={};for(var I in b)b.hasOwnProperty(I)&&(O[b[I]]=I);var _=dt.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var T in _)if(_.hasOwnProperty(T)){if(!("channels"in _[T]))throw new Error("missing channels property: "+T);if(!("labels"in _[T]))throw new Error("missing channel labels property: "+T);if(_[T].labels.length!==_[T].channels)throw new Error("channel and label counts mismatch: "+T);var A=_[T].channels,C=_[T].labels;delete _[T].channels,delete _[T].labels,Object.defineProperty(_[T],"channels",{value:A}),Object.defineProperty(_[T],"labels",{value:C})}_.rgb.hsl=function(p){var w=p[0]/255,y=p[1]/255,m=p[2]/255,g=Math.min(w,y,m),M=Math.max(w,y,m),L=M-g,B,N,j;return M===g?B=0:w===M?B=(y-m)/L:y===M?B=2+(m-w)/L:m===M&&(B=4+(w-y)/L),B=Math.min(B*60,360),B<0&&(B+=360),j=(g+M)/2,M===g?N=0:j<=.5?N=L/(M+g):N=L/(2-M-g),[B,N*100,j*100]},_.rgb.hsv=function(p){var w,y,m,g,M,L=p[0]/255,B=p[1]/255,N=p[2]/255,j=Math.max(L,B,N),tt=j-Math.min(L,B,N),H=function(J){return(j-J)/6/tt+1/2};return tt===0?g=M=0:(M=tt/j,w=H(L),y=H(B),m=H(N),L===j?g=m-y:B===j?g=1/3+w-m:N===j&&(g=2/3+y-w),g<0?g+=1:g>1&&(g-=1)),[g*360,M*100,j*100]},_.rgb.hwb=function(p){var w=p[0],y=p[1],m=p[2],g=_.rgb.hsl(p)[0],M=1/255*Math.min(w,Math.min(y,m));return m=1-1/255*Math.max(w,Math.max(y,m)),[g,M*100,m*100]},_.rgb.cmyk=function(p){var w=p[0]/255,y=p[1]/255,m=p[2]/255,g,M,L,B;return B=Math.min(1-w,1-y,1-m),g=(1-w-B)/(1-B)||0,M=(1-y-B)/(1-B)||0,L=(1-m-B)/(1-B)||0,[g*100,M*100,L*100,B*100]};function E(p,w){return Math.pow(p[0]-w[0],2)+Math.pow(p[1]-w[1],2)+Math.pow(p[2]-w[2],2)}_.rgb.keyword=function(p){var w=O[p];if(w)return w;var y=Infinity,m;for(var g in b)if(b.hasOwnProperty(g)){var M=b[g],L=E(p,M);L<y&&(y=L,m=g)}return m},_.keyword.rgb=function(p){return b[p]},_.rgb.xyz=function(p){var w=p[0]/255,y=p[1]/255,m=p[2]/255;w=w>.04045?Math.pow((w+.055)/1.055,2.4):w/12.92,y=y>.04045?Math.pow((y+.055)/1.055,2.4):y/12.92,m=m>.04045?Math.pow((m+.055)/1.055,2.4):m/12.92;var g=w*.4124+y*.3576+m*.1805,M=w*.2126+y*.7152+m*.0722,L=w*.0193+y*.1192+m*.9505;return[g*100,M*100,L*100]},_.rgb.lab=function(p){var w=_.rgb.xyz(p),y=w[0],m=w[1],g=w[2],M,L,B;return y/=95.047,m/=100,g/=108.883,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,m=m>.008856?Math.pow(m,1/3):7.787*m+16/116,g=g>.008856?Math.pow(g,1/3):7.787*g+16/116,M=116*m-16,L=500*(y-m),B=200*(m-g),[M,L,B]},_.hsl.rgb=function(p){var w=p[0]/360,y=p[1]/100,m=p[2]/100,g,M,L,B,N;if(y===0)return N=m*255,[N,N,N];m<.5?M=m*(1+y):M=m+y-m*y,g=2*m-M,B=[0,0,0];for(var j=0;j<3;j++)L=w+1/3*-(j-1),L<0&&L++,L>1&&L--,6*L<1?N=g+(M-g)*6*L:2*L<1?N=M:3*L<2?N=g+(M-g)*(2/3-L)*6:N=g,B[j]=N*255;return B},_.hsl.hsv=function(p){var w=p[0],y=p[1]/100,m=p[2]/100,g=y,M=Math.max(m,.01),L,B;return m*=2,y*=m<=1?m:2-m,g*=M<=1?M:2-M,B=(m+y)/2,L=m===0?2*g/(M+g):2*y/(m+y),[w,L*100,B*100]},_.hsv.rgb=function(p){var w=p[0]/60,y=p[1]/100,m=p[2]/100,g=Math.floor(w)%6,M=w-Math.floor(w),L=255*m*(1-y),B=255*m*(1-y*M),N=255*m*(1-y*(1-M));switch(m*=255,g){case 0:return[m,N,L];case 1:return[B,m,L];case 2:return[L,m,N];case 3:return[L,B,m];case 4:return[N,L,m];case 5:return[m,L,B]}},_.hsv.hsl=function(p){var w=p[0],y=p[1]/100,m=p[2]/100,g=Math.max(m,.01),M,L,B;return B=(2-y)*m,M=(2-y)*g,L=y*g,L/=M<=1?M:2-M,L=L||0,B/=2,[w,L*100,B*100]},_.hwb.rgb=function(p){var w=p[0]/360,y=p[1]/100,m=p[2]/100,g=y+m,M,L,B,N;g>1&&(y/=g,m/=g),M=Math.floor(6*w),L=1-m,B=6*w-M,(M&1)!=0&&(B=1-B),N=y+B*(L-y);var j,tt,H;switch(M){default:case 6:case 0:j=L,tt=N,H=y;break;case 1:j=N,tt=L,H=y;break;case 2:j=y,tt=L,H=N;break;case 3:j=y,tt=N,H=L;break;case 4:j=N,tt=y,H=L;break;case 5:j=L,tt=y,H=N;break}return[j*255,tt*255,H*255]},_.cmyk.rgb=function(p){var w=p[0]/100,y=p[1]/100,m=p[2]/100,g=p[3]/100,M,L,B;return M=1-Math.min(1,w*(1-g)+g),L=1-Math.min(1,y*(1-g)+g),B=1-Math.min(1,m*(1-g)+g),[M*255,L*255,B*255]},_.xyz.rgb=function(p){var w=p[0]/100,y=p[1]/100,m=p[2]/100,g,M,L;return g=w*3.2406+y*-1.5372+m*-.4986,M=w*-.9689+y*1.8758+m*.0415,L=w*.0557+y*-.204+m*1.057,g=g>.0031308?1.055*Math.pow(g,1/2.4)-.055:g*12.92,M=M>.0031308?1.055*Math.pow(M,1/2.4)-.055:M*12.92,L=L>.0031308?1.055*Math.pow(L,1/2.4)-.055:L*12.92,g=Math.min(Math.max(0,g),1),M=Math.min(Math.max(0,M),1),L=Math.min(Math.max(0,L),1),[g*255,M*255,L*255]},_.xyz.lab=function(p){var w=p[0],y=p[1],m=p[2],g,M,L;return w/=95.047,y/=100,m/=108.883,w=w>.008856?Math.pow(w,1/3):7.787*w+16/116,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,m=m>.008856?Math.pow(m,1/3):7.787*m+16/116,g=116*y-16,M=500*(w-y),L=200*(y-m),[g,M,L]},_.lab.xyz=function(p){var w=p[0],y=p[1],m=p[2],g,M,L;M=(w+16)/116,g=y/500+M,L=M-m/200;var B=Math.pow(M,3),N=Math.pow(g,3),j=Math.pow(L,3);return M=B>.008856?B:(M-16/116)/7.787,g=N>.008856?N:(g-16/116)/7.787,L=j>.008856?j:(L-16/116)/7.787,g*=95.047,M*=100,L*=108.883,[g,M,L]},_.lab.lch=function(p){var w=p[0],y=p[1],m=p[2],g,M,L;return g=Math.atan2(m,y),M=g*360/2/Math.PI,M<0&&(M+=360),L=Math.sqrt(y*y+m*m),[w,L,M]},_.lch.lab=function(p){var w=p[0],y=p[1],m=p[2],g,M,L;return L=m/360*2*Math.PI,g=y*Math.cos(L),M=y*Math.sin(L),[w,g,M]},_.rgb.ansi16=function(p){var w=p[0],y=p[1],m=p[2],g=1 in arguments?arguments[1]:_.rgb.hsv(p)[2];if(g=Math.round(g/50),g===0)return 30;var M=30+(Math.round(m/255)<<2|Math.round(y/255)<<1|Math.round(w/255));return g===2&&(M+=60),M},_.hsv.ansi16=function(p){return _.rgb.ansi16(_.hsv.rgb(p),p[2])},_.rgb.ansi256=function(p){var w=p[0],y=p[1],m=p[2];if(w===y&&y===m)return w<8?16:w>248?231:Math.round((w-8)/247*24)+232;var g=16+36*Math.round(w/255*5)+6*Math.round(y/255*5)+Math.round(m/255*5);return g},_.ansi16.rgb=function(p){var w=p%10;if(w===0||w===7)return p>50&&(w+=3.5),w=w/10.5*255,[w,w,w];var y=(~~(p>50)+1)*.5,m=(w&1)*y*255,g=(w>>1&1)*y*255,M=(w>>2&1)*y*255;return[m,g,M]},_.ansi256.rgb=function(p){if(p>=232){var w=(p-232)*10+8;return[w,w,w]}p-=16;var y,m=Math.floor(p/36)/5*255,g=Math.floor((y=p%36)/6)/5*255,M=y%6/5*255;return[m,g,M]},_.rgb.hex=function(p){var w=((Math.round(p[0])&255)<<16)+((Math.round(p[1])&255)<<8)+(Math.round(p[2])&255),y=w.toString(16).toUpperCase();return"000000".substring(y.length)+y},_.hex.rgb=function(p){var w=p.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!w)return[0,0,0];var y=w[0];w[0].length===3&&(y=y.split("").map(function(B){return B+B}).join(""));var m=parseInt(y,16),g=m>>16&255,M=m>>8&255,L=m&255;return[g,M,L]},_.rgb.hcg=function(p){var w=p[0]/255,y=p[1]/255,m=p[2]/255,g=Math.max(Math.max(w,y),m),M=Math.min(Math.min(w,y),m),L=g-M,B,N;return L<1?B=M/(1-L):B=0,L<=0?N=0:g===w?N=(y-m)/L%6:g===y?N=2+(m-w)/L:N=4+(w-y)/L+4,N/=6,N%=1,[N*360,L*100,B*100]},_.hsl.hcg=function(p){var w=p[1]/100,y=p[2]/100,m=1,g=0;return y<.5?m=2*w*y:m=2*w*(1-y),m<1&&(g=(y-.5*m)/(1-m)),[p[0],m*100,g*100]},_.hsv.hcg=function(p){var w=p[1]/100,y=p[2]/100,m=w*y,g=0;return m<1&&(g=(y-m)/(1-m)),[p[0],m*100,g*100]},_.hcg.rgb=function(p){var w=p[0]/360,y=p[1]/100,m=p[2]/100;if(y===0)return[m*255,m*255,m*255];var g=[0,0,0],M=w%1*6,L=M%1,B=1-L,N=0;switch(Math.floor(M)){case 0:g[0]=1,g[1]=L,g[2]=0;break;case 1:g[0]=B,g[1]=1,g[2]=0;break;case 2:g[0]=0,g[1]=1,g[2]=L;break;case 3:g[0]=0,g[1]=B,g[2]=1;break;case 4:g[0]=L,g[1]=0,g[2]=1;break;default:g[0]=1,g[1]=0,g[2]=B}return N=(1-y)*m,[(y*g[0]+N)*255,(y*g[1]+N)*255,(y*g[2]+N)*255]},_.hcg.hsv=function(p){var w=p[1]/100,y=p[2]/100,m=w+y*(1-w),g=0;return m>0&&(g=w/m),[p[0],g*100,m*100]},_.hcg.hsl=function(p){var w=p[1]/100,y=p[2]/100,m=y*(1-w)+.5*w,g=0;return m>0&&m<.5?g=w/(2*m):m>=.5&&m<1&&(g=w/(2*(1-m))),[p[0],g*100,m*100]},_.hcg.hwb=function(p){var w=p[1]/100,y=p[2]/100,m=w+y*(1-w);return[p[0],(m-w)*100,(1-m)*100]},_.hwb.hcg=function(p){var w=p[1]/100,y=p[2]/100,m=1-y,g=m-w,M=0;return g<1&&(M=(m-g)/(1-g)),[p[0],g*100,M*100]},_.apple.rgb=function(p){return[p[0]/65535*255,p[1]/65535*255,p[2]/65535*255]},_.rgb.apple=function(p){return[p[0]/255*65535,p[1]/255*65535,p[2]/255*65535]},_.gray.rgb=function(p){return[p[0]/100*255,p[0]/100*255,p[0]/100*255]},_.gray.hsl=_.gray.hsv=function(p){return[0,0,p[0]]},_.gray.hwb=function(p){return[0,100,p[0]]},_.gray.cmyk=function(p){return[0,0,0,p[0]]},_.gray.lab=function(p){return[p[0],0,0]},_.gray.hex=function(p){var w=Math.round(p[0]/100*255)&255,y=(w<<16)+(w<<8)+w,m=y.toString(16).toUpperCase();return"000000".substring(m.length)+m},_.rgb.gray=function(p){var w=(p[0]+p[1]+p[2])/3;return[w/255*100]}},12085:function(dt,S,d){var b=d(48168),O=d(4111),I={},_=Object.keys(b);function T(C){var E=function(p){return p==null?p:(arguments.length>1&&(p=Array.prototype.slice.call(arguments)),C(p))};return"conversion"in C&&(E.conversion=C.conversion),E}function A(C){var E=function(p){if(p==null)return p;arguments.length>1&&(p=Array.prototype.slice.call(arguments));var w=C(p);if(typeof w=="object")for(var y=w.length,m=0;m<y;m++)w[m]=Math.round(w[m]);return w};return"conversion"in C&&(E.conversion=C.conversion),E}_.forEach(function(C){I[C]={},Object.defineProperty(I[C],"channels",{value:b[C].channels}),Object.defineProperty(I[C],"labels",{value:b[C].labels});var E=O(C),p=Object.keys(E);p.forEach(function(w){var y=E[w];I[C][w]=A(y),I[C][w].raw=T(y)})}),dt.exports=I},39092:function(dt){"use strict";dt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4111:function(dt,S,d){var b=d(48168);function O(){for(var A={},C=Object.keys(b),E=C.length,p=0;p<E;p++)A[C[p]]={distance:-1,parent:null};return A}function I(A){var C=O(),E=[A];for(C[A].distance=0;E.length;)for(var p=E.pop(),w=Object.keys(b[p]),y=w.length,m=0;m<y;m++){var g=w[m],M=C[g];M.distance===-1&&(M.distance=C[p].distance+1,M.parent=p,E.unshift(g))}return C}function _(A,C){return function(E){return C(A(E))}}function T(A,C){for(var E=[C[A].parent,A],p=b[C[A].parent][A],w=C[A].parent;C[w].parent;)E.unshift(C[w].parent),p=_(b[C[w].parent][w],p),w=C[w].parent;return p.conversion=E,p}dt.exports=function(A){for(var C=I(A),E={},p=Object.keys(C),w=p.length,y=0;y<w;y++){var m=p[y],g=C[m];g.parent!==null&&(E[m]=T(m,C))}return E}},8874:function(dt){"use strict";dt.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},19818:function(dt,S,d){var b=d(8874),O=d(86851),I=Object.hasOwnProperty,_=Object.create(null);for(var T in b)I.call(b,T)&&(_[b[T]]=T);var A=dt.exports={to:{},get:{}};A.get=function(p){var w=p.substring(0,3).toLowerCase(),y,m;switch(w){case"hsl":y=A.get.hsl(p),m="hsl";break;case"hwb":y=A.get.hwb(p),m="hwb";break;default:y=A.get.rgb(p),m="rgb";break}return y?{model:m,value:y}:null},A.get.rgb=function(p){if(!p)return null;var w=/^#([a-f0-9]{3,4})$/i,y=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,m=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,g=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,M=/^(\w+)$/,L=[0,0,0,1],B,N,j;if(B=p.match(y)){for(j=B[2],B=B[1],N=0;N<3;N++){var tt=N*2;L[N]=parseInt(B.slice(tt,tt+2),16)}j&&(L[3]=parseInt(j,16)/255)}else if(B=p.match(w)){for(B=B[1],j=B[3],N=0;N<3;N++)L[N]=parseInt(B[N]+B[N],16);j&&(L[3]=parseInt(j+j,16)/255)}else if(B=p.match(m)){for(N=0;N<3;N++)L[N]=parseInt(B[N+1],0);B[4]&&(B[5]?L[3]=parseFloat(B[4])*.01:L[3]=parseFloat(B[4]))}else if(B=p.match(g)){for(N=0;N<3;N++)L[N]=Math.round(parseFloat(B[N+1])*2.55);B[4]&&(B[5]?L[3]=parseFloat(B[4])*.01:L[3]=parseFloat(B[4]))}else return(B=p.match(M))?B[1]==="transparent"?[0,0,0,0]:I.call(b,B[1])?(L=b[B[1]],L[3]=1,L):null:null;for(N=0;N<3;N++)L[N]=C(L[N],0,255);return L[3]=C(L[3],0,1),L},A.get.hsl=function(p){if(!p)return null;var w=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,y=p.match(w);if(y){var m=parseFloat(y[4]),g=(parseFloat(y[1])%360+360)%360,M=C(parseFloat(y[2]),0,100),L=C(parseFloat(y[3]),0,100),B=C(isNaN(m)?1:m,0,1);return[g,M,L,B]}return null},A.get.hwb=function(p){if(!p)return null;var w=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,y=p.match(w);if(y){var m=parseFloat(y[4]),g=(parseFloat(y[1])%360+360)%360,M=C(parseFloat(y[2]),0,100),L=C(parseFloat(y[3]),0,100),B=C(isNaN(m)?1:m,0,1);return[g,M,L,B]}return null},A.to.hex=function(){var p=O(arguments);return"#"+E(p[0])+E(p[1])+E(p[2])+(p[3]<1?E(Math.round(p[3]*255)):"")},A.to.rgb=function(){var p=O(arguments);return p.length<4||p[3]===1?"rgb("+Math.round(p[0])+", "+Math.round(p[1])+", "+Math.round(p[2])+")":"rgba("+Math.round(p[0])+", "+Math.round(p[1])+", "+Math.round(p[2])+", "+p[3]+")"},A.to.rgb.percent=function(){var p=O(arguments),w=Math.round(p[0]/255*100),y=Math.round(p[1]/255*100),m=Math.round(p[2]/255*100);return p.length<4||p[3]===1?"rgb("+w+"%, "+y+"%, "+m+"%)":"rgba("+w+"%, "+y+"%, "+m+"%, "+p[3]+")"},A.to.hsl=function(){var p=O(arguments);return p.length<4||p[3]===1?"hsl("+p[0]+", "+p[1]+"%, "+p[2]+"%)":"hsla("+p[0]+", "+p[1]+"%, "+p[2]+"%, "+p[3]+")"},A.to.hwb=function(){var p=O(arguments),w="";return p.length>=4&&p[3]!==1&&(w=", "+p[3]),"hwb("+p[0]+", "+p[1]+"%, "+p[2]+"%"+w+")"},A.to.keyword=function(p){return _[p.slice(0,3)]};function C(p,w,y){return Math.min(Math.max(w,p),y)}function E(p){var w=Math.round(p).toString(16).toUpperCase();return w.length<2?"0"+w:w}},6767:function(dt,S,d){"use strict";var b=d(19818),O=d(12085),I=[].slice,_=["keyword","gray","hex"],T={};Object.keys(O).forEach(function(M){T[I.call(O[M].labels).sort().join("")]=M});var A={};function C(M,L){if(!(this instanceof C))return new C(M,L);if(L&&L in _&&(L=null),L&&!(L in O))throw new Error("Unknown model: "+L);var B,N;if(M==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(M instanceof C)this.model=M.model,this.color=M.color.slice(),this.valpha=M.valpha;else if(typeof M=="string"){var j=b.get(M);if(j===null)throw new Error("Unable to parse color from string: "+M);this.model=j.model,N=O[this.model].channels,this.color=j.value.slice(0,N),this.valpha=typeof j.value[N]=="number"?j.value[N]:1}else if(M.length){this.model=L||"rgb",N=O[this.model].channels;var tt=I.call(M,0,N);this.color=g(tt,N),this.valpha=typeof M[N]=="number"?M[N]:1}else if(typeof M=="number")M&=16777215,this.model="rgb",this.color=[M>>16&255,M>>8&255,M&255],this.valpha=1;else{this.valpha=1;var H=Object.keys(M);"alpha"in M&&(H.splice(H.indexOf("alpha"),1),this.valpha=typeof M.alpha=="number"?M.alpha:0);var J=H.sort().join("");if(!(J in T))throw new Error("Unable to parse color from object: "+JSON.stringify(M));this.model=T[J];var ct=O[this.model].labels,ut=[];for(B=0;B<ct.length;B++)ut.push(M[ct[B]]);this.color=g(ut)}if(A[this.model])for(N=O[this.model].channels,B=0;B<N;B++){var At=A[this.model][B];At&&(this.color[B]=At(this.color[B]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}C.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(M){var L=this.model in b.to?this:this.rgb();L=L.round(typeof M=="number"?M:1);var B=L.valpha===1?L.color:L.color.concat(this.valpha);return b.to[L.model](B)},percentString:function(M){var L=this.rgb().round(typeof M=="number"?M:1),B=L.valpha===1?L.color:L.color.concat(this.valpha);return b.to.rgb.percent(B)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var M={},L=O[this.model].channels,B=O[this.model].labels,N=0;N<L;N++)M[B[N]]=this.color[N];return this.valpha!==1&&(M.alpha=this.valpha),M},unitArray:function(){var M=this.rgb().color;return M[0]/=255,M[1]/=255,M[2]/=255,this.valpha!==1&&M.push(this.valpha),M},unitObject:function(){var M=this.rgb().object();return M.r/=255,M.g/=255,M.b/=255,this.valpha!==1&&(M.alpha=this.valpha),M},round:function(M){return M=Math.max(M||0,0),new C(this.color.map(p(M)).concat(this.valpha),this.model)},alpha:function(M){return arguments.length?new C(this.color.concat(Math.max(0,Math.min(1,M))),this.model):this.valpha},red:w("rgb",0,y(255)),green:w("rgb",1,y(255)),blue:w("rgb",2,y(255)),hue:w(["hsl","hsv","hsl","hwb","hcg"],0,function(M){return(M%360+360)%360}),saturationl:w("hsl",1,y(100)),lightness:w("hsl",2,y(100)),saturationv:w("hsv",1,y(100)),value:w("hsv",2,y(100)),chroma:w("hcg",1,y(100)),gray:w("hcg",2,y(100)),white:w("hwb",1,y(100)),wblack:w("hwb",2,y(100)),cyan:w("cmyk",0,y(100)),magenta:w("cmyk",1,y(100)),yellow:w("cmyk",2,y(100)),black:w("cmyk",3,y(100)),x:w("xyz",0,y(100)),y:w("xyz",1,y(100)),z:w("xyz",2,y(100)),l:w("lab",0,y(100)),a:w("lab",1),b:w("lab",2),keyword:function(M){return arguments.length?new C(M):O[this.model].keyword(this.color)},hex:function(M){return arguments.length?new C(M):b.to.hex(this.rgb().round().color)},rgbNumber:function(){var M=this.rgb().color;return(M[0]&255)<<16|(M[1]&255)<<8|M[2]&255},luminosity:function(){for(var M=this.rgb().color,L=[],B=0;B<M.length;B++){var N=M[B]/255;L[B]=N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4)}return .2126*L[0]+.7152*L[1]+.0722*L[2]},contrast:function(M){var L=this.luminosity(),B=M.luminosity();return L>B?(L+.05)/(B+.05):(B+.05)/(L+.05)},level:function(M){var L=this.contrast(M);return L>=7.1?"AAA":L>=4.5?"AA":""},isDark:function(){var M=this.rgb().color,L=(M[0]*299+M[1]*587+M[2]*114)/1e3;return L<128},isLight:function(){return!this.isDark()},negate:function(){for(var M=this.rgb(),L=0;L<3;L++)M.color[L]=255-M.color[L];return M},lighten:function(M){var L=this.hsl();return L.color[2]+=L.color[2]*M,L},darken:function(M){var L=this.hsl();return L.color[2]-=L.color[2]*M,L},saturate:function(M){var L=this.hsl();return L.color[1]+=L.color[1]*M,L},desaturate:function(M){var L=this.hsl();return L.color[1]-=L.color[1]*M,L},whiten:function(M){var L=this.hwb();return L.color[1]+=L.color[1]*M,L},blacken:function(M){var L=this.hwb();return L.color[2]+=L.color[2]*M,L},grayscale:function(){var M=this.rgb().color,L=M[0]*.3+M[1]*.59+M[2]*.11;return C.rgb(L,L,L)},fade:function(M){return this.alpha(this.valpha-this.valpha*M)},opaquer:function(M){return this.alpha(this.valpha+this.valpha*M)},rotate:function(M){var L=this.hsl(),B=L.color[0];return B=(B+M)%360,B=B<0?360+B:B,L.color[0]=B,L},mix:function(M,L){if(!M||!M.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof M);var B=M.rgb(),N=this.rgb(),j=L===void 0?.5:L,tt=2*j-1,H=B.alpha()-N.alpha(),J=((tt*H==-1?tt:(tt+H)/(1+tt*H))+1)/2,ct=1-J;return C.rgb(J*B.red()+ct*N.red(),J*B.green()+ct*N.green(),J*B.blue()+ct*N.blue(),B.alpha()*j+N.alpha()*(1-j))}},Object.keys(O).forEach(function(M){if(_.indexOf(M)===-1){var L=O[M].channels;C.prototype[M]=function(){if(this.model===M)return new C(this);if(arguments.length)return new C(arguments,M);var B=typeof arguments[L]=="number"?L:this.valpha;return new C(m(O[this.model][M].raw(this.color)).concat(B),M)},C[M]=function(B){return typeof B=="number"&&(B=g(I.call(arguments),L)),new C(B,M)}}});function E(M,L){return Number(M.toFixed(L))}function p(M){return function(L){return E(L,M)}}function w(M,L,B){return M=Array.isArray(M)?M:[M],M.forEach(function(N){(A[N]||(A[N]=[]))[L]=B}),M=M[0],function(N){var j;return arguments.length?(B&&(N=B(N)),j=this[M](),j.color[L]=N,j):(j=this[M]().color[L],B&&(j=B(j)),j)}}function y(M){return function(L){return Math.max(0,Math.min(M,L))}}function m(M){return Array.isArray(M)?M:[M]}function g(M,L){for(var B=0;B<L;B++)typeof M[B]!="number"&&(M[B]=0);return M}dt.exports=C},68716:function(dt,S,d){"use strict";d.d(S,{yD:function(){return b},_e:function(){return O},tw:function(){return I}});function b(_){return _*_*_}function O(_){return--_*_*_+1}function I(_){return((_*=2)<=1?_*_*_:(_-=2)*_*_+2)/2}},13681:function(dt,S,d){"use strict";d.r(S),d.d(S,{easeBack:function(){return Y},easeBackIn:function(){return u},easeBackInOut:function(){return Y},easeBackOut:function(){return G},easeBounce:function(){return Mt},easeBounceIn:function(){return jt},easeBounceInOut:function(){return pt},easeBounceOut:function(){return Mt},easeCircle:function(){return J},easeCircleIn:function(){return tt},easeCircleInOut:function(){return J},easeCircleOut:function(){return H},easeCubic:function(){return T.tw},easeCubicIn:function(){return T.yD},easeCubicInOut:function(){return T.tw},easeCubicOut:function(){return T._e},easeElastic:function(){return Ft},easeElasticIn:function(){return ht},easeElasticInOut:function(){return bt},easeElasticOut:function(){return Ft},easeExp:function(){return j},easeExpIn:function(){return B},easeExpInOut:function(){return j},easeExpOut:function(){return N},easeLinear:function(){return b},easePoly:function(){return p},easePolyIn:function(){return C},easePolyInOut:function(){return p},easePolyOut:function(){return E},easeQuad:function(){return _},easeQuadIn:function(){return O},easeQuadInOut:function(){return _},easeQuadOut:function(){return I},easeSin:function(){return M},easeSinIn:function(){return m},easeSinInOut:function(){return M},easeSinOut:function(){return g}});function b(at){return+at}function O(at){return at*at}function I(at){return at*(2-at)}function _(at){return((at*=2)<=1?at*at:--at*(2-at)+1)/2}var T=d(68716),A=3,C=function at(xt){xt=+xt;function lt(it){return Math.pow(it,xt)}return lt.exponent=at,lt}(A),E=function at(xt){xt=+xt;function lt(it){return 1-Math.pow(1-it,xt)}return lt.exponent=at,lt}(A),p=function at(xt){xt=+xt;function lt(it){return((it*=2)<=1?Math.pow(it,xt):2-Math.pow(2-it,xt))/2}return lt.exponent=at,lt}(A),w=Math.PI,y=w/2;function m(at){return+at==1?1:1-Math.cos(at*y)}function g(at){return Math.sin(at*y)}function M(at){return(1-Math.cos(w*at))/2}function L(at){return(Math.pow(2,-10*at)-.0009765625)*1.0009775171065494}function B(at){return L(1-+at)}function N(at){return 1-L(at)}function j(at){return((at*=2)<=1?L(1-at):2-L(at-1))/2}function tt(at){return 1-Math.sqrt(1-at*at)}function H(at){return Math.sqrt(1- --at*at)}function J(at){return((at*=2)<=1?1-Math.sqrt(1-at*at):Math.sqrt(1-(at-=2)*at)+1)/2}var ct=4/11,ut=6/11,At=8/11,St=3/4,Yt=9/11,Tt=10/11,Dt=15/16,Bt=21/22,Et=63/64,zt=1/ct/ct;function jt(at){return 1-Mt(1-at)}function Mt(at){return(at=+at)<ct?zt*at*at:at<At?zt*(at-=ut)*at+St:at<Tt?zt*(at-=Yt)*at+Dt:zt*(at-=Bt)*at+Et}function pt(at){return((at*=2)<=1?1-Mt(1-at):Mt(at-1)+1)/2}var k=1.70158,u=function at(xt){xt=+xt;function lt(it){return(it=+it)*it*(xt*(it-1)+it)}return lt.overshoot=at,lt}(k),G=function at(xt){xt=+xt;function lt(it){return--it*it*((it+1)*xt+it)+1}return lt.overshoot=at,lt}(k),Y=function at(xt){xt=+xt;function lt(it){return((it*=2)<1?it*it*((xt+1)*it-xt):(it-=2)*it*((xt+1)*it+xt)+2)/2}return lt.overshoot=at,lt}(k),V=2*Math.PI,U=1,et=.3,ht=function at(xt,lt){var it=Math.asin(1/(xt=Math.max(1,xt)))*(lt/=V);function yt(ft){return xt*L(- --ft)*Math.sin((it-ft)/lt)}return yt.amplitude=function(ft){return at(ft,lt*V)},yt.period=function(ft){return at(xt,ft)},yt}(U,et),Ft=function at(xt,lt){var it=Math.asin(1/(xt=Math.max(1,xt)))*(lt/=V);function yt(ft){return 1-xt*L(ft=+ft)*Math.sin((ft+it)/lt)}return yt.amplitude=function(ft){return at(ft,lt*V)},yt.period=function(ft){return at(xt,ft)},yt}(U,et),bt=function at(xt,lt){var it=Math.asin(1/(xt=Math.max(1,xt)))*(lt/=V);function yt(ft){return((ft=ft*2-1)<0?xt*L(-ft)*Math.sin((it-ft)/lt):2-xt*L(ft)*Math.sin((it+ft)/lt))/2}return yt.amplitude=function(ft){return at(ft,lt*V)},yt.period=function(ft){return at(xt,ft)},yt}(U,et)},56645:function(dt,S){(function(d,b){b(S)})(this,function(d){"use strict";function b(Tt,Dt){return O(Tt)||I(Tt,Dt)||_()}function O(Tt){if(Array.isArray(Tt))return Tt}function I(Tt,Dt){var Bt=[],Et=!0,zt=!1,jt=void 0;try{for(var Mt=Tt[Symbol.iterator](),pt;!(Et=(pt=Mt.next()).done)&&(Bt.push(pt.value),!(Dt&&Bt.length===Dt));Et=!0);}catch(k){zt=!0,jt=k}finally{try{!Et&&Mt.return!=null&&Mt.return()}finally{if(zt)throw jt}}return Bt}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function T(Tt,Dt,Bt,Et){Tt=Tt.filter(function(et,ht){var Ft=Dt(et,ht),bt=Bt(et,ht);return Ft!=null&&isFinite(Ft)&&bt!=null&&isFinite(bt)}),Et&&Tt.sort(function(et,ht){return Dt(et)-Dt(ht)});for(var zt=Tt.length,jt=new Float64Array(zt),Mt=new Float64Array(zt),pt=0,k=0,u,G,Y,V=0;V<zt;)Y=Tt[V],jt[V]=u=+Dt(Y,V,Tt),Mt[V]=G=+Bt(Y,V,Tt),++V,pt+=(u-pt)/V,k+=(G-k)/V;for(var U=0;U<zt;++U)jt[U]-=pt,Mt[U]-=k;return[jt,Mt,pt,k]}function A(Tt,Dt,Bt,Et){for(var zt=0,jt=0,Mt=Tt.length;jt<Mt;jt++){var pt=Tt[jt],k=+Dt(pt,jt,Tt),u=+Bt(pt,jt,Tt);k!=null&&isFinite(k)&&u!=null&&isFinite(u)&&Et(k,u,zt++)}}function C(Tt,Dt,Bt,Et,zt){var jt=0,Mt=0;return A(Tt,Dt,Bt,function(pt,k){var u=k-zt(pt),G=k-Et;jt+=u*u,Mt+=G*G}),1-jt/Mt}function E(Tt){return Math.atan2(Tt[1][1]-Tt[0][1],Tt[1][0]-Tt[0][0])*180/Math.PI}function p(Tt){return[(Tt[0][0]+Tt[1][0])/2,(Tt[0][1]+Tt[1][1])/2]}function w(Tt,Dt,Bt){for(var Et=Math.log(Dt-Tt)*Math.LOG10E+1|0,zt=1*Math.pow(10,-Et/2-1),jt=1e4,Mt=[k(Tt),k(Dt)],pt=0;u(Mt)&&pt<jt;);return Mt;function k(G){return[G,Bt(G)]}function u(G){pt++;for(var Y=G.length,V=!1,U=0;U<Y-1;U++){var et=G[U],ht=G[U+1],Ft=p([et,ht]),bt=k(Ft[0]),at=E([et,Ft]),xt=E([et,bt]),lt=Math.abs(at-xt);lt>zt&&(G.splice(U+1,0,bt),V=!0)}return V}}function y(Tt,Dt,Bt,Et){var zt=Et-Tt*Tt,jt=Math.abs(zt)<1e-24?0:(Bt-Tt*Dt)/zt,Mt=Dt-jt*Tt;return[Mt,jt]}function m(){var Tt=function(jt){return jt[0]},Dt=function(jt){return jt[1]},Bt;function Et(zt){var jt=0,Mt=0,pt=0,k=0,u=0,G=0,Y=Bt?+Bt[0]:Infinity,V=Bt?+Bt[1]:-Infinity;A(zt,Tt,Dt,function(xt,lt){var it=Math.log(lt),yt=xt*lt;++jt,Mt+=(lt-Mt)/jt,k+=(yt-k)/jt,G+=(xt*yt-G)/jt,pt+=(lt*it-pt)/jt,u+=(yt*it-u)/jt,Bt||(xt<Y&&(Y=xt),xt>V&&(V=xt))});var U=y(k/Mt,pt/Mt,u/Mt,G/Mt),et=b(U,2),ht=et[0],Ft=et[1];ht=Math.exp(ht);var bt=function(lt){return ht*Math.exp(Ft*lt)},at=w(Y,V,bt);return at.a=ht,at.b=Ft,at.predict=bt,at.rSquared=C(zt,Tt,Dt,Mt,bt),at}return Et.domain=function(zt){return arguments.length?(Bt=zt,Et):Bt},Et.x=function(zt){return arguments.length?(Tt=zt,Et):Tt},Et.y=function(zt){return arguments.length?(Dt=zt,Et):Dt},Et}function g(){var Tt=function(jt){return jt[0]},Dt=function(jt){return jt[1]},Bt;function Et(zt){var jt=0,Mt=0,pt=0,k=0,u=0,G=Bt?+Bt[0]:Infinity,Y=Bt?+Bt[1]:-Infinity;A(zt,Tt,Dt,function(at,xt){++jt,Mt+=(at-Mt)/jt,pt+=(xt-pt)/jt,k+=(at*xt-k)/jt,u+=(at*at-u)/jt,Bt||(at<G&&(G=at),at>Y&&(Y=at))});var V=y(Mt,pt,k,u),U=b(V,2),et=U[0],ht=U[1],Ft=function(xt){return ht*xt+et},bt=[[G,Ft(G)],[Y,Ft(Y)]];return bt.a=ht,bt.b=et,bt.predict=Ft,bt.rSquared=C(zt,Tt,Dt,pt,Ft),bt}return Et.domain=function(zt){return arguments.length?(Bt=zt,Et):Bt},Et.x=function(zt){return arguments.length?(Tt=zt,Et):Tt},Et.y=function(zt){return arguments.length?(Dt=zt,Et):Dt},Et}function M(Tt){Tt.sort(function(Bt,Et){return Bt-Et});var Dt=Tt.length/2;return Dt%1==0?(Tt[Dt-1]+Tt[Dt])/2:Tt[Math.floor(Dt)]}var L=2,B=1e-12;function N(){var Tt=function(jt){return jt[0]},Dt=function(jt){return jt[1]},Bt=.3;function Et(zt){for(var jt=T(zt,Tt,Dt,!0),Mt=b(jt,4),pt=Mt[0],k=Mt[1],u=Mt[2],G=Mt[3],Y=pt.length,V=Math.max(2,~~(Bt*Y)),U=new Float64Array(Y),et=new Float64Array(Y),ht=new Float64Array(Y).fill(1),Ft=-1;++Ft<=L;){for(var bt=[0,V-1],at=0;at<Y;++at){for(var xt=pt[at],lt=bt[0],it=bt[1],yt=xt-pt[lt]>pt[it]-xt?lt:it,ft=0,st=0,Ct=0,Rt=0,re=0,pe=1/Math.abs(pt[yt]-xt||1),Me=lt;Me<=it;++Me){var Xe=pt[Me],Be=k[Me],Re=j(Math.abs(xt-Xe)*pe)*ht[Me],Ke=Xe*Re;ft+=Re,st+=Ke,Ct+=Be*Re,Rt+=Be*Ke,re+=Xe*Ke}var ar=y(st/ft,Ct/ft,Rt/ft,re/ft),Mr=b(ar,2),sr=Mr[0],Xr=Mr[1];U[at]=sr+Xr*xt,et[at]=Math.abs(k[at]-U[at]),tt(pt,at+1,bt)}if(Ft===L)break;var pn=M(et);if(Math.abs(pn)<B)break;for(var jr=0,en,Xn;jr<Y;++jr)en=et[jr]/(6*pn),ht[jr]=en>=1?B:(Xn=1-en*en)*Xn}return H(pt,U,u,G)}return Et.bandwidth=function(zt){return arguments.length?(Bt=zt,Et):Bt},Et.x=function(zt){return arguments.length?(Tt=zt,Et):Tt},Et.y=function(zt){return arguments.length?(Dt=zt,Et):Dt},Et}function j(Tt){return(Tt=1-Tt*Tt*Tt)*Tt*Tt}function tt(Tt,Dt,Bt){var Et=Tt[Dt],zt=Bt[0],jt=Bt[1]+1;if(!(jt>=Tt.length))for(;Dt>zt&&Tt[jt]-Et<=Et-Tt[zt];)Bt[0]=++zt,Bt[1]=jt,++jt}function H(Tt,Dt,Bt,Et){for(var zt=Tt.length,jt=[],Mt=0,pt=0,k=[],u;Mt<zt;++Mt)u=Tt[Mt]+Bt,k[0]===u?k[1]+=(Dt[Mt]-k[1])/++pt:(pt=0,k[1]+=Et,k=[u,Dt[Mt]],jt.push(k));return k[1]+=Et,jt}function J(){var Tt=function(Mt){return Mt[0]},Dt=function(Mt){return Mt[1]},Bt=Math.E,Et;function zt(jt){var Mt=0,pt=0,k=0,u=0,G=0,Y=Et?+Et[0]:Infinity,V=Et?+Et[1]:-Infinity,U=Math.log(Bt);A(jt,Tt,Dt,function(lt,it){var yt=Math.log(lt)/U;++Mt,pt+=(yt-pt)/Mt,k+=(it-k)/Mt,u+=(yt*it-u)/Mt,G+=(yt*yt-G)/Mt,Et||(lt<Y&&(Y=lt),lt>V&&(V=lt))});var et=y(pt,k,u,G),ht=b(et,2),Ft=ht[0],bt=ht[1],at=function(it){return bt*Math.log(it)/U+Ft},xt=w(Y,V,at);return xt.a=bt,xt.b=Ft,xt.predict=at,xt.rSquared=C(jt,Tt,Dt,k,at),xt}return zt.domain=function(jt){return arguments.length?(Et=jt,zt):Et},zt.x=function(jt){return arguments.length?(Tt=jt,zt):Tt},zt.y=function(jt){return arguments.length?(Dt=jt,zt):Dt},zt.base=function(jt){return arguments.length?(Bt=jt,zt):Bt},zt}function ct(){var Tt=function(jt){return jt[0]},Dt=function(jt){return jt[1]},Bt;function Et(zt){var jt=T(zt,Tt,Dt),Mt=b(jt,4),pt=Mt[0],k=Mt[1],u=Mt[2],G=Mt[3],Y=pt.length,V=0,U=0,et=0,ht=0,Ft=0,bt,at,xt,lt;for(bt=0;bt<Y;)at=pt[bt],xt=k[bt++],lt=at*at,V+=(lt-V)/bt,U+=(lt*at-U)/bt,et+=(lt*lt-et)/bt,ht+=(at*xt-ht)/bt,Ft+=(lt*xt-Ft)/bt;var it=0,yt=0,ft=Bt?+Bt[0]:Infinity,st=Bt?+Bt[1]:-Infinity;A(zt,Tt,Dt,function(Re,Ke){yt++,it+=(Ke-it)/yt,Bt||(Re<ft&&(ft=Re),Re>st&&(st=Re))});var Ct=et-V*V,Rt=V*Ct-U*U,re=(Ft*V-ht*U)/Rt,pe=(ht*Ct-Ft*U)/Rt,Me=-re*V,Xe=function(Ke){return Ke=Ke-u,re*Ke*Ke+pe*Ke+Me+G},Be=w(ft,st,Xe);return Be.a=re,Be.b=pe-2*re*u,Be.c=Me-pe*u+re*u*u+G,Be.predict=Xe,Be.rSquared=C(zt,Tt,Dt,it,Xe),Be}return Et.domain=function(zt){return arguments.length?(Bt=zt,Et):Bt},Et.x=function(zt){return arguments.length?(Tt=zt,Et):Tt},Et.y=function(zt){return arguments.length?(Dt=zt,Et):Dt},Et}function ut(){var Tt=function(Mt){return Mt[0]},Dt=function(Mt){return Mt[1]},Bt=3,Et;function zt(jt){if(Bt===1){var Mt=g().x(Tt).y(Dt).domain(Et)(jt);return Mt.coefficients=[Mt.b,Mt.a],delete Mt.a,delete Mt.b,Mt}if(Bt===2){var pt=ct().x(Tt).y(Dt).domain(Et)(jt);return pt.coefficients=[pt.c,pt.b,pt.a],delete pt.a,delete pt.b,delete pt.c,pt}var k=T(jt,Tt,Dt),u=b(k,4),G=u[0],Y=u[1],V=u[2],U=u[3],et=G.length,ht=[],Ft=[],bt=Bt+1,at=0,xt=0,lt=Et?+Et[0]:Infinity,it=Et?+Et[1]:-Infinity;A(jt,Tt,Dt,function(Xe,Be){++xt,at+=(Be-at)/xt,Et||(Xe<lt&&(lt=Xe),Xe>it&&(it=Xe))});var yt,ft,st,Ct,Rt;for(yt=0;yt<bt;++yt){for(st=0,Ct=0;st<et;++st)Ct+=Math.pow(G[st],yt)*Y[st];for(ht.push(Ct),Rt=new Float64Array(bt),ft=0;ft<bt;++ft){for(st=0,Ct=0;st<et;++st)Ct+=Math.pow(G[st],yt+ft);Rt[ft]=Ct}Ft.push(Rt)}Ft.push(ht);var re=St(Ft),pe=function(Be){Be-=V;var Re=U+re[0]+re[1]*Be+re[2]*Be*Be;for(yt=3;yt<bt;++yt)Re+=re[yt]*Math.pow(Be,yt);return Re},Me=w(lt,it,pe);return Me.coefficients=At(bt,re,-V,U),Me.predict=pe,Me.rSquared=C(jt,Tt,Dt,at,pe),Me}return zt.domain=function(jt){return arguments.length?(Et=jt,zt):Et},zt.x=function(jt){return arguments.length?(Tt=jt,zt):Tt},zt.y=function(jt){return arguments.length?(Dt=jt,zt):Dt},zt.order=function(jt){return arguments.length?(Bt=jt,zt):Bt},zt}function At(Tt,Dt,Bt,Et){var zt=Array(Tt),jt,Mt,pt,k;for(jt=0;jt<Tt;++jt)zt[jt]=0;for(jt=Tt-1;jt>=0;--jt)for(pt=Dt[jt],k=1,zt[jt]+=pt,Mt=1;Mt<=jt;++Mt)k*=(jt+1-Mt)/Mt,zt[jt-Mt]+=pt*Math.pow(Bt,Mt)*k;return zt[0]+=Et,zt}function St(Tt){var Dt=Tt.length-1,Bt=[],Et,zt,jt,Mt,pt;for(Et=0;Et<Dt;++Et){for(Mt=Et,zt=Et+1;zt<Dt;++zt)Math.abs(Tt[Et][zt])>Math.abs(Tt[Et][Mt])&&(Mt=zt);for(jt=Et;jt<Dt+1;++jt)pt=Tt[jt][Et],Tt[jt][Et]=Tt[jt][Mt],Tt[jt][Mt]=pt;for(zt=Et+1;zt<Dt;++zt)for(jt=Dt;jt>=Et;jt--)Tt[jt][zt]-=Tt[jt][Et]*Tt[Et][zt]/Tt[Et][Et]}for(zt=Dt-1;zt>=0;--zt){for(pt=0,jt=zt+1;jt<Dt;++jt)pt+=Tt[jt][zt]*Bt[jt];Bt[zt]=(Tt[Dt][zt]-pt)/Tt[zt][zt]}return Bt}function Yt(){var Tt=function(jt){return jt[0]},Dt=function(jt){return jt[1]},Bt;function Et(zt){var jt=0,Mt=0,pt=0,k=0,u=0,G=0,Y=Bt?+Bt[0]:Infinity,V=Bt?+Bt[1]:-Infinity;A(zt,Tt,Dt,function(xt,lt){var it=Math.log(xt),yt=Math.log(lt);++jt,Mt+=(it-Mt)/jt,pt+=(yt-pt)/jt,k+=(it*yt-k)/jt,u+=(it*it-u)/jt,G+=(lt-G)/jt,Bt||(xt<Y&&(Y=xt),xt>V&&(V=xt))});var U=y(Mt,pt,k,u),et=b(U,2),ht=et[0],Ft=et[1];ht=Math.exp(ht);var bt=function(lt){return ht*Math.pow(lt,Ft)},at=w(Y,V,bt);return at.a=ht,at.b=Ft,at.predict=bt,at.rSquared=C(zt,Tt,Dt,G,bt),at}return Et.domain=function(zt){return arguments.length?(Bt=zt,Et):Bt},Et.x=function(zt){return arguments.length?(Tt=zt,Et):Tt},Et.y=function(zt){return arguments.length?(Dt=zt,Et):Dt},Et}d.regressionExp=m,d.regressionLinear=g,d.regressionLoess=N,d.regressionLog=J,d.regressionPoly=ut,d.regressionPow=Yt,d.regressionQuad=ct,Object.defineProperty(d,"__esModule",{value:!0})})},49772:function(dt,S,d){dt.exports={graphlib:d(70574),layout:d(98123),debug:d(27570),util:{time:d(11138).time,notime:d(11138).notime},version:d(88177)}},92188:function(dt,S,d){"use strict";var b=d(38436),O=d(74079);dt.exports={run:I,undo:T};function I(A){var C=A.graph().acyclicer==="greedy"?O(A,E(A)):_(A);b.forEach(C,function(p){var w=A.edge(p);A.removeEdge(p),w.forwardName=p.name,w.reversed=!0,A.setEdge(p.w,p.v,w,b.uniqueId("rev"))});function E(p){return function(w){return p.edge(w).weight}}}function _(A){var C=[],E={},p={};function w(y){b.has(p,y)||(p[y]=!0,E[y]=!0,b.forEach(A.outEdges(y),function(m){b.has(E,m.w)?C.push(m):w(m.w)}),delete E[y])}return b.forEach(A.nodes(),w),C}function T(A){b.forEach(A.edges(),function(C){var E=A.edge(C);if(E.reversed){A.removeEdge(C);var p=E.forwardName;delete E.reversed,delete E.forwardName,A.setEdge(C.w,C.v,E,p)}})}},61133:function(dt,S,d){var b=d(38436),O=d(11138);dt.exports=I;function I(T){function A(C){var E=T.children(C),p=T.node(C);if(E.length&&b.forEach(E,A),b.has(p,"minRank")){p.borderLeft=[],p.borderRight=[];for(var w=p.minRank,y=p.maxRank+1;w<y;++w)_(T,"borderLeft","_bl",C,p,w),_(T,"borderRight","_br",C,p,w)}}b.forEach(T.children(),A)}function _(T,A,C,E,p,w){var y={width:0,height:0,rank:w,borderType:A},m=p[A][w-1],g=O.addDummyNode(T,"border",y,C);p[A][w]=g,T.setParent(g,E),m&&T.setEdge(m,g,{weight:1})}},53258:function(dt,S,d){"use strict";var b=d(38436);dt.exports={adjust:O,undo:I};function O(w){var y=w.graph().rankdir.toLowerCase();(y==="lr"||y==="rl")&&_(w)}function I(w){var y=w.graph().rankdir.toLowerCase();(y==="bt"||y==="rl")&&A(w),(y==="lr"||y==="rl")&&(E(w),_(w))}function _(w){b.forEach(w.nodes(),function(y){T(w.node(y))}),b.forEach(w.edges(),function(y){T(w.edge(y))})}function T(w){var y=w.width;w.width=w.height,w.height=y}function A(w){b.forEach(w.nodes(),function(y){C(w.node(y))}),b.forEach(w.edges(),function(y){var m=w.edge(y);b.forEach(m.points,C),b.has(m,"y")&&C(m)})}function C(w){w.y=-w.y}function E(w){b.forEach(w.nodes(),function(y){p(w.node(y))}),b.forEach(w.edges(),function(y){var m=w.edge(y);b.forEach(m.points,p),b.has(m,"x")&&p(m)})}function p(w){var y=w.x;w.x=w.y,w.y=y}},77822:function(dt){dt.exports=S;function S(){var O={};O._next=O._prev=O,this._sentinel=O}S.prototype.dequeue=function(){var O=this._sentinel,I=O._prev;if(I!==O)return d(I),I},S.prototype.enqueue=function(O){var I=this._sentinel;O._prev&&O._next&&d(O),O._next=I._next,I._next._prev=O,I._next=O,O._prev=I},S.prototype.toString=function(){for(var O=[],I=this._sentinel,_=I._prev;_!==I;)O.push(JSON.stringify(_,b)),_=_._prev;return"["+O.join(", ")+"]"};function d(O){O._prev._next=O._next,O._next._prev=O._prev,delete O._next,delete O._prev}function b(O,I){if(O!=="_next"&&O!=="_prev")return I}},27570:function(dt,S,d){var b=d(38436),O=d(11138),I=d(70574).Graph;dt.exports={debugOrdering:_};function _(T){var A=O.buildLayerMatrix(T),C=new I({compound:!0,multigraph:!0}).setGraph({});return b.forEach(T.nodes(),function(E){C.setNode(E,{label:E}),C.setParent(E,"layer"+T.node(E).rank)}),b.forEach(T.edges(),function(E){C.setEdge(E.v,E.w,{},E.name)}),b.forEach(A,function(E,p){var w="layer"+p;C.setNode(w,{rank:"same"}),b.reduce(E,function(y,m){return C.setEdge(y,m,{style:"invis"}),m})}),C}},70574:function(dt,S,d){var b;try{b=d(28282)}catch(O){}b||(b=window.graphlib),dt.exports=b},74079:function(dt,S,d){var b=d(38436),O=d(70574).Graph,I=d(77822);dt.exports=T;var _=b.constant(1);function T(w,y){if(w.nodeCount()<=1)return[];var m=E(w,y||_),g=A(m.graph,m.buckets,m.zeroIdx);return b.flatten(b.map(g,function(M){return w.outEdges(M.v,M.w)}),!0)}function A(w,y,m){for(var g=[],M=y[y.length-1],L=y[0],B;w.nodeCount();){for(;B=L.dequeue();)C(w,y,m,B);for(;B=M.dequeue();)C(w,y,m,B);if(w.nodeCount()){for(var N=y.length-2;N>0;--N)if(B=y[N].dequeue(),B){g=g.concat(C(w,y,m,B,!0));break}}}return g}function C(w,y,m,g,M){var L=M?[]:void 0;return b.forEach(w.inEdges(g.v),function(B){var N=w.edge(B),j=w.node(B.v);M&&L.push({v:B.v,w:B.w}),j.out-=N,p(y,m,j)}),b.forEach(w.outEdges(g.v),function(B){var N=w.edge(B),j=B.w,tt=w.node(j);tt.in-=N,p(y,m,tt)}),w.removeNode(g.v),L}function E(w,y){var m=new O,g=0,M=0;b.forEach(w.nodes(),function(N){m.setNode(N,{v:N,in:0,out:0})}),b.forEach(w.edges(),function(N){var j=m.edge(N.v,N.w)||0,tt=y(N),H=j+tt;m.setEdge(N.v,N.w,H),M=Math.max(M,m.node(N.v).out+=tt),g=Math.max(g,m.node(N.w).in+=tt)});var L=b.range(M+g+3).map(function(){return new I}),B=g+1;return b.forEach(m.nodes(),function(N){p(L,B,m.node(N))}),{graph:m,buckets:L,zeroIdx:B}}function p(w,y,m){m.out?m.in?w[m.out-m.in+y].enqueue(m):w[w.length-1].enqueue(m):w[0].enqueue(m)}},98123:function(dt,S,d){"use strict";var b=d(38436),O=d(92188),I=d(45995),_=d(78093),T=d(11138).normalizeRanks,A=d(24219),C=d(11138).removeEmptyRanks,E=d(72981),p=d(61133),w=d(53258),y=d(53408),m=d(17873),g=d(11138),M=d(70574).Graph;dt.exports=L;function L(et,ht){var Ft=ht&&ht.debugTiming?g.time:g.notime;Ft("layout",function(){var bt=Ft("  buildLayoutGraph",function(){return Yt(et)});Ft("  runLayout",function(){B(bt,Ft)}),Ft("  updateInputGraph",function(){N(et,bt)})})}function B(et,ht){ht("    makeSpaceForEdgeLabels",function(){Tt(et)}),ht("    removeSelfEdges",function(){u(et)}),ht("    acyclic",function(){O.run(et)}),ht("    nestingGraph.run",function(){E.run(et)}),ht("    rank",function(){_(g.asNonCompoundGraph(et))}),ht("    injectEdgeLabelProxies",function(){Dt(et)}),ht("    removeEmptyRanks",function(){C(et)}),ht("    nestingGraph.cleanup",function(){E.cleanup(et)}),ht("    normalizeRanks",function(){T(et)}),ht("    assignRankMinMax",function(){Bt(et)}),ht("    removeEdgeLabelProxies",function(){Et(et)}),ht("    normalize.run",function(){I.run(et)}),ht("    parentDummyChains",function(){A(et)}),ht("    addBorderSegments",function(){p(et)}),ht("    order",function(){y(et)}),ht("    insertSelfEdges",function(){G(et)}),ht("    adjustCoordinateSystem",function(){w.adjust(et)}),ht("    position",function(){m(et)}),ht("    positionSelfEdges",function(){Y(et)}),ht("    removeBorderNodes",function(){k(et)}),ht("    normalize.undo",function(){I.undo(et)}),ht("    fixupEdgeLabelCoords",function(){Mt(et)}),ht("    undoCoordinateSystem",function(){w.undo(et)}),ht("    translateGraph",function(){zt(et)}),ht("    assignNodeIntersects",function(){jt(et)}),ht("    reversePoints",function(){pt(et)}),ht("    acyclic.undo",function(){O.undo(et)})}function N(et,ht){b.forEach(et.nodes(),function(Ft){var bt=et.node(Ft),at=ht.node(Ft);bt&&(bt.x=at.x,bt.y=at.y,ht.children(Ft).length&&(bt.width=at.width,bt.height=at.height))}),b.forEach(et.edges(),function(Ft){var bt=et.edge(Ft),at=ht.edge(Ft);bt.points=at.points,b.has(at,"x")&&(bt.x=at.x,bt.y=at.y)}),et.graph().width=ht.graph().width,et.graph().height=ht.graph().height}var j=["nodesep","edgesep","ranksep","marginx","marginy"],tt={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},H=["acyclicer","ranker","rankdir","align"],J=["width","height"],ct={width:0,height:0},ut=["minlen","weight","width","height","labeloffset"],At={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},St=["labelpos"];function Yt(et){var ht=new M({multigraph:!0,compound:!0}),Ft=U(et.graph());return ht.setGraph(b.merge({},tt,V(Ft,j),b.pick(Ft,H))),b.forEach(et.nodes(),function(bt){var at=U(et.node(bt));ht.setNode(bt,b.defaults(V(at,J),ct)),ht.setParent(bt,et.parent(bt))}),b.forEach(et.edges(),function(bt){var at=U(et.edge(bt));ht.setEdge(bt,b.merge({},At,V(at,ut),b.pick(at,St)))}),ht}function Tt(et){var ht=et.graph();ht.ranksep/=2,b.forEach(et.edges(),function(Ft){var bt=et.edge(Ft);bt.minlen*=2,bt.labelpos.toLowerCase()!=="c"&&(ht.rankdir==="TB"||ht.rankdir==="BT"?bt.width+=bt.labeloffset:bt.height+=bt.labeloffset)})}function Dt(et){b.forEach(et.edges(),function(ht){var Ft=et.edge(ht);if(Ft.width&&Ft.height){var bt=et.node(ht.v),at=et.node(ht.w),xt={rank:(at.rank-bt.rank)/2+bt.rank,e:ht};g.addDummyNode(et,"edge-proxy",xt,"_ep")}})}function Bt(et){var ht=0;b.forEach(et.nodes(),function(Ft){var bt=et.node(Ft);bt.borderTop&&(bt.minRank=et.node(bt.borderTop).rank,bt.maxRank=et.node(bt.borderBottom).rank,ht=b.max(ht,bt.maxRank))}),et.graph().maxRank=ht}function Et(et){b.forEach(et.nodes(),function(ht){var Ft=et.node(ht);Ft.dummy==="edge-proxy"&&(et.edge(Ft.e).labelRank=Ft.rank,et.removeNode(ht))})}function zt(et){var ht=Number.POSITIVE_INFINITY,Ft=0,bt=Number.POSITIVE_INFINITY,at=0,xt=et.graph(),lt=xt.marginx||0,it=xt.marginy||0;function yt(ft){var st=ft.x,Ct=ft.y,Rt=ft.width,re=ft.height;ht=Math.min(ht,st-Rt/2),Ft=Math.max(Ft,st+Rt/2),bt=Math.min(bt,Ct-re/2),at=Math.max(at,Ct+re/2)}b.forEach(et.nodes(),function(ft){yt(et.node(ft))}),b.forEach(et.edges(),function(ft){var st=et.edge(ft);b.has(st,"x")&&yt(st)}),ht-=lt,bt-=it,b.forEach(et.nodes(),function(ft){var st=et.node(ft);st.x-=ht,st.y-=bt}),b.forEach(et.edges(),function(ft){var st=et.edge(ft);b.forEach(st.points,function(Ct){Ct.x-=ht,Ct.y-=bt}),b.has(st,"x")&&(st.x-=ht),b.has(st,"y")&&(st.y-=bt)}),xt.width=Ft-ht+lt,xt.height=at-bt+it}function jt(et){b.forEach(et.edges(),function(ht){var Ft=et.edge(ht),bt=et.node(ht.v),at=et.node(ht.w),xt,lt;Ft.points?(xt=Ft.points[0],lt=Ft.points[Ft.points.length-1]):(Ft.points=[],xt=at,lt=bt),Ft.points.unshift(g.intersectRect(bt,xt)),Ft.points.push(g.intersectRect(at,lt))})}function Mt(et){b.forEach(et.edges(),function(ht){var Ft=et.edge(ht);if(b.has(Ft,"x"))switch((Ft.labelpos==="l"||Ft.labelpos==="r")&&(Ft.width-=Ft.labeloffset),Ft.labelpos){case"l":Ft.x-=Ft.width/2+Ft.labeloffset;break;case"r":Ft.x+=Ft.width/2+Ft.labeloffset;break}})}function pt(et){b.forEach(et.edges(),function(ht){var Ft=et.edge(ht);Ft.reversed&&Ft.points.reverse()})}function k(et){b.forEach(et.nodes(),function(ht){if(et.children(ht).length){var Ft=et.node(ht),bt=et.node(Ft.borderTop),at=et.node(Ft.borderBottom),xt=et.node(b.last(Ft.borderLeft)),lt=et.node(b.last(Ft.borderRight));Ft.width=Math.abs(lt.x-xt.x),Ft.height=Math.abs(at.y-bt.y),Ft.x=xt.x+Ft.width/2,Ft.y=bt.y+Ft.height/2}}),b.forEach(et.nodes(),function(ht){et.node(ht).dummy==="border"&&et.removeNode(ht)})}function u(et){b.forEach(et.edges(),function(ht){if(ht.v===ht.w){var Ft=et.node(ht.v);Ft.selfEdges||(Ft.selfEdges=[]),Ft.selfEdges.push({e:ht,label:et.edge(ht)}),et.removeEdge(ht)}})}function G(et){var ht=g.buildLayerMatrix(et);b.forEach(ht,function(Ft){var bt=0;b.forEach(Ft,function(at,xt){var lt=et.node(at);lt.order=xt+bt,b.forEach(lt.selfEdges,function(it){g.addDummyNode(et,"selfedge",{width:it.label.width,height:it.label.height,rank:lt.rank,order:xt+ ++bt,e:it.e,label:it.label},"_se")}),delete lt.selfEdges})})}function Y(et){b.forEach(et.nodes(),function(ht){var Ft=et.node(ht);if(Ft.dummy==="selfedge"){var bt=et.node(Ft.e.v),at=bt.x+bt.width/2,xt=bt.y,lt=Ft.x-at,it=bt.height/2;et.setEdge(Ft.e,Ft.label),et.removeNode(ht),Ft.label.points=[{x:at+2*lt/3,y:xt-it},{x:at+5*lt/6,y:xt-it},{x:at+lt,y:xt},{x:at+5*lt/6,y:xt+it},{x:at+2*lt/3,y:xt+it}],Ft.label.x=Ft.x,Ft.label.y=Ft.y}})}function V(et,ht){return b.mapValues(b.pick(et,ht),Number)}function U(et){var ht={};return b.forEach(et,function(Ft,bt){ht[bt.toLowerCase()]=Ft}),ht}},38436:function(dt,S,d){var b;try{b={cloneDeep:d(50361),constant:d(75703),defaults:d(91747),each:d(66073),filter:d(63105),find:d(13311),flatten:d(85564),forEach:d(84486),forIn:d(62620),has:d(18721),isUndefined:d(52353),last:d(10928),map:d(35161),mapValues:d(66604),max:d(6162),merge:d(82492),min:d(53632),minBy:d(22762),now:d(7771),pick:d(78718),range:d(96026),reduce:d(54061),sortBy:d(89734),uniqueId:d(73955),values:d(52628),zipObject:d(7287)}}catch(O){}b||(b=window._),dt.exports=b},72981:function(dt,S,d){var b=d(38436),O=d(11138);dt.exports={run:I,cleanup:C};function I(E){var p=O.addDummyNode(E,"root",{},"_root"),w=T(E),y=b.max(b.values(w))-1,m=2*y+1;E.graph().nestingRoot=p,b.forEach(E.edges(),function(M){E.edge(M).minlen*=m});var g=A(E)+1;b.forEach(E.children(),function(M){_(E,p,m,g,y,w,M)}),E.graph().nodeRankFactor=m}function _(E,p,w,y,m,g,M){var L=E.children(M);if(!L.length){M!==p&&E.setEdge(p,M,{weight:0,minlen:w});return}var B=O.addBorderNode(E,"_bt"),N=O.addBorderNode(E,"_bb"),j=E.node(M);E.setParent(B,M),j.borderTop=B,E.setParent(N,M),j.borderBottom=N,b.forEach(L,function(tt){_(E,p,w,y,m,g,tt);var H=E.node(tt),J=H.borderTop?H.borderTop:tt,ct=H.borderBottom?H.borderBottom:tt,ut=H.borderTop?y:2*y,At=J!==ct?1:m-g[M]+1;E.setEdge(B,J,{weight:ut,minlen:At,nestingEdge:!0}),E.setEdge(ct,N,{weight:ut,minlen:At,nestingEdge:!0})}),E.parent(M)||E.setEdge(p,B,{weight:0,minlen:m+g[M]})}function T(E){var p={};function w(y,m){var g=E.children(y);g&&g.length&&b.forEach(g,function(M){w(M,m+1)}),p[y]=m}return b.forEach(E.children(),function(y){w(y,1)}),p}function A(E){return b.reduce(E.edges(),function(p,w){return p+E.edge(w).weight},0)}function C(E){var p=E.graph();E.removeNode(p.nestingRoot),delete p.nestingRoot,b.forEach(E.edges(),function(w){var y=E.edge(w);y.nestingEdge&&E.removeEdge(w)})}},45995:function(dt,S,d){"use strict";var b=d(38436),O=d(11138);dt.exports={run:I,undo:T};function I(A){A.graph().dummyChains=[],b.forEach(A.edges(),function(C){_(A,C)})}function _(A,C){var E=C.v,p=A.node(E).rank,w=C.w,y=A.node(w).rank,m=C.name,g=A.edge(C),M=g.labelRank;if(y!==p+1){A.removeEdge(C);var L,B,N;for(N=0,++p;p<y;++N,++p)g.points=[],B={width:0,height:0,edgeLabel:g,edgeObj:C,rank:p},L=O.addDummyNode(A,"edge",B,"_d"),p===M&&(B.width=g.width,B.height=g.height,B.dummy="edge-label",B.labelpos=g.labelpos),A.setEdge(E,L,{weight:g.weight},m),N===0&&A.graph().dummyChains.push(L),E=L;A.setEdge(E,w,{weight:g.weight},m)}}function T(A){b.forEach(A.graph().dummyChains,function(C){var E=A.node(C),p=E.edgeLabel,w;for(A.setEdge(E.edgeObj,p);E.dummy;)w=A.successors(C)[0],A.removeNode(C),p.points.push({x:E.x,y:E.y}),E.dummy==="edge-label"&&(p.x=E.x,p.y=E.y,p.width=E.width,p.height=E.height),C=w,E=A.node(C)})}},55093:function(dt,S,d){var b=d(38436);dt.exports=O;function O(I,_,T){var A={},C;b.forEach(T,function(E){for(var p=I.parent(E),w,y;p;){if(w=I.parent(p),w?(y=A[w],A[w]=p):(y=C,C=p),y&&y!==p){_.setEdge(y,p);return}p=w}})}},35439:function(dt,S,d){var b=d(38436);dt.exports=O;function O(I,_){return b.map(_,function(T){var A=I.inEdges(T);if(A.length){var C=b.reduce(A,function(E,p){var w=I.edge(p),y=I.node(p.v);return{sum:E.sum+w.weight*y.order,weight:E.weight+w.weight}},{sum:0,weight:0});return{v:T,barycenter:C.sum/C.weight,weight:C.weight}}else return{v:T}})}},23128:function(dt,S,d){var b=d(38436),O=d(70574).Graph;dt.exports=I;function I(T,A,C){var E=_(T),p=new O({compound:!0}).setGraph({root:E}).setDefaultNodeLabel(function(w){return T.node(w)});return b.forEach(T.nodes(),function(w){var y=T.node(w),m=T.parent(w);(y.rank===A||y.minRank<=A&&A<=y.maxRank)&&(p.setNode(w),p.setParent(w,m||E),b.forEach(T[C](w),function(g){var M=g.v===w?g.w:g.v,L=p.edge(M,w),B=b.isUndefined(L)?0:L.weight;p.setEdge(M,w,{weight:T.edge(g).weight+B})}),b.has(y,"minRank")&&p.setNode(w,{borderLeft:y.borderLeft[A],borderRight:y.borderRight[A]}))}),p}function _(T){for(var A;T.hasNode(A=b.uniqueId("_root")););return A}},56630:function(dt,S,d){"use strict";var b=d(38436);dt.exports=O;function O(_,T){for(var A=0,C=1;C<T.length;++C)A+=I(_,T[C-1],T[C]);return A}function I(_,T,A){for(var C=b.zipObject(A,b.map(A,function(g,M){return M})),E=b.flatten(b.map(T,function(g){return b.sortBy(b.map(_.outEdges(g),function(M){return{pos:C[M.w],weight:_.edge(M).weight}}),"pos")}),!0),p=1;p<A.length;)p<<=1;var w=2*p-1;p-=1;var y=b.map(new Array(w),function(){return 0}),m=0;return b.forEach(E.forEach(function(g){var M=g.pos+p;y[M]+=g.weight;for(var L=0;M>0;)M%2&&(L+=y[M+1]),M=M-1>>1,y[M]+=g.weight;m+=g.weight*L})),m}},53408:function(dt,S,d){"use strict";var b=d(38436),O=d(2588),I=d(56630),_=d(61026),T=d(23128),A=d(55093),C=d(70574).Graph,E=d(11138);dt.exports=p;function p(g){var M=E.maxRank(g),L=w(g,b.range(1,M+1),"inEdges"),B=w(g,b.range(M-1,-1,-1),"outEdges"),N=O(g);m(g,N);for(var j=Number.POSITIVE_INFINITY,tt,H=0,J=0;J<4;++H,++J){y(H%2?L:B,H%4>=2),N=E.buildLayerMatrix(g);var ct=I(g,N);ct<j&&(J=0,tt=b.cloneDeep(N),j=ct)}m(g,tt)}function w(g,M,L){return b.map(M,function(B){return T(g,B,L)})}function y(g,M){var L=new C;b.forEach(g,function(B){var N=B.graph().root,j=_(B,N,L,M);b.forEach(j.vs,function(tt,H){B.node(tt).order=H}),A(B,L,j.vs)})}function m(g,M){b.forEach(M,function(L){b.forEach(L,function(B,N){g.node(B).order=N})})}},2588:function(dt,S,d){"use strict";var b=d(38436);dt.exports=O;function O(I){var _={},T=b.filter(I.nodes(),function(w){return!I.children(w).length}),A=b.max(b.map(T,function(w){return I.node(w).rank})),C=b.map(b.range(A+1),function(){return[]});function E(w){if(!b.has(_,w)){_[w]=!0;var y=I.node(w);C[y.rank].push(w),b.forEach(I.successors(w),E)}}var p=b.sortBy(T,function(w){return I.node(w).rank});return b.forEach(p,E),C}},83678:function(dt,S,d){"use strict";var b=d(38436);dt.exports=O;function O(T,A){var C={};b.forEach(T,function(p,w){var y=C[p.v]={indegree:0,in:[],out:[],vs:[p.v],i:w};b.isUndefined(p.barycenter)||(y.barycenter=p.barycenter,y.weight=p.weight)}),b.forEach(A.edges(),function(p){var w=C[p.v],y=C[p.w];!b.isUndefined(w)&&!b.isUndefined(y)&&(y.indegree++,w.out.push(C[p.w]))});var E=b.filter(C,function(p){return!p.indegree});return I(E)}function I(T){var A=[];function C(w){return function(y){y.merged||(b.isUndefined(y.barycenter)||b.isUndefined(w.barycenter)||y.barycenter>=w.barycenter)&&_(w,y)}}function E(w){return function(y){y.in.push(w),--y.indegree==0&&T.push(y)}}for(;T.length;){var p=T.pop();A.push(p),b.forEach(p.in.reverse(),C(p)),b.forEach(p.out,E(p))}return b.map(b.filter(A,function(w){return!w.merged}),function(w){return b.pick(w,["vs","i","barycenter","weight"])})}function _(T,A){var C=0,E=0;T.weight&&(C+=T.barycenter*T.weight,E+=T.weight),A.weight&&(C+=A.barycenter*A.weight,E+=A.weight),T.vs=A.vs.concat(T.vs),T.barycenter=C/E,T.weight=E,T.i=Math.min(A.i,T.i),A.merged=!0}},61026:function(dt,S,d){var b=d(38436),O=d(35439),I=d(83678),_=d(87304);dt.exports=T;function T(E,p,w,y){var m=E.children(p),g=E.node(p),M=g?g.borderLeft:void 0,L=g?g.borderRight:void 0,B={};M&&(m=b.filter(m,function(ct){return ct!==M&&ct!==L}));var N=O(E,m);b.forEach(N,function(ct){if(E.children(ct.v).length){var ut=T(E,ct.v,w,y);B[ct.v]=ut,b.has(ut,"barycenter")&&C(ct,ut)}});var j=I(N,w);A(j,B);var tt=_(j,y);if(M&&(tt.vs=b.flatten([M,tt.vs,L],!0),E.predecessors(M).length)){var H=E.node(E.predecessors(M)[0]),J=E.node(E.predecessors(L)[0]);b.has(tt,"barycenter")||(tt.barycenter=0,tt.weight=0),tt.barycenter=(tt.barycenter*tt.weight+H.order+J.order)/(tt.weight+2),tt.weight+=2}return tt}function A(E,p){b.forEach(E,function(w){w.vs=b.flatten(w.vs.map(function(y){return p[y]?p[y].vs:y}),!0)})}function C(E,p){b.isUndefined(E.barycenter)?(E.barycenter=p.barycenter,E.weight=p.weight):(E.barycenter=(E.barycenter*E.weight+p.barycenter*p.weight)/(E.weight+p.weight),E.weight+=p.weight)}},87304:function(dt,S,d){var b=d(38436),O=d(11138);dt.exports=I;function I(A,C){var E=O.partition(A,function(B){return b.has(B,"barycenter")}),p=E.lhs,w=b.sortBy(E.rhs,function(B){return-B.i}),y=[],m=0,g=0,M=0;p.sort(T(!!C)),M=_(y,w,M),b.forEach(p,function(B){M+=B.vs.length,y.push(B.vs),m+=B.barycenter*B.weight,g+=B.weight,M=_(y,w,M)});var L={vs:b.flatten(y,!0)};return g&&(L.barycenter=m/g,L.weight=g),L}function _(A,C,E){for(var p;C.length&&(p=b.last(C)).i<=E;)C.pop(),A.push(p.vs),E++;return E}function T(A){return function(C,E){return C.barycenter<E.barycenter?-1:C.barycenter>E.barycenter?1:A?E.i-C.i:C.i-E.i}}},24219:function(dt,S,d){var b=d(38436);dt.exports=O;function O(T){var A=_(T);b.forEach(T.graph().dummyChains,function(C){for(var E=T.node(C),p=E.edgeObj,w=I(T,A,p.v,p.w),y=w.path,m=w.lca,g=0,M=y[g],L=!0;C!==p.w;){if(E=T.node(C),L){for(;(M=y[g])!==m&&T.node(M).maxRank<E.rank;)g++;M===m&&(L=!1)}if(!L){for(;g<y.length-1&&T.node(M=y[g+1]).minRank<=E.rank;)g++;M=y[g]}T.setParent(C,M),C=T.successors(C)[0]}})}function I(T,A,C,E){var p=[],w=[],y=Math.min(A[C].low,A[E].low),m=Math.max(A[C].lim,A[E].lim),g,M;g=C;do g=T.parent(g),p.push(g);while(g&&(A[g].low>y||m>A[g].lim));for(M=g,g=E;(g=T.parent(g))!==M;)w.push(g);return{path:p.concat(w.reverse()),lca:M}}function _(T){var A={},C=0;function E(p){var w=C;b.forEach(T.children(p),E),A[p]={low:w,lim:C++}}return b.forEach(T.children(),E),A}},3573:function(dt,S,d){"use strict";var b=d(38436),O=d(70574).Graph,I=d(11138);dt.exports={positionX:L,findType1Conflicts:_,findType2Conflicts:T,addConflict:C,hasConflict:E,verticalAlignment:p,horizontalCompaction:w,alignCoordinates:g,findSmallestWidthAlignment:m,balance:M};function _(j,tt){var H={};function J(ct,ut){var At=0,St=0,Yt=ct.length,Tt=b.last(ut);return b.forEach(ut,function(Dt,Bt){var Et=A(j,Dt),zt=Et?j.node(Et).order:Yt;(Et||Dt===Tt)&&(b.forEach(ut.slice(St,Bt+1),function(jt){b.forEach(j.predecessors(jt),function(Mt){var pt=j.node(Mt),k=pt.order;(k<At||zt<k)&&!(pt.dummy&&j.node(jt).dummy)&&C(H,Mt,jt)})}),St=Bt+1,At=zt)}),ut}return b.reduce(tt,J),H}function T(j,tt){var H={};function J(ut,At,St,Yt,Tt){var Dt;b.forEach(b.range(At,St),function(Bt){Dt=ut[Bt],j.node(Dt).dummy&&b.forEach(j.predecessors(Dt),function(Et){var zt=j.node(Et);zt.dummy&&(zt.order<Yt||zt.order>Tt)&&C(H,Et,Dt)})})}function ct(ut,At){var St=-1,Yt,Tt=0;return b.forEach(At,function(Dt,Bt){if(j.node(Dt).dummy==="border"){var Et=j.predecessors(Dt);Et.length&&(Yt=j.node(Et[0]).order,J(At,Tt,Bt,St,Yt),Tt=Bt,St=Yt)}J(At,Tt,At.length,Yt,ut.length)}),At}return b.reduce(tt,ct),H}function A(j,tt){if(j.node(tt).dummy)return b.find(j.predecessors(tt),function(H){return j.node(H).dummy})}function C(j,tt,H){if(tt>H){var J=tt;tt=H,H=J}var ct=j[tt];ct||(j[tt]=ct={}),ct[H]=!0}function E(j,tt,H){if(tt>H){var J=tt;tt=H,H=J}return b.has(j[tt],H)}function p(j,tt,H,J){var ct={},ut={},At={};return b.forEach(tt,function(St){b.forEach(St,function(Yt,Tt){ct[Yt]=Yt,ut[Yt]=Yt,At[Yt]=Tt})}),b.forEach(tt,function(St){var Yt=-1;b.forEach(St,function(Tt){var Dt=J(Tt);if(Dt.length){Dt=b.sortBy(Dt,function(Mt){return At[Mt]});for(var Bt=(Dt.length-1)/2,Et=Math.floor(Bt),zt=Math.ceil(Bt);Et<=zt;++Et){var jt=Dt[Et];ut[Tt]===Tt&&Yt<At[jt]&&!E(H,Tt,jt)&&(ut[jt]=Tt,ut[Tt]=ct[Tt]=ct[jt],Yt=At[jt])}}})}),{root:ct,align:ut}}function w(j,tt,H,J,ct){var ut={},At=y(j,tt,H,ct),St=ct?"borderLeft":"borderRight";function Yt(Bt,Et){for(var zt=At.nodes(),jt=zt.pop(),Mt={};jt;)Mt[jt]?Bt(jt):(Mt[jt]=!0,zt.push(jt),zt=zt.concat(Et(jt))),jt=zt.pop()}function Tt(Bt){ut[Bt]=At.inEdges(Bt).reduce(function(Et,zt){return Math.max(Et,ut[zt.v]+At.edge(zt))},0)}function Dt(Bt){var Et=At.outEdges(Bt).reduce(function(jt,Mt){return Math.min(jt,ut[Mt.w]-At.edge(Mt))},Number.POSITIVE_INFINITY),zt=j.node(Bt);Et!==Number.POSITIVE_INFINITY&&zt.borderType!==St&&(ut[Bt]=Math.max(ut[Bt],Et))}return Yt(Tt,At.predecessors.bind(At)),Yt(Dt,At.successors.bind(At)),b.forEach(J,function(Bt){ut[Bt]=ut[H[Bt]]}),ut}function y(j,tt,H,J){var ct=new O,ut=j.graph(),At=B(ut.nodesep,ut.edgesep,J);return b.forEach(tt,function(St){var Yt;b.forEach(St,function(Tt){var Dt=H[Tt];if(ct.setNode(Dt),Yt){var Bt=H[Yt],Et=ct.edge(Bt,Dt);ct.setEdge(Bt,Dt,Math.max(At(j,Tt,Yt),Et||0))}Yt=Tt})}),ct}function m(j,tt){return b.minBy(b.values(tt),function(H){var J=Number.NEGATIVE_INFINITY,ct=Number.POSITIVE_INFINITY;return b.forIn(H,function(ut,At){var St=N(j,At)/2;J=Math.max(ut+St,J),ct=Math.min(ut-St,ct)}),J-ct})}function g(j,tt){var H=b.values(tt),J=b.min(H),ct=b.max(H);b.forEach(["u","d"],function(ut){b.forEach(["l","r"],function(At){var St=ut+At,Yt=j[St],Tt;if(Yt!==tt){var Dt=b.values(Yt);Tt=At==="l"?J-b.min(Dt):ct-b.max(Dt),Tt&&(j[St]=b.mapValues(Yt,function(Bt){return Bt+Tt}))}})})}function M(j,tt){return b.mapValues(j.ul,function(H,J){if(tt)return j[tt.toLowerCase()][J];var ct=b.sortBy(b.map(j,J));return(ct[1]+ct[2])/2})}function L(j){var tt=I.buildLayerMatrix(j),H=b.merge(_(j,tt),T(j,tt)),J={},ct;b.forEach(["u","d"],function(At){ct=At==="u"?tt:b.values(tt).reverse(),b.forEach(["l","r"],function(St){St==="r"&&(ct=b.map(ct,function(Bt){return b.values(Bt).reverse()}));var Yt=(At==="u"?j.predecessors:j.successors).bind(j),Tt=p(j,ct,H,Yt),Dt=w(j,ct,Tt.root,Tt.align,St==="r");St==="r"&&(Dt=b.mapValues(Dt,function(Bt){return-Bt})),J[At+St]=Dt})});var ut=m(j,J);return g(J,ut),M(J,j.graph().align)}function B(j,tt,H){return function(J,ct,ut){var At=J.node(ct),St=J.node(ut),Yt=0,Tt;if(Yt+=At.width/2,b.has(At,"labelpos"))switch(At.labelpos.toLowerCase()){case"l":Tt=-At.width/2;break;case"r":Tt=At.width/2;break}if(Tt&&(Yt+=H?Tt:-Tt),Tt=0,Yt+=(At.dummy?tt:j)/2,Yt+=(St.dummy?tt:j)/2,Yt+=St.width/2,b.has(St,"labelpos"))switch(St.labelpos.toLowerCase()){case"l":Tt=St.width/2;break;case"r":Tt=-St.width/2;break}return Tt&&(Yt+=H?Tt:-Tt),Tt=0,Yt}}function N(j,tt){return j.node(tt).width}},17873:function(dt,S,d){"use strict";var b=d(38436),O=d(11138),I=d(3573).positionX;dt.exports=_;function _(A){A=O.asNonCompoundGraph(A),T(A),b.forEach(I(A),function(C,E){A.node(E).x=C})}function T(A){var C=O.buildLayerMatrix(A),E=A.graph().ranksep,p=0;b.forEach(C,function(w){var y=b.max(b.map(w,function(m){return A.node(m).height}));b.forEach(w,function(m){A.node(m).y=p+y/2}),p+=y+E})}},20300:function(dt,S,d){"use strict";var b=d(38436),O=d(70574).Graph,I=d(76681).slack;dt.exports=_;function _(E){var p=new O({directed:!1}),w=E.nodes()[0],y=E.nodeCount();p.setNode(w,{});for(var m,g;T(p,E)<y;)m=A(p,E),g=p.hasNode(m.v)?I(E,m):-I(E,m),C(p,E,g);return p}function T(E,p){function w(y){b.forEach(p.nodeEdges(y),function(m){var g=m.v,M=y===g?m.w:g;!E.hasNode(M)&&!I(p,m)&&(E.setNode(M,{}),E.setEdge(y,M,{}),w(M))})}return b.forEach(E.nodes(),w),E.nodeCount()}function A(E,p){return b.minBy(p.edges(),function(w){if(E.hasNode(w.v)!==E.hasNode(w.w))return I(p,w)})}function C(E,p,w){b.forEach(E.nodes(),function(y){p.node(y).rank+=w})}},78093:function(dt,S,d){"use strict";var b=d(76681),O=b.longestPath,I=d(20300),_=d(42472);dt.exports=T;function T(p){switch(p.graph().ranker){case"network-simplex":E(p);break;case"tight-tree":C(p);break;case"longest-path":A(p);break;default:E(p)}}var A=O;function C(p){O(p),I(p)}function E(p){_(p)}},42472:function(dt,S,d){"use strict";var b=d(38436),O=d(20300),I=d(76681).slack,_=d(76681).longestPath,T=d(70574).alg.preorder,A=d(70574).alg.postorder,C=d(11138).simplify;dt.exports=E,E.initLowLimValues=m,E.initCutValues=p,E.calcCutValue=y,E.leaveEdge=M,E.enterEdge=L,E.exchangeEdges=B;function E(H){H=C(H),_(H);var J=O(H);m(J),p(J,H);for(var ct,ut;ct=M(J);)ut=L(J,H,ct),B(J,H,ct,ut)}function p(H,J){var ct=A(H,H.nodes());ct=ct.slice(0,ct.length-1),b.forEach(ct,function(ut){w(H,J,ut)})}function w(H,J,ct){var ut=H.node(ct),At=ut.parent;H.edge(ct,At).cutvalue=y(H,J,ct)}function y(H,J,ct){var ut=H.node(ct),At=ut.parent,St=!0,Yt=J.edge(ct,At),Tt=0;return Yt||(St=!1,Yt=J.edge(At,ct)),Tt=Yt.weight,b.forEach(J.nodeEdges(ct),function(Dt){var Bt=Dt.v===ct,Et=Bt?Dt.w:Dt.v;if(Et!==At){var zt=Bt===St,jt=J.edge(Dt).weight;if(Tt+=zt?jt:-jt,j(H,ct,Et)){var Mt=H.edge(ct,Et).cutvalue;Tt+=zt?-Mt:Mt}}}),Tt}function m(H,J){arguments.length<2&&(J=H.nodes()[0]),g(H,{},1,J)}function g(H,J,ct,ut,At){var St=ct,Yt=H.node(ut);return J[ut]=!0,b.forEach(H.neighbors(ut),function(Tt){b.has(J,Tt)||(ct=g(H,J,ct,Tt,ut))}),Yt.low=St,Yt.lim=ct++,At?Yt.parent=At:delete Yt.parent,ct}function M(H){return b.find(H.edges(),function(J){return H.edge(J).cutvalue<0})}function L(H,J,ct){var ut=ct.v,At=ct.w;J.hasEdge(ut,At)||(ut=ct.w,At=ct.v);var St=H.node(ut),Yt=H.node(At),Tt=St,Dt=!1;St.lim>Yt.lim&&(Tt=Yt,Dt=!0);var Bt=b.filter(J.edges(),function(Et){return Dt===tt(H,H.node(Et.v),Tt)&&Dt!==tt(H,H.node(Et.w),Tt)});return b.minBy(Bt,function(Et){return I(J,Et)})}function B(H,J,ct,ut){var At=ct.v,St=ct.w;H.removeEdge(At,St),H.setEdge(ut.v,ut.w,{}),m(H),p(H,J),N(H,J)}function N(H,J){var ct=b.find(H.nodes(),function(At){return!J.node(At).parent}),ut=T(H,ct);ut=ut.slice(1),b.forEach(ut,function(At){var St=H.node(At).parent,Yt=J.edge(At,St),Tt=!1;Yt||(Yt=J.edge(St,At),Tt=!0),J.node(At).rank=J.node(St).rank+(Tt?Yt.minlen:-Yt.minlen)})}function j(H,J,ct){return H.hasEdge(J,ct)}function tt(H,J,ct){return ct.low<=J.lim&&J.lim<=ct.lim}},76681:function(dt,S,d){"use strict";var b=d(38436);dt.exports={longestPath:O,slack:I};function O(_){var T={};function A(C){var E=_.node(C);if(b.has(T,C))return E.rank;T[C]=!0;var p=b.min(b.map(_.outEdges(C),function(w){return A(w.w)-_.edge(w).minlen}));return(p===Number.POSITIVE_INFINITY||p===void 0||p===null)&&(p=0),E.rank=p}b.forEach(_.sources(),A)}function I(_,T){return _.node(T.w).rank-_.node(T.v).rank-_.edge(T).minlen}},11138:function(dt,S,d){"use strict";var b=d(38436),O=d(70574).Graph;dt.exports={addDummyNode:I,simplify:_,asNonCompoundGraph:T,successorWeights:A,predecessorWeights:C,intersectRect:E,buildLayerMatrix:p,normalizeRanks:w,removeEmptyRanks:y,addBorderNode:m,maxRank:g,partition:M,time:L,notime:B};function I(N,j,tt,H){var J;do J=b.uniqueId(H);while(N.hasNode(J));return tt.dummy=j,N.setNode(J,tt),J}function _(N){var j=new O().setGraph(N.graph());return b.forEach(N.nodes(),function(tt){j.setNode(tt,N.node(tt))}),b.forEach(N.edges(),function(tt){var H=j.edge(tt.v,tt.w)||{weight:0,minlen:1},J=N.edge(tt);j.setEdge(tt.v,tt.w,{weight:H.weight+J.weight,minlen:Math.max(H.minlen,J.minlen)})}),j}function T(N){var j=new O({multigraph:N.isMultigraph()}).setGraph(N.graph());return b.forEach(N.nodes(),function(tt){N.children(tt).length||j.setNode(tt,N.node(tt))}),b.forEach(N.edges(),function(tt){j.setEdge(tt,N.edge(tt))}),j}function A(N){var j=b.map(N.nodes(),function(tt){var H={};return b.forEach(N.outEdges(tt),function(J){H[J.w]=(H[J.w]||0)+N.edge(J).weight}),H});return b.zipObject(N.nodes(),j)}function C(N){var j=b.map(N.nodes(),function(tt){var H={};return b.forEach(N.inEdges(tt),function(J){H[J.v]=(H[J.v]||0)+N.edge(J).weight}),H});return b.zipObject(N.nodes(),j)}function E(N,j){var tt=N.x,H=N.y,J=j.x-tt,ct=j.y-H,ut=N.width/2,At=N.height/2;if(!J&&!ct)throw new Error("Not possible to find intersection inside of the rectangle");var St,Yt;return Math.abs(ct)*ut>Math.abs(J)*At?(ct<0&&(At=-At),St=At*J/ct,Yt=At):(J<0&&(ut=-ut),St=ut,Yt=ut*ct/J),{x:tt+St,y:H+Yt}}function p(N){var j=b.map(b.range(g(N)+1),function(){return[]});return b.forEach(N.nodes(),function(tt){var H=N.node(tt),J=H.rank;b.isUndefined(J)||(j[J][H.order]=tt)}),j}function w(N){var j=b.min(b.map(N.nodes(),function(tt){return N.node(tt).rank}));b.forEach(N.nodes(),function(tt){var H=N.node(tt);b.has(H,"rank")&&(H.rank-=j)})}function y(N){var j=b.min(b.map(N.nodes(),function(ct){return N.node(ct).rank})),tt=[];b.forEach(N.nodes(),function(ct){var ut=N.node(ct).rank-j;tt[ut]||(tt[ut]=[]),tt[ut].push(ct)});var H=0,J=N.graph().nodeRankFactor;b.forEach(tt,function(ct,ut){b.isUndefined(ct)&&ut%J!=0?--H:H&&b.forEach(ct,function(At){N.node(At).rank+=H})})}function m(N,j,tt,H){var J={width:0,height:0};return arguments.length>=4&&(J.rank=tt,J.order=H),I(N,"border",J,j)}function g(N){return b.max(b.map(N.nodes(),function(j){var tt=N.node(j).rank;if(!b.isUndefined(tt))return tt}))}function M(N,j){var tt={lhs:[],rhs:[]};return b.forEach(N,function(H){j(H)?tt.lhs.push(H):tt.rhs.push(H)}),tt}function L(N,j){var tt=b.now();try{return j()}finally{console.log(N+" time: "+(b.now()-tt)+"ms")}}function B(N,j){return j()}},88177:function(dt){dt.exports="0.8.5"},43631:function(dt,S,d){"use strict";d.r(S),d.d(S,{BrowserInfo:function(){return I},NodeInfo:function(){return _},SearchBotDeviceInfo:function(){return T},BotInfo:function(){return A},ReactNativeInfo:function(){return C},detect:function(){return g},browserName:function(){return L},parseUserAgent:function(){return B},detectOS:function(){return N},getNodeVersion:function(){return j}});var b=d(34155),O=function(H,J,ct){if(ct||arguments.length===2)for(var ut=0,At=J.length,St;ut<At;ut++)(St||!(ut in J))&&(St||(St=Array.prototype.slice.call(J,0,ut)),St[ut]=J[ut]);return H.concat(St||Array.prototype.slice.call(J))},I=function(){function H(J,ct,ut){this.name=J,this.version=ct,this.os=ut,this.type="browser"}return H}(),_=function(){function H(J){this.version=J,this.type="node",this.name="node",this.os=b.platform}return H}(),T=function(){function H(J,ct,ut,At){this.name=J,this.version=ct,this.os=ut,this.bot=At,this.type="bot-device"}return H}(),A=function(){function H(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return H}(),C=function(){function H(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return H}(),E=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,p=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,w=3,y=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",E]],m=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function g(H){return H?B(H):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new C:typeof navigator!="undefined"?B(navigator.userAgent):j()}function M(H){return H!==""&&y.reduce(function(J,ct){var ut=ct[0],At=ct[1];if(J)return J;var St=At.exec(H);return!!St&&[ut,St]},!1)}function L(H){var J=M(H);return J?J[0]:null}function B(H){var J=M(H);if(!J)return null;var ct=J[0],ut=J[1];if(ct==="searchbot")return new A;var At=ut[1]&&ut[1].split(".").join("_").split("_").slice(0,3);At?At.length<w&&(At=O(O([],At,!0),tt(w-At.length),!0)):At=[];var St=At.join("."),Yt=N(H),Tt=p.exec(H);return Tt&&Tt[1]?new T(ct,St,Yt,Tt[1]):new I(ct,St,Yt)}function N(H){for(var J=0,ct=m.length;J<ct;J++){var ut=m[J],At=ut[0],St=ut[1],Yt=St.exec(H);if(Yt)return At}return null}function j(){var H=typeof b!="undefined"&&b.version;return H?new _(b.version.slice(1)):null}function tt(H){for(var J=[],ct=0;ct<H;ct++)J.push("0");return J}},82097:function(dt,S,d){var b;(function(O){"use strict";var I={},_=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,T=/\d\d?/,A=/\d{3}/,C=/\d{4}/,E=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,p=/\[([^]*?)\]/gm,w=function(){};function y(H,J){for(var ct=[],ut=0,At=H.length;ut<At;ut++)ct.push(H[ut].substr(0,J));return ct}function m(H){return function(J,ct,ut){var At=ut[H].indexOf(ct.charAt(0).toUpperCase()+ct.substr(1).toLowerCase());~At&&(J.month=At)}}function g(H,J){for(H=String(H),J=J||2;H.length<J;)H="0"+H;return H}var M=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],L=["January","February","March","April","May","June","July","August","September","October","November","December"],B=y(L,3),N=y(M,3);I.i18n={dayNamesShort:N,dayNames:M,monthNamesShort:B,monthNames:L,amPm:["am","pm"],DoFn:function(J){return J+["th","st","nd","rd"][J%10>3?0:(J-J%10!=10)*J%10]}};var j={D:function(H){return H.getDate()},DD:function(H){return g(H.getDate())},Do:function(H,J){return J.DoFn(H.getDate())},d:function(H){return H.getDay()},dd:function(H){return g(H.getDay())},ddd:function(H,J){return J.dayNamesShort[H.getDay()]},dddd:function(H,J){return J.dayNames[H.getDay()]},M:function(H){return H.getMonth()+1},MM:function(H){return g(H.getMonth()+1)},MMM:function(H,J){return J.monthNamesShort[H.getMonth()]},MMMM:function(H,J){return J.monthNames[H.getMonth()]},YY:function(H){return String(H.getFullYear()).substr(2)},YYYY:function(H){return g(H.getFullYear(),4)},h:function(H){return H.getHours()%12||12},hh:function(H){return g(H.getHours()%12||12)},H:function(H){return H.getHours()},HH:function(H){return g(H.getHours())},m:function(H){return H.getMinutes()},mm:function(H){return g(H.getMinutes())},s:function(H){return H.getSeconds()},ss:function(H){return g(H.getSeconds())},S:function(H){return Math.round(H.getMilliseconds()/100)},SS:function(H){return g(Math.round(H.getMilliseconds()/10),2)},SSS:function(H){return g(H.getMilliseconds(),3)},a:function(H,J){return H.getHours()<12?J.amPm[0]:J.amPm[1]},A:function(H,J){return H.getHours()<12?J.amPm[0].toUpperCase():J.amPm[1].toUpperCase()},ZZ:function(H){var J=H.getTimezoneOffset();return(J>0?"-":"+")+g(Math.floor(Math.abs(J)/60)*100+Math.abs(J)%60,4)}},tt={D:[T,function(H,J){H.day=J}],Do:[new RegExp(T.source+E.source),function(H,J){H.day=parseInt(J,10)}],M:[T,function(H,J){H.month=J-1}],YY:[T,function(H,J){var ct=new Date,ut=+(""+ct.getFullYear()).substr(0,2);H.year=""+(J>68?ut-1:ut)+J}],h:[T,function(H,J){H.hour=J}],m:[T,function(H,J){H.minute=J}],s:[T,function(H,J){H.second=J}],YYYY:[C,function(H,J){H.year=J}],S:[/\d/,function(H,J){H.millisecond=J*100}],SS:[/\d{2}/,function(H,J){H.millisecond=J*10}],SSS:[A,function(H,J){H.millisecond=J}],d:[T,w],ddd:[E,w],MMM:[E,m("monthNamesShort")],MMMM:[E,m("monthNames")],a:[E,function(H,J,ct){var ut=J.toLowerCase();ut===ct.amPm[0]?H.isPm=!1:ut===ct.amPm[1]&&(H.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(H,J){J==="Z"&&(J="+00:00");var ct=(J+"").match(/([\+\-]|\d\d)/gi),ut;ct&&(ut=+(ct[1]*60)+parseInt(ct[2],10),H.timezoneOffset=ct[0]==="+"?ut:-ut)}]};tt.dd=tt.d,tt.dddd=tt.ddd,tt.DD=tt.D,tt.mm=tt.m,tt.hh=tt.H=tt.HH=tt.h,tt.MM=tt.M,tt.ss=tt.s,tt.A=tt.a,I.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},I.format=function(H,J,ct){var ut=ct||I.i18n;if(typeof H=="number"&&(H=new Date(H)),Object.prototype.toString.call(H)!=="[object Date]"||isNaN(H.getTime()))throw new Error("Invalid Date in fecha.format");J=I.masks[J]||J||I.masks.default;var At=[];return J=J.replace(p,function(St,Yt){return At.push(Yt),"??"}),J=J.replace(_,function(St){return St in j?j[St](H,ut):St.slice(1,St.length-1)}),J.replace(/\?\?/g,function(){return At.shift()})},I.parse=function(H,J,ct){var ut=ct||I.i18n;if(typeof J!="string")throw new Error("Invalid format in fecha.parse");if(J=I.masks[J]||J,H.length>1e3)return!1;var At=!0,St={};if(J.replace(_,function(Dt){if(tt[Dt]){var Bt=tt[Dt],Et=H.search(Bt[0]);~Et?H.replace(Bt[0],function(zt){return Bt[1](St,zt,ut),H=H.substr(Et+zt.length),zt}):At=!1}return tt[Dt]?"":Dt.slice(1,Dt.length-1)}),!At)return!1;var Yt=new Date;St.isPm===!0&&St.hour!=null&&+St.hour!=12?St.hour=+St.hour+12:St.isPm===!1&&+St.hour==12&&(St.hour=0);var Tt;return St.timezoneOffset!=null?(St.minute=+(St.minute||0)-+St.timezoneOffset,Tt=new Date(Date.UTC(St.year||Yt.getFullYear(),St.month||0,St.day||1,St.hour||0,St.minute||0,St.second||0,St.millisecond||0))):Tt=new Date(St.year||Yt.getFullYear(),St.month||0,St.day||1,St.hour||0,St.minute||0,St.second||0,St.millisecond||0),Tt},dt.exports?dt.exports=I:(b=function(){return I}.call(S,d,S,dt),b!==void 0&&(dt.exports=b))})(this)},49685:function(dt,S,d){"use strict";d.d(S,{Ib:function(){return b},WT:function(){return O},FD:function(){return I}});var b=1e-6,O=typeof Float32Array!="undefined"?Float32Array:Array,I=Math.random;function _(E){O=E}var T=Math.PI/180;function A(E){return E*T}function C(E,p){return Math.abs(E-p)<=b*Math.max(1,Math.abs(E),Math.abs(p))}Math.hypot||(Math.hypot=function(){for(var E=0,p=arguments.length;p--;)E+=arguments[p]*arguments[p];return Math.sqrt(E)})},35600:function(dt,S,d){"use strict";d.r(S),d.d(S,{create:function(){return O},fromMat4:function(){return I},clone:function(){return _},copy:function(){return T},fromValues:function(){return A},set:function(){return C},identity:function(){return E},transpose:function(){return p},invert:function(){return w},adjoint:function(){return y},determinant:function(){return m},multiply:function(){return g},translate:function(){return M},rotate:function(){return L},scale:function(){return B},fromTranslation:function(){return N},fromRotation:function(){return j},fromScaling:function(){return tt},fromMat2d:function(){return H},fromQuat:function(){return J},normalFromMat4:function(){return ct},projection:function(){return ut},str:function(){return At},frob:function(){return St},add:function(){return Yt},subtract:function(){return Tt},multiplyScalar:function(){return Dt},multiplyScalarAndAdd:function(){return Bt},exactEquals:function(){return Et},equals:function(){return zt},mul:function(){return jt},sub:function(){return Mt}});var b=d(49685);function O(){var pt=new b.WT(9);return b.WT!=Float32Array&&(pt[1]=0,pt[2]=0,pt[3]=0,pt[5]=0,pt[6]=0,pt[7]=0),pt[0]=1,pt[4]=1,pt[8]=1,pt}function I(pt,k){return pt[0]=k[0],pt[1]=k[1],pt[2]=k[2],pt[3]=k[4],pt[4]=k[5],pt[5]=k[6],pt[6]=k[8],pt[7]=k[9],pt[8]=k[10],pt}function _(pt){var k=new b.WT(9);return k[0]=pt[0],k[1]=pt[1],k[2]=pt[2],k[3]=pt[3],k[4]=pt[4],k[5]=pt[5],k[6]=pt[6],k[7]=pt[7],k[8]=pt[8],k}function T(pt,k){return pt[0]=k[0],pt[1]=k[1],pt[2]=k[2],pt[3]=k[3],pt[4]=k[4],pt[5]=k[5],pt[6]=k[6],pt[7]=k[7],pt[8]=k[8],pt}function A(pt,k,u,G,Y,V,U,et,ht){var Ft=new b.WT(9);return Ft[0]=pt,Ft[1]=k,Ft[2]=u,Ft[3]=G,Ft[4]=Y,Ft[5]=V,Ft[6]=U,Ft[7]=et,Ft[8]=ht,Ft}function C(pt,k,u,G,Y,V,U,et,ht,Ft){return pt[0]=k,pt[1]=u,pt[2]=G,pt[3]=Y,pt[4]=V,pt[5]=U,pt[6]=et,pt[7]=ht,pt[8]=Ft,pt}function E(pt){return pt[0]=1,pt[1]=0,pt[2]=0,pt[3]=0,pt[4]=1,pt[5]=0,pt[6]=0,pt[7]=0,pt[8]=1,pt}function p(pt,k){if(pt===k){var u=k[1],G=k[2],Y=k[5];pt[1]=k[3],pt[2]=k[6],pt[3]=u,pt[5]=k[7],pt[6]=G,pt[7]=Y}else pt[0]=k[0],pt[1]=k[3],pt[2]=k[6],pt[3]=k[1],pt[4]=k[4],pt[5]=k[7],pt[6]=k[2],pt[7]=k[5],pt[8]=k[8];return pt}function w(pt,k){var u=k[0],G=k[1],Y=k[2],V=k[3],U=k[4],et=k[5],ht=k[6],Ft=k[7],bt=k[8],at=bt*U-et*Ft,xt=-bt*V+et*ht,lt=Ft*V-U*ht,it=u*at+G*xt+Y*lt;return it?(it=1/it,pt[0]=at*it,pt[1]=(-bt*G+Y*Ft)*it,pt[2]=(et*G-Y*U)*it,pt[3]=xt*it,pt[4]=(bt*u-Y*ht)*it,pt[5]=(-et*u+Y*V)*it,pt[6]=lt*it,pt[7]=(-Ft*u+G*ht)*it,pt[8]=(U*u-G*V)*it,pt):null}function y(pt,k){var u=k[0],G=k[1],Y=k[2],V=k[3],U=k[4],et=k[5],ht=k[6],Ft=k[7],bt=k[8];return pt[0]=U*bt-et*Ft,pt[1]=Y*Ft-G*bt,pt[2]=G*et-Y*U,pt[3]=et*ht-V*bt,pt[4]=u*bt-Y*ht,pt[5]=Y*V-u*et,pt[6]=V*Ft-U*ht,pt[7]=G*ht-u*Ft,pt[8]=u*U-G*V,pt}function m(pt){var k=pt[0],u=pt[1],G=pt[2],Y=pt[3],V=pt[4],U=pt[5],et=pt[6],ht=pt[7],Ft=pt[8];return k*(Ft*V-U*ht)+u*(-Ft*Y+U*et)+G*(ht*Y-V*et)}function g(pt,k,u){var G=k[0],Y=k[1],V=k[2],U=k[3],et=k[4],ht=k[5],Ft=k[6],bt=k[7],at=k[8],xt=u[0],lt=u[1],it=u[2],yt=u[3],ft=u[4],st=u[5],Ct=u[6],Rt=u[7],re=u[8];return pt[0]=xt*G+lt*U+it*Ft,pt[1]=xt*Y+lt*et+it*bt,pt[2]=xt*V+lt*ht+it*at,pt[3]=yt*G+ft*U+st*Ft,pt[4]=yt*Y+ft*et+st*bt,pt[5]=yt*V+ft*ht+st*at,pt[6]=Ct*G+Rt*U+re*Ft,pt[7]=Ct*Y+Rt*et+re*bt,pt[8]=Ct*V+Rt*ht+re*at,pt}function M(pt,k,u){var G=k[0],Y=k[1],V=k[2],U=k[3],et=k[4],ht=k[5],Ft=k[6],bt=k[7],at=k[8],xt=u[0],lt=u[1];return pt[0]=G,pt[1]=Y,pt[2]=V,pt[3]=U,pt[4]=et,pt[5]=ht,pt[6]=xt*G+lt*U+Ft,pt[7]=xt*Y+lt*et+bt,pt[8]=xt*V+lt*ht+at,pt}function L(pt,k,u){var G=k[0],Y=k[1],V=k[2],U=k[3],et=k[4],ht=k[5],Ft=k[6],bt=k[7],at=k[8],xt=Math.sin(u),lt=Math.cos(u);return pt[0]=lt*G+xt*U,pt[1]=lt*Y+xt*et,pt[2]=lt*V+xt*ht,pt[3]=lt*U-xt*G,pt[4]=lt*et-xt*Y,pt[5]=lt*ht-xt*V,pt[6]=Ft,pt[7]=bt,pt[8]=at,pt}function B(pt,k,u){var G=u[0],Y=u[1];return pt[0]=G*k[0],pt[1]=G*k[1],pt[2]=G*k[2],pt[3]=Y*k[3],pt[4]=Y*k[4],pt[5]=Y*k[5],pt[6]=k[6],pt[7]=k[7],pt[8]=k[8],pt}function N(pt,k){return pt[0]=1,pt[1]=0,pt[2]=0,pt[3]=0,pt[4]=1,pt[5]=0,pt[6]=k[0],pt[7]=k[1],pt[8]=1,pt}function j(pt,k){var u=Math.sin(k),G=Math.cos(k);return pt[0]=G,pt[1]=u,pt[2]=0,pt[3]=-u,pt[4]=G,pt[5]=0,pt[6]=0,pt[7]=0,pt[8]=1,pt}function tt(pt,k){return pt[0]=k[0],pt[1]=0,pt[2]=0,pt[3]=0,pt[4]=k[1],pt[5]=0,pt[6]=0,pt[7]=0,pt[8]=1,pt}function H(pt,k){return pt[0]=k[0],pt[1]=k[1],pt[2]=0,pt[3]=k[2],pt[4]=k[3],pt[5]=0,pt[6]=k[4],pt[7]=k[5],pt[8]=1,pt}function J(pt,k){var u=k[0],G=k[1],Y=k[2],V=k[3],U=u+u,et=G+G,ht=Y+Y,Ft=u*U,bt=G*U,at=G*et,xt=Y*U,lt=Y*et,it=Y*ht,yt=V*U,ft=V*et,st=V*ht;return pt[0]=1-at-it,pt[3]=bt-st,pt[6]=xt+ft,pt[1]=bt+st,pt[4]=1-Ft-it,pt[7]=lt-yt,pt[2]=xt-ft,pt[5]=lt+yt,pt[8]=1-Ft-at,pt}function ct(pt,k){var u=k[0],G=k[1],Y=k[2],V=k[3],U=k[4],et=k[5],ht=k[6],Ft=k[7],bt=k[8],at=k[9],xt=k[10],lt=k[11],it=k[12],yt=k[13],ft=k[14],st=k[15],Ct=u*et-G*U,Rt=u*ht-Y*U,re=u*Ft-V*U,pe=G*ht-Y*et,Me=G*Ft-V*et,Xe=Y*Ft-V*ht,Be=bt*yt-at*it,Re=bt*ft-xt*it,Ke=bt*st-lt*it,ar=at*ft-xt*yt,Mr=at*st-lt*yt,sr=xt*st-lt*ft,Xr=Ct*sr-Rt*Mr+re*ar+pe*Ke-Me*Re+Xe*Be;return Xr?(Xr=1/Xr,pt[0]=(et*sr-ht*Mr+Ft*ar)*Xr,pt[1]=(ht*Ke-U*sr-Ft*Re)*Xr,pt[2]=(U*Mr-et*Ke+Ft*Be)*Xr,pt[3]=(Y*Mr-G*sr-V*ar)*Xr,pt[4]=(u*sr-Y*Ke+V*Re)*Xr,pt[5]=(G*Ke-u*Mr-V*Be)*Xr,pt[6]=(yt*Xe-ft*Me+st*pe)*Xr,pt[7]=(ft*re-it*Xe-st*Rt)*Xr,pt[8]=(it*Me-yt*re+st*Ct)*Xr,pt):null}function ut(pt,k,u){return pt[0]=2/k,pt[1]=0,pt[2]=0,pt[3]=0,pt[4]=-2/u,pt[5]=0,pt[6]=-1,pt[7]=1,pt[8]=1,pt}function At(pt){return"mat3("+pt[0]+", "+pt[1]+", "+pt[2]+", "+pt[3]+", "+pt[4]+", "+pt[5]+", "+pt[6]+", "+pt[7]+", "+pt[8]+")"}function St(pt){return Math.hypot(pt[0],pt[1],pt[2],pt[3],pt[4],pt[5],pt[6],pt[7],pt[8])}function Yt(pt,k,u){return pt[0]=k[0]+u[0],pt[1]=k[1]+u[1],pt[2]=k[2]+u[2],pt[3]=k[3]+u[3],pt[4]=k[4]+u[4],pt[5]=k[5]+u[5],pt[6]=k[6]+u[6],pt[7]=k[7]+u[7],pt[8]=k[8]+u[8],pt}function Tt(pt,k,u){return pt[0]=k[0]-u[0],pt[1]=k[1]-u[1],pt[2]=k[2]-u[2],pt[3]=k[3]-u[3],pt[4]=k[4]-u[4],pt[5]=k[5]-u[5],pt[6]=k[6]-u[6],pt[7]=k[7]-u[7],pt[8]=k[8]-u[8],pt}function Dt(pt,k,u){return pt[0]=k[0]*u,pt[1]=k[1]*u,pt[2]=k[2]*u,pt[3]=k[3]*u,pt[4]=k[4]*u,pt[5]=k[5]*u,pt[6]=k[6]*u,pt[7]=k[7]*u,pt[8]=k[8]*u,pt}function Bt(pt,k,u,G){return pt[0]=k[0]+u[0]*G,pt[1]=k[1]+u[1]*G,pt[2]=k[2]+u[2]*G,pt[3]=k[3]+u[3]*G,pt[4]=k[4]+u[4]*G,pt[5]=k[5]+u[5]*G,pt[6]=k[6]+u[6]*G,pt[7]=k[7]+u[7]*G,pt[8]=k[8]+u[8]*G,pt}function Et(pt,k){return pt[0]===k[0]&&pt[1]===k[1]&&pt[2]===k[2]&&pt[3]===k[3]&&pt[4]===k[4]&&pt[5]===k[5]&&pt[6]===k[6]&&pt[7]===k[7]&&pt[8]===k[8]}function zt(pt,k){var u=pt[0],G=pt[1],Y=pt[2],V=pt[3],U=pt[4],et=pt[5],ht=pt[6],Ft=pt[7],bt=pt[8],at=k[0],xt=k[1],lt=k[2],it=k[3],yt=k[4],ft=k[5],st=k[6],Ct=k[7],Rt=k[8];return Math.abs(u-at)<=b.Ib*Math.max(1,Math.abs(u),Math.abs(at))&&Math.abs(G-xt)<=b.Ib*Math.max(1,Math.abs(G),Math.abs(xt))&&Math.abs(Y-lt)<=b.Ib*Math.max(1,Math.abs(Y),Math.abs(lt))&&Math.abs(V-it)<=b.Ib*Math.max(1,Math.abs(V),Math.abs(it))&&Math.abs(U-yt)<=b.Ib*Math.max(1,Math.abs(U),Math.abs(yt))&&Math.abs(et-ft)<=b.Ib*Math.max(1,Math.abs(et),Math.abs(ft))&&Math.abs(ht-st)<=b.Ib*Math.max(1,Math.abs(ht),Math.abs(st))&&Math.abs(Ft-Ct)<=b.Ib*Math.max(1,Math.abs(Ft),Math.abs(Ct))&&Math.abs(bt-Rt)<=b.Ib*Math.max(1,Math.abs(bt),Math.abs(Rt))}var jt=g,Mt=Tt},31437:function(dt,S,d){"use strict";d.r(S),d.d(S,{create:function(){return O},clone:function(){return I},fromValues:function(){return _},copy:function(){return T},set:function(){return A},add:function(){return C},subtract:function(){return E},multiply:function(){return p},divide:function(){return w},ceil:function(){return y},floor:function(){return m},min:function(){return g},max:function(){return M},round:function(){return L},scale:function(){return B},scaleAndAdd:function(){return N},distance:function(){return j},squaredDistance:function(){return tt},length:function(){return H},squaredLength:function(){return J},negate:function(){return ct},inverse:function(){return ut},normalize:function(){return At},dot:function(){return St},cross:function(){return Yt},lerp:function(){return Tt},random:function(){return Dt},transformMat2:function(){return Bt},transformMat2d:function(){return Et},transformMat3:function(){return zt},transformMat4:function(){return jt},rotate:function(){return Mt},angle:function(){return pt},zero:function(){return k},str:function(){return u},exactEquals:function(){return G},equals:function(){return Y},len:function(){return V},sub:function(){return U},mul:function(){return et},div:function(){return ht},dist:function(){return Ft},sqrDist:function(){return bt},sqrLen:function(){return at},forEach:function(){return xt}});var b=d(49685);function O(){var lt=new b.WT(2);return b.WT!=Float32Array&&(lt[0]=0,lt[1]=0),lt}function I(lt){var it=new b.WT(2);return it[0]=lt[0],it[1]=lt[1],it}function _(lt,it){var yt=new b.WT(2);return yt[0]=lt,yt[1]=it,yt}function T(lt,it){return lt[0]=it[0],lt[1]=it[1],lt}function A(lt,it,yt){return lt[0]=it,lt[1]=yt,lt}function C(lt,it,yt){return lt[0]=it[0]+yt[0],lt[1]=it[1]+yt[1],lt}function E(lt,it,yt){return lt[0]=it[0]-yt[0],lt[1]=it[1]-yt[1],lt}function p(lt,it,yt){return lt[0]=it[0]*yt[0],lt[1]=it[1]*yt[1],lt}function w(lt,it,yt){return lt[0]=it[0]/yt[0],lt[1]=it[1]/yt[1],lt}function y(lt,it){return lt[0]=Math.ceil(it[0]),lt[1]=Math.ceil(it[1]),lt}function m(lt,it){return lt[0]=Math.floor(it[0]),lt[1]=Math.floor(it[1]),lt}function g(lt,it,yt){return lt[0]=Math.min(it[0],yt[0]),lt[1]=Math.min(it[1],yt[1]),lt}function M(lt,it,yt){return lt[0]=Math.max(it[0],yt[0]),lt[1]=Math.max(it[1],yt[1]),lt}function L(lt,it){return lt[0]=Math.round(it[0]),lt[1]=Math.round(it[1]),lt}function B(lt,it,yt){return lt[0]=it[0]*yt,lt[1]=it[1]*yt,lt}function N(lt,it,yt,ft){return lt[0]=it[0]+yt[0]*ft,lt[1]=it[1]+yt[1]*ft,lt}function j(lt,it){var yt=it[0]-lt[0],ft=it[1]-lt[1];return Math.hypot(yt,ft)}function tt(lt,it){var yt=it[0]-lt[0],ft=it[1]-lt[1];return yt*yt+ft*ft}function H(lt){var it=lt[0],yt=lt[1];return Math.hypot(it,yt)}function J(lt){var it=lt[0],yt=lt[1];return it*it+yt*yt}function ct(lt,it){return lt[0]=-it[0],lt[1]=-it[1],lt}function ut(lt,it){return lt[0]=1/it[0],lt[1]=1/it[1],lt}function At(lt,it){var yt=it[0],ft=it[1],st=yt*yt+ft*ft;return st>0&&(st=1/Math.sqrt(st)),lt[0]=it[0]*st,lt[1]=it[1]*st,lt}function St(lt,it){return lt[0]*it[0]+lt[1]*it[1]}function Yt(lt,it,yt){var ft=it[0]*yt[1]-it[1]*yt[0];return lt[0]=lt[1]=0,lt[2]=ft,lt}function Tt(lt,it,yt,ft){var st=it[0],Ct=it[1];return lt[0]=st+ft*(yt[0]-st),lt[1]=Ct+ft*(yt[1]-Ct),lt}function Dt(lt,it){it=it||1;var yt=b.FD()*2*Math.PI;return lt[0]=Math.cos(yt)*it,lt[1]=Math.sin(yt)*it,lt}function Bt(lt,it,yt){var ft=it[0],st=it[1];return lt[0]=yt[0]*ft+yt[2]*st,lt[1]=yt[1]*ft+yt[3]*st,lt}function Et(lt,it,yt){var ft=it[0],st=it[1];return lt[0]=yt[0]*ft+yt[2]*st+yt[4],lt[1]=yt[1]*ft+yt[3]*st+yt[5],lt}function zt(lt,it,yt){var ft=it[0],st=it[1];return lt[0]=yt[0]*ft+yt[3]*st+yt[6],lt[1]=yt[1]*ft+yt[4]*st+yt[7],lt}function jt(lt,it,yt){var ft=it[0],st=it[1];return lt[0]=yt[0]*ft+yt[4]*st+yt[12],lt[1]=yt[1]*ft+yt[5]*st+yt[13],lt}function Mt(lt,it,yt,ft){var st=it[0]-yt[0],Ct=it[1]-yt[1],Rt=Math.sin(ft),re=Math.cos(ft);return lt[0]=st*re-Ct*Rt+yt[0],lt[1]=st*Rt+Ct*re+yt[1],lt}function pt(lt,it){var yt=lt[0],ft=lt[1],st=it[0],Ct=it[1],Rt=Math.sqrt(yt*yt+ft*ft)*Math.sqrt(st*st+Ct*Ct),re=Rt&&(yt*st+ft*Ct)/Rt;return Math.acos(Math.min(Math.max(re,-1),1))}function k(lt){return lt[0]=0,lt[1]=0,lt}function u(lt){return"vec2("+lt[0]+", "+lt[1]+")"}function G(lt,it){return lt[0]===it[0]&&lt[1]===it[1]}function Y(lt,it){var yt=lt[0],ft=lt[1],st=it[0],Ct=it[1];return Math.abs(yt-st)<=b.Ib*Math.max(1,Math.abs(yt),Math.abs(st))&&Math.abs(ft-Ct)<=b.Ib*Math.max(1,Math.abs(ft),Math.abs(Ct))}var V=H,U=E,et=p,ht=w,Ft=j,bt=tt,at=J,xt=function(){var lt=O();return function(it,yt,ft,st,Ct,Rt){var re,pe;for(yt||(yt=2),ft||(ft=0),st?pe=Math.min(st*yt+ft,it.length):pe=it.length,re=ft;re<pe;re+=yt)lt[0]=it[re],lt[1]=it[re+1],Ct(lt,lt,Rt),it[re]=lt[0],it[re+1]=lt[1];return it}}()},77160:function(dt,S,d){"use strict";d.r(S),d.d(S,{create:function(){return O},clone:function(){return I},length:function(){return _},fromValues:function(){return T},copy:function(){return A},set:function(){return C},add:function(){return E},subtract:function(){return p},multiply:function(){return w},divide:function(){return y},ceil:function(){return m},floor:function(){return g},min:function(){return M},max:function(){return L},round:function(){return B},scale:function(){return N},scaleAndAdd:function(){return j},distance:function(){return tt},squaredDistance:function(){return H},squaredLength:function(){return J},negate:function(){return ct},inverse:function(){return ut},normalize:function(){return At},dot:function(){return St},cross:function(){return Yt},lerp:function(){return Tt},hermite:function(){return Dt},bezier:function(){return Bt},random:function(){return Et},transformMat4:function(){return zt},transformMat3:function(){return jt},transformQuat:function(){return Mt},rotateX:function(){return pt},rotateY:function(){return k},rotateZ:function(){return u},angle:function(){return G},zero:function(){return Y},str:function(){return V},exactEquals:function(){return U},equals:function(){return et},sub:function(){return ht},mul:function(){return Ft},div:function(){return bt},dist:function(){return at},sqrDist:function(){return xt},len:function(){return lt},sqrLen:function(){return it},forEach:function(){return yt}});var b=d(49685);function O(){var ft=new b.WT(3);return b.WT!=Float32Array&&(ft[0]=0,ft[1]=0,ft[2]=0),ft}function I(ft){var st=new b.WT(3);return st[0]=ft[0],st[1]=ft[1],st[2]=ft[2],st}function _(ft){var st=ft[0],Ct=ft[1],Rt=ft[2];return Math.hypot(st,Ct,Rt)}function T(ft,st,Ct){var Rt=new b.WT(3);return Rt[0]=ft,Rt[1]=st,Rt[2]=Ct,Rt}function A(ft,st){return ft[0]=st[0],ft[1]=st[1],ft[2]=st[2],ft}function C(ft,st,Ct,Rt){return ft[0]=st,ft[1]=Ct,ft[2]=Rt,ft}function E(ft,st,Ct){return ft[0]=st[0]+Ct[0],ft[1]=st[1]+Ct[1],ft[2]=st[2]+Ct[2],ft}function p(ft,st,Ct){return ft[0]=st[0]-Ct[0],ft[1]=st[1]-Ct[1],ft[2]=st[2]-Ct[2],ft}function w(ft,st,Ct){return ft[0]=st[0]*Ct[0],ft[1]=st[1]*Ct[1],ft[2]=st[2]*Ct[2],ft}function y(ft,st,Ct){return ft[0]=st[0]/Ct[0],ft[1]=st[1]/Ct[1],ft[2]=st[2]/Ct[2],ft}function m(ft,st){return ft[0]=Math.ceil(st[0]),ft[1]=Math.ceil(st[1]),ft[2]=Math.ceil(st[2]),ft}function g(ft,st){return ft[0]=Math.floor(st[0]),ft[1]=Math.floor(st[1]),ft[2]=Math.floor(st[2]),ft}function M(ft,st,Ct){return ft[0]=Math.min(st[0],Ct[0]),ft[1]=Math.min(st[1],Ct[1]),ft[2]=Math.min(st[2],Ct[2]),ft}function L(ft,st,Ct){return ft[0]=Math.max(st[0],Ct[0]),ft[1]=Math.max(st[1],Ct[1]),ft[2]=Math.max(st[2],Ct[2]),ft}function B(ft,st){return ft[0]=Math.round(st[0]),ft[1]=Math.round(st[1]),ft[2]=Math.round(st[2]),ft}function N(ft,st,Ct){return ft[0]=st[0]*Ct,ft[1]=st[1]*Ct,ft[2]=st[2]*Ct,ft}function j(ft,st,Ct,Rt){return ft[0]=st[0]+Ct[0]*Rt,ft[1]=st[1]+Ct[1]*Rt,ft[2]=st[2]+Ct[2]*Rt,ft}function tt(ft,st){var Ct=st[0]-ft[0],Rt=st[1]-ft[1],re=st[2]-ft[2];return Math.hypot(Ct,Rt,re)}function H(ft,st){var Ct=st[0]-ft[0],Rt=st[1]-ft[1],re=st[2]-ft[2];return Ct*Ct+Rt*Rt+re*re}function J(ft){var st=ft[0],Ct=ft[1],Rt=ft[2];return st*st+Ct*Ct+Rt*Rt}function ct(ft,st){return ft[0]=-st[0],ft[1]=-st[1],ft[2]=-st[2],ft}function ut(ft,st){return ft[0]=1/st[0],ft[1]=1/st[1],ft[2]=1/st[2],ft}function At(ft,st){var Ct=st[0],Rt=st[1],re=st[2],pe=Ct*Ct+Rt*Rt+re*re;return pe>0&&(pe=1/Math.sqrt(pe)),ft[0]=st[0]*pe,ft[1]=st[1]*pe,ft[2]=st[2]*pe,ft}function St(ft,st){return ft[0]*st[0]+ft[1]*st[1]+ft[2]*st[2]}function Yt(ft,st,Ct){var Rt=st[0],re=st[1],pe=st[2],Me=Ct[0],Xe=Ct[1],Be=Ct[2];return ft[0]=re*Be-pe*Xe,ft[1]=pe*Me-Rt*Be,ft[2]=Rt*Xe-re*Me,ft}function Tt(ft,st,Ct,Rt){var re=st[0],pe=st[1],Me=st[2];return ft[0]=re+Rt*(Ct[0]-re),ft[1]=pe+Rt*(Ct[1]-pe),ft[2]=Me+Rt*(Ct[2]-Me),ft}function Dt(ft,st,Ct,Rt,re,pe){var Me=pe*pe,Xe=Me*(2*pe-3)+1,Be=Me*(pe-2)+pe,Re=Me*(pe-1),Ke=Me*(3-2*pe);return ft[0]=st[0]*Xe+Ct[0]*Be+Rt[0]*Re+re[0]*Ke,ft[1]=st[1]*Xe+Ct[1]*Be+Rt[1]*Re+re[1]*Ke,ft[2]=st[2]*Xe+Ct[2]*Be+Rt[2]*Re+re[2]*Ke,ft}function Bt(ft,st,Ct,Rt,re,pe){var Me=1-pe,Xe=Me*Me,Be=pe*pe,Re=Xe*Me,Ke=3*pe*Xe,ar=3*Be*Me,Mr=Be*pe;return ft[0]=st[0]*Re+Ct[0]*Ke+Rt[0]*ar+re[0]*Mr,ft[1]=st[1]*Re+Ct[1]*Ke+Rt[1]*ar+re[1]*Mr,ft[2]=st[2]*Re+Ct[2]*Ke+Rt[2]*ar+re[2]*Mr,ft}function Et(ft,st){st=st||1;var Ct=b.FD()*2*Math.PI,Rt=b.FD()*2-1,re=Math.sqrt(1-Rt*Rt)*st;return ft[0]=Math.cos(Ct)*re,ft[1]=Math.sin(Ct)*re,ft[2]=Rt*st,ft}function zt(ft,st,Ct){var Rt=st[0],re=st[1],pe=st[2],Me=Ct[3]*Rt+Ct[7]*re+Ct[11]*pe+Ct[15];return Me=Me||1,ft[0]=(Ct[0]*Rt+Ct[4]*re+Ct[8]*pe+Ct[12])/Me,ft[1]=(Ct[1]*Rt+Ct[5]*re+Ct[9]*pe+Ct[13])/Me,ft[2]=(Ct[2]*Rt+Ct[6]*re+Ct[10]*pe+Ct[14])/Me,ft}function jt(ft,st,Ct){var Rt=st[0],re=st[1],pe=st[2];return ft[0]=Rt*Ct[0]+re*Ct[3]+pe*Ct[6],ft[1]=Rt*Ct[1]+re*Ct[4]+pe*Ct[7],ft[2]=Rt*Ct[2]+re*Ct[5]+pe*Ct[8],ft}function Mt(ft,st,Ct){var Rt=Ct[0],re=Ct[1],pe=Ct[2],Me=Ct[3],Xe=st[0],Be=st[1],Re=st[2],Ke=re*Re-pe*Be,ar=pe*Xe-Rt*Re,Mr=Rt*Be-re*Xe,sr=re*Mr-pe*ar,Xr=pe*Ke-Rt*Mr,pn=Rt*ar-re*Ke,jr=Me*2;return Ke*=jr,ar*=jr,Mr*=jr,sr*=2,Xr*=2,pn*=2,ft[0]=Xe+Ke+sr,ft[1]=Be+ar+Xr,ft[2]=Re+Mr+pn,ft}function pt(ft,st,Ct,Rt){var re=[],pe=[];return re[0]=st[0]-Ct[0],re[1]=st[1]-Ct[1],re[2]=st[2]-Ct[2],pe[0]=re[0],pe[1]=re[1]*Math.cos(Rt)-re[2]*Math.sin(Rt),pe[2]=re[1]*Math.sin(Rt)+re[2]*Math.cos(Rt),ft[0]=pe[0]+Ct[0],ft[1]=pe[1]+Ct[1],ft[2]=pe[2]+Ct[2],ft}function k(ft,st,Ct,Rt){var re=[],pe=[];return re[0]=st[0]-Ct[0],re[1]=st[1]-Ct[1],re[2]=st[2]-Ct[2],pe[0]=re[2]*Math.sin(Rt)+re[0]*Math.cos(Rt),pe[1]=re[1],pe[2]=re[2]*Math.cos(Rt)-re[0]*Math.sin(Rt),ft[0]=pe[0]+Ct[0],ft[1]=pe[1]+Ct[1],ft[2]=pe[2]+Ct[2],ft}function u(ft,st,Ct,Rt){var re=[],pe=[];return re[0]=st[0]-Ct[0],re[1]=st[1]-Ct[1],re[2]=st[2]-Ct[2],pe[0]=re[0]*Math.cos(Rt)-re[1]*Math.sin(Rt),pe[1]=re[0]*Math.sin(Rt)+re[1]*Math.cos(Rt),pe[2]=re[2],ft[0]=pe[0]+Ct[0],ft[1]=pe[1]+Ct[1],ft[2]=pe[2]+Ct[2],ft}function G(ft,st){var Ct=ft[0],Rt=ft[1],re=ft[2],pe=st[0],Me=st[1],Xe=st[2],Be=Math.sqrt(Ct*Ct+Rt*Rt+re*re),Re=Math.sqrt(pe*pe+Me*Me+Xe*Xe),Ke=Be*Re,ar=Ke&&St(ft,st)/Ke;return Math.acos(Math.min(Math.max(ar,-1),1))}function Y(ft){return ft[0]=0,ft[1]=0,ft[2]=0,ft}function V(ft){return"vec3("+ft[0]+", "+ft[1]+", "+ft[2]+")"}function U(ft,st){return ft[0]===st[0]&&ft[1]===st[1]&&ft[2]===st[2]}function et(ft,st){var Ct=ft[0],Rt=ft[1],re=ft[2],pe=st[0],Me=st[1],Xe=st[2];return Math.abs(Ct-pe)<=b.Ib*Math.max(1,Math.abs(Ct),Math.abs(pe))&&Math.abs(Rt-Me)<=b.Ib*Math.max(1,Math.abs(Rt),Math.abs(Me))&&Math.abs(re-Xe)<=b.Ib*Math.max(1,Math.abs(re),Math.abs(Xe))}var ht=p,Ft=w,bt=y,at=tt,xt=H,lt=_,it=J,yt=function(){var ft=O();return function(st,Ct,Rt,re,pe,Me){var Xe,Be;for(Ct||(Ct=3),Rt||(Rt=0),re?Be=Math.min(re*Ct+Rt,st.length):Be=st.length,Xe=Rt;Xe<Be;Xe+=Ct)ft[0]=st[Xe],ft[1]=st[Xe+1],ft[2]=st[Xe+2],pe(ft,ft,Me),st[Xe]=ft[0],st[Xe+1]=ft[1],st[Xe+2]=ft[2];return st}}()},28282:function(dt,S,d){var b=d(82354);dt.exports={Graph:b.Graph,json:d(28974),alg:d(12440),version:b.version}},2842:function(dt,S,d){var b=d(89126);dt.exports=O;function O(I){var _={},T=[],A;function C(E){b.has(_,E)||(_[E]=!0,A.push(E),b.each(I.successors(E),C),b.each(I.predecessors(E),C))}return b.each(I.nodes(),function(E){A=[],C(E),A.length&&T.push(A)}),T}},53984:function(dt,S,d){var b=d(89126);dt.exports=O;function O(_,T,A){b.isArray(T)||(T=[T]);var C=(_.isDirected()?_.successors:_.neighbors).bind(_),E=[],p={};return b.each(T,function(w){if(!_.hasNode(w))throw new Error("Graph does not have node: "+w);I(_,w,A==="post",p,C,E)}),E}function I(_,T,A,C,E,p){b.has(C,T)||(C[T]=!0,A||p.push(T),b.each(E(T),function(w){I(_,w,A,C,E,p)}),A&&p.push(T))}},84847:function(dt,S,d){var b=d(63763),O=d(89126);dt.exports=I;function I(_,T,A){return O.transform(_.nodes(),function(C,E){C[E]=b(_,E,T,A)},{})}},63763:function(dt,S,d){var b=d(89126),O=d(75639);dt.exports=_;var I=b.constant(1);function _(A,C,E,p){return T(A,String(C),E||I,p||function(w){return A.outEdges(w)})}function T(A,C,E,p){var w={},y=new O,m,g,M=function(L){var B=L.v!==m?L.v:L.w,N=w[B],j=E(L),tt=g.distance+j;if(j<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+L+" Weight: "+j);tt<N.distance&&(N.distance=tt,N.predecessor=m,y.decrease(B,tt))};for(A.nodes().forEach(function(L){var B=L===C?0:Number.POSITIVE_INFINITY;w[L]={distance:B},y.add(L,B)});y.size()>0&&(m=y.removeMin(),g=w[m],g.distance!==Number.POSITIVE_INFINITY);)p(m).forEach(M);return w}},9096:function(dt,S,d){var b=d(89126),O=d(5023);dt.exports=I;function I(_){return b.filter(O(_),function(T){return T.length>1||T.length===1&&_.hasEdge(T[0],T[0])})}},38924:function(dt,S,d){var b=d(89126);dt.exports=I;var O=b.constant(1);function I(T,A,C){return _(T,A||O,C||function(E){return T.outEdges(E)})}function _(T,A,C){var E={},p=T.nodes();return p.forEach(function(w){E[w]={},E[w][w]={distance:0},p.forEach(function(y){w!==y&&(E[w][y]={distance:Number.POSITIVE_INFINITY})}),C(w).forEach(function(y){var m=y.v===w?y.w:y.v,g=A(y);E[w][m]={distance:g,predecessor:w}})}),p.forEach(function(w){var y=E[w];p.forEach(function(m){var g=E[m];p.forEach(function(M){var L=g[w],B=y[M],N=g[M],j=L.distance+B.distance;j<N.distance&&(N.distance=j,N.predecessor=B.predecessor)})})}),E}},12440:function(dt,S,d){dt.exports={components:d(2842),dijkstra:d(63763),dijkstraAll:d(84847),findCycles:d(9096),floydWarshall:d(38924),isAcyclic:d(62707),postorder:d(58828),preorder:d(92648),prim:d(80514),tarjan:d(5023),topsort:d(2166)}},62707:function(dt,S,d){var b=d(2166);dt.exports=O;function O(I){try{b(I)}catch(_){if(_ instanceof b.CycleException)return!1;throw _}return!0}},58828:function(dt,S,d){var b=d(53984);dt.exports=O;function O(I,_){return b(I,_,"post")}},92648:function(dt,S,d){var b=d(53984);dt.exports=O;function O(I,_){return b(I,_,"pre")}},80514:function(dt,S,d){var b=d(89126),O=d(30771),I=d(75639);dt.exports=_;function _(T,A){var C=new O,E={},p=new I,w;function y(g){var M=g.v===w?g.w:g.v,L=p.priority(M);if(L!==void 0){var B=A(g);B<L&&(E[M]=w,p.decrease(M,B))}}if(T.nodeCount()===0)return C;b.each(T.nodes(),function(g){p.add(g,Number.POSITIVE_INFINITY),C.setNode(g)}),p.decrease(T.nodes()[0],0);for(var m=!1;p.size()>0;){if(w=p.removeMin(),b.has(E,w))C.setEdge(w,E[w]);else{if(m)throw new Error("Input graph is not connected: "+T);m=!0}T.nodeEdges(w).forEach(y)}return C}},5023:function(dt,S,d){var b=d(89126);dt.exports=O;function O(I){var _=0,T=[],A={},C=[];function E(p){var w=A[p]={onStack:!0,lowlink:_,index:_++};if(T.push(p),I.successors(p).forEach(function(g){b.has(A,g)?A[g].onStack&&(w.lowlink=Math.min(w.lowlink,A[g].index)):(E(g),w.lowlink=Math.min(w.lowlink,A[g].lowlink))}),w.lowlink===w.index){var y=[],m;do m=T.pop(),A[m].onStack=!1,y.push(m);while(p!==m);C.push(y)}}return I.nodes().forEach(function(p){b.has(A,p)||E(p)}),C}},2166:function(dt,S,d){var b=d(89126);dt.exports=O,O.CycleException=I;function O(_){var T={},A={},C=[];function E(p){if(b.has(A,p))throw new I;b.has(T,p)||(A[p]=!0,T[p]=!0,b.each(_.predecessors(p),E),delete A[p],C.push(p))}if(b.each(_.sinks(),E),b.size(T)!==_.nodeCount())throw new I;return C}function I(){}I.prototype=new Error},75639:function(dt,S,d){var b=d(89126);dt.exports=O;function O(){this._arr=[],this._keyIndices={}}O.prototype.size=function(){return this._arr.length},O.prototype.keys=function(){return this._arr.map(function(I){return I.key})},O.prototype.has=function(I){return b.has(this._keyIndices,I)},O.prototype.priority=function(I){var _=this._keyIndices[I];if(_!==void 0)return this._arr[_].priority},O.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},O.prototype.add=function(I,_){var T=this._keyIndices;if(I=String(I),!b.has(T,I)){var A=this._arr,C=A.length;return T[I]=C,A.push({key:I,priority:_}),this._decrease(C),!0}return!1},O.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var I=this._arr.pop();return delete this._keyIndices[I.key],this._heapify(0),I.key},O.prototype.decrease=function(I,_){var T=this._keyIndices[I];if(_>this._arr[T].priority)throw new Error("New priority is greater than current priority. Key: "+I+" Old: "+this._arr[T].priority+" New: "+_);this._arr[T].priority=_,this._decrease(T)},O.prototype._heapify=function(I){var _=this._arr,T=2*I,A=T+1,C=I;T<_.length&&(C=_[T].priority<_[C].priority?T:C,A<_.length&&(C=_[A].priority<_[C].priority?A:C),C!==I&&(this._swap(I,C),this._heapify(C)))},O.prototype._decrease=function(I){for(var _=this._arr,T=_[I].priority,A;I!==0&&(A=I>>1,!(_[A].priority<T));)this._swap(I,A),I=A},O.prototype._swap=function(I,_){var T=this._arr,A=this._keyIndices,C=T[I],E=T[_];T[I]=E,T[_]=C,A[E.key]=I,A[C.key]=_}},30771:function(dt,S,d){"use strict";var b=d(89126);dt.exports=T;var O="\0",I="\0",_="";function T(y){this._isDirected=b.has(y,"directed")?y.directed:!0,this._isMultigraph=b.has(y,"multigraph")?y.multigraph:!1,this._isCompound=b.has(y,"compound")?y.compound:!1,this._label=void 0,this._defaultNodeLabelFn=b.constant(void 0),this._defaultEdgeLabelFn=b.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[I]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}T.prototype._nodeCount=0,T.prototype._edgeCount=0,T.prototype.isDirected=function(){return this._isDirected},T.prototype.isMultigraph=function(){return this._isMultigraph},T.prototype.isCompound=function(){return this._isCompound},T.prototype.setGraph=function(y){return this._label=y,this},T.prototype.graph=function(){return this._label},T.prototype.setDefaultNodeLabel=function(y){return b.isFunction(y)||(y=b.constant(y)),this._defaultNodeLabelFn=y,this},T.prototype.nodeCount=function(){return this._nodeCount},T.prototype.nodes=function(){return b.keys(this._nodes)},T.prototype.sources=function(){var y=this;return b.filter(this.nodes(),function(m){return b.isEmpty(y._in[m])})},T.prototype.sinks=function(){var y=this;return b.filter(this.nodes(),function(m){return b.isEmpty(y._out[m])})},T.prototype.setNodes=function(y,m){var g=arguments,M=this;return b.each(y,function(L){g.length>1?M.setNode(L,m):M.setNode(L)}),this},T.prototype.setNode=function(y,m){return b.has(this._nodes,y)?(arguments.length>1&&(this._nodes[y]=m),this):(this._nodes[y]=arguments.length>1?m:this._defaultNodeLabelFn(y),this._isCompound&&(this._parent[y]=I,this._children[y]={},this._children[I][y]=!0),this._in[y]={},this._preds[y]={},this._out[y]={},this._sucs[y]={},++this._nodeCount,this)},T.prototype.node=function(y){return this._nodes[y]},T.prototype.hasNode=function(y){return b.has(this._nodes,y)},T.prototype.removeNode=function(y){var m=this;if(b.has(this._nodes,y)){var g=function(M){m.removeEdge(m._edgeObjs[M])};delete this._nodes[y],this._isCompound&&(this._removeFromParentsChildList(y),delete this._parent[y],b.each(this.children(y),function(M){m.setParent(M)}),delete this._children[y]),b.each(b.keys(this._in[y]),g),delete this._in[y],delete this._preds[y],b.each(b.keys(this._out[y]),g),delete this._out[y],delete this._sucs[y],--this._nodeCount}return this},T.prototype.setParent=function(y,m){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(b.isUndefined(m))m=I;else{m+="";for(var g=m;!b.isUndefined(g);g=this.parent(g))if(g===y)throw new Error("Setting "+m+" as parent of "+y+" would create a cycle");this.setNode(m)}return this.setNode(y),this._removeFromParentsChildList(y),this._parent[y]=m,this._children[m][y]=!0,this},T.prototype._removeFromParentsChildList=function(y){delete this._children[this._parent[y]][y]},T.prototype.parent=function(y){if(this._isCompound){var m=this._parent[y];if(m!==I)return m}},T.prototype.children=function(y){if(b.isUndefined(y)&&(y=I),this._isCompound){var m=this._children[y];if(m)return b.keys(m)}else{if(y===I)return this.nodes();if(this.hasNode(y))return[]}},T.prototype.predecessors=function(y){var m=this._preds[y];if(m)return b.keys(m)},T.prototype.successors=function(y){var m=this._sucs[y];if(m)return b.keys(m)},T.prototype.neighbors=function(y){var m=this.predecessors(y);if(m)return b.union(m,this.successors(y))},T.prototype.isLeaf=function(y){var m;return this.isDirected()?m=this.successors(y):m=this.neighbors(y),m.length===0},T.prototype.filterNodes=function(y){var m=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});m.setGraph(this.graph());var g=this;b.each(this._nodes,function(B,N){y(N)&&m.setNode(N,B)}),b.each(this._edgeObjs,function(B){m.hasNode(B.v)&&m.hasNode(B.w)&&m.setEdge(B,g.edge(B))});var M={};function L(B){var N=g.parent(B);return N===void 0||m.hasNode(N)?(M[B]=N,N):N in M?M[N]:L(N)}return this._isCompound&&b.each(m.nodes(),function(B){m.setParent(B,L(B))}),m},T.prototype.setDefaultEdgeLabel=function(y){return b.isFunction(y)||(y=b.constant(y)),this._defaultEdgeLabelFn=y,this},T.prototype.edgeCount=function(){return this._edgeCount},T.prototype.edges=function(){return b.values(this._edgeObjs)},T.prototype.setPath=function(y,m){var g=this,M=arguments;return b.reduce(y,function(L,B){return M.length>1?g.setEdge(L,B,m):g.setEdge(L,B),B}),this},T.prototype.setEdge=function(){var y,m,g,M,L=!1,B=arguments[0];typeof B=="object"&&B!==null&&"v"in B?(y=B.v,m=B.w,g=B.name,arguments.length===2&&(M=arguments[1],L=!0)):(y=B,m=arguments[1],g=arguments[3],arguments.length>2&&(M=arguments[2],L=!0)),y=""+y,m=""+m,b.isUndefined(g)||(g=""+g);var N=E(this._isDirected,y,m,g);if(b.has(this._edgeLabels,N))return L&&(this._edgeLabels[N]=M),this;if(!b.isUndefined(g)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(y),this.setNode(m),this._edgeLabels[N]=L?M:this._defaultEdgeLabelFn(y,m,g);var j=p(this._isDirected,y,m,g);return y=j.v,m=j.w,Object.freeze(j),this._edgeObjs[N]=j,A(this._preds[m],y),A(this._sucs[y],m),this._in[m][N]=j,this._out[y][N]=j,this._edgeCount++,this},T.prototype.edge=function(y,m,g){var M=arguments.length===1?w(this._isDirected,arguments[0]):E(this._isDirected,y,m,g);return this._edgeLabels[M]},T.prototype.hasEdge=function(y,m,g){var M=arguments.length===1?w(this._isDirected,arguments[0]):E(this._isDirected,y,m,g);return b.has(this._edgeLabels,M)},T.prototype.removeEdge=function(y,m,g){var M=arguments.length===1?w(this._isDirected,arguments[0]):E(this._isDirected,y,m,g),L=this._edgeObjs[M];return L&&(y=L.v,m=L.w,delete this._edgeLabels[M],delete this._edgeObjs[M],C(this._preds[m],y),C(this._sucs[y],m),delete this._in[m][M],delete this._out[y][M],this._edgeCount--),this},T.prototype.inEdges=function(y,m){var g=this._in[y];if(g){var M=b.values(g);return m?b.filter(M,function(L){return L.v===m}):M}},T.prototype.outEdges=function(y,m){var g=this._out[y];if(g){var M=b.values(g);return m?b.filter(M,function(L){return L.w===m}):M}},T.prototype.nodeEdges=function(y,m){var g=this.inEdges(y,m);if(g)return g.concat(this.outEdges(y,m))};function A(y,m){y[m]?y[m]++:y[m]=1}function C(y,m){--y[m]||delete y[m]}function E(y,m,g,M){var L=""+m,B=""+g;if(!y&&L>B){var N=L;L=B,B=N}return L+_+B+_+(b.isUndefined(M)?O:M)}function p(y,m,g,M){var L=""+m,B=""+g;if(!y&&L>B){var N=L;L=B,B=N}var j={v:L,w:B};return M&&(j.name=M),j}function w(y,m){return E(y,m.v,m.w,m.name)}},82354:function(dt,S,d){dt.exports={Graph:d(30771),version:d(49631)}},28974:function(dt,S,d){var b=d(89126),O=d(30771);dt.exports={write:I,read:A};function I(C){var E={options:{directed:C.isDirected(),multigraph:C.isMultigraph(),compound:C.isCompound()},nodes:_(C),edges:T(C)};return b.isUndefined(C.graph())||(E.value=b.clone(C.graph())),E}function _(C){return b.map(C.nodes(),function(E){var p=C.node(E),w=C.parent(E),y={v:E};return b.isUndefined(p)||(y.value=p),b.isUndefined(w)||(y.parent=w),y})}function T(C){return b.map(C.edges(),function(E){var p=C.edge(E),w={v:E.v,w:E.w};return b.isUndefined(E.name)||(w.name=E.name),b.isUndefined(p)||(w.value=p),w})}function A(C){var E=new O(C.options).setGraph(C.value);return b.each(C.nodes,function(p){E.setNode(p.v,p.value),p.parent&&E.setParent(p.v,p.parent)}),b.each(C.edges,function(p){E.setEdge({v:p.v,w:p.w,name:p.name},p.value)}),E}},89126:function(dt,S,d){var b;try{b={clone:d(66678),constant:d(75703),each:d(66073),filter:d(63105),has:d(18721),isArray:d(1469),isEmpty:d(41609),isFunction:d(23560),isUndefined:d(52353),keys:d(3674),map:d(35161),reduce:d(54061),size:d(84238),transform:d(68718),union:d(93386),values:d(52628)}}catch(O){}b||(b=window._),dt.exports=b},49631:function(dt){dt.exports="2.1.8"},38186:function(dt){var S=[],d=[],b="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function O(_,T){if(T=T||{},_===void 0)throw new Error(b);var A=T.prepend===!0?"prepend":"append",C=T.container!==void 0?T.container:document.querySelector("head"),E=S.indexOf(C);E===-1&&(E=S.push(C)-1,d[E]={});var p;return d[E]!==void 0&&d[E][A]!==void 0?p=d[E][A]:(p=d[E][A]=I(),A==="prepend"?C.insertBefore(p,C.childNodes[0]):C.appendChild(p)),_.charCodeAt(0)===65279&&(_=_.substr(1,_.length)),p.styleSheet?p.styleSheet.cssText+=_:p.textContent+=_,p}function I(){var _=document.createElement("style");return _.setAttribute("type","text/css"),_}dt.exports=O,dt.exports.insertCss=O},44091:function(dt,S,d){"use strict";d.r(S),d.d(S,{isAnyArray:function(){return O}});const b=Object.prototype.toString;function O(I){const _=b.call(I);return _.endsWith("Array]")&&!_.includes("Big")}},47443:function(dt,S,d){var b=d(42118);function O(I,_){var T=I==null?0:I.length;return!!T&&b(I,_,0)>-1}dt.exports=O},1196:function(dt){function S(d,b,O){for(var I=-1,_=d==null?0:d.length;++I<_;)if(O(b,d[I]))return!0;return!1}dt.exports=S},48983:function(dt,S,d){var b=d(40371),O=b("length");dt.exports=O},56029:function(dt,S,d){var b=d(33448);function O(I,_,T){for(var A=-1,C=I.length;++A<C;){var E=I[A],p=_(E);if(p!=null&&(w===void 0?p===p&&!b(p):T(p,w)))var w=p,y=E}return y}dt.exports=O},80760:function(dt,S,d){var b=d(89881);function O(I,_){var T=[];return b(I,function(A,C,E){_(A,C,E)&&T.push(A)}),T}dt.exports=O},41848:function(dt){function S(d,b,O,I){for(var _=d.length,T=O+(I?1:-1);I?T--:++T<_;)if(b(d[T],T,d))return T;return-1}dt.exports=S},21078:function(dt,S,d){var b=d(62488),O=d(37285);function I(_,T,A,C,E){var p=-1,w=_.length;for(A||(A=O),E||(E=[]);++p<w;){var y=_[p];T>0&&A(y)?T>1?I(y,T-1,A,C,E):b(E,y):C||(E[E.length]=y)}return E}dt.exports=I},53325:function(dt){function S(d,b){return d>b}dt.exports=S},78565:function(dt){var S=Object.prototype,d=S.hasOwnProperty;function b(O,I){return O!=null&&d.call(O,I)}dt.exports=b},42118:function(dt,S,d){var b=d(41848),O=d(62722),I=d(42351);function _(T,A,C){return A===A?I(T,A,C):b(T,O,C)}dt.exports=_},62722:function(dt){function S(d){return d!==d}dt.exports=S},70433:function(dt){function S(d,b){return d<b}dt.exports=S},82689:function(dt,S,d){var b=d(29932),O=d(97786),I=d(67206),_=d(69199),T=d(71131),A=d(7518),C=d(85022),E=d(6557),p=d(1469);function w(y,m,g){m.length?m=b(m,function(B){return p(B)?function(N){return O(N,B.length===1?B[0]:B)}:B}):m=[E];var M=-1;m=b(m,A(I));var L=_(y,function(B,N,j){var tt=b(m,function(H){return H(B)});return{criteria:tt,index:++M,value:B}});return T(L,function(B,N){return C(B,N,g)})}dt.exports=w},25970:function(dt,S,d){var b=d(63012),O=d(79095);function I(_,T){return b(_,T,function(A,C){return O(_,C)})}dt.exports=I},63012:function(dt,S,d){var b=d(97786),O=d(10611),I=d(71811);function _(T,A,C){for(var E=-1,p=A.length,w={};++E<p;){var y=A[E],m=b(T,y);C(m,y)&&O(w,I(y,T),m)}return w}dt.exports=_},40098:function(dt){var S=Math.ceil,d=Math.max;function b(O,I,_,T){for(var A=-1,C=d(S((I-O)/(_||1)),0),E=Array(C);C--;)E[T?C:++A]=O,O+=_;return E}dt.exports=b},10107:function(dt){function S(d,b,O,I,_){return _(d,function(T,A,C){O=I?(I=!1,T):b(O,T,A,C)}),O}dt.exports=S},10611:function(dt,S,d){var b=d(34865),O=d(71811),I=d(65776),_=d(13218),T=d(40327);function A(C,E,p,w){if(!_(C))return C;E=O(E,C);for(var y=-1,m=E.length,g=m-1,M=C;M!=null&&++y<m;){var L=T(E[y]),B=p;if(L==="__proto__"||L==="constructor"||L==="prototype")return C;if(y!=g){var N=M[L];B=w?w(N,L,M):void 0,B===void 0&&(B=_(N)?N:I(E[y+1])?[]:{})}b(M,L,B),M=M[L]}return C}dt.exports=A},71131:function(dt){function S(d,b){var O=d.length;for(d.sort(b);O--;)d[O]=d[O].value;return d}dt.exports=S},45652:function(dt,S,d){var b=d(88668),O=d(47443),I=d(1196),_=d(74757),T=d(23593),A=d(21814),C=200;function E(p,w,y){var m=-1,g=O,M=p.length,L=!0,B=[],N=B;if(y)L=!1,g=I;else if(M>=C){var j=w?null:T(p);if(j)return A(j);L=!1,g=_,N=new b}else N=w?[]:B;t:for(;++m<M;){var tt=p[m],H=w?w(tt):tt;if(tt=y||tt!==0?tt:0,L&&H===H){for(var J=N.length;J--;)if(N[J]===H)continue t;w&&N.push(H),B.push(tt)}else g(N,H,y)||(N!==B&&N.push(H),B.push(tt))}return B}dt.exports=E},47415:function(dt,S,d){var b=d(29932);function O(I,_){return b(_,function(T){return I[T]})}dt.exports=O},1757:function(dt){function S(d,b,O){for(var I=-1,_=d.length,T=b.length,A={};++I<_;){var C=I<T?b[I]:void 0;O(A,d[I],C)}return A}dt.exports=S},26393:function(dt,S,d){var b=d(33448);function O(I,_){if(I!==_){var T=I!==void 0,A=I===null,C=I===I,E=b(I),p=_!==void 0,w=_===null,y=_===_,m=b(_);if(!w&&!m&&!E&&I>_||E&&p&&y&&!w&&!m||A&&p&&y||!T&&y||!C)return 1;if(!A&&!E&&!m&&I<_||m&&T&&C&&!A&&!E||w&&T&&C||!p&&C||!y)return-1}return 0}dt.exports=O},85022:function(dt,S,d){var b=d(26393);function O(I,_,T){for(var A=-1,C=I.criteria,E=_.criteria,p=C.length,w=T.length;++A<p;){var y=b(C[A],E[A]);if(y){if(A>=w)return y;var m=T[A];return y*(m=="desc"?-1:1)}}return I.index-_.index}dt.exports=O},67740:function(dt,S,d){var b=d(67206),O=d(98612),I=d(3674);function _(T){return function(A,C,E){var p=Object(A);if(!O(A)){var w=b(C,3);A=I(A),C=function(m){return w(p[m],m,p)}}var y=T(A,C,E);return y>-1?p[w?A[y]:y]:void 0}}dt.exports=_},47445:function(dt,S,d){var b=d(40098),O=d(16612),I=d(18601);function _(T){return function(A,C,E){return E&&typeof E!="number"&&O(A,C,E)&&(C=E=void 0),A=I(A),C===void 0?(C=A,A=0):C=I(C),E=E===void 0?A<C?1:-1:I(E),b(A,C,E,T)}}dt.exports=_},23593:function(dt,S,d){var b=d(58525),O=d(50308),I=d(21814),_=1/0,T=b&&1/I(new b([,-0]))[1]==_?function(A){return new b(A)}:O;dt.exports=T},99021:function(dt,S,d){var b=d(85564),O=d(45357),I=d(30061);function _(T){return I(O(T,void 0,b),T+"")}dt.exports=_},37285:function(dt,S,d){var b=d(62705),O=d(35694),I=d(1469),_=b?b.isConcatSpreadable:void 0;function T(A){return I(A)||O(A)||!!(_&&A&&A[_])}dt.exports=T},42351:function(dt){function S(d,b,O){for(var I=O-1,_=d.length;++I<_;)if(d[I]===b)return I;return-1}dt.exports=S},88016:function(dt,S,d){var b=d(48983),O=d(62689),I=d(21903);function _(T){return O(T)?I(T):b(T)}dt.exports=_},21903:function(dt){var S="\\ud800-\\udfff",d="\\u0300-\\u036f",b="\\ufe20-\\ufe2f",O="\\u20d0-\\u20ff",I=d+b+O,_="\\ufe0e\\ufe0f",T="["+S+"]",A="["+I+"]",C="\\ud83c[\\udffb-\\udfff]",E="(?:"+A+"|"+C+")",p="[^"+S+"]",w="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",g=E+"?",M="["+_+"]?",L="(?:"+m+"(?:"+[p,w,y].join("|")+")"+M+g+")*",B=M+g+L,N="(?:"+[p+A+"?",A,w,y,T].join("|")+")",j=RegExp(C+"(?="+C+")|"+N+B,"g");function tt(H){for(var J=j.lastIndex=0;j.test(H);)++J;return J}dt.exports=tt},66678:function(dt,S,d){var b=d(85990),O=4;function I(_){return b(_,O)}dt.exports=I},91747:function(dt,S,d){var b=d(5976),O=d(77813),I=d(16612),_=d(81704),T=Object.prototype,A=T.hasOwnProperty,C=b(function(E,p){E=Object(E);var w=-1,y=p.length,m=y>2?p[2]:void 0;for(m&&I(p[0],p[1],m)&&(y=1);++w<y;)for(var g=p[w],M=_(g),L=-1,B=M.length;++L<B;){var N=M[L],j=E[N];(j===void 0||O(j,T[N])&&!A.call(E,N))&&(E[N]=g[N])}return E});dt.exports=C},63105:function(dt,S,d){var b=d(34963),O=d(80760),I=d(67206),_=d(1469);function T(A,C){var E=_(A)?b:O;return E(A,I(C,3))}dt.exports=T},13311:function(dt,S,d){var b=d(67740),O=d(30998),I=b(O);dt.exports=I},30998:function(dt,S,d){var b=d(41848),O=d(67206),I=d(40554),_=Math.max;function T(A,C,E){var p=A==null?0:A.length;if(!p)return-1;var w=E==null?0:I(E);return w<0&&(w=_(p+w,0)),b(A,O(C,3),w)}dt.exports=T},85564:function(dt,S,d){var b=d(21078);function O(I){var _=I==null?0:I.length;return _?b(I,1):[]}dt.exports=O},62620:function(dt,S,d){var b=d(28483),O=d(54290),I=d(81704);function _(T,A){return T==null?T:b(T,O(A),I)}dt.exports=_},18721:function(dt,S,d){var b=d(78565),O=d(222);function I(_,T){return _!=null&&O(_,T,b)}dt.exports=I},41609:function(dt,S,d){var b=d(280),O=d(64160),I=d(35694),_=d(1469),T=d(98612),A=d(44144),C=d(25726),E=d(36719),p="[object Map]",w="[object Set]",y=Object.prototype,m=y.hasOwnProperty;function g(M){if(M==null)return!0;if(T(M)&&(_(M)||typeof M=="string"||typeof M.splice=="function"||A(M)||E(M)||I(M)))return!M.length;var L=O(M);if(L==p||L==w)return!M.size;if(C(M))return!b(M).length;for(var B in M)if(m.call(M,B))return!1;return!0}dt.exports=g},52353:function(dt){function S(d){return d===void 0}dt.exports=S},10928:function(dt){function S(d){var b=d==null?0:d.length;return b?d[b-1]:void 0}dt.exports=S},66604:function(dt,S,d){var b=d(89465),O=d(47816),I=d(67206);function _(T,A){var C={};return A=I(A,3),O(T,function(E,p,w){b(C,p,A(E,p,w))}),C}dt.exports=_},6162:function(dt,S,d){var b=d(56029),O=d(53325),I=d(6557);function _(T){return T&&T.length?b(T,I,O):void 0}dt.exports=_},53632:function(dt,S,d){var b=d(56029),O=d(70433),I=d(6557);function _(T){return T&&T.length?b(T,I,O):void 0}dt.exports=_},22762:function(dt,S,d){var b=d(56029),O=d(67206),I=d(70433);function _(T,A){return T&&T.length?b(T,O(A,2),I):void 0}dt.exports=_},50308:function(dt){function S(){}dt.exports=S},78718:function(dt,S,d){var b=d(25970),O=d(99021),I=O(function(_,T){return _==null?{}:b(_,T)});dt.exports=I},96026:function(dt,S,d){var b=d(47445),O=b();dt.exports=O},54061:function(dt,S,d){var b=d(62663),O=d(89881),I=d(67206),_=d(10107),T=d(1469);function A(C,E,p){var w=T(C)?b:_,y=arguments.length<3;return w(C,I(E,4),p,y,O)}dt.exports=A},84238:function(dt,S,d){var b=d(280),O=d(64160),I=d(98612),_=d(47037),T=d(88016),A="[object Map]",C="[object Set]";function E(p){if(p==null)return 0;if(I(p))return _(p)?T(p):p.length;var w=O(p);return w==A||w==C?p.size:b(p).length}dt.exports=E},89734:function(dt,S,d){var b=d(21078),O=d(82689),I=d(5976),_=d(16612),T=I(function(A,C){if(A==null)return[];var E=C.length;return E>1&&_(A,C[0],C[1])?C=[]:E>2&&_(C[0],C[1],C[2])&&(C=[C[0]]),O(A,b(C,1),[])});dt.exports=T},18601:function(dt,S,d){var b=d(14841),O=1/0,I=17976931348623157e292;function _(T){if(!T)return T===0?T:0;if(T=b(T),T===O||T===-O){var A=T<0?-1:1;return A*I}return T===T?T:0}dt.exports=_},40554:function(dt,S,d){var b=d(18601);function O(I){var _=b(I),T=_%1;return _===_?T?_-T:_:0}dt.exports=O},68718:function(dt,S,d){var b=d(77412),O=d(3118),I=d(47816),_=d(67206),T=d(85924),A=d(1469),C=d(44144),E=d(23560),p=d(13218),w=d(36719);function y(m,g,M){var L=A(m),B=L||C(m)||w(m);if(g=_(g,4),M==null){var N=m&&m.constructor;B?M=L?new N:[]:p(m)?M=E(N)?O(T(m)):{}:M={}}return(B?b:I)(m,function(j,tt,H){return g(M,j,tt,H)}),M}dt.exports=y},93386:function(dt,S,d){var b=d(21078),O=d(5976),I=d(45652),_=d(29246),T=O(function(A){return I(b(A,1,_,!0))});dt.exports=T},73955:function(dt,S,d){var b=d(79833),O=0;function I(_){var T=++O;return b(_)+T}dt.exports=I},52628:function(dt,S,d){var b=d(47415),O=d(3674);function I(_){return _==null?[]:b(_,O(_))}dt.exports=I},7287:function(dt,S,d){var b=d(34865),O=d(1757);function I(_,T){return O(_||[],T||[],b)}dt.exports=I},74805:function(dt,S,d){"use strict";d.r(S),d.d(S,{default:function(){return _}});var b=d(44091);function O(T){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,b.isAnyArray)(T))throw new TypeError("input must be an array");if(T.length===0)throw new TypeError("input must not be empty");var C=A.fromIndex,E=C===void 0?0:C,p=A.toIndex,w=p===void 0?T.length:p;if(E<0||E>=T.length||!Number.isInteger(E))throw new Error("fromIndex must be a positive integer smaller than length");if(w<=E||w>T.length||!Number.isInteger(w))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var y=T[E],m=E+1;m<w;m++)T[m]>y&&(y=T[m]);return y}function I(T){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,b.isAnyArray)(T))throw new TypeError("input must be an array");if(T.length===0)throw new TypeError("input must not be empty");var C=A.fromIndex,E=C===void 0?0:C,p=A.toIndex,w=p===void 0?T.length:p;if(E<0||E>=T.length||!Number.isInteger(E))throw new Error("fromIndex must be a positive integer smaller than length");if(w<=E||w>T.length||!Number.isInteger(w))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var y=T[E],m=E+1;m<w;m++)T[m]<y&&(y=T[m]);return y}function _(T){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,b.isAnyArray)(T)){if(T.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var C;if(A.output!==void 0){if(!(0,b.isAnyArray)(A.output))throw new TypeError("output option must be an array if specified");C=A.output}else C=new Array(T.length);var E=I(T),p=O(T);if(E===p)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var w=A.min,y=w===void 0?A.autoMinMax?E:0:w,m=A.max,g=m===void 0?A.autoMinMax?p:1:m;if(y>=g)throw new RangeError("min option must be smaller than max option");for(var M=(g-y)/(p-E),L=0;L<T.length;L++)C[L]=(T[L]-E)*M+y;return C}},86851:function(dt,S,d){"use strict";var b=d(89594),O=Array.prototype.concat,I=Array.prototype.slice,_=dt.exports=function(A){for(var C=[],E=0,p=A.length;E<p;E++){var w=A[E];b(w)?C=O.call(C,I.call(w)):C.push(w)}return C};_.wrap=function(T){return function(){return T(_(arguments))}}},89594:function(dt){dt.exports=function(d){return!d||typeof d=="string"?!1:d instanceof Array||Array.isArray(d)||d.length>=0&&(d.splice instanceof Function||Object.getOwnPropertyDescriptor(d,d.length-1)&&d.constructor.name!=="String")}},65353:function(dt,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return O},__assign:function(){return I},__rest:function(){return _},__decorate:function(){return T},__param:function(){return A},__esDecorate:function(){return C},__runInitializers:function(){return E},__propKey:function(){return p},__setFunctionName:function(){return w},__metadata:function(){return y},__awaiter:function(){return m},__generator:function(){return g},__createBinding:function(){return M},__exportStar:function(){return L},__values:function(){return B},__read:function(){return N},__spread:function(){return j},__spreadArrays:function(){return tt},__spreadArray:function(){return H},__await:function(){return J},__asyncGenerator:function(){return ct},__asyncDelegator:function(){return ut},__asyncValues:function(){return At},__makeTemplateObject:function(){return St},__importStar:function(){return Tt},__importDefault:function(){return Dt},__classPrivateFieldGet:function(){return Bt},__classPrivateFieldSet:function(){return Et},__classPrivateFieldIn:function(){return zt},__addDisposableResource:function(){return jt},__disposeResources:function(){return pt}});var b=function(k,u){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,Y){G.__proto__=Y}||function(G,Y){for(var V in Y)Object.prototype.hasOwnProperty.call(Y,V)&&(G[V]=Y[V])},b(k,u)};function O(k,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");b(k,u);function G(){this.constructor=k}k.prototype=u===null?Object.create(u):(G.prototype=u.prototype,new G)}var I=function(){return I=Object.assign||function(u){for(var G,Y=1,V=arguments.length;Y<V;Y++){G=arguments[Y];for(var U in G)Object.prototype.hasOwnProperty.call(G,U)&&(u[U]=G[U])}return u},I.apply(this,arguments)};function _(k,u){var G={};for(var Y in k)Object.prototype.hasOwnProperty.call(k,Y)&&u.indexOf(Y)<0&&(G[Y]=k[Y]);if(k!=null&&typeof Object.getOwnPropertySymbols=="function")for(var V=0,Y=Object.getOwnPropertySymbols(k);V<Y.length;V++)u.indexOf(Y[V])<0&&Object.prototype.propertyIsEnumerable.call(k,Y[V])&&(G[Y[V]]=k[Y[V]]);return G}function T(k,u,G,Y){var V=arguments.length,U=V<3?u:Y===null?Y=Object.getOwnPropertyDescriptor(u,G):Y,et;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(k,u,G,Y);else for(var ht=k.length-1;ht>=0;ht--)(et=k[ht])&&(U=(V<3?et(U):V>3?et(u,G,U):et(u,G))||U);return V>3&&U&&Object.defineProperty(u,G,U),U}function A(k,u){return function(G,Y){u(G,Y,k)}}function C(k,u,G,Y,V,U){function et(Ct){if(Ct!==void 0&&typeof Ct!="function")throw new TypeError("Function expected");return Ct}for(var ht=Y.kind,Ft=ht==="getter"?"get":ht==="setter"?"set":"value",bt=!u&&k?Y.static?k:k.prototype:null,at=u||(bt?Object.getOwnPropertyDescriptor(bt,Y.name):{}),xt,lt=!1,it=G.length-1;it>=0;it--){var yt={};for(var ft in Y)yt[ft]=ft==="access"?{}:Y[ft];for(var ft in Y.access)yt.access[ft]=Y.access[ft];yt.addInitializer=function(Ct){if(lt)throw new TypeError("Cannot add initializers after decoration has completed");U.push(et(Ct||null))};var st=(0,G[it])(ht==="accessor"?{get:at.get,set:at.set}:at[Ft],yt);if(ht==="accessor"){if(st===void 0)continue;if(st===null||typeof st!="object")throw new TypeError("Object expected");(xt=et(st.get))&&(at.get=xt),(xt=et(st.set))&&(at.set=xt),(xt=et(st.init))&&V.unshift(xt)}else(xt=et(st))&&(ht==="field"?V.unshift(xt):at[Ft]=xt)}bt&&Object.defineProperty(bt,Y.name,at),lt=!0}function E(k,u,G){for(var Y=arguments.length>2,V=0;V<u.length;V++)G=Y?u[V].call(k,G):u[V].call(k);return Y?G:void 0}function p(k){return typeof k=="symbol"?k:"".concat(k)}function w(k,u,G){return typeof u=="symbol"&&(u=u.description?"[".concat(u.description,"]"):""),Object.defineProperty(k,"name",{configurable:!0,value:G?"".concat(G," ",u):u})}function y(k,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(k,u)}function m(k,u,G,Y){function V(U){return U instanceof G?U:new G(function(et){et(U)})}return new(G||(G=Promise))(function(U,et){function ht(at){try{bt(Y.next(at))}catch(xt){et(xt)}}function Ft(at){try{bt(Y.throw(at))}catch(xt){et(xt)}}function bt(at){at.done?U(at.value):V(at.value).then(ht,Ft)}bt((Y=Y.apply(k,u||[])).next())})}function g(k,u){var G={label:0,sent:function(){if(U[0]&1)throw U[1];return U[1]},trys:[],ops:[]},Y,V,U,et;return et={next:ht(0),throw:ht(1),return:ht(2)},typeof Symbol=="function"&&(et[Symbol.iterator]=function(){return this}),et;function ht(bt){return function(at){return Ft([bt,at])}}function Ft(bt){if(Y)throw new TypeError("Generator is already executing.");for(;et&&(et=0,bt[0]&&(G=0)),G;)try{if(Y=1,V&&(U=bt[0]&2?V.return:bt[0]?V.throw||((U=V.return)&&U.call(V),0):V.next)&&!(U=U.call(V,bt[1])).done)return U;switch(V=0,U&&(bt=[bt[0]&2,U.value]),bt[0]){case 0:case 1:U=bt;break;case 4:return G.label++,{value:bt[1],done:!1};case 5:G.label++,V=bt[1],bt=[0];continue;case 7:bt=G.ops.pop(),G.trys.pop();continue;default:if(U=G.trys,!(U=U.length>0&&U[U.length-1])&&(bt[0]===6||bt[0]===2)){G=0;continue}if(bt[0]===3&&(!U||bt[1]>U[0]&&bt[1]<U[3])){G.label=bt[1];break}if(bt[0]===6&&G.label<U[1]){G.label=U[1],U=bt;break}if(U&&G.label<U[2]){G.label=U[2],G.ops.push(bt);break}U[2]&&G.ops.pop(),G.trys.pop();continue}bt=u.call(k,G)}catch(at){bt=[6,at],V=0}finally{Y=U=0}if(bt[0]&5)throw bt[1];return{value:bt[0]?bt[1]:void 0,done:!0}}}var M=Object.create?function(k,u,G,Y){Y===void 0&&(Y=G);var V=Object.getOwnPropertyDescriptor(u,G);(!V||("get"in V?!u.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return u[G]}}),Object.defineProperty(k,Y,V)}:function(k,u,G,Y){Y===void 0&&(Y=G),k[Y]=u[G]};function L(k,u){for(var G in k)G!=="default"&&!Object.prototype.hasOwnProperty.call(u,G)&&M(u,k,G)}function B(k){var u=typeof Symbol=="function"&&Symbol.iterator,G=u&&k[u],Y=0;if(G)return G.call(k);if(k&&typeof k.length=="number")return{next:function(){return k&&Y>=k.length&&(k=void 0),{value:k&&k[Y++],done:!k}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")}function N(k,u){var G=typeof Symbol=="function"&&k[Symbol.iterator];if(!G)return k;var Y=G.call(k),V,U=[],et;try{for(;(u===void 0||u-- >0)&&!(V=Y.next()).done;)U.push(V.value)}catch(ht){et={error:ht}}finally{try{V&&!V.done&&(G=Y.return)&&G.call(Y)}finally{if(et)throw et.error}}return U}function j(){for(var k=[],u=0;u<arguments.length;u++)k=k.concat(N(arguments[u]));return k}function tt(){for(var k=0,u=0,G=arguments.length;u<G;u++)k+=arguments[u].length;for(var Y=Array(k),V=0,u=0;u<G;u++)for(var U=arguments[u],et=0,ht=U.length;et<ht;et++,V++)Y[V]=U[et];return Y}function H(k,u,G){if(G||arguments.length===2)for(var Y=0,V=u.length,U;Y<V;Y++)(U||!(Y in u))&&(U||(U=Array.prototype.slice.call(u,0,Y)),U[Y]=u[Y]);return k.concat(U||Array.prototype.slice.call(u))}function J(k){return this instanceof J?(this.v=k,this):new J(k)}function ct(k,u,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y=G.apply(k,u||[]),V,U=[];return V={},et("next"),et("throw"),et("return"),V[Symbol.asyncIterator]=function(){return this},V;function et(lt){Y[lt]&&(V[lt]=function(it){return new Promise(function(yt,ft){U.push([lt,it,yt,ft])>1||ht(lt,it)})})}function ht(lt,it){try{Ft(Y[lt](it))}catch(yt){xt(U[0][3],yt)}}function Ft(lt){lt.value instanceof J?Promise.resolve(lt.value.v).then(bt,at):xt(U[0][2],lt)}function bt(lt){ht("next",lt)}function at(lt){ht("throw",lt)}function xt(lt,it){lt(it),U.shift(),U.length&&ht(U[0][0],U[0][1])}}function ut(k){var u,G;return u={},Y("next"),Y("throw",function(V){throw V}),Y("return"),u[Symbol.iterator]=function(){return this},u;function Y(V,U){u[V]=k[V]?function(et){return(G=!G)?{value:J(k[V](et)),done:!1}:U?U(et):et}:U}}function At(k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=k[Symbol.asyncIterator],G;return u?u.call(k):(k=typeof B=="function"?B(k):k[Symbol.iterator](),G={},Y("next"),Y("throw"),Y("return"),G[Symbol.asyncIterator]=function(){return this},G);function Y(U){G[U]=k[U]&&function(et){return new Promise(function(ht,Ft){et=k[U](et),V(ht,Ft,et.done,et.value)})}}function V(U,et,ht,Ft){Promise.resolve(Ft).then(function(bt){U({value:bt,done:ht})},et)}}function St(k,u){return Object.defineProperty?Object.defineProperty(k,"raw",{value:u}):k.raw=u,k}var Yt=Object.create?function(k,u){Object.defineProperty(k,"default",{enumerable:!0,value:u})}:function(k,u){k.default=u};function Tt(k){if(k&&k.__esModule)return k;var u={};if(k!=null)for(var G in k)G!=="default"&&Object.prototype.hasOwnProperty.call(k,G)&&M(u,k,G);return Yt(u,k),u}function Dt(k){return k&&k.__esModule?k:{default:k}}function Bt(k,u,G,Y){if(G==="a"&&!Y)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?k!==u||!Y:!u.has(k))throw new TypeError("Cannot read private member from an object whose class did not declare it");return G==="m"?Y:G==="a"?Y.call(k):Y?Y.value:u.get(k)}function Et(k,u,G,Y,V){if(Y==="m")throw new TypeError("Private method is not writable");if(Y==="a"&&!V)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?k!==u||!V:!u.has(k))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Y==="a"?V.call(k,G):V?V.value=G:u.set(k,G),G}function zt(k,u){if(u===null||typeof u!="object"&&typeof u!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof k=="function"?u===k:k.has(u)}function jt(k,u,G){if(u!=null){if(typeof u!="object"&&typeof u!="function")throw new TypeError("Object expected.");var Y;if(G){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");Y=u[Symbol.asyncDispose]}if(Y===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");Y=u[Symbol.dispose]}if(typeof Y!="function")throw new TypeError("Object not disposable.");k.stack.push({value:u,dispose:Y,async:G})}else G&&k.stack.push({async:!0});return u}var Mt=typeof SuppressedError=="function"?SuppressedError:function(k,u,G){var Y=new Error(G);return Y.name="SuppressedError",Y.error=k,Y.suppressed=u,Y};function pt(k){function u(Y){k.error=k.hasError?new Mt(Y,k.error,"An error was suppressed during disposal."):Y,k.hasError=!0}function G(){for(;k.stack.length;){var Y=k.stack.pop();try{var V=Y.dispose&&Y.dispose.call(Y.value);if(Y.async)return Promise.resolve(V).then(G,function(U){return u(U),G()})}catch(U){u(U)}}if(k.hasError)throw k.error}return G()}S.default={__extends:O,__assign:I,__rest:_,__decorate:T,__param:A,__metadata:y,__awaiter:m,__generator:g,__createBinding:M,__exportStar:L,__values:B,__read:N,__spread:j,__spreadArrays:tt,__spreadArray:H,__await:J,__asyncGenerator:ct,__asyncDelegator:ut,__asyncValues:At,__makeTemplateObject:St,__importStar:Tt,__importDefault:Dt,__classPrivateFieldGet:Bt,__classPrivateFieldSet:Et,__classPrivateFieldIn:zt,__addDisposableResource:jt,__disposeResources:pt}},91496:function(dt){typeof Object.create=="function"?dt.exports=function(d,b){d.super_=b,d.prototype=Object.create(b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})}:dt.exports=function(d,b){d.super_=b;var O=function(){};O.prototype=b.prototype,d.prototype=new O,d.prototype.constructor=d}},20384:function(dt){dt.exports=function(d){return d&&typeof d=="object"&&typeof d.copy=="function"&&typeof d.fill=="function"&&typeof d.readUInt8=="function"}},89539:function(dt,S,d){var b=d(34155),O=Object.getOwnPropertyDescriptors||function(V){for(var U=Object.keys(V),et={},ht=0;ht<U.length;ht++)et[U[ht]]=Object.getOwnPropertyDescriptor(V,U[ht]);return et},I=/%[sdj%]/g;S.format=function(Y){if(!J(Y)){for(var V=[],U=0;U<arguments.length;U++)V.push(A(arguments[U]));return V.join(" ")}for(var U=1,et=arguments,ht=et.length,Ft=String(Y).replace(I,function(at){if(at==="%%")return"%";if(U>=ht)return at;switch(at){case"%s":return String(et[U++]);case"%d":return Number(et[U++]);case"%j":try{return JSON.stringify(et[U++])}catch(xt){return"[Circular]"}default:return at}}),bt=et[U];U<ht;bt=et[++U])j(bt)||!St(bt)?Ft+=" "+bt:Ft+=" "+A(bt);return Ft},S.deprecate=function(Y,V){if(typeof b!="undefined"&&b.noDeprecation===!0)return Y;if(typeof b=="undefined")return function(){return S.deprecate(Y,V).apply(this,arguments)};var U=!1;function et(){if(!U){if(b.throwDeprecation)throw new Error(V);b.traceDeprecation?console.trace(V):console.error(V),U=!0}return Y.apply(this,arguments)}return et};var _={},T;S.debuglog=function(Y){if(ut(T)&&(T={NODE_ENV:"production"}.NODE_DEBUG||""),Y=Y.toUpperCase(),!_[Y])if(new RegExp("\\b"+Y+"\\b","i").test(T)){var V=b.pid;_[Y]=function(){var U=S.format.apply(S,arguments);console.error("%s %d: %s",Y,V,U)}}else _[Y]=function(){};return _[Y]};function A(Y,V){var U={seen:[],stylize:E};return arguments.length>=3&&(U.depth=arguments[2]),arguments.length>=4&&(U.colors=arguments[3]),N(V)?U.showHidden=V:V&&S._extend(U,V),ut(U.showHidden)&&(U.showHidden=!1),ut(U.depth)&&(U.depth=2),ut(U.colors)&&(U.colors=!1),ut(U.customInspect)&&(U.customInspect=!0),U.colors&&(U.stylize=C),w(U,Y,U.depth)}S.inspect=A,A.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},A.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function C(Y,V){var U=A.styles[V];return U?"["+A.colors[U][0]+"m"+Y+"["+A.colors[U][1]+"m":Y}function E(Y,V){return Y}function p(Y){var V={};return Y.forEach(function(U,et){V[U]=!0}),V}function w(Y,V,U){if(Y.customInspect&&V&&Dt(V.inspect)&&V.inspect!==S.inspect&&!(V.constructor&&V.constructor.prototype===V)){var et=V.inspect(U,Y);return J(et)||(et=w(Y,et,U)),et}var ht=y(Y,V);if(ht)return ht;var Ft=Object.keys(V),bt=p(Ft);if(Y.showHidden&&(Ft=Object.getOwnPropertyNames(V)),Tt(V)&&(Ft.indexOf("message")>=0||Ft.indexOf("description")>=0))return m(V);if(Ft.length===0){if(Dt(V)){var at=V.name?": "+V.name:"";return Y.stylize("[Function"+at+"]","special")}if(At(V))return Y.stylize(RegExp.prototype.toString.call(V),"regexp");if(Yt(V))return Y.stylize(Date.prototype.toString.call(V),"date");if(Tt(V))return m(V)}var xt="",lt=!1,it=["{","}"];if(B(V)&&(lt=!0,it=["[","]"]),Dt(V)){var yt=V.name?": "+V.name:"";xt=" [Function"+yt+"]"}if(At(V)&&(xt=" "+RegExp.prototype.toString.call(V)),Yt(V)&&(xt=" "+Date.prototype.toUTCString.call(V)),Tt(V)&&(xt=" "+m(V)),Ft.length===0&&(!lt||V.length==0))return it[0]+xt+it[1];if(U<0)return At(V)?Y.stylize(RegExp.prototype.toString.call(V),"regexp"):Y.stylize("[Object]","special");Y.seen.push(V);var ft;return lt?ft=g(Y,V,U,bt,Ft):ft=Ft.map(function(st){return M(Y,V,U,bt,st,lt)}),Y.seen.pop(),L(ft,xt,it)}function y(Y,V){if(ut(V))return Y.stylize("undefined","undefined");if(J(V)){var U="'"+JSON.stringify(V).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Y.stylize(U,"string")}if(H(V))return Y.stylize(""+V,"number");if(N(V))return Y.stylize(""+V,"boolean");if(j(V))return Y.stylize("null","null")}function m(Y){return"["+Error.prototype.toString.call(Y)+"]"}function g(Y,V,U,et,ht){for(var Ft=[],bt=0,at=V.length;bt<at;++bt)pt(V,String(bt))?Ft.push(M(Y,V,U,et,String(bt),!0)):Ft.push("");return ht.forEach(function(xt){xt.match(/^\d+$/)||Ft.push(M(Y,V,U,et,xt,!0))}),Ft}function M(Y,V,U,et,ht,Ft){var bt,at,xt;if(xt=Object.getOwnPropertyDescriptor(V,ht)||{value:V[ht]},xt.get?xt.set?at=Y.stylize("[Getter/Setter]","special"):at=Y.stylize("[Getter]","special"):xt.set&&(at=Y.stylize("[Setter]","special")),pt(et,ht)||(bt="["+ht+"]"),at||(Y.seen.indexOf(xt.value)<0?(j(U)?at=w(Y,xt.value,null):at=w(Y,xt.value,U-1),at.indexOf(`
`)>-1&&(Ft?at=at.split(`
`).map(function(lt){return"  "+lt}).join(`
`).substr(2):at=`
`+at.split(`
`).map(function(lt){return"   "+lt}).join(`
`))):at=Y.stylize("[Circular]","special")),ut(bt)){if(Ft&&ht.match(/^\d+$/))return at;bt=JSON.stringify(""+ht),bt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(bt=bt.substr(1,bt.length-2),bt=Y.stylize(bt,"name")):(bt=bt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),bt=Y.stylize(bt,"string"))}return bt+": "+at}function L(Y,V,U){var et=0,ht=Y.reduce(function(Ft,bt){return et++,bt.indexOf(`
`)>=0&&et++,Ft+bt.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ht>60?U[0]+(V===""?"":V+`
 `)+" "+Y.join(`,
  `)+" "+U[1]:U[0]+V+" "+Y.join(", ")+" "+U[1]}function B(Y){return Array.isArray(Y)}S.isArray=B;function N(Y){return typeof Y=="boolean"}S.isBoolean=N;function j(Y){return Y===null}S.isNull=j;function tt(Y){return Y==null}S.isNullOrUndefined=tt;function H(Y){return typeof Y=="number"}S.isNumber=H;function J(Y){return typeof Y=="string"}S.isString=J;function ct(Y){return typeof Y=="symbol"}S.isSymbol=ct;function ut(Y){return Y===void 0}S.isUndefined=ut;function At(Y){return St(Y)&&Et(Y)==="[object RegExp]"}S.isRegExp=At;function St(Y){return typeof Y=="object"&&Y!==null}S.isObject=St;function Yt(Y){return St(Y)&&Et(Y)==="[object Date]"}S.isDate=Yt;function Tt(Y){return St(Y)&&(Et(Y)==="[object Error]"||Y instanceof Error)}S.isError=Tt;function Dt(Y){return typeof Y=="function"}S.isFunction=Dt;function Bt(Y){return Y===null||typeof Y=="boolean"||typeof Y=="number"||typeof Y=="string"||typeof Y=="symbol"||typeof Y=="undefined"}S.isPrimitive=Bt,S.isBuffer=d(20384);function Et(Y){return Object.prototype.toString.call(Y)}function zt(Y){return Y<10?"0"+Y.toString(10):Y.toString(10)}var jt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Mt(){var Y=new Date,V=[zt(Y.getHours()),zt(Y.getMinutes()),zt(Y.getSeconds())].join(":");return[Y.getDate(),jt[Y.getMonth()],V].join(" ")}S.log=function(){console.log("%s - %s",Mt(),S.format.apply(S,arguments))},S.inherits=d(91496),S._extend=function(Y,V){if(!V||!St(V))return Y;for(var U=Object.keys(V),et=U.length;et--;)Y[U[et]]=V[U[et]];return Y};function pt(Y,V){return Object.prototype.hasOwnProperty.call(Y,V)}var k=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;S.promisify=function(V){if(typeof V!="function")throw new TypeError('The "original" argument must be of type Function');if(k&&V[k]){var U=V[k];if(typeof U!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(U,k,{value:U,enumerable:!1,writable:!1,configurable:!0}),U}function U(){for(var et,ht,Ft=new Promise(function(xt,lt){et=xt,ht=lt}),bt=[],at=0;at<arguments.length;at++)bt.push(arguments[at]);bt.push(function(xt,lt){xt?ht(xt):et(lt)});try{V.apply(this,bt)}catch(xt){ht(xt)}return Ft}return Object.setPrototypeOf(U,Object.getPrototypeOf(V)),k&&Object.defineProperty(U,k,{value:U,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(U,O(V))},S.promisify.custom=k;function u(Y,V){if(!Y){var U=new Error("Promise was rejected with a falsy value");U.reason=Y,Y=U}return V(Y)}function G(Y){if(typeof Y!="function")throw new TypeError('The "original" argument must be of type Function');function V(){for(var U=[],et=0;et<arguments.length;et++)U.push(arguments[et]);var ht=U.pop();if(typeof ht!="function")throw new TypeError("The last argument must be of type Function");var Ft=this,bt=function(){return ht.apply(Ft,arguments)};Y.apply(this,U).then(function(at){b.nextTick(bt,null,at)},function(at){b.nextTick(u,at,bt)})}return Object.setPrototypeOf(V,Object.getPrototypeOf(Y)),Object.defineProperties(V,O(Y)),V}S.callbackify=G}}]);
